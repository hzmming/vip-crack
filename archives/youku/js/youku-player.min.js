/*! For license information please see youku-player.min.js.LICENSE */
var YoukuPlayer = function(e) {
    function t(i) {
        if (n[i])
            return n[i].exports;
        var r = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, t),
        r.l = !0,
        r.exports
    }
    var n = {};
    return t.m = e,
    t.c = n,
    t.i = function(e) {
        return e
    }
    ,
    t.d = function(e, n, i) {
        t.o(e, n) || Object.defineProperty(e, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }
    ,
    t.n = function(e) {
        var n = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return t.d(n, "a", n),
        n
    }
    ,
    t.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    t.p = "",
    t(t.s = 178)
}([function(e, t, n) {
    "use strict";
    t.__esModule = !0,
    t.default = function(e, t) {
        if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function")
    }
}
, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = n(119)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.default = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                (0,
                r.default)(e, i.key, i)
            }
        }
        return function(t, n, i) {
            return n && e(t.prototype, n),
            i && e(t, i),
            t
        }
    }()
}
, function(e, t, n) {
    e.exports = {
        default: n(272),
        __esModule: !0
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.__esModule = !0;
    var r = n(256)
      , a = i(r)
      , o = n(254)
      , s = i(o)
      , l = n(18)
      , u = i(l);
    t.default = function(e, t) {
        if ("function" != typeof t && null !== t)
            throw new TypeError("Super expression must either be null or a function, not " + (void 0 === t ? "undefined" : (0,
            u.default)(t)));
        e.prototype = (0,
        s.default)(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        t && (a.default ? (0,
        a.default)(e, t) : e.__proto__ = t)
    }
}
, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = n(18)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.default = function(e, t) {
        if (!e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" !== (void 0 === t ? "undefined" : (0,
        r.default)(t)) && "function" != typeof t ? e : t
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n(162)
      , a = i(r)
      , o = n(104)
      , s = n(106)
      , l = i(s)
      , u = n(176)
      , d = i(u)
      , c = n(161)
      , h = i(c);
    a.default.Component = o.Component,
    a.default.Layer = o.Layer,
    a.default.Events = h.default,
    a.default.SingleVideoControl = l.default,
    a.default.MultiVideoControl = d.default,
    e.exports = a.default
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r(e, t) {
        var n = (0,
        z.default)(K, t)
          , i = document.createElement("video")
          , r = !0
          , a = !1
          , o = void 0;
        try {
            for (var s, l = (0,
            j.default)((0,
            F.default)(n)); !(r = (s = l.next()).done); r = !0) {
                var u = s.value;
                if ("style" === u && "object" === (0,
                H.default)(n.style)) {
                    var d = n.style
                      , c = !0
                      , h = !1
                      , p = void 0;
                    try {
                        for (var f, m = (0,
                        j.default)((0,
                        F.default)(d)); !(c = (f = m.next()).done); c = !0) {
                            var y = f.value;
                            i.style[y] = d[y]
                        }
                    } catch (e) {
                        h = !0,
                        p = e
                    } finally {
                        try {
                            !c && m.return && m.return()
                        } finally {
                            if (h)
                                throw p
                        }
                    }
                } else {
                    var g = n[u];
                    g && i.setAttribute(u, g)
                }
            }
        } catch (e) {
            a = !0,
            o = e
        } finally {
            try {
                !r && l.return && l.return()
            } finally {
                if (a)
                    throw o
            }
        }
        return "object" === (void 0 === e ? "undefined" : (0,
        H.default)(e)) && e.setAttribute && e.appendChild(i),
        i
    }
    function a(e) {
        var t = new XMLHttpRequest;
        t.open("GET", e, !0),
        t.responseType = "blob";
        var n = document.createElement("video");
        t.onload = function() {
            if (200 === this.status) {
                var e = this.response
                  , t = URL.createObjectURL(e);
                n.src = t
            }
        }
        ,
        t.send()
    }
    function o(e, t) {
        e && (e.style.display = t || "block")
    }
    function s(e) {
        e && (e.style.display = "none")
    }
    function l(e) {
        var t = e.split(":");
        return 3600 * t[0] + 60 * t[1] + 1 * t[2]
    }
    function u(e, t) {
        e = parseInt(e);
        var n = parseInt(e / 3600)
          , i = parseInt(e % 3600 / 60)
          , r = e % 60;
        return "array" === t ? [n, i, r] : [n, i, r].map(function(e) {
            return d(e)
        }).join(":")
    }
    function d(e) {
        return e < 10 ? "0" + e : e
    }
    function c(e, t) {
        if ((0,
        N.default)(e) === (0,
        N.default)(t))
            return !1;
        var n = {}
          , i = !0
          , r = !1
          , a = void 0;
        try {
            for (var o, s = (0,
            j.default)((0,
            F.default)(t)); !(i = (o = s.next()).done); i = !0) {
                var l = o.value;
                "number" == typeof t[l] && Number(e[l]) !== t[l] ? n[l] = 1 : "boolean" == typeof t[l] && Boolean(e[l]) !== t[l] ? n[l] = 1 : e[l] !== t[l] ? n[l] = 1 : e[l] || (n[l] = 1)
            }
        } catch (e) {
            r = !0,
            a = e
        } finally {
            try {
                !i && s.return && s.return()
            } finally {
                if (r)
                    throw a
            }
        }
        return n
    }
    function h(e, t) {
        var n = "player-stat-" + Math.floor(1e4 * Math.random())
          , i = document.createElement("img");
        i.onerror = function() {
            t && t(),
            i.onload = null,
            i.onerror = null,
            i = null
        }
        ,
        i.onload = function() {
            i.onload = null,
            i.onerror = null,
            i = null
        }
        ,
        i.src = "" + e,
        i.className = n
    }
    function p(e) {
        return !/(?=(\b|\D))(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))(?=(\b|\D))/.test(e)
    }
    function f(e, t) {
        if (e.length < 1)
            return e;
        t && "http:" !== t && "https:" !== t && (t = null);
        var n = e[0].url ? "url" : e[0].src ? "src" : null;
        if (!n)
            return e;
        for (var i = 0, r = e.length; i < r; i++) {
            var a = e[i][n].split("/");
            p(e[i][n]) ? a[0] = t || a[0] : (a[0] = t || a[0],
            a[2] = W),
            e[i][n] = a.join("/")
        }
        return e
    }
    function m(e, t) {
        if (t = t || 1,
        e.length < t)
            return e;
        var n = e[0].url ? "url" : e[0].src ? "src" : null;
        if (!n)
            return e;
        for (var i = t, r = e.length; i < r; i++) {
            var a = e[i][n];
            e[i][n] = a.replace("vkey", "vkeyyy")
        }
        return e
    }
    function y(e, t, n) {
        var i = null;
        "js" === t ? (i = document.createElement("script"),
        i.setAttribute("type", "text/javascript"),
        i.setAttribute("src", e)) : "css" === t && (i = document.createElement("link"),
        i.setAttribute("rel", "stylesheet"),
        i.setAttribute("type", "text/css"),
        i.setAttribute("href", e)),
        void 0 !== i && (document.getElementsByTagName("head")[0].appendChild(i),
        i.onload = function() {
            n && n()
        }
        )
    }
    function g() {
        var e = window.orientation;
        switch (e) {
        case 90:
        case -90:
            e = 0;
            break;
        default:
            e = 1
        }
        return e
    }
    function v(e) {
        var t = [];
        for (var n in e)
            t.push(n + "=" + e[n]);
        return t.join("&")
    }
    function _(e) {
        var t = e.toString()
          , n = t.length;
        return n < 4 ? t : 4 === n ? t.charAt(0) + "," + t.slice(1, 4) : n > 4 && n < 9 ? (e / 1e4).toFixed(1) + "万" : n >= 9 ? (e / 1e8).toFixed(1) + "亿" : t
    }
    function b(e, t) {
        var n = document.createElement("a");
        n.setAttribute("href", e),
        n.setAttribute("target", t || "_self"),
        document.body.appendChild(n),
        n.click()
    }
    function k(e) {
        return e < 10 ? "0" + e : e
    }
    function S(e) {
        return null === e ? "" : e.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
    }
    function E(e, t) {
        for (var n = 0, i = e.length; n < i; n++)
            if (t(e[n]))
                return n;
        return -1
    }
    function w(e, t) {
        var n = {};
        try {
            n = JSON.parse(localStorage.getItem(e))
        } catch (e) {
            console.warn("Localstorage meet some parsing errors!")
        }
        return n || (n = t),
        n
    }
    function x(e, t) {
        try {
            localStorage.setItem(e, (0,
            N.default)(t))
        } catch (e) {
            console.warn("Localstorage meet some errors!")
        }
    }
    function T(e, t) {
        try {
            sessionStorage.setItem(e, (0,
            N.default)(t))
        } catch (e) {
            console.warn("sessionStorage meet some errors!")
        }
    }
    function A(e, t) {
        var n = {};
        try {
            n = JSON.parse(sessionStorage.getItem(e))
        } catch (e) {
            console.warn("sessionStorage meet some parsing errors!")
        }
        return n || (n = t),
        n
    }
    function L() {
        return {
            appname: Y.Browser.name,
            version: Y.Browser.version
        }
    }
    function C(e, t) {
        (G || /^(test|daily|pre)/.test(location.host) || location.search.replace(/.*[\?\&]enableAdLog=([^&]+).*|.*/, "$1")) && (console.log("%c YKplayer", "background:#000;color:#bada55", e),
        t && console.log(t))
    }
    function D(e) {
        e = e || location.search || location.href;
        var t = /[^\s&?#=\/]+=[^\s&?#=]+/g
          , n = e.match(t)
          , i = {};
        return n && n.map(function(e) {
            var t = e.split("=");
            return t.length > 1 && (i[t[0]] = decodeURIComponent(t[1])),
            decodeURIComponent(t[1])
        }),
        i
    }
    function P(e) {
        var t = 0
          , n = 0;
        if (e && e.offsetParent)
            for (t = e.offsetLeft,
            n = e.offsetTop; e = e.offsetParent; )
                t += e.offsetLeft,
                n += e.offsetTop;
        return {
            left: t,
            top: n
        }
    }
    function R() {
        if ("safari" === Y.Browser.name && parseFloat(Y.Browser.version) >= 11)
            return !0;
        if ("edge" === Y.Browser.name)
            return !1;
        var e = /Chrome\/(\d+)/.exec(navigator.userAgent);
        return !(!e || !e[1]) && parseFloat(e[1]) >= 63
    }
    function I(e) {
        var t = void 0;
        try {
            t = JSON.parse(localStorage.getItem("YK_SHOW_PREFER")) || {}
        } catch (e) {
            t = {}
        }
        return t[e]
    }
    function M(e, t) {
        var n = void 0;
        try {
            n = JSON.parse(localStorage.getItem("YK_SHOW_PREFER")) || {}
        } catch (e) {
            n = {}
        }
        n[e] = t,
        localStorage.setItem("YK_SHOW_PREFER", (0,
        N.default)(n))
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var O = n(29)
      , N = i(O)
      , B = n(21)
      , F = i(B)
      , U = n(20)
      , j = i(U)
      , V = n(18)
      , H = i(V)
      , q = n(10)
      , z = i(q);
    t.createVideo = r,
    t.preLoadResource = a,
    t.show = o,
    t.hide = s,
    t.timeToSeconds = l,
    t.secondsToTime = u,
    t.checkObjDiff = c,
    t.sendlog = h,
    t.checkUrlIsDomain = p,
    t.changeCDNDomain = f,
    t.changeCdnUrlError = m,
    t.loadfile = y,
    t.getScreenState = g,
    t.urlParameter = v,
    t.formatNum = _,
    t.openURL = b,
    t.formatFill = k,
    t.htmlEncodeAll = S,
    t.findIndex = E,
    t.getLocalData = w,
    t.setLocalData = x,
    t.setSessionData = T,
    t.getSessionData = A,
    t.getUaVersion = L,
    t.printLog = C,
    t.getParamFromUrl = D,
    t.getElementOffsets = P,
    t.canUseH265Maybe = R,
    t.getPreferSetting = I,
    t.setPreferSetting = M;
    var Y = n(33)
      , G = window.YKPLAYER_DENNUG
      , K = {
        controls: !0,
        preload: !0,
        style: {
            width: "100%",
            height: "100%",
            backgroundColor: "rgb(0,0,0)"
        }
    }
      , W = "shift-vali.cp31.ott.cibntv.net"
}
, function(e, t) {
    var n = e.exports = {
        version: "2.6.11"
    };
    "number" == typeof __e && (__e = n)
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        PLAY: "play",
        PAUSE: "pause",
        RESUME: "resume",
        SEEK: "seek",
        REPLAY: "replay",
        RELOAD: "reload",
        START: "start",
        RESTART: "restart",
        STOP: "stop",
        SET_VOLUME: "setVolume",
        VOLUME_UP: "volumeUp",
        VOLUME_DOWN: "volumeDown",
        SET_QUALITY: "setQuality",
        SET_CONTINUOUS: "setContinuous",
        SET_LANGUAGE: "setLanguage",
        SET_SUBTITLE: "setSubtitle",
        LOGIN: "login",
        SUBSCRIBE: "subscribe",
        SET_PLAYER_SIZE: "setPlayerSize",
        SET_PLAYER_SIZE_NORMAL: "setPlayerSizeNormal",
        SET_PLAYER_SIZE_FULLSCREEN: "setPlayerSizeFullScreen",
        SET_PLAYER_SIZE_NARROWSCREEN: "setPlayerSizeNarrowScreen",
        SET_SCALE: "setScale",
        SET_SIZE: "setSize",
        SHOW_SET_PANEL: "showSetPanel",
        HIDE_SET_PANEL: "hideSetPanel",
        SHOW_PRIVACY_PANEL: "ShowPrivacyPanel",
        HIDE_PRIVACY_PANEL: "HidePrivacyPanel",
        PRIVACY_PASSWORD_ERROR: "PrivacyPasswordError",
        PRIVACY_SUBMIT_PASSWORD: "PrivacySubmitPassword",
        SHOW_SUBSCRIBE_PANEL: "ShowSubscribePanel",
        HIDE_SUBSCRIBE_PANEL: "HideSubscribePanel",
        CHECK_PAY_INFO: "CheckPayInfo",
        SHOW_PAY_PANEL: "ShowPayPanel",
        HIDE_PAY_PANEL: "HidePayPanel",
        SHOW_PREVENT_SHARING: "ShowPreventSharing",
        HIDE_PREVENT_SHARING: "HidePreventSharing",
        NORMAL_ERROR: "NormalError",
        SET_SKIP_HEAD_AND_TAIL: "setSkipHeadAndTail",
        SET_SKIP_HEAD: "setSkipHead",
        SET_SKIP_TAIL: "setSkipTail",
        SET_AUTO_CONTINUOUS_PLAY: "setAutoContinuousPlay",
        SEND_EVENT_LOG: "sendEventLog",
        SEND_SUBTITLE_LOG: "sendSubtitleLog",
        SEND_BUSINESS_LOG: "sendBusinessLog",
        SEND_AD_LOG: "sendAdLog"
    }
      , r = {
        "-2002": i.SHOW_PRIVACY_PANEL,
        "-2003": i.PRIVACY_PASSWORD_ERROR,
        "-2004": i.SHOW_SUBSCRIBE_PANEL,
        "-3001": i.CHECK_PAY_INFO,
        "-3002": i.CHECK_PAY_INFO,
        "-3006": i.SHOW_PREVENT_SHARING,
        "-3007": i.CHECK_PAY_INFO,
        "-3008": i.SHOW_PAY_PANEL,
        "-3009": i.SHOW_PAY_PANEL,
        "-4003": i.NORMAL_ERROR
    };
    i.ERROR_MAP = r,
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n(21)
      , a = i(r)
      , o = n(20)
      , s = i(o)
      , l = n(18)
      , u = i(l);
    e.exports = {
        toggle: function(e, t) {
            this.hasClass(e, t) ? this.removeClass(e, t) : this.addClass(e, t)
        },
        swichChildClass: function(e, t, n, i) {
            for (var r = e.querySelectorAll(t), a = 0; a < r.length; a++) {
                var o = r[a];
                i(o) ? this.addClass(o, n) : this.removeClass(o, n)
            }
        },
        hasClass: function(e, t) {
            return e.className.indexOf(t) > -1
        },
        addClass: function(e, t) {
            if (e.classList)
                e.classList.add(t);
            else {
                var n = e.className.split(" ");
                n.push(t),
                e.className = n.join(" ")
            }
        },
        removeClass: function(e, t) {
            if (e.classList)
                e.classList.remove(t);
            else {
                for (var n = e.className.split(" "), i = -1, r = 0, a = n.length; r < a; r++)
                    n[r] === t && (i = r);
                i > -1 && n.splice(i, 1),
                e.className = n.join(" ")
            }
        },
        getAttr: function(e, t) {
            return e.getAttribute(t)
        },
        setStyle: function(e, t, n) {
            if ("string" == typeof t)
                return e.style[t] = n;
            if ("object" === (void 0 === t ? "undefined" : (0,
            u.default)(t))) {
                var i = t
                  , r = !0
                  , o = !1
                  , l = void 0;
                try {
                    for (var d, c = (0,
                    s.default)((0,
                    a.default)(i)); !(r = (d = c.next()).done); r = !0) {
                        var h = d.value;
                        e.style[h] = i[h]
                    }
                } catch (e) {
                    o = !0,
                    l = e
                } finally {
                    try {
                        !r && c.return && c.return()
                    } finally {
                        if (o)
                            throw l
                    }
                }
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = n(253)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.default = r.default || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n)
                Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
        }
        return e
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.__esModule = !0;
    var r = n(2)
      , a = i(r)
      , o = n(255)
      , s = i(o);
    t.default = function e(t, n, i) {
        null === t && (t = Function.prototype);
        var r = (0,
        s.default)(t, n);
        if (void 0 === r) {
            var o = (0,
            a.default)(t);
            return null === o ? void 0 : e(o, n, i)
        }
        if ("value"in r)
            return r.value;
        var l = r.get;
        if (void 0 !== l)
            return l.call(i)
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.AD_STATE = t.AD_EVENTS = t.AD_TYPE = t.VIDEO_LIMIT = t.CLASS_NAME = t.PlayerLanguage = t.MessageConfig = t.ORDER = t.QualityNameMap = t.QualityNameList = t.QUALITY = t.STREAM_TYPE_MAP = t.PLAYERSYSTEM = t.playerState = t.Global = void 0;
    var r = n(179)
      , a = i(r)
      , o = n(70)
      , s = i(o)
      , l = n(180)
      , u = i(l)
      , d = n(108)
      , c = n(109)
      , h = i(c)
      , p = n(23);
    t.Global = a.default,
    t.playerState = s.default,
    t.PLAYERSYSTEM = u.default,
    t.STREAM_TYPE_MAP = p.STREAM_TYPE_MAP,
    t.QUALITY = p.QUALITY,
    t.QualityNameList = p.QualityNameList,
    t.QualityNameMap = p.QualityNameMap,
    t.ORDER = p.ORDER,
    t.MessageConfig = d.MessageConfig,
    t.PlayerLanguage = h.default,
    t.CLASS_NAME = p.CLASS_NAME,
    t.VIDEO_LIMIT = p.VIDEO_LIMIT,
    t.AD_TYPE = p.AD_TYPE,
    t.AD_EVENTS = p.AD_EVENTS,
    t.AD_STATE = p.AD_STATE
}
, function(e, t, n) {
    var i = n(15)
      , r = n(7)
      , a = n(31)
      , o = n(32)
      , s = n(36)
      , l = function(e, t, n) {
        var u, d, c, h = e & l.F, p = e & l.G, f = e & l.S, m = e & l.P, y = e & l.B, g = e & l.W, v = p ? r : r[t] || (r[t] = {}), _ = v.prototype, b = p ? i : f ? i[t] : (i[t] || {}).prototype;
        p && (n = t);
        for (u in n)
            (d = !h && b && void 0 !== b[u]) && s(v, u) || (c = d ? b[u] : n[u],
            v[u] = p && "function" != typeof b[u] ? n[u] : y && d ? a(c, i) : g && b[u] == c ? function(e) {
                var t = function(t, n, i) {
                    if (this instanceof e) {
                        switch (arguments.length) {
                        case 0:
                            return new e;
                        case 1:
                            return new e(t);
                        case 2:
                            return new e(t,n)
                        }
                        return new e(t,n,i)
                    }
                    return e.apply(this, arguments)
                };
                return t.prototype = e.prototype,
                t
            }(c) : m && "function" == typeof c ? a(Function.call, c) : c,
            m && ((v.virtual || (v.virtual = {}))[u] = c,
            e & l.R && _ && !_[u] && o(_, u, c)))
    };
    l.F = 1,
    l.G = 2,
    l.S = 4,
    l.P = 8,
    l.B = 16,
    l.W = 32,
    l.U = 64,
    l.R = 128,
    e.exports = l
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        PLAYER_IS_READY: "Player.Is.Ready",
        PLAYER_IS_PAUSED: "Player.Is.Paused",
        PLAYER_IS_PLAYING: "Player.Is.Playing",
        PLAYER_BEGIN_PLAYING: "Player.Begin.Playing",
        PLAYER_IS_LOADING: "Player.Is.Loading",
        PLAYER_QUALITY_CHANGE: "Player.Quality.Change",
        QUALITY_SET_FAILED: "Quality.Set.Failed",
        QUALITY_SET_CANCEL: "Quality.Set.Cancel",
        PLAYER_LANGUAGE_CHANGE: "Player.Language.Change",
        PLAYER_PLAY_START: "Player.Play.Start",
        PLAYER_REAL_START: "Player.Real.Start",
        PLAYER_PLAY_END: "Player.Play.End",
        PLAYER_PLAY_STOP: "Player.Play.Stop",
        PLAYER_BUFFER_INIT: "Player.Buffer.Init",
        PLAYER_BUFFER_EMPTY: "Player.Buffer.Empty",
        PLAYER_BUFFER_FULL: "Player.Buffer.Full",
        PLAYER_PLAY_FAILED: "Player.Play.Failed",
        AD_GET: "Ad.Get",
        AD_RETURN: "Ad.Return",
        AD_IS_READY: "Ad.Is.Ready",
        AD_SHOW_START: "Ad.Show.Start",
        AD_SHOW_FAILED: "Ad.Show.Failed",
        AD_SHOW_COMPLETE: "Ad.Show.Complete",
        AD_STATE_CHANGE: "Ad.State.Change",
        SERVICE_IS_READY: "Service.Is.Ready",
        SERVICE_EXECUTE_START: "Service.Execute.Start",
        SERVICE_EXECUTE_FAILED: "Service.Execute.Failed",
        SERVICE_EXECUTE_COMPLETE: "Service.Execute.Complete",
        SERVICE_DATA_ERROR: "Service.Data.Error",
        SERVICE_DATA_SUCCESS: "Service.Data.Success",
        SERVICE_EXECUTE_WAINING: "Service.Execute.Warning",
        SERVICE_IS_DONE: "Service.Is.Done",
        SERVICE_ALL_COMPLETE: "Service.All.Complete"
    };
    t.default = i
}
, function(e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(e, t, n) {
    var i = n(89)("wks")
      , r = n(63)
      , a = n(15).Symbol
      , o = "function" == typeof a;
    (e.exports = function(e) {
        return i[e] || (i[e] = o && a[e] || (o ? a : r)("Symbol." + e))
    }
    ).store = i
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(71)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = n(44)
      , o = {
        hasLoadEg: !1,
        sendGoldLog: function(e, t) {
            if (1 === e.type)
                this.sendlog(e, t);
            else
                try {
                    e.code ? window.goldlog.record(e.url, e.eventType, e.format ? e.params : (0,
                    a.formatParams)(e.params, !0), e.code) : window.goldlog.record(e.url, e.eventType, e.format ? e.params : (0,
                    a.formatParams)(e.params, !0), "GET")
                } catch (n) {
                    this.sendlog(e, t)
                }
        },
        sendlog: function(e, t) {
            var n = "";
            n = e.domain.indexOf("http:") < 0 && e.domain.indexOf("https:") < 0 ? o.getProtocol() + e.domain : e.domain,
            n += e.url,
            n += (-1 === n.indexOf("?") ? "?" : "&") + (e.format ? e.params : (0,
            a.formatParams)(e.params, !0));
            var i = document.createElement("img");
            t && i.addEventListener("error", t),
            i.onload = function() {
                i.onload = null,
                i.onerror = null,
                i = null
            }
            ,
            i.src = n
        },
        getProtocol: function() {
            return document.location && document.location.protocol ? document.location.protocol : document.location && document.location.href && document.location.href.indexOf("https:") > -1 ? "https:" : "http:"
        },
        _loadfile: function(e, t) {
            var n = null;
            "js" === t ? (n = document.createElement("script"),
            n.setAttribute("type", "text/javascript"),
            n.setAttribute("src", e)) : "css" === t && (n = document.createElement("link"),
            n.setAttribute("rel", "stylesheet"),
            n.setAttribute("type", "text/css"),
            n.setAttribute("href", e)),
            void 0 !== n && document.getElementsByTagName("head")[0].appendChild(n)
        },
        addAplusMeta: function() {
            var e = document.location.href;
            if (e.indexOf("youku.com") < 0 && e.indexOf("tudou.com") < 0) {
                var t = document.getElementsByTagName("head")[0]
                  , n = document.createElement("meta");
                n.name = "aplus-disable-pvid",
                n.content = "true",
                t.appendChild(n)
            }
        },
        loadAplus: function() {
            return r.default.cookie("cna") ? void (this.cna = r.default.cookie("cna")) : window.goldlog ? (this.cna = window.goldlog.Etag,
            void (window.goldlog.pvid && (window.goldlog.pvid = ""))) : (window.goldlog || (o.addAplusMeta(),
            o._loadfile("//g.alicdn.com/alilog/??s/8.8.2/plugin/aplus_client.js,aplus_cplugin/0.6.3/monitor.js,s/8.8.2/aplus_o.js,s/8.8.2/plugin/aplus_urchin2.js", "js")),
            void (window.goldlog_queue || (window.goldlog_queue = [])).push({
                action: "goldlog.aplus_pubsub.subscribe",
                arguments: ["sendPV", function(e, t, n) {
                    n && n.cna && (this.cna = n.cna)
                }
                ]
            }))
        },
        getCna: function() {
            return this.cna ? this.cna : r.default.cookie("cna") ? (this.cna = r.default.cookie("cna"),
            this.cna) : window.goldlog && window.goldlog.Etag ? (this.cna = window.goldlog.Etag,
            r.default.cookie("cna", this.cna, {
                domain: "youku.com",
                path: "/",
                expires: 365
            }),
            this.cna) : null
        }
    };
    t.default = o,
    o.loadAplus()
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.__esModule = !0;
    var r = n(259)
      , a = i(r)
      , o = n(258)
      , s = i(o)
      , l = "function" == typeof s.default && "symbol" == typeof a.default ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof s.default && e.constructor === s.default && e !== s.default.prototype ? "symbol" : typeof e
    }
    ;
    t.default = "function" == typeof s.default && "symbol" === l(a.default) ? function(e) {
        return void 0 === e ? "undefined" : l(e)
    }
    : function(e) {
        return e && "function" == typeof s.default && e.constructor === s.default && e !== s.default.prototype ? "symbol" : void 0 === e ? "undefined" : l(e)
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        NET_STATUS: "NetStatus",
        STATUS: "status",
        COMMAND: "command",
        ERROR: "playerror",
        NOTE: "note",
        WARNING: "warning",
        HINT: "hint"
    };
    t.default = i
}
, function(e, t, n) {
    e.exports = {
        default: n(265),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(273),
        __esModule: !0
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(18)
      , a = i(r)
      , o = n(20)
      , s = i(o)
      , l = n(21)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(103)
      , m = i(f)
      , y = n(324)
      , g = i(y)
      , v = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0,
            c.default)(this, e),
            this._args = t,
            this._events = {},
            this.init(t)
        }
        return (0,
        p.default)(e, [{
            key: "init",
            value: function(e) {
                this._parent = e.container,
                this._children = [],
                this._video = e.video,
                this.name = e.name;
                var t = this.render();
                t ? this._el = this.insert(t, e.index) : e.tag && (this._el = this.createElement(e.tag, e.name),
                this._parent.appendChild(this._el)),
                this.attr = e.attr ? e.attr : {},
                this.style = e.style ? e.style : {},
                this.setAttr(this.attr),
                this.setStyle(this.style);
                var n = this.children();
                if ((0,
                u.default)(n).length > 0) {
                    var i = !0
                      , r = !1
                      , a = void 0;
                    try {
                        for (var o, l = (0,
                        s.default)((0,
                        u.default)(n)); !(i = (o = l.next()).done); i = !0) {
                            var d = o.value
                              , c = d
                              , h = this._registerComponent(c, n[d]);
                            this._children.push(h)
                        }
                    } catch (e) {
                        r = !0,
                        a = e
                    } finally {
                        try {
                            !i && l.return && l.return()
                        } finally {
                            if (r)
                                throw a
                        }
                    }
                }
            }
        }, {
            key: "insert",
            value: function(e, t) {
                var n = this._parent.children.length
                  , i = parseInt(t);
                if (void 0 === t || n <= i)
                    return this._parent.insertAdjacentHTML("beforeend", e),
                    this._parent.children[this._parent.children.length - 1];
                if (0 === i)
                    return this._parent.insertAdjacentHTML("afterbegin", e),
                    this._parent.children[0];
                var r = this._parent.children[i];
                return r && r.insertAdjacentHTML ? (r.insertAdjacentHTML("beforebegin", e),
                this._parent.children[i]) : void 0
            }
        }, {
            key: "children",
            value: function() {
                return {}
            }
        }, {
            key: "_registerComponent",
            value: function(e, t, n) {
                var i = "object" === (void 0 === n ? "undefined" : (0,
                a.default)(n)) ? n : {};
                i.container = this._el;
                var r = this._args._id || "component_share";
                return this._video && this._video.id && (r = this._video.id),
                m.default.register(r, e, t, i)
            }
        }, {
            key: "getComponent",
            value: function(e) {
                return m.default.findComponent(this._video.id, e)
            }
        }, {
            key: "_createElement",
            value: function(e, t) {
                this._el = document.createElement(e),
                this._el.name = t
            }
        }, {
            key: "find",
            value: function(e) {
                return this._el.querySelector(e) ? this._el.querySelector(e) : document.querySelector(e)
            }
        }, {
            key: "bind",
            value: function(e, t, n) {
                arguments.length < 3 && "function" == typeof t ? this.bindEL(e, t) : 3 === arguments.length && "function" == typeof n && g.default.bind(this._el, e, t, n)
            }
        }, {
            key: "unbind",
            value: function(e, t, n) {
                arguments.length < 3 && "function" == typeof t ? this.unbindEL(e, t) : "function" == typeof n && g.default.ubind(this._el, t, n, !1)
            }
        }, {
            key: "on",
            value: function(e, t) {
                var n = this;
                "string" == typeof e ? (this._events[e] = t,
                this._video.on(e, t)) : Array.isArray(e) && e.forEach(function(e) {
                    n._events[e] = t,
                    n._video.on(e, t)
                })
            }
        }, {
            key: "fire",
            value: function(e, t) {
                var n = this;
                "string" == typeof e ? (this._events[e] = void 0,
                this._video.fire(e, t)) : Array.isArray(e) && e.forEach(function(e) {
                    n._events[e] = void 0,
                    n._video.fire(e, t)
                })
            }
        }, {
            key: "fireAll",
            value: function() {
                var e = !0
                  , t = !1
                  , n = void 0;
                try {
                    for (var i, r = (0,
                    s.default)((0,
                    u.default)(this._events)); !(e = (i = r.next()).done); e = !0) {
                        var a = i.value;
                        this.fire(a, this._events[a])
                    }
                } catch (e) {
                    t = !0,
                    n = e
                } finally {
                    try {
                        !e && r.return && r.return()
                    } finally {
                        if (t)
                            throw n
                    }
                }
            }
        }, {
            key: "emit",
            value: function(e, t) {
                this._video.emit(e, t)
            }
        }, {
            key: "setStyle",
            value: function(e, t) {
                if ("string" == typeof e)
                    return this.style[e] = t,
                    this._el.style[e] = t;
                if ("object" === (void 0 === e ? "undefined" : (0,
                a.default)(e))) {
                    var n = e
                      , i = !0
                      , r = !1
                      , o = void 0;
                    try {
                        for (var l, d = (0,
                        s.default)((0,
                        u.default)(n)); !(i = (l = d.next()).done); i = !0) {
                            var c = l.value;
                            this._el.style[c] = n[c]
                        }
                    } catch (e) {
                        r = !0,
                        o = e
                    } finally {
                        try {
                            !i && d.return && d.return()
                        } finally {
                            if (r)
                                throw o
                        }
                    }
                }
            }
        }, {
            key: "setAttr",
            value: function(e, t) {
                if ("string" == typeof e)
                    return this._el.setAttribute(e, t);
                if ("object" === (void 0 === e ? "undefined" : (0,
                a.default)(e))) {
                    var n = e
                      , i = !0
                      , r = !1
                      , o = void 0;
                    try {
                        for (var l, d = (0,
                        s.default)((0,
                        u.default)(n)); !(i = (l = d.next()).done); i = !0) {
                            var c = l.value;
                            this._el.setAttribute(c, n[c])
                        }
                    } catch (e) {
                        r = !0,
                        o = e
                    } finally {
                        try {
                            !i && d.return && d.return()
                        } finally {
                            if (r)
                                throw o
                        }
                    }
                }
            }
        }, {
            key: "setHtml",
            value: function(e, t) {
                this._el.innerHtml = e,
                "function" == typeof t && t()
            }
        }, {
            key: "bindEL",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                "on" + e in this._el && "function" == typeof t && this._el.addEventListener(e, t, n)
            }
        }, {
            key: "unbindEL",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                "on" + e in this._el && "function" == typeof t && this._node.removeEventListener(e, t, n)
            }
        }, {
            key: "show",
            value: function() {
                if (this._el.style.display = "",
                "none" === window.getComputedStyle(this._el, null).getPropertyValue("display"))
                    return this._el.style.display = "block"
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none"
            }
        }, {
            key: "render",
            value: function() {
                return "<div></div>"
            }
        }, {
            key: "destroy",
            value: function() {
                this._el && (this._el.hasOwnProperty("remove") ? this._el.remove() : this._el.parentNode && this._el.parentNode.removeChild(this._el)),
                this.fireAll()
            }
        }]),
        e
    }();
    t.default = v
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.APPKEY = t.MTOP_ENV = t.AD_EVENTS = t.AD_STATE = t.AD_TYPE = t.VIDEO_LIMIT = t.CLASS_NAME = t.QualityNameList = t.LevelNameMap = t.QualityNameMap = t.STREAM_TYPE_MAP = t.START_QUALITY_MAP = t.PREFER_QUALITY_INDEX = t.MSESTREAM = t.ORDER = t.QUALITY = void 0;
    var i = n(21)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = (t.QUALITY = {
        auto: 0,
        "320p": 1,
        "540p": 2,
        "720p": 3,
        "1080p": 4,
        "1080p_hdr": 5,
        "1080p_frame": 6
    },
    t.ORDER = {
        "1080p_frame": ["hls4hd3_sdr_hbr_cingo", "cmaf4hd3_sdr_hbr_cingo", "hls4hd3_sdr_hfr_hbr_cingo", "cmaf4hd3_sdr_hfr_hbr_cingo"],
        "1080p_hdr": ["hls4hd3_sdr", "cmaf4hd3_sdr", "hls5hd3_sdr"],
        "1080p": ["mp4hd3v2", "mp4hd3", "cmaf4hd3", "mp5hd3"],
        "720p": ["mp4hd2v2", "mp4hd2", "cmaf4hd2", "mp5hd2"],
        "540p": ["mp4hd", "cmaf4hd", "mp5hd"],
        "320p": ["mp4sd", "3gphd", "flvhd", "cmaf4sd", "cmaf4ld", "mp5sd"],
        auto: ["h264", "h265"]
    })
      , o = (t.MSESTREAM = ["hls4hd3_sdr_hbr_cingo", "cmaf4hd3_sdr_hbr_cingo", "hls4hd3_sdr_hfr_hbr_cingo", "cmaf4hd3_sdr_hfr_hbr_cingo", "hls4hd3_sdr", "cmaf4hd3_sdr", "hls5hd3_sdr", "flvhd"],
    t.PREFER_QUALITY_INDEX = {
        auto: 99,
        "320p": 2,
        "540p": 3,
        "720p": 4,
        "1080p": 5,
        "1080p_hdr": 11
    });
    t.START_QUALITY_MAP = (0,
    r.default)(o).reduce(function(e, t) {
        return e[o[t]] = t,
        e
    }, {}),
    t.STREAM_TYPE_MAP = (0,
    r.default)(a).reduce(function(e, t) {
        return a[t].reduce(function(e, n) {
            return e[n] = t,
            e
        }, e),
        e
    }, {}),
    t.QualityNameMap = {
        "1080p_frame": "帧享影音",
        "1080p_hdr": "HDR",
        "1080p": "蓝光 1080P",
        "720p": "超清 720P",
        "540p": "高清 540P",
        "320p": "标清 360P",
        auto: "智能"
    },
    t.LevelNameMap = {
        "1080p_frame": "帧享",
        "1080p_hdr": "HDR",
        "1080p": "蓝光",
        "720p": "超清",
        "540p": "高清",
        "320p": "标清",
        auto: "智能"
    },
    t.QualityNameList = [{
        code: "1080p_frame",
        name: "帧享影音"
    }, {
        code: "1080p_hdr",
        name: "HDR"
    }, {
        code: "1080p",
        name: "蓝光 1080P"
    }, {
        code: "720p",
        name: "超清 720P"
    }, {
        code: "540p",
        name: "高清 540P"
    }, {
        code: "320p",
        name: "标清 360P"
    }, {
        code: "auto",
        name: "智能"
    }],
    t.CLASS_NAME = {
        ifHide: !1,
        hide: "ykplayer-dashboard-hidden"
    },
    t.VIDEO_LIMIT = 4,
    t.AD_TYPE = {
        FRONT: "frontad",
        END: "endad",
        CONTENT: "contentad",
        STAND: "standard",
        PAUSE: "pausead"
    },
    t.AD_STATE = {
        PLAY: "adplay",
        PLAYING: "adplaying",
        PAUSE: "adpause",
        READY: "adready",
        END: "adended",
        ERROR: "aderror",
        WAITING: "adwaiting",
        SERVICEERROR: "adserviceerror",
        SERVICELOADING: "adserviceloading"
    },
    t.AD_EVENTS = {
        ADPLUGIN_STATE_CHANGE: "adplugin.statechange"
    },
    t.MTOP_ENV = "acs",
    t.APPKEY = "24679788"
}
, function(e, t, n) {
    e.exports = !n(35)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}
, function(e, t, n) {
    var i = n(30)
      , r = n(125)
      , a = n(91)
      , o = Object.defineProperty;
    t.f = n(24) ? Object.defineProperty : function(e, t, n) {
        if (i(e),
        t = a(t, !0),
        i(n),
        r)
            try {
                return o(e, t, n)
            } catch (e) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (e[t] = n.value),
        e
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r(e, t) {
        var n = (0,
        L.default)({}, I, t)
          , i = document.createElement("video")
          , r = !0
          , a = !1
          , o = void 0;
        try {
            for (var s, l = (0,
            w.default)((0,
            S.default)(n)); !(r = (s = l.next()).done); r = !0) {
                var u = s.value;
                if ("style" === u && "object" === (0,
                T.default)(n.style)) {
                    var d = n.style
                      , c = !0
                      , h = !1
                      , p = void 0;
                    try {
                        for (var f, m = (0,
                        w.default)((0,
                        S.default)(d)); !(c = (f = m.next()).done); c = !0) {
                            var y = f.value;
                            i.style[y] = d[y]
                        }
                    } catch (e) {
                        h = !0,
                        p = e
                    } finally {
                        try {
                            !c && m.return && m.return()
                        } finally {
                            if (h)
                                throw p
                        }
                    }
                } else {
                    var g = n[u];
                    g && i.setAttribute(u, g)
                }
            }
        } catch (e) {
            a = !0,
            o = e
        } finally {
            try {
                !r && l.return && l.return()
            } finally {
                if (a)
                    throw o
            }
        }
        return "object" === (void 0 === e ? "undefined" : (0,
        T.default)(e)) && e.setAttribute && e.appendChild(i),
        i
    }
    function a(e) {
        var t = document.createElement("canvas");
        t.style.maxWidth = "100%",
        t.style.maxHeight = "100%",
        t.style.position = "relative",
        t.style.top = "50%",
        t.style.left = "50%",
        t.style["-webkit-transform"] = "translate(-50%,-50%)",
        t.style.transform = "translate(-50%,-50%)";
        var n = new H265Player({
            canvas: t
        })
          , i = function() {
            if (t) {
                var e = t.width
                  , n = t.height;
                !!(document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement) ? e / n >= 16 / 9 ? (t.style.height = null,
                t.style.width = "100%") : (t.style.height = "100%",
                t.style.width = null) : e / n > 16 / 9 ? (t.style.width = "100%",
                t.style.height = null) : (t.style.height = "100%",
                t.style.width = null)
            }
        };
        return document.addEventListener("webkitfullscreenchange", i, !1),
        document.addEventListener("fullscreenchange", i),
        "object" === (void 0 === e ? "undefined" : (0,
        T.default)(e)) && e.setAttribute && e.appendChild(t),
        n
    }
    function o(e, t, n) {
        var i = new XMLHttpRequest;
        i.open("GET", e, !0),
        i.responseType = "blob";
        var r = t || document.createElement("video");
        i.onload = function() {
            if (200 === this.status && window.URL && "function" == typeof n) {
                var e = this.response
                  , t = URL.createObjectURL(e);
                n(r, t)
            }
        }
        ,
        i.send()
    }
    function s(e, t) {
        e && (e.style.display = t || "block")
    }
    function l(e) {
        e && (e.style.display = "none")
    }
    function u(e) {
        var t = e.split(":");
        return 3600 * t[0] + 60 * t[1] + 1 * t[2]
    }
    function d(e) {
        return e = Math.round(e),
        [parseInt(e / 3600), parseInt(e % 3600 / 60), e % 60].map(function(e) {
            return c(e)
        }).join(":")
    }
    function c(e) {
        return e < 10 ? "0" + e : e
    }
    function h(e) {
        return "object" === (void 0 === e ? "undefined" : (0,
        T.default)(e)) && e.tagName
    }
    function p(e) {
        return e in document.body.style
    }
    function f(e, t) {
        var n = void 0
          , i = void 0
          , r = void 0;
        e.addEventListener("input", function(e) {
            n = 1,
            (i = e.target.value) !== r && (t(e),
            r = i)
        }),
        e.addEventListener("change", function(e) {
            n || t(e)
        })
    }
    function m(e, t) {
        if (e.classList)
            e.classList.add(t);
        else {
            var n = e.className.split(" ");
            if (n.indexOf(t) > -1)
                return;
            n.push(t),
            e.className = n.join(" ")
        }
    }
    function y(e, t) {
        if (e.classList)
            e.classList.remove(t);
        else {
            var n = e.className.split(" ");
            if (-1 === n.indexOf(t))
                return;
            for (var i = -1, r = 0, a = n.length; r < a; r++)
                n[r] === t && (i = r);
            i > -1 && n.splice(i, 1),
            e.className = n.join(" ")
        }
    }
    function g(e, t) {
        for (var n = t.parentNode; null !== n; ) {
            if (n === e)
                return !0;
            n = n.parentNode
        }
        return !1
    }
    function v(e) {
        var t = 0
          , n = 0;
        if (e.offsetParent)
            for (t = e.offsetLeft,
            n = e.offsetTop; e = e.offsetParent; )
                t += e.offsetLeft,
                n += e.offsetTop;
        return {
            left: t,
            top: n
        }
    }
    function _(e) {
        var t = e.split("&")
          , n = parseInt(1e6 * Math.random());
        return t.length > 1 && /&[\w\d_\-]+=/.test(e) ? /&_rurlq=/.test(e) ? e.repalce(/&_rurlq=([\d]+)/, n) : e += "&_rurlq=" + n : e += "?no_param=true&_rurlq=" + n,
        e
    }
    function b(e) {
        return "object" === (void 0 === e ? "undefined" : (0,
        T.default)(e))
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.isMobile = void 0;
    var k = n(21)
      , S = i(k)
      , E = n(20)
      , w = i(E)
      , x = n(18)
      , T = i(x)
      , A = n(10)
      , L = i(A);
    t.createVideo = r,
    t.createH265Player = a,
    t.preLoadResource = o,
    t.show = s,
    t.hide = l,
    t.timeToSeconds = u,
    t.secondsToTime = d,
    t.isNode = h,
    t.isStyleProperty = p,
    t.onRangeChange = f,
    t.addClass = m,
    t.removeClass = y,
    t.isDescendant = g,
    t.getElementOffsets = v,
    t.repalceUrlQuery = _,
    t.isObject = b;
    var C = n(39)
      , D = i(C)
      , P = "auto"
      , R = D.default.getChromeVersion();
    (D.default.isChrome || D.default.isIE) && R && R > 50 && (P = "metadata");
    var I = {
        controls: !1,
        preload: P || "auto",
        style: {
            width: "100%",
            height: "100%",
            backgroundColor: "rgb(0,0,0)"
        }
    };
    t.isMobile = D.default.isMobile
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(6)
      , u = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this._logHost = "//yt.mmstat.com",
            this._logName = "",
            this._id = "youkulog",
            this.protocol = document.location.protocol.slice(0, document.location.protocol.length - 1),
            this._enabled = !0,
            this._global = t
        }
        return (0,
        s.default)(e, [{
            key: "onNetStatus",
            value: function(e) {
                this.enabled
            }
        }, {
            key: "processEnabledChange",
            value: function() {}
        }, {
            key: "report",
            value: function() {}
        }, {
            key: "getUaVersion",
            value: function() {
                return (0,
                l.getUaVersion)()
            }
        }, {
            key: "getFullValue",
            value: function() {
                var e = this._global._config.playScene;
                return e = "light" === e ? "2" : "mini" === e ? "3" : this._global.playerState.fullscreen ? "1" : "0"
            }
        }, {
            key: "id",
            get: function() {
                return this._id
            },
            set: function(e) {
                this._id = e
            }
        }, {
            key: "enabled",
            get: function() {
                return this._enabled
            },
            set: function(e) {
                this._enabled = e,
                this.processEnabledChange()
            }
        }]),
        e
    }();
    t.default = u
}
, function(e, t, n) {
    e.exports = {
        default: n(266),
        __esModule: !0
    }
}
, function(e, t, n) {
    var i = n(25);
    e.exports = function(e) {
        if (!i(e))
            throw TypeError(e + " is not an object!");
        return e
    }
}
, function(e, t, n) {
    var i = n(48);
    e.exports = function(e, t, n) {
        if (i(e),
        void 0 === t)
            return e;
        switch (n) {
        case 1:
            return function(n) {
                return e.call(t, n)
            }
            ;
        case 2:
            return function(n, i) {
                return e.call(t, n, i)
            }
            ;
        case 3:
            return function(n, i, r) {
                return e.call(t, n, i, r)
            }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
}
, function(e, t, n) {
    var i = n(26)
      , r = n(54);
    e.exports = n(24) ? function(e, t, n) {
        return i.f(e, t, r(1, n))
    }
    : function(e, t, n) {
        return e[t] = n,
        e
    }
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        for (var n = [], i = 0; i < e.length; i++)
            if (!n.length || !e[i].skipIfMatched) {
                var r = e[i].reg.exec(t);
                if (r && n.push({
                    map: e[i],
                    match: r
                }),
                n.length && e[i].breakIfMatched)
                    break
            }
        return n
    }
    function r() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
          , t = {
            ext: {}
        };
        e || "object" !== ("undefined" == typeof navigator ? "undefined" : l(navigator)) || (e = navigator.userAgent || "");
        for (var n = i(a, e), r = 0; r < n.length; r++) {
            var u = n[r]
              , d = u.match
              , c = u.map
              , h = {
                browser: d[5] || d[3] || d[1] || "",
                version: d[4] || d[2] || "0"
            };
            if (h.browser) {
                var p = c.name.toLowerCase();
                void 0 === t.name ? (t["is" + c.name] = !0,
                t.version = h.version,
                t.majorVersion = parseInt(h.version, 10),
                t.name = p) : (t["is" + c.name] = !0,
                t.ext[p] = {
                    version: h.version,
                    majorVersion: parseInt(h.version, 10)
                })
            }
        }
        var f = i(o, e)[0] || {
            match: [],
            map: {}
        }
          , m = f.match
          , y = f.map;
        if (m[0] && (t["is" + y.name] = !0,
        t.platform = y.name.toLowerCase()),
        t.isMobile = y.mobile || !1,
        t.isDesktop = y.desktop || !1,
        t.isIOS = y.ios || !1,
        t.isYouku)
            for (var g = i(s, e), v = 0; v < g.length; v++) {
                var _ = g[v];
                if (_.match) {
                    var b = _.map;
                    t[b.name] = _.match[1]
                }
            }
        return t
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = [{
        name: "YoukuHD",
        reg: /(youku_hd|youkuhd)\/([\d.]+)/i
    }, {
        name: "YoukuHD",
        reg: /(youku_hd|youkuhd);/i
    }, {
        name: "Youku",
        reg: /(youku|youku_hd|youkuhd)\/([\d.]+)/i
    }, {
        name: "Wechat",
        reg: /(micromessenger)\/([\d.]+)/i
    }, {
        name: "QQ",
        reg: /(qq)\/([\d.]+)/i
    }, {
        name: "Weibo",
        reg: /(weibo).*weibo__([\d.]+)/i
    }, {
        name: "QZone",
        reg: /(qzone)\/.*_qz_([\d.]+)/i
    }, {
        name: "Baidu",
        reg: /(baiduboxapp)\/([\d.]+)/i
    }, {
        name: "DingDing",
        reg: /(aliapp\(dingtalk)\/([\d.]+)/i
    }, {
        name: "Taobao",
        reg: /(aliapp\(tb)\/([\d.]+)/i
    }, {
        name: "Alipay",
        reg: /(alipayclient|aliapp\(AP)\/([\d.]+)/i
    }, {
        name: "AliTrip",
        reg: /(alitrip|aliapp\(lx)\/([\d.]+)/i
    }, {
        name: "UC",
        reg: /(ucbrowser)\/([\d.]+)/i
    }, {
        name: "WindVane",
        reg: /(windvane)\/([\d.]+)/i
    }, {
        name: "Liebao",
        reg: /(liebao[^/]*)\/([\d.]+)/i
    }, {
        name: "360",
        reg: /(qihoobrowser)\/([\d.]+)/i
    }, {
        name: "360SoSuo",
        reg: /(mso_app)\s*\(([\d.]+)/i
    }, {
        name: "QQLive",
        reg: /(qqlivebrowser)\/([\d.]+)/i
    }, {
        name: "QQBrowser",
        reg: /(qqbrowser)\/([\d.]+)/i
    }, {
        name: "Iqiyi",
        reg: /(iqiyiversion)\/([\d.]+)/i
    }, {
        name: "BaiduBrowser",
        reg: /(baidubrowser)\/([\d.]+)/i
    }, {
        name: "Sogou",
        reg: /(sogou[\w]*browser)\/([\d.]+)/i
    }, {
        name: "Edge",
        reg: /(edge)\/([\d.]+)/i
    }, {
        name: "Opera",
        reg: /(opr)\/([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Chrome",
        reg: /(chrome)\/([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Chrome",
        reg: /(crios)\/([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "IEMobile",
        reg: /(iemobile)[\/]([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Firefox",
        reg: /(firefox)\/([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Opera",
        reg: /(opera)(?:.*version|)[ \/]([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Safari",
        reg: /(version)(applewebkit)[/]([\d.]+).*(safari)[/]([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "Safari",
        reg: /(webkit)[ \/]([\d.]+).*(version)[/]([\d.]+).*(safari)[/]([\d.]+)/i,
        skipIfMatched: !0
    }, {
        name: "IE",
        reg: /(msie) ([\d.]+)/i
    }, {
        name: "IE",
        reg: /trident.*(rv)(?::| )([\d.]+)/i
    }]
      , o = [{
        name: "IPad",
        reg: /(ipad|iphone.*youku_hd\/[\d.]+)/i,
        mobile: !0,
        ios: !0,
        breakIfMatched: !0
    }, {
        name: "IPad",
        reg: /(ipad|iphone.*youku_hd)/i,
        mobile: !0,
        ios: !0,
        breakIfMatched: !0
    }, {
        name: "IPod",
        reg: /(ipod)/i,
        mobile: !0,
        ios: !0,
        breakIfMatched: !0
    }, {
        name: "WindowsPhone",
        reg: /(windows phone)/i,
        mobile: !0,
        breakIfMatched: !0
    }, {
        name: "IPhone",
        reg: /(iphone)/i,
        mobile: !0,
        ios: !0,
        breakIfMatched: !0
    }, {
        name: "Android",
        reg: /(android)/i,
        mobile: !0,
        breakIfMatched: !0
    }, {
        name: "Windows",
        reg: /(win)/i,
        desktop: !0,
        breakIfMatched: !0
    }, {
        name: "Mac",
        reg: /(mac)/i,
        desktop: !0,
        breakIfMatched: !0
    }, {
        name: "Linux",
        reg: /(linux)/i,
        desktop: !0,
        breakIfMatched: !0
    }]
      , s = [{
        name: "GUID",
        reg: /GUID[\s]([\w\d]+);/i
    }, {
        name: "OUID",
        reg: /OUID[\s]([\w\d]+);/i
    }, {
        name: "UTDID",
        reg: /UTDID[\s]([\w\d\+]+);/i
    }]
      , l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    ;
    t.Browser = {},
    t.Browser = r(),
    t.uaMatch = r
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(67);
    t.EQRErrorCorrectLevel = i.EQRErrorCorrectLevel;
    var r = n(147);
    t.QRAlgorithm = r.QRAlgorithm;
    var a = n(153);
    t.generateQRCode4MiniProgram = a.generateQRCode4MiniProgram;
    var o = n(152);
    t.generateQRCode4Browser = o.generateQRCode4Browser;
    var s = n(154);
    t.generateQRCode4NodeJS = s.generateQRCode4NodeJS;
    var l = n(150);
    t.Report = l.Report
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}
, function(e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return n.call(e, t)
    }
}
, function(e, t, n) {
    var i = n(80)
      , r = n(77);
    e.exports = function(e) {
        return i(r(e))
    }
}
, function(e, t, n) {
    var i = n(77);
    e.exports = function(e) {
        return Object(i(e))
    }
}
, function(e, t, n) {
    "use strict";
    function i() {
        var e = r.match(/Chrom(e|ium)\/([0-9]+)\./i);
        return !!e && parseInt(e[2], 10)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = window.navigator.userAgent.toLowerCase()
      , a = /(iphone)/.test(r) || /(ipad)/.test(r)
      , o = /(ipad)/.test(r)
      , s = /(android)/.test(r)
      , l = /(windows phone)/.test(r)
      , u = a || s || l
      , d = /(webkit)[ \/]([\w.]+).*(version)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(r) || /(version)(applewebkit)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(r)
      , c = /(msie) ([\w.]+)/.test(r) || /trident.*(rv)(?::| )([\w.]+)/.test(r)
      , h = /(chrome)\/([\w.]+)/.test(r);
    t.default = {
        isIOS: a,
        isIPAD: o,
        isAndroid: s,
        isWP: l,
        isMobile: u,
        isSafari: d,
        isIE: c,
        isChrome: h,
        ua: r,
        getChromeVersion: i
    }
}
, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = n(120)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.default = function(e) {
        return function() {
            var t = e.apply(this, arguments);
            return new r.default(function(e, n) {
                function i(a, o) {
                    try {
                        var s = t[a](o)
                          , l = s.value
                    } catch (e) {
                        return void n(e)
                    }
                    if (!s.done)
                        return r.default.resolve(l).then(function(e) {
                            i("next", e)
                        }, function(e) {
                            i("throw", e)
                        });
                    e(l)
                }
                return i("next")
            }
            )
        }
    }
}
, function(e, t, n) {
    e.exports = n(331)
}
, function(e, t, n) {
    "use strict";
    var i = n(294)(!0);
    n(81)(String, "String", function(e) {
        this._t = String(e),
        this._i = 0
    }, function() {
        var e, t = this._t, n = this._i;
        return n >= t.length ? {
            value: void 0,
            done: !0
        } : (e = i(t, n),
        this._i += e.length,
        {
            value: e,
            done: !1
        })
    })
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(18)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = {
        guoyu: {
            num: 1,
            name: "国语",
            alias: "普通话"
        },
        yue: {
            num: 2,
            name: "粤语"
        },
        chuan: {
            num: 3,
            name: "川话"
        },
        tai: {
            num: 4,
            name: "台湾"
        },
        min: {
            num: 5,
            name: "闽南"
        },
        en: {
            num: 6,
            name: "英语"
        },
        ja: {
            num: 7,
            name: "日语"
        },
        kr: {
            num: 8,
            name: "韩语"
        },
        in: {
            num: 9,
            name: "印度"
        },
        ru: {
            num: 10,
            name: "俄语"
        },
        fr: {
            num: 11,
            name: "法语"
        },
        de: {
            num: 12,
            name: "德语"
        },
        it: {
            num: 13,
            name: "意语"
        },
        es: {
            num: 14,
            name: "西语"
        },
        mn: {
            num: 15,
            name: "蒙古语"
        },
        th: {
            num: 16,
            name: "泰语"
        },
        baby: {
            num: 17,
            name: "萌童"
        },
        man: {
            num: 18,
            name: "暖男"
        },
        tspl: {
            num: 19,
            name: "同声评论"
        },
        dir: {
            num: 20,
            name: "导演评述"
        },
        dbh: {
            num: 21,
            name: "东北话"
        },
        bo: {
            num: 22,
            name: "藏语"
        },
        ug: {
            num: 23,
            name: "维语"
        },
        ar: {
            num: 24,
            name: "阿拉伯语"
        },
        uk: {
            num: 25,
            name: "乌克兰语"
        },
        pt: {
            num: 26,
            name: "葡萄牙语"
        },
        nl: {
            num: 27,
            name: "荷兰语"
        },
        hu: {
            num: 28,
            name: "匈牙利语"
        },
        is: {
            num: 29,
            name: "冰岛语"
        },
        af: {
            num: 30,
            name: "南非语"
        },
        da: {
            num: 31,
            name: "丹麦语"
        },
        ku: {
            num: 32,
            name: "库尔德语"
        },
        lv: {
            num: 33,
            name: "拉脱维亚语"
        },
        vi: {
            num: 34,
            name: "越南语"
        },
        fi: {
            num: 35,
            name: "芬兰语"
        },
        pl: {
            num: 36,
            name: "波兰语"
        },
        sv: {
            num: 37,
            name: "瑞典语"
        },
        cs: {
            num: 38,
            name: "捷克语"
        },
        no: {
            num: 39,
            name: "挪威语"
        },
        sr: {
            num: 40,
            name: "塞尔维亚语"
        },
        bg: {
            num: 41,
            name: "保加利亚语"
        },
        fa: {
            num: 42,
            name: "波斯语"
        },
        ro: {
            num: 43,
            name: "罗马尼亚语"
        },
        ka: {
            num: 44,
            name: "格鲁吉亚语"
        },
        tr: {
            num: 45,
            name: "土耳其语"
        },
        ca: {
            num: 46,
            name: "加泰罗尼亚语"
        },
        kk: {
            num: 47,
            name: "哈萨克语"
        },
        et: {
            num: 48,
            name: "爱沙尼亚语"
        },
        tl: {
            num: 49,
            name: "他加禄语"
        },
        el: {
            num: 50,
            name: "希腊语"
        },
        gsw: {
            num: 51,
            name: "瑞士德语"
        },
        rw: {
            num: 52,
            name: "卢旺达语"
        },
        bn: {
            num: 53,
            name: "孟加拉语"
        },
        id: {
            num: 54,
            name: "印尼语"
        },
        mi: {
            num: 55,
            name: "毛利语"
        },
        he: {
            num: 56,
            name: "希伯来语"
        },
        ga: {
            num: 57,
            name: "爱尔兰语"
        },
        hr: {
            num: 58,
            name: "克罗地亚语"
        },
        tjh: {
            num: 59,
            name: "天津话"
        },
        hah: {
            num: 60,
            name: "河南话"
        },
        snh: {
            num: 61,
            name: "陕西话"
        },
        sxh: {
            num: 62,
            name: "山西话"
        },
        lzh: {
            num: 63,
            name: "兰州话"
        },
        sdh: {
            num: 64,
            name: "山东话"
        },
        heh: {
            num: 65,
            name: "河北话"
        },
        hnh: {
            num: 66,
            name: "湖南话"
        },
        jxh: {
            num: 67,
            name: "江西话"
        },
        kjh: {
            num: 68,
            name: "客家话"
        },
        fyan: {
            num: 69,
            name: "方言"
        }
    }
      , o = {
        langCodeToCN: function(e) {
            var t = "default";
            return a[e] && (t = a[e].name),
            t
        },
        langCnToLangid: function(e) {
            var t = 0;
            return a[e] && (t = a[e].num),
            t
        },
        langToCode: function(e) {
            if (!e || void 0 === (void 0 === e ? "undefined" : (0,
            r.default)(e)))
                return null;
            if (!/^[\u4e00-\u9fa5]+$/.test(e))
                return e;
            for (var t in a)
                if (a[t].name === e || a[t].alias === e)
                    return t;
            return "default"
        }
    };
    t.default = o
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        e.timer && clearTimeout(e.timer),
        e.clearAttributes ? e.clearAttributes() : e.onload = e.onbort = e.onreadystatechange = e.onerror = null,
        delete window["youkuPlayer" + t]
    }
    function r(e, t) {
        var n = [];
        for (var i in e)
            n.push(encodeURIComponent(i) + "=" + encodeURIComponent(e[i]));
        if (!t) {
            var r = Math.random();
            r = r.toString().replace(".", ""),
            n.push("_t=" + r)
        }
        return n.join("&")
    }
    function a() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (e.url) {
            var t = e.callback || "callback"
              , n = e.data || {}
              , a = parseInt(e.time) || 5e3
              , o = (new Date).getTime() + Math.round(100 * Math.random())
              , s = "_call_" + o;
            n[t] = "youkuPlayer" + s;
            var l = r(n)
              , u = e.url;
            u += (-1 === u.indexOf("?") ? "?" : "&") + l;
            var d = document.createElement("script");
            window["youkuPlayer" + s] = function(t) {
                "timeout" !== d.jsonp && (d.jsonp = "success",
                i(d, s),
                e.success && e.success(t))
            }
            ,
            a && (d.timer = setTimeout(function() {
                d.jsonp = "timeout",
                i(d, s),
                e.fail && e.fail({
                    code: "408",
                    message: "timeout",
                    url: d.src
                })
            }, a)),
            d.onreadystatechange = d.onload = function() {
                this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || ("timeout" !== d.jsonp && "success" !== d.jsonp && e.fail && e.fail({
                    code: "404",
                    message: "fail",
                    url: d.src
                }),
                i(d, s))
            }
            ,
            d.onerror = function() {
                d.jsonp = "error",
                i(d, s),
                e.fail && e.fail({
                    code: "404",
                    message: "error",
                    url: d.src
                })
            }
            ,
            d.src = u,
            document.getElementsByTagName("head")[0].appendChild(d)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.formatParams = r,
    t.JSONP = a
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        notAllowedError: "notAllowedError",
        setDanmuStatus: "danmustatus",
        playerReady: "ready",
        onPlayerStart: "startPlay",
        Play: "play",
        Pause: "pause",
        PlayerPlayNext: "playNext",
        InnerPlayerPlayNext: "InnerplayNext",
        onTrialEnd: "trialend",
        onPlayerSet: "playerset",
        onPlayerComplete: "player.ended",
        onTimeUpdate: "timeupdate",
        onPlayerPreAdInit: "playerpreadinit",
        onPlayerLastAdInit: "playerlasteadinit",
        onPlayerMidAdInit: "playerminadinit",
        PlayerInteract: "playerinteract",
        playerSubscribe: "playersubscribe",
        playerToIku: "playeropiku",
        onFullscreen: "fullscreen",
        onCallAnthology: "callAnthology",
        dashboardStateChange: "dashboardStateChange",
        switchFlash: "switchflash",
        onPlayerError: "player.error",
        onRateChange: "ratechange",
        onAdPlay: "onadplay",
        onAdEnd: "onadend",
        onCutAdPlay: "oncutadplay",
        onCutAdEnd: "oncutadend",
        webFullScreen: "onwebfullscreen",
        switchMini: "switchMini",
        playerCoreReady: "playerCoreReady"
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(73)
      , g = i(y)
      , v = n(44)
      , _ = n(182)
      , b = n(58)
      , k = i(b)
      , S = n(14)
      , E = i(S)
      , w = n(19)
      , x = i(w)
      , T = n(66)
      , A = i(T)
      , L = n(155)
      , C = i(L)
      , D = n(23)
      , P = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this));
            return n._id = "base",
            n.state = g.default.NOT_START,
            n._global = e,
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "start",
            value: function() {}
        }, {
            key: "restart",
            value: function() {
                this._global.service[this.id] = {},
                this.state = g.default.NOT_START
            }
        }, {
            key: "stop",
            value: function() {}
        }, {
            key: "onNetStatus",
            value: function(e) {}
        }, {
            key: "loadData",
            value: function() {
                var e = this
                  , t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "jsonp"
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e3
                  , i = {
                    url: this.getServiceUrl(),
                    data: this.getServiceParam(),
                    time: n,
                    success: function(t) {
                        if (!t.data)
                            return void e.onComplete(t);
                        C.default.check(t, function(t, n) {
                            t ? e.onComplete(n) : e.loadData("jsonp", 2e4, n._sufeiToke)
                        }),
                        window.define = window._define
                    },
                    fail: function(t) {
                        e.dispatchError(t)
                    }
                };
                "jsonp" === t ? (0,
                v.JSONP)(i) : (0,
                _.FetchLoader)(i)
            }
        }, {
            key: "loadFetchData",
            value: function() {
                var e = this;
                (0,
                _.FetchLoader)({
                    url: this.getServiceUrl(),
                    data: this.getServiceParam(),
                    success: function(t) {
                        e.onComplete(t)
                    },
                    fail: function(t) {
                        e.dispatchError(t)
                    }
                })
            }
        }, {
            key: "loadMtopData",
            value: function(e, t) {
                var n = this
                  , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5e3;
                A.default.config.prefix = this._global.initConfig.env || D.MTOP_ENV,
                A.default.config.subDomain = "",
                A.default.config.mainDomain = "youku.com";
                var r = this.getServiceMtopParam()
                  , o = {
                    api: e,
                    v: "1.1",
                    data: (0,
                    a.default)(r),
                    appKey: "24679788",
                    ecode: 0,
                    timeout: i
                };
                if (t)
                    for (var s in t)
                        o[s] = t[s];
                o.AntiFlood = !0,
                o.AntiCreep = !0;
                var l = A.default.request(o)
                  , u = {
                    code: "404",
                    message: "fail",
                    url: e
                };
                l.then(function(e) {
                    0 === e.retType ? n.onComplete(e.data) : (u.message = e.ret.join("|"),
                    u.url = e.api + "#" + e.v,
                    n.dispatchError(u))
                }, function(e) {
                    u.message = e.ret.join("|"),
                    u.url = e.api + "#" + e.v,
                    n.dispatchError(u)
                }).catch(function(e) {
                    console.log("promise error:", e)
                })
            }
        }, {
            key: "getServiceUrl",
            value: function() {
                return null
            }
        }, {
            key: "getServiceParam",
            value: function() {
                return {}
            }
        }, {
            key: "getServiceMtopParam",
            value: function() {
                return {}
            }
        }, {
            key: "dispatchStart",
            value: function() {
                this.state = g.default.START,
                this.emit({
                    code: E.default.SERVICE_EXECUTE_START,
                    level: x.default.STATUS,
                    data: {
                        id: this._id,
                        desc: "Get " + this._id + "  service data start!"
                    }
                })
            }
        }, {
            key: "dispatchError",
            value: function(e) {
                this.state = g.default.ERROR;
                var t = e || {};
                t.id = this._id,
                t.desc = t.message ? "Get " + this._id + "  service data " + t.message + "!" : "",
                this.emit({
                    code: E.default.SERVICE_EXECUTE_FAILED,
                    level: x.default.ERROR,
                    data: t
                })
            }
        }, {
            key: "onComplete",
            value: function(e) {}
        }, {
            key: "dispatchWarning",
            value: function(e) {
                this.emit({
                    code: E.default.SERVICE_EXECUTE_WAINING,
                    level: x.default.WARNING,
                    data: {
                        id: this._id,
                        data: e
                    }
                })
            }
        }, {
            key: "dispatchComplete",
            value: function() {
                this.state = g.default.COMPLETE,
                this.emit({
                    code: E.default.SERVICE_EXECUTE_COMPLETE,
                    level: x.default.STATUS,
                    data: {
                        id: this._id
                    }
                })
            }
        }, {
            key: "dispatchDone",
            value: function(e) {
                this.emit({
                    code: E.default.SERVICE_IS_DONE,
                    level: x.default.STATUS,
                    data: {
                        id: this._id,
                        serviceState: e
                    }
                })
            }
        }, {
            key: "dispatchDataError",
            value: function(e) {
                var t = e || {};
                t.id = this._id,
                t.desc = t.message ? this._id + "  service return data " + t.message + "!" : "",
                this.emit({
                    code: E.default.SERVICE_DATA_ERROR,
                    level: x.default.WARNING,
                    data: t
                })
            }
        }, {
            key: "dispatchDataSuccess",
            value: function() {
                this.emit({
                    code: E.default.SERVICE_DATA_SUCCESS,
                    level: x.default.STATUS,
                    data: {
                        id: this._id,
                        desc: this._id + " service return data success!"
                    }
                })
            }
        }, {
            key: "id",
            get: function() {
                return this._id
            },
            set: function(e) {
                this._id = e,
                this._global && !this._global.service[this.id] && (this._global.service[this.id] = {})
            }
        }, {
            key: "state",
            get: function() {
                return this._state
            },
            set: function(e) {
                this._state !== e && (this._state = e,
                this._global && this._global.service[this.id] && (this._global.service[this.id].state = this._state))
            }
        }]),
        t
    }(k.default);
    t.default = P
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(18)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(9)
      , v = i(g)
      , _ = n(115)
      , b = n(6)
      , k = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.data = (0,
            b.getLocalData)(_.LSKEY, _.defaultSettings),
            n.bindDashboardEvents(),
            n.setDataUI(n.data),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "bindDashboardEvents",
            value: function() {
                var e = this;
                this.bind("mouseenter", function() {
                    v.default.hasClass(e._el, "disabled") || e.showDashBoard()
                }),
                this.bind("mouseleave", function() {
                    e.hideDashBoard()
                })
            }
        }, {
            key: "showDashBoard",
            value: function() {
                v.default.addClass(this._el, "dashboard-show")
            }
        }, {
            key: "hideDashBoard",
            value: function() {
                this._el.className.indexOf("dashboard-show") > 0 && v.default.removeClass(this._el, "dashboard-show")
            }
        }, {
            key: "setDataUI",
            value: function(e) {
                var t = this;
                this.setSkip(e.skip),
                this.setContinuousPlay(e.continuePlay, !0),
                this.setVolume(),
                this.bind(".js-skip", "click", function() {
                    var e = v.default.hasClass(t.find(".js-skip"), "active");
                    t.setSkip(!e)
                }),
                this.bind(".js-loop", "click", function() {
                    var e = v.default.hasClass(t.find(".js-loop"), "active");
                    t.setLoop(!e),
                    !e && t.data.continuePlay && t.setContinuousPlay(!1, !1)
                }),
                this.bind(".js-continue-play", "click", function() {
                    var e = v.default.hasClass(t.find(".js-continue-play"), "active");
                    t.setContinuousPlay(!e, !0),
                    !e && t.data.loop && t.setLoop(!1)
                }),
                this.on("volumechange", function(e, n) {
                    var i = n.volume;
                    if (n.muted || 0 === i) {
                        t.data.muted = !0;
                        var r = {
                            muted: t.data.muted
                        };
                        return t.setConfig(r),
                        void t.setLocalData(r)
                    }
                    i > 0 && (t.data.volume = i,
                    t.data.muted = !1);
                    var a = {
                        muted: t.data.muted,
                        volume: t.data.volume
                    };
                    t.setConfig(a),
                    t.setLocalData(a)
                })
            }
        }, {
            key: "setSkip",
            value: function(e) {
                "false" === String(e) ? v.default.removeClass(this.find(".js-skip"), "active") : v.default.addClass(this.find(".js-skip"), "active"),
                this.data.skip = "false" !== String(e);
                var t = {
                    skip: this.data.skip
                };
                this.setConfig(t),
                this.setLocalData(t)
            }
        }, {
            key: "setLoop",
            value: function(e) {
                "false" === String(e) ? v.default.removeClass(this.find(".js-loop"), "active") : v.default.addClass(this.find(".js-loop"), "active"),
                this.data.loop = "false" !== String(e);
                var t = {
                    loop: this.data.loop
                };
                this.setConfig(t)
            }
        }, {
            key: "setContinuousPlay",
            value: function(e, t) {
                "false" === String(e) ? v.default.removeClass(this.find(".js-continue-play"), "active") : v.default.addClass(this.find(".js-continue-play"), "active"),
                this.data.continuePlay = "false" !== String(e);
                var n = {
                    continuePlay: this.data.continuePlay
                };
                this.setConfig(n),
                t && this.setLocalData(n)
            }
        }, {
            key: "setVolume",
            value: function() {
                var e = !1;
                if (void 0 === (0,
                a.default)(this.data.muted) ? this.data.muted = !1 : !0 === this.data.muted && (e = !0,
                this._video.setMuted(!0)),
                this.data.volume) {
                    var t = Number(this.data.volume)
                      , n = this._video.getVolume();
                    if (Math.abs(n - t) > .1 && !e)
                        this._video.setVolume(this.data.volume);
                    else if (e) {
                        var i = this.getComponent("volume");
                        i.setCurrentVolume(t)
                    }
                } else
                    this.data.volume = this._video.getVolume()
            }
        }, {
            key: "setLocalData",
            value: function(e) {
                var t = (0,
                b.getLocalData)(_.LSKEY) || {};
                for (var n in e)
                    e[n] !== t[n] && (t[n] = e[n]);
                (0,
                b.setLocalData)(_.LSKEY, t)
            }
        }, {
            key: "setSessionalData",
            value: function(e) {
                var t = (0,
                b.getSessionData)("rate") || {};
                e.rate !== t.rate && (t.rate = e.rate),
                (0,
                b.setSessionData)("rate", t)
            }
        }, {
            key: "setConfig",
            value: function(e) {
                var t = this._video.global.config
                  , n = {};
                for (var i in e)
                    t[i] !== e[i] && (n[i] = e[i]);
                this._video.global.config = n
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-quality-icon control-settings-icon">\n                <span class="icon iconfont icon-setting"></span>\n                <div class="quality-dashboard settings-dashboard ">\n                    <div data-val="loop" class="settings-item js-loop">\n                        循环播放\n                        <span class="icon iconfont switch-close"></span>\n                        <span class="icon iconfont switch-open"></span>\n                    </div>\n                    <div data-val="skip" class="settings-item js-skip">\n                        跳过片头片尾\n                        <span class="icon iconfont switch-close"></span>\n                        <span class="icon iconfont switch-open"></span>\n                    </div>\n                    <div data-val="continuePlay" class="settings-item js-continue-play">\n                        连续播放\n                        <span class="icon iconfont switch-close"></span>\n                        <span class="icon iconfont switch-open"></span>\n                    </div>\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(y.Component);
    t.default = k
}
, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e)
            throw TypeError(e + " is not a function!");
        return e
    }
}
, function(e, t) {
    var n = {}.toString;
    e.exports = function(e) {
        return n.call(e).slice(8, -1)
    }
}
, function(e, t, n) {
    var i = n(31)
      , r = n(128)
      , a = n(126)
      , o = n(30)
      , s = n(62)
      , l = n(95)
      , u = {}
      , d = {}
      , t = e.exports = function(e, t, n, c, h) {
        var p, f, m, y, g = h ? function() {
            return e
        }
        : l(e), v = i(n, c, t ? 2 : 1), _ = 0;
        if ("function" != typeof g)
            throw TypeError(e + " is not iterable!");
        if (a(g)) {
            for (p = s(e.length); p > _; _++)
                if ((y = t ? v(o(f = e[_])[0], f[1]) : v(e[_])) === u || y === d)
                    return y
        } else
            for (m = g.call(e); !(f = m.next()).done; )
                if ((y = r(m, v, f.value, t)) === u || y === d)
                    return y
    }
    ;
    t.BREAK = u,
    t.RETURN = d
}
, function(e, t) {
    e.exports = {}
}
, function(e, t) {
    e.exports = !0
}
, function(e, t, n) {
    var i = n(133)
      , r = n(79);
    e.exports = Object.keys || function(e) {
        return i(e, r)
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}
, function(e, t, n) {
    var i = n(26).f
      , r = n(36)
      , a = n(16)("toStringTag");
    e.exports = function(e, t, n) {
        e && !r(e = n ? e : e.prototype, a) && i(e, a, {
            configurable: !0,
            value: t
        })
    }
}
, function(e, t, n) {
    n(299);
    for (var i = n(15), r = n(32), a = n(51), o = n(16)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) {
        var u = s[l]
          , d = i[u]
          , c = d && d.prototype;
        c && !c[o] && r(c, o, u),
        a[u] = a.Array
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(29)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = n(6)
      , o = {
        storageKey: "YK_PSL_RECORDS",
        getItem: function(e) {
            try {
                var t = localStorage.getItem(this.storageKey);
                if (t) {
                    var n = JSON.parse(t)
                      , i = this.findItem(e, n);
                    if (i > -1)
                        return n[i]
                }
            } catch (e) {
                console.log("localStorage is not support")
            }
            return null
        },
        setItem: function(e) {
            var t = [];
            try {
                var n = localStorage.getItem(this.storageKey);
                n && (t = JSON.parse(n));
                var i = this.findItem(e.vid, t);
                i > -1 ? t[i].time = e.time : (t.length > 10 && t.shift(),
                t.push(e)),
                localStorage.setItem(this.storageKey, (0,
                r.default)(t))
            } catch (e) {
                console.log("localStorage is not support")
            }
        },
        findItem: function(e, t) {
            return (0,
            a.findIndex)(t, function(t) {
                if (t.vid === e)
                    return !0
            })
        },
        getPersonInfo: function() {
            try {
                var e = localStorage.getItem("YK_PSL_SETTINGS");
                return e ? JSON.parse(e) : null
            } catch (e) {
                return null
            }
        },
        getSessionInfo: function() {
            try {
                var e = sessionStorage.getItem("rate");
                return e ? JSON.parse(e) : null
            } catch (e) {
                return null
            }
        },
        getLocalStatus: function() {
            try {
                return "false" !== localStorage.getItem("YK_PSL_ALLOWRECORD").toString()
            } catch (e) {
                return !0
            }
        }
    };
    t.default = o
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(19)
      , u = i(l)
      , d = n(65)
      , c = i(d)
      , h = function() {
        function e() {
            (0,
            a.default)(this, e),
            this._emitter = new c.default.EventEmitter
        }
        return (0,
        s.default)(e, [{
            key: "on",
            value: function(e, t) {
                this._emitter.addListener(e, t)
            }
        }, {
            key: "off",
            value: function(e, t) {
                this._emitter.removeListener(e, t)
            }
        }, {
            key: "emit",
            value: function(e) {
                this._emitter.emit(u.default.NET_STATUS, e)
            }
        }, {
            key: "destroy",
            value: function() {
                this._emitter.removeAllListeners(),
                this._emitter = null
            }
        }]),
        e
    }();
    t.default = h
}
, function(e, t, n) {
    e.exports = {
        default: n(267),
        __esModule: !0
    }
}
, function(e, t, n) {
    var i = n(30)
      , r = n(291)
      , a = n(79)
      , o = n(88)("IE_PROTO")
      , s = function() {}
      , l = function() {
        var e, t = n(78)("iframe"), i = a.length;
        for (t.style.display = "none",
        n(124).appendChild(t),
        t.src = "javascript:",
        e = t.contentWindow.document,
        e.open(),
        e.write("<script>document.F=Object<\/script>"),
        e.close(),
        l = e.F; i--; )
            delete l.prototype[a[i]];
        return l()
    };
    e.exports = Object.create || function(e, t) {
        var n;
        return null !== e ? (s.prototype = i(e),
        n = new s,
        s.prototype = null,
        n[o] = e) : n = l(),
        void 0 === t ? n : r(n, t)
    }
}
, function(e, t) {
    t.f = {}.propertyIsEnumerable
}
, function(e, t, n) {
    var i = n(90)
      , r = Math.min;
    e.exports = function(e) {
        return e > 0 ? r(i(e), 9007199254740991) : 0
    }
}
, function(e, t) {
    var n = 0
      , i = Math.random();
    e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + i).toString(36))
    }
}
, function(e, t) {}
, function(e, t, n) {
    "use strict";
    function i(e) {
        console && console.warn && console.warn(e)
    }
    function r() {
        r.init.call(this)
    }
    function a(e) {
        if ("function" != typeof e)
            throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
    }
    function o(e) {
        return void 0 === e._maxListeners ? r.defaultMaxListeners : e._maxListeners
    }
    function s(e, t, n, r) {
        var s, l, u;
        if (a(n),
        l = e._events,
        void 0 === l ? (l = e._events = Object.create(null),
        e._eventsCount = 0) : (void 0 !== l.newListener && (e.emit("newListener", t, n.listener ? n.listener : n),
        l = e._events),
        u = l[t]),
        void 0 === u)
            u = l[t] = n,
            ++e._eventsCount;
        else if ("function" == typeof u ? u = l[t] = r ? [n, u] : [u, n] : r ? u.unshift(n) : u.push(n),
        (s = o(e)) > 0 && u.length > s && !u.warned) {
            u.warned = !0;
            var d = new Error("Possible EventEmitter memory leak detected. " + u.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            d.name = "MaxListenersExceededWarning",
            d.emitter = e,
            d.type = t,
            d.count = u.length,
            i(d)
        }
        return e
    }
    function l() {
        if (!this.fired)
            return this.target.removeListener(this.type, this.wrapFn),
            this.fired = !0,
            0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
    }
    function u(e, t, n) {
        var i = {
            fired: !1,
            wrapFn: void 0,
            target: e,
            type: t,
            listener: n
        }
          , r = l.bind(i);
        return r.listener = n,
        i.wrapFn = r,
        r
    }
    function d(e, t, n) {
        var i = e._events;
        if (void 0 === i)
            return [];
        var r = i[t];
        return void 0 === r ? [] : "function" == typeof r ? n ? [r.listener || r] : [r] : n ? f(r) : h(r, r.length)
    }
    function c(e) {
        var t = this._events;
        if (void 0 !== t) {
            var n = t[e];
            if ("function" == typeof n)
                return 1;
            if (void 0 !== n)
                return n.length
        }
        return 0
    }
    function h(e, t) {
        for (var n = new Array(t), i = 0; i < t; ++i)
            n[i] = e[i];
        return n
    }
    function p(e, t) {
        for (; t + 1 < e.length; t++)
            e[t] = e[t + 1];
        e.pop()
    }
    function f(e) {
        for (var t = new Array(e.length), n = 0; n < t.length; ++n)
            t[n] = e[n].listener || e[n];
        return t
    }
    var m, y = "object" == typeof Reflect ? Reflect : null, g = y && "function" == typeof y.apply ? y.apply : function(e, t, n) {
        return Function.prototype.apply.call(e, t, n)
    }
    ;
    m = y && "function" == typeof y.ownKeys ? y.ownKeys : Object.getOwnPropertySymbols ? function(e) {
        return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
    }
    : function(e) {
        return Object.getOwnPropertyNames(e)
    }
    ;
    var v = Number.isNaN || function(e) {
        return e !== e
    }
    ;
    e.exports = r,
    r.EventEmitter = r,
    r.prototype._events = void 0,
    r.prototype._eventsCount = 0,
    r.prototype._maxListeners = void 0;
    var _ = 10;
    Object.defineProperty(r, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
            return _
        },
        set: function(e) {
            if ("number" != typeof e || e < 0 || v(e))
                throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
            _ = e
        }
    }),
    r.init = function() {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null),
        this._eventsCount = 0),
        this._maxListeners = this._maxListeners || void 0
    }
    ,
    r.prototype.setMaxListeners = function(e) {
        if ("number" != typeof e || e < 0 || v(e))
            throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
        return this._maxListeners = e,
        this
    }
    ,
    r.prototype.getMaxListeners = function() {
        return o(this)
    }
    ,
    r.prototype.emit = function(e) {
        for (var t = [], n = 1; n < arguments.length; n++)
            t.push(arguments[n]);
        var i = "error" === e
          , r = this._events;
        if (void 0 !== r)
            i = i && void 0 === r.error;
        else if (!i)
            return !1;
        if (i) {
            var a;
            if (t.length > 0 && (a = t[0]),
            a instanceof Error)
                throw a;
            var o = new Error("Unhandled error." + (a ? " (" + a.message + ")" : ""));
            throw o.context = a,
            o
        }
        var s = r[e];
        if (void 0 === s)
            return !1;
        if ("function" == typeof s)
            g(s, this, t);
        else
            for (var l = s.length, u = h(s, l), n = 0; n < l; ++n)
                g(u[n], this, t);
        return !0
    }
    ,
    r.prototype.addListener = function(e, t) {
        return s(this, e, t, !1)
    }
    ,
    r.prototype.on = r.prototype.addListener,
    r.prototype.prependListener = function(e, t) {
        return s(this, e, t, !0)
    }
    ,
    r.prototype.once = function(e, t) {
        return a(t),
        this.on(e, u(this, e, t)),
        this
    }
    ,
    r.prototype.prependOnceListener = function(e, t) {
        return a(t),
        this.prependListener(e, u(this, e, t)),
        this
    }
    ,
    r.prototype.removeListener = function(e, t) {
        var n, i, r, o, s;
        if (a(t),
        void 0 === (i = this._events))
            return this;
        if (void 0 === (n = i[e]))
            return this;
        if (n === t || n.listener === t)
            0 == --this._eventsCount ? this._events = Object.create(null) : (delete i[e],
            i.removeListener && this.emit("removeListener", e, n.listener || t));
        else if ("function" != typeof n) {
            for (r = -1,
            o = n.length - 1; o >= 0; o--)
                if (n[o] === t || n[o].listener === t) {
                    s = n[o].listener,
                    r = o;
                    break
                }
            if (r < 0)
                return this;
            0 === r ? n.shift() : p(n, r),
            1 === n.length && (i[e] = n[0]),
            void 0 !== i.removeListener && this.emit("removeListener", e, s || t)
        }
        return this
    }
    ,
    r.prototype.off = r.prototype.removeListener,
    r.prototype.removeAllListeners = function(e) {
        var t, n, i;
        if (void 0 === (n = this._events))
            return this;
        if (void 0 === n.removeListener)
            return 0 === arguments.length ? (this._events = Object.create(null),
            this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]),
            this;
        if (0 === arguments.length) {
            var r, a = Object.keys(n);
            for (i = 0; i < a.length; ++i)
                "removeListener" !== (r = a[i]) && this.removeAllListeners(r);
            return this.removeAllListeners("removeListener"),
            this._events = Object.create(null),
            this._eventsCount = 0,
            this
        }
        if ("function" == typeof (t = n[e]))
            this.removeListener(e, t);
        else if (void 0 !== t)
            for (i = t.length - 1; i >= 0; i--)
                this.removeListener(e, t[i]);
        return this
    }
    ,
    r.prototype.listeners = function(e) {
        return d(this, e, !0)
    }
    ,
    r.prototype.rawListeners = function(e) {
        return d(this, e, !1)
    }
    ,
    r.listenerCount = function(e, t) {
        return "function" == typeof e.listenerCount ? e.listenerCount(t) : c.call(e, t)
    }
    ,
    r.prototype.listenerCount = c,
    r.prototype.eventNames = function() {
        return this._eventsCount > 0 ? m(this._events) : []
    }
}
, function(e, t) {
    "undefined" == typeof window && (window = {
        ctrl: {},
        lib: {}
    }),
    !window.ctrl && (window.ctrl = {}),
    !window.lib && (window.lib = {}),
    function(e, t) {
        function n() {
            var e = {}
              , t = new f(function(t, n) {
                e.resolve = t,
                e.reject = n
            }
            );
            return e.promise = t,
            e
        }
        function i(e, t) {
            for (var n in t)
                void 0 === e[n] && (e[n] = t[n]);
            return e
        }
        function r(e) {
            (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0] || document.firstElementChild || document).appendChild(e)
        }
        function a(e) {
            var t = [];
            for (var n in e)
                e[n] && t.push(n + "=" + encodeURIComponent(e[n]));
            return t.join("&")
        }
        function o(e) {
            try {
                return ".com" !== e.substring(e.lastIndexOf(".")) ? (e.split(".") || []).length <= 3 ? e : e.split(".").slice(1).join(".") : e.substring(e.lastIndexOf(".", e.lastIndexOf(".") - 1) + 1)
            } catch (t) {
                return e.substring(e.lastIndexOf(".", e.lastIndexOf(".") - 1) + 1)
            }
        }
        function s(e) {
            function t(e, t) {
                return e << t | e >>> 32 - t
            }
            function n(e, t) {
                var n, i, r, a, o;
                return r = 2147483648 & e,
                a = 2147483648 & t,
                n = 1073741824 & e,
                i = 1073741824 & t,
                o = (1073741823 & e) + (1073741823 & t),
                n & i ? 2147483648 ^ o ^ r ^ a : n | i ? 1073741824 & o ? 3221225472 ^ o ^ r ^ a : 1073741824 ^ o ^ r ^ a : o ^ r ^ a
            }
            function i(e, t, n) {
                return e & t | ~e & n
            }
            function r(e, t, n) {
                return e & n | t & ~n
            }
            function a(e, t, n) {
                return e ^ t ^ n
            }
            function o(e, t, n) {
                return t ^ (e | ~n)
            }
            function s(e, r, a, o, s, l, u) {
                return e = n(e, n(n(i(r, a, o), s), u)),
                n(t(e, l), r)
            }
            function l(e, i, a, o, s, l, u) {
                return e = n(e, n(n(r(i, a, o), s), u)),
                n(t(e, l), i)
            }
            function u(e, i, r, o, s, l, u) {
                return e = n(e, n(n(a(i, r, o), s), u)),
                n(t(e, l), i)
            }
            function d(e, i, r, a, s, l, u) {
                return e = n(e, n(n(o(i, r, a), s), u)),
                n(t(e, l), i)
            }
            function c(e) {
                var t, n, i = "", r = "";
                for (n = 0; 3 >= n; n++)
                    t = e >>> 8 * n & 255,
                    r = "0" + t.toString(16),
                    i += r.substr(r.length - 2, 2);
                return i
            }
            var h, p, f, m, y, g, v, _, b, k = [];
            for (e = function(e) {
                e = e.replace(/\r\n/g, "\n");
                for (var t = "", n = 0; n < e.length; n++) {
                    var i = e.charCodeAt(n);
                    128 > i ? t += String.fromCharCode(i) : i > 127 && 2048 > i ? (t += String.fromCharCode(i >> 6 | 192),
                    t += String.fromCharCode(63 & i | 128)) : (t += String.fromCharCode(i >> 12 | 224),
                    t += String.fromCharCode(i >> 6 & 63 | 128),
                    t += String.fromCharCode(63 & i | 128))
                }
                return t
            }(e),
            k = function(e) {
                for (var t, n = e.length, i = n + 8, r = (i - i % 64) / 64, a = 16 * (r + 1), o = new Array(a - 1), s = 0, l = 0; n > l; )
                    t = (l - l % 4) / 4,
                    s = l % 4 * 8,
                    o[t] = o[t] | e.charCodeAt(l) << s,
                    l++;
                return t = (l - l % 4) / 4,
                s = l % 4 * 8,
                o[t] = o[t] | 128 << s,
                o[a - 2] = n << 3,
                o[a - 1] = n >>> 29,
                o
            }(e),
            g = 1732584193,
            v = 4023233417,
            _ = 2562383102,
            b = 271733878,
            h = 0; h < k.length; h += 16)
                p = g,
                f = v,
                m = _,
                y = b,
                g = s(g, v, _, b, k[h + 0], 7, 3614090360),
                b = s(b, g, v, _, k[h + 1], 12, 3905402710),
                _ = s(_, b, g, v, k[h + 2], 17, 606105819),
                v = s(v, _, b, g, k[h + 3], 22, 3250441966),
                g = s(g, v, _, b, k[h + 4], 7, 4118548399),
                b = s(b, g, v, _, k[h + 5], 12, 1200080426),
                _ = s(_, b, g, v, k[h + 6], 17, 2821735955),
                v = s(v, _, b, g, k[h + 7], 22, 4249261313),
                g = s(g, v, _, b, k[h + 8], 7, 1770035416),
                b = s(b, g, v, _, k[h + 9], 12, 2336552879),
                _ = s(_, b, g, v, k[h + 10], 17, 4294925233),
                v = s(v, _, b, g, k[h + 11], 22, 2304563134),
                g = s(g, v, _, b, k[h + 12], 7, 1804603682),
                b = s(b, g, v, _, k[h + 13], 12, 4254626195),
                _ = s(_, b, g, v, k[h + 14], 17, 2792965006),
                v = s(v, _, b, g, k[h + 15], 22, 1236535329),
                g = l(g, v, _, b, k[h + 1], 5, 4129170786),
                b = l(b, g, v, _, k[h + 6], 9, 3225465664),
                _ = l(_, b, g, v, k[h + 11], 14, 643717713),
                v = l(v, _, b, g, k[h + 0], 20, 3921069994),
                g = l(g, v, _, b, k[h + 5], 5, 3593408605),
                b = l(b, g, v, _, k[h + 10], 9, 38016083),
                _ = l(_, b, g, v, k[h + 15], 14, 3634488961),
                v = l(v, _, b, g, k[h + 4], 20, 3889429448),
                g = l(g, v, _, b, k[h + 9], 5, 568446438),
                b = l(b, g, v, _, k[h + 14], 9, 3275163606),
                _ = l(_, b, g, v, k[h + 3], 14, 4107603335),
                v = l(v, _, b, g, k[h + 8], 20, 1163531501),
                g = l(g, v, _, b, k[h + 13], 5, 2850285829),
                b = l(b, g, v, _, k[h + 2], 9, 4243563512),
                _ = l(_, b, g, v, k[h + 7], 14, 1735328473),
                v = l(v, _, b, g, k[h + 12], 20, 2368359562),
                g = u(g, v, _, b, k[h + 5], 4, 4294588738),
                b = u(b, g, v, _, k[h + 8], 11, 2272392833),
                _ = u(_, b, g, v, k[h + 11], 16, 1839030562),
                v = u(v, _, b, g, k[h + 14], 23, 4259657740),
                g = u(g, v, _, b, k[h + 1], 4, 2763975236),
                b = u(b, g, v, _, k[h + 4], 11, 1272893353),
                _ = u(_, b, g, v, k[h + 7], 16, 4139469664),
                v = u(v, _, b, g, k[h + 10], 23, 3200236656),
                g = u(g, v, _, b, k[h + 13], 4, 681279174),
                b = u(b, g, v, _, k[h + 0], 11, 3936430074),
                _ = u(_, b, g, v, k[h + 3], 16, 3572445317),
                v = u(v, _, b, g, k[h + 6], 23, 76029189),
                g = u(g, v, _, b, k[h + 9], 4, 3654602809),
                b = u(b, g, v, _, k[h + 12], 11, 3873151461),
                _ = u(_, b, g, v, k[h + 15], 16, 530742520),
                v = u(v, _, b, g, k[h + 2], 23, 3299628645),
                g = d(g, v, _, b, k[h + 0], 6, 4096336452),
                b = d(b, g, v, _, k[h + 7], 10, 1126891415),
                _ = d(_, b, g, v, k[h + 14], 15, 2878612391),
                v = d(v, _, b, g, k[h + 5], 21, 4237533241),
                g = d(g, v, _, b, k[h + 12], 6, 1700485571),
                b = d(b, g, v, _, k[h + 3], 10, 2399980690),
                _ = d(_, b, g, v, k[h + 10], 15, 4293915773),
                v = d(v, _, b, g, k[h + 1], 21, 2240044497),
                g = d(g, v, _, b, k[h + 8], 6, 1873313359),
                b = d(b, g, v, _, k[h + 15], 10, 4264355552),
                _ = d(_, b, g, v, k[h + 6], 15, 2734768916),
                v = d(v, _, b, g, k[h + 13], 21, 1309151649),
                g = d(g, v, _, b, k[h + 4], 6, 4149444226),
                b = d(b, g, v, _, k[h + 11], 10, 3174756917),
                _ = d(_, b, g, v, k[h + 2], 15, 718787259),
                v = d(v, _, b, g, k[h + 9], 21, 3951481745),
                g = n(g, p),
                v = n(v, f),
                _ = n(_, m),
                b = n(b, y);
            return (c(g) + c(v) + c(_) + c(b)).toLowerCase()
        }
        function l(e) {
            return "[object Object]" == {}.toString.call(e)
        }
        function u(e, t, n) {
            var i = n || {};
            document.cookie = e.replace(/[^+#$&^`|]/g, encodeURIComponent).replace("(", "%28").replace(")", "%29") + "=" + t.replace(/[^+#$&\/:<-\[\]-}]/g, encodeURIComponent) + (i.domain ? ";domain=" + i.domain : "") + (i.path ? ";path=" + i.path : "") + (i.secure ? ";secure" : "") + (i.httponly ? ";HttpOnly" : "") + (i.sameSite ? ";Samesite=" + i.sameSite : "")
        }
        function d(e) {
            var t = new RegExp("(?:^|;\\s*)" + e + "\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);
            return t ? t[1] : void 0
        }
        function c(e, t, n) {
            var i = new Date;
            i.setTime(i.getTime() - 864e5);
            document.cookie = e + "=;path=/;domain=." + t + ";expires=" + i.toGMTString(),
            document.cookie = e + "=;path=/;domain=." + n + "." + t + ";expires=" + i.toGMTString()
        }
        function h(e, t) {
            for (var n = e.split("."), i = t.split("."), r = 0; 3 > r; r++) {
                var a = Number(n[r])
                  , o = Number(i[r]);
                if (a > o)
                    return 1;
                if (o > a)
                    return -1;
                if (!isNaN(a) && isNaN(o))
                    return 1;
                if (isNaN(a) && !isNaN(o))
                    return -1
            }
            return 0
        }
        function p(e) {
            this.id = "" + (new Date).getTime() + ++S,
            this.params = i(e || {}, {
                v: "*",
                data: {},
                type: "get",
                dataType: "jsonp"
            }),
            this.params.type = this.params.type.toLowerCase(),
            "object" == typeof this.params.data && (this.params.data = JSON.stringify(this.params.data)),
            this.middlewares = g.slice(0)
        }
        var f = e.Promise
          , m = (f || {
            resolve: function() {}
        }).resolve();
        String.prototype.trim || (String.prototype.trim = function() {
            return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
        }
        );
        var y = {
            useJsonpResultType: !1,
            safariGoLogin: !0,
            useAlipayJSBridge: !1
        }
          , g = []
          , v = {
            ERROR: -1,
            SUCCESS: 0,
            TOKEN_EXPIRED: 1,
            SESSION_EXPIRED: 2
        };
        (function() {
            var t = e.location.hostname;
            if (!t) {
                var n = e.parent.location.hostname;
                n && ~n.indexOf("zebra.alibaba-inc.com") && (t = n)
            }
            var i = ["taobao.net", "taobao.com", "tmall.com", "tmall.hk", "alibaba-inc.com"]
              , r = new RegExp("([^.]*?)\\.?((?:" + i.join(")|(?:").replace(/\./g, "\\.") + "))","i")
              , a = t.match(r) || []
              , o = a[2] || "taobao.com"
              , s = a[1] || "m";
            "taobao.net" !== o || "x" !== s && "waptest" !== s && "daily" !== s ? "taobao.net" === o && "demo" === s ? s = "demo" : "alibaba-inc.com" === o && "zebra" === s ? s = "zebra" : "waptest" !== s && "wapa" !== s && "m" !== s && (s = "m") : s = "waptest";
            var l = "h5api";
            "taobao.net" === o && "waptest" === s && (l = "acs"),
            y.mainDomain = o,
            y.subDomain = s,
            y.prefix = l
        }
        )(),
        function() {
            var t = e.navigator.userAgent
              , n = t.match(/WindVane[\/\s]([\d\.\_]+)/);
            n && (y.WindVaneVersion = n[1]);
            var i = t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);
            i && (y.AliAppName = i[1],
            y.AliAppVersion = i[2]);
            var r = t.match(/AMapClient\/([\d\.\_]+)/i);
            r && (y.AliAppName = "AMAP",
            y.AliAppVersion = r[1])
        }();
        var _ = /[Android|Adr]/.test(e.navigator.userAgent)
          , b = "AP" === y.AliAppName
          , k = b && h(y.AliAppVersion, "10.1.2") >= 0 || "KB" === y.AliAppName && h(y.AliAppVersion, "7.1.62") >= 0 || _ && "AMAP" === y.AliAppName && h(y.AliAppVersion, "1.0.1") >= 0
          , S = 0;
        p.prototype.use = function(e) {
            if (!e)
                throw new Error("middleware is undefined");
            return this.middlewares.push(e),
            this
        }
        ,
        p.prototype.__processRequestMethod = function(e) {
            var t = this.params
              , n = this.options;
            "get" === t.type && "jsonp" === t.dataType ? n.getJSONP = !0 : "get" === t.type && "originaljsonp" === t.dataType ? n.getOriginalJSONP = !0 : "get" === t.type && "json" === t.dataType ? n.getJSON = !0 : "post" === t.type && (n.postJSON = !0),
            e()
        }
        ,
        p.prototype.__processRequestType = function(n) {
            var i = this
              , r = this.params
              , a = this.options;
            if (!0 === y.H5Request && (a.H5Request = !0),
            !0 === y.WindVaneRequest && (a.WindVaneRequest = !0),
            !1 === a.H5Request && !0 === a.WindVaneRequest) {
                if (!k && (!t.windvane || parseFloat(a.WindVaneVersion) < 5.4))
                    throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");
                if (k && !e.AlipayJSBridge)
                    throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")
            } else if (!0 === a.H5Request)
                a.WindVaneRequest = !1;
            else if (void 0 === a.WindVaneRequest && void 0 === a.H5Request) {
                if (t.windvane && parseFloat(a.WindVaneVersion) >= 5.4 ? a.WindVaneRequest = !0 : a.H5Request = !0,
                k) {
                    if (a.WindVaneRequest = a.H5Request = void 0,
                    e.AlipayJSBridge)
                        if (l(r.data))
                            a.WindVaneRequest = !0;
                        else
                            try {
                                l(JSON.parse(r.data)) ? a.WindVaneRequest = !0 : a.H5Request = !0
                            } catch (e) {
                                a.H5Request = !0
                            }
                    else
                        a.H5Request = !0;
                    "AMAP" !== y.AliAppName || r.useNebulaJSbridgeWithAMAP || (a.WindVaneRequest = a.H5Request = void 0,
                    a.H5Request = !0)
                }
                window.self !== window.top && (a.H5Request = !0)
            }
            var o = e.navigator.userAgent.toLowerCase();
            return o.indexOf("youku") > -1 && a.mainDomain.indexOf("youku.com") < 0 && (a.WindVaneRequest = !1,
            a.H5Request = !0),
            a.mainDomain.indexOf("youku.com") > -1 && o.indexOf("youku") < 0 && (a.WindVaneRequest = !1,
            a.H5Request = !0),
            n ? n().then(function() {
                var e = a.retJson.ret;
                if (e instanceof Array && (e = e.join(",")),
                !0 === a.WindVaneRequest && k && a.retJson.error || !e || e.indexOf("PARAM_PARSE_ERROR") > -1 || e.indexOf("HY_FAILED") > -1 || e.indexOf("HY_NO_HANDLER") > -1 || e.indexOf("HY_CLOSED") > -1 || e.indexOf("HY_EXCEPTION") > -1 || e.indexOf("HY_NO_PERMISSION") > -1) {
                    if (!k || !isNaN(a.retJson.error) || -1 !== a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))
                        return k && l(r.data) && (r.data = JSON.stringify(r.data)),
                        y.H5Request = !0,
                        i.__sequence([i.__processRequestType, i.__processToken, i.__processRequestUrl, i.middlewares, i.__processRequest]);
                    void 0 === a.retJson.api && void 0 === a.retJson.v && (a.retJson.api = r.api,
                    a.retJson.v = r.v,
                    a.retJson.ret = [a.retJson.error + "::" + a.retJson.errorMessage],
                    a.retJson.data = {})
                }
            }) : void 0
        }
        ;
        var E = "_m_h5_c"
          , w = "_m_h5_tk";
        p.prototype.__getTokenFromAlipay = function() {
            var t = n()
              , i = this.options
              , r = (e.navigator.userAgent,
            !!location.protocol.match(/^https?\:$/));
            return !0 === i.useAlipayJSBridge && !r && k && e.AlipayJSBridge && e.AlipayJSBridge.call ? e.AlipayJSBridge.call("getMtopToken", function(e) {
                e && e.token && (i.token = e.token),
                t.resolve()
            }, function() {
                t.resolve()
            }) : t.resolve(),
            t.promise
        }
        ,
        p.prototype.__getTokenFromCookie = function() {
            var e = this.options;
            return e.CDR && d(E) ? e.token = d(E).split(";")[0] : e.token = e.token || d(w),
            e.token && (e.token = e.token.split("_")[0]),
            f.resolve()
        }
        ,
        p.prototype.__waitWKWebViewCookie = function(t) {
            var n = this.options;
            n.waitWKWebViewCookieFn && n.H5Request && e.webkit && e.webkit.messageHandlers ? n.waitWKWebViewCookieFn(t) : t()
        }
        ,
        p.prototype.__processToken = function(e) {
            var t = this
              , n = this.options;
            return this.params,
            n.token && delete n.token,
            !0 !== n.WindVaneRequest ? m.then(function() {
                return t.__getTokenFromAlipay()
            }).then(function() {
                return t.__getTokenFromCookie()
            }).then(e).then(function() {
                var e = n.retJson
                  , i = e.ret;
                if (i instanceof Array && (i = i.join(",")),
                i.indexOf("TOKEN_EMPTY") > -1 || (!0 === n.CDR || !0 === n.syncCookieMode) && i.indexOf("ILLEGAL_ACCESS") > -1 || i.indexOf("TOKEN_EXOIRED") > -1) {
                    if (n.maxRetryTimes = n.maxRetryTimes || 5,
                    n.failTimes = n.failTimes || 0,
                    n.H5Request && ++n.failTimes < n.maxRetryTimes) {
                        var r = [t.__waitWKWebViewCookie, t.__processToken, t.__processRequestUrl, t.middlewares, t.__processRequest];
                        if (!0 === n.syncCookieMode && t.constructor.__cookieProcessorId !== t.id)
                            if (t.constructor.__cookieProcessor) {
                                var a = function(e) {
                                    var n = function() {
                                        t.constructor.__cookieProcessor = null,
                                        t.constructor.__cookieProcessorId = null,
                                        e()
                                    };
                                    t.constructor.__cookieProcessor ? t.constructor.__cookieProcessor.then(n).catch(n) : e()
                                };
                                r = [a, t.__waitWKWebViewCookie, t.__processToken, t.__processRequestUrl, t.middlewares, t.__processRequest]
                            } else
                                t.constructor.__cookieProcessor = t.__requestProcessor,
                                t.constructor.__cookieProcessorId = t.id;
                        return t.__sequence(r)
                    }
                    n.maxRetryTimes > 0 && (c(E, n.pageDomain, "*"),
                    c(w, n.mainDomain, n.subDomain),
                    c("_m_h5_tk_enc", n.mainDomain, n.subDomain)),
                    e.retType = v.TOKEN_EXPIRED
                }
            }) : void e()
        }
        ,
        p.prototype.__processRequestUrl = function(t) {
            var n = this.params
              , i = this.options;
            if (i.hostSetting && i.hostSetting[e.location.hostname]) {
                var r = i.hostSetting[e.location.hostname];
                r.prefix && (i.prefix = r.prefix),
                r.subDomain && (i.subDomain = r.subDomain),
                r.mainDomain && (i.mainDomain = r.mainDomain)
            }
            if (!0 === i.H5Request) {
                var a = "//" + (i.prefix ? i.prefix + "." : "") + (i.subDomain ? i.subDomain + "." : "") + i.mainDomain + "/h5/" + n.api.toLowerCase() + "/" + n.v.toLowerCase() + "/"
                  , o = n.appKey || ("waptest" === i.subDomain ? "4272" : "12574478")
                  , l = (new Date).getTime()
                  , u = s(i.token + "&" + l + "&" + o + "&" + n.data)
                  , d = {
                    jsv: "2.5.8",
                    appKey: o,
                    t: l,
                    sign: u
                }
                  , c = {
                    data: n.data,
                    ua: n.ua
                };
                Object.keys(n).forEach(function(e) {
                    void 0 === d[e] && void 0 === c[e] && "headers" !== e && "ext_headers" !== e && "ext_querys" !== e && (d[e] = n[e])
                }),
                n.ext_querys && Object.keys(n.ext_querys).forEach(function(e) {
                    d[e] = n.ext_querys[e]
                }),
                i.getJSONP ? d.type = "jsonp" : i.getOriginalJSONP ? d.type = "originaljsonp" : (i.getJSON || i.postJSON) && (d.type = "originaljson"),
                void 0 !== n.valueType && ("original" === n.valueType ? i.getJSONP || i.getOriginalJSONP ? d.type = "originaljsonp" : (i.getJSON || i.postJSON) && (d.type = "originaljson") : "string" === n.valueType && (i.getJSONP || i.getOriginalJSONP ? d.type = "jsonp" : (i.getJSON || i.postJSON) && (d.type = "json"))),
                !0 === i.useJsonpResultType && "originaljson" === d.type && delete d.type,
                i.dangerouslySetProtocol && (a = i.dangerouslySetProtocol + ":" + a),
                i.querystring = d,
                i.postdata = c,
                i.path = a
            }
            t()
        }
        ,
        p.prototype.__processUnitPrefix = function(e) {
            e()
        }
        ;
        var x = 0;
        p.prototype.__requestJSONP = function(e) {
            function t(e) {
                if (d && clearTimeout(d),
                c.parentNode && c.parentNode.removeChild(c),
                "TIMEOUT" === e)
                    window[u] = function() {
                        window[u] = void 0;
                        try {
                            delete window[u]
                        } catch (e) {}
                    }
                    ;
                else {
                    window[u] = void 0;
                    try {
                        delete window[u]
                    } catch (e) {}
                }
            }
            var i = n()
              , o = this.params
              , s = this.options
              , l = o.timeout || 2e4
              , u = "mtopjsonp" + (o.jsonpIncPrefix || "") + ++x
              , d = setTimeout(function() {
                e(s.timeoutErrMsg || "TIMEOUT::接口超时"),
                t("TIMEOUT")
            }, l);
            s.querystring.callback = u;
            var c = document.createElement("script");
            return c.src = s.path + "?" + a(s.querystring) + "&" + a(s.postdata),
            c.async = !0,
            c.onerror = function() {
                t("ABORT"),
                e(s.abortErrMsg || "ABORT::接口异常退出")
            }
            ,
            window[u] = function() {
                s.results = Array.prototype.slice.call(arguments),
                t(),
                i.resolve()
            }
            ,
            r(c),
            i.promise
        }
        ,
        p.prototype.__requestJSON = function(t) {
            function i(e) {
                c && clearTimeout(c),
                "TIMEOUT" === e && l.abort()
            }
            var r = n()
              , o = this.params
              , s = this.options
              , l = new e.XMLHttpRequest
              , u = o.timeout || 2e4
              , c = setTimeout(function() {
                t(s.timeoutErrMsg || "TIMEOUT::接口超时"),
                i("TIMEOUT")
            }, u);
            s.CDR && d(E) && (s.querystring.c = decodeURIComponent(d(E))),
            l.onreadystatechange = function() {
                if (4 == l.readyState) {
                    var e, n, a = l.status;
                    if (a >= 200 && 300 > a || 304 == a) {
                        i(),
                        e = l.responseText,
                        n = l.getAllResponseHeaders() || "";
                        try {
                            e = /^\s*$/.test(e) ? {} : JSON.parse(e),
                            e.responseHeaders = n,
                            s.results = [e],
                            r.resolve()
                        } catch (e) {
                            t("PARSE_JSON_ERROR::解析JSON失败")
                        }
                    } else
                        i("ABORT"),
                        t(s.abortErrMsg || "ABORT::接口异常退出")
                }
            }
            ;
            var h, p, f = s.path + "?" + a(s.querystring);
            s.getJSON ? (h = "GET",
            f += "&" + a(s.postdata)) : s.postJSON && (h = "POST",
            p = a(s.postdata)),
            l.open(h, f, !0),
            l.withCredentials = !0,
            l.setRequestHeader("Accept", "application/json"),
            l.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            var m = o.ext_headers || o.headers;
            if (m)
                for (var y in m)
                    l.setRequestHeader(y, m[y]);
            return l.send(p),
            r.promise
        }
        ,
        p.prototype.__requestWindVane = function(e) {
            function i(e) {
                o.results = [e],
                r.resolve()
            }
            var r = n()
              , a = this.params
              , o = this.options
              , s = a.data
              , l = a.api
              , u = a.v
              , d = o.postJSON ? 1 : 0
              , c = o.getJSON || o.postJSON || o.getOriginalJSONP ? "originaljson" : "";
            void 0 !== a.valueType && ("original" === a.valueType ? c = "originaljson" : "string" === a.valueType && (c = "")),
            !0 === o.useJsonpResultType && (c = "");
            var h, p, f = "https" === location.protocol ? 1 : 0, m = a.isSec || 0, y = a.sessionOption || "AutoLoginOnly", g = a.ecode || 0, v = a.ext_headers || {}, _ = a.ext_querys || {};
            p = void 0 !== a.timer ? parseInt(a.timer) : void 0 !== a.timeout ? parseInt(a.timeout) : 2e4,
            h = 2 * p,
            !0 === a.needLogin && void 0 === a.sessionOption && (y = "AutoLoginAndManualLogin"),
            void 0 !== a.secType && void 0 === a.isSec && (m = a.secType);
            var b = {
                api: l,
                v: u,
                post: String(d),
                type: c,
                isHttps: String(f),
                ecode: String(g),
                isSec: String(m),
                param: JSON.parse(s),
                timer: p,
                sessionOption: y,
                ext_headers: v,
                ext_querys: _
            };
            return a.ttid && !0 === o.dangerouslySetWVTtid && (b.ttid = a.ttid),
            Object.assign && a.dangerouslySetWindvaneParams && Object.assign(b, a.dangerouslySetWindvaneParams),
            t.windvane.call("MtopWVPlugin", "send", b, i, i, h),
            r.promise
        }
        ,
        p.prototype.__requestAlipay = function(t) {
            function i(e) {
                o.results = [e],
                r.resolve()
            }
            var r = n()
              , a = this.params
              , o = this.options
              , s = {
                apiName: a.api,
                apiVersion: a.v,
                needEcodeSign: "1" === String(a.ecode),
                usePost: !!o.postJSON
            };
            return l(a.data) || (a.data = JSON.parse(a.data)),
            s.data = a.data,
            a.ttid && !0 === o.dangerouslySetWVTtid && (s.ttid = a.ttid),
            (o.getJSON || o.postJSON || o.getOriginalJSONP) && (s.type = "originaljson"),
            void 0 !== a.valueType && ("original" === a.valueType ? s.type = "originaljson" : "string" === a.valueType && delete s.type),
            !0 === o.useJsonpResultType && delete s.type,
            Object.assign && a.dangerouslySetAlipayParams && Object.assign(s, a.dangerouslySetAlipayParams),
            e.AlipayJSBridge.call("mtop", s, i),
            r.promise
        }
        ,
        p.prototype.__processRequest = function(e, t) {
            var n = this;
            return m.then(function() {
                var e = n.options;
                if (e.H5Request && (e.getJSONP || e.getOriginalJSONP))
                    return n.__requestJSONP(t);
                if (e.H5Request && (e.getJSON || e.postJSON))
                    return n.__requestJSON(t);
                if (e.WindVaneRequest)
                    return k ? n.__requestAlipay(t) : n.__requestWindVane(t);
                throw new Error("UNEXCEPT_REQUEST::错误的请求类型")
            }).then(e).then(function() {
                var e = n.options
                  , t = (n.params,
                e.results[0])
                  , i = t && t.ret || [];
                t.ret = i,
                i instanceof Array && (i = i.join(","));
                var r = t.c;
                e.CDR && r && u(E, r, {
                    domain: e.pageDomain,
                    path: "/",
                    secure: e.secure,
                    sameSite: e.sameSite
                }),
                i.indexOf("SUCCESS") > -1 ? t.retType = v.SUCCESS : t.retType = v.ERROR,
                e.retJson = t
            })
        }
        ,
        p.prototype.__sequence = function(e) {
            function t(e) {
                if (e instanceof Array)
                    e.forEach(t);
                else {
                    var o, s = n(), l = n();
                    r.push(function() {
                        return s = n(),
                        o = e.call(i, function(e) {
                            return s.resolve(e),
                            l.promise
                        }, function(e) {
                            return s.reject(e),
                            l.promise
                        }),
                        o && (o = o.catch(function(e) {
                            s.reject(e)
                        })),
                        s.promise
                    }),
                    a.push(function(e) {
                        return l.resolve(e),
                        o
                    })
                }
            }
            var i = this
              , r = []
              , a = [];
            e.forEach(t);
            for (var o, s = m; o = r.shift(); )
                s = s.then(o);
            for (; o = a.pop(); )
                s = s.then(o);
            return s
        }
        ;
        var T = function(e) {
            e()
        }
          , A = function(e) {
            e()
        };
        p.prototype.request = function(n) {
            var r = this;
            if (this.options = i(n || {}, y),
            !f) {
                var a = "当前浏览器不支持Promise，请在windows对象上挂载Promise对象";
                throw t.mtop = {
                    ERROR: a
                },
                new Error(a)
            }
            var s = f.resolve([T, A]).then(function(e) {
                var t = e[0]
                  , n = e[1];
                return r.__sequence([t, r.__processRequestMethod, r.__processRequestType, r.__processToken, r.__processRequestUrl, r.middlewares, r.__processRequest, n])
            }).then(function() {
                var e = r.options.retJson;
                return e.retType !== v.SUCCESS ? f.reject(e) : r.options.successCallback ? void r.options.successCallback(e) : f.resolve(e)
            }).catch(function(e) {
                var n;
                return e instanceof Error ? (console.error(e.stack),
                n = {
                    ret: [e.message],
                    stack: [e.stack],
                    retJson: v.ERROR
                }) : n = "string" == typeof e ? {
                    ret: [e],
                    retJson: v.ERROR
                } : void 0 !== e ? e : r.options.retJson,
                t.mtop.errorListener && t.mtop.errorListener({
                    api: r.params.api,
                    data: r.params.data,
                    v: r.params.v,
                    retJson: n
                }),
                r.options.failureCallback ? void r.options.failureCallback(n) : f.reject(n)
            });
            return this.__processRequestType(),
            r.options.H5Request && (r.constructor.__firstProcessor || (r.constructor.__firstProcessor = s),
            T = function(e) {
                r.constructor.__firstProcessor.then(e).catch(e)
            }
            ),
            ("get" === this.params.type && "json" === this.params.dataType || "post" === this.params.type) && (n.pageDomain = n.pageDomain || o(e.location.hostname),
            n.mainDomain !== n.pageDomain && (n.maxRetryTimes = 4,
            n.CDR = !0)),
            this.__requestProcessor = s,
            s
        }
        ,
        t.mtop = function(e) {
            return new p(e)
        }
        ,
        t.mtop.request = function(e, t, n) {
            var i = {
                H5Request: e.H5Request,
                WindVaneRequest: e.WindVaneRequest,
                LoginRequest: e.LoginRequest,
                AntiCreep: e.AntiCreep,
                AntiFlood: e.AntiFlood,
                successCallback: t,
                failureCallback: n || t
            };
            return new p(e).request(i)
        }
        ,
        t.mtop.H5Request = function(e, t, n) {
            var i = {
                H5Request: !0,
                successCallback: t,
                failureCallback: n || t
            };
            return new p(e).request(i)
        }
        ,
        t.mtop.middlewares = g,
        t.mtop.config = y,
        t.mtop.RESPONSE_TYPE = v,
        t.mtop.CLASS = p
    }(window, window.lib || (window.lib = {})),
    function(e, t) {
        function n(e) {
            return e.preventDefault(),
            !1
        }
        function i(e) {
            var t = new RegExp("(?:^|;\\s*)" + e + "\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);
            return t ? t[1] : void 0
        }
        function r(t, i) {
            var r = this
              , a = e.dpr || 1
              , o = document.createElement("div")
              , s = document.documentElement.getBoundingClientRect()
              , l = Math.max(s.width, window.innerWidth) / a
              , u = Math.max(s.height, window.innerHeight) / a;
            o.style.cssText = ["-webkit-transform:scale(" + a + ") translateZ(0)", "-ms-transform:scale(" + a + ") translateZ(0)", "transform:scale(" + a + ") translateZ(0)", "-webkit-transform-origin:0 0", "-ms-transform-origin:0 0", "transform-origin:0 0", "width:" + l + "px", "height:" + u + "px", "z-index:999999", "position:" + (l > 800 ? "fixed" : "absolute"), "left:0", "top:0px", "background:" + (l > 800 ? "rgba(0,0,0,.5)" : "#FFF"), "display:none"].join(";");
            var d = document.createElement("div");
            d.style.cssText = ["width:100%", "height:52px", "background:#EEE", "line-height:52px", "text-align:left", "box-sizing:border-box", "padding-left:20px", "position:absolute", "left:0", "top:0", "font-size:16px", "font-weight:bold", "color:#333"].join(";"),
            d.innerText = t;
            var c = document.createElement("a");
            c.style.cssText = ["display:block", "position:absolute", "right:0", "top:0", "height:52px", "line-height:52px", "padding:0 20px", "color:#999"].join(";"),
            c.innerText = "关闭";
            var h = document.createElement("iframe");
            h.style.cssText = ["width:100%", "height:100%", "border:0", "overflow:hidden"].join(";"),
            l > 800 && (d.style.cssText = ["width:370px", "height:52px", "background:#EEE", "line-height:52px", "text-align:left", "box-sizing:border-box", "padding-left:20px", "position:absolute", "left:" + (l / 2 - 185) + "px", "top:40px", "font-size:16px", "font-weight:bold", "color:#333"].join(";"),
            h.style.cssText = ["position:absolute", "top:92px", "left:" + (l / 2 - 185) + "px", "width:370px", "height:480px", "border:0", "background:#FFF", "overflow:hidden"].join(";")),
            d.appendChild(c),
            o.appendChild(d),
            o.appendChild(h),
            o.className = "J_MIDDLEWARE_FRAME_WIDGET",
            document.body.appendChild(o),
            h.src = i,
            c.addEventListener("click", function() {
                r.hide();
                var e = document.createEvent("HTMLEvents");
                e.initEvent("close", !1, !1),
                o.dispatchEvent(e)
            }, !1),
            this.addEventListener = function() {
                o.addEventListener.apply(o, arguments)
            }
            ,
            this.removeEventListener = function() {
                o.removeEventListener.apply(o, arguments)
            }
            ,
            this.show = function() {
                document.addEventListener("touchmove", n, !1),
                o.style.display = "block",
                window.scrollTo(0, 0)
            }
            ,
            this.hide = function() {
                document.removeEventListener("touchmove", n),
                window.scrollTo(0, -s.top),
                o.parentNode && o.parentNode.removeChild(o)
            }
        }
        function a(e) {
            var n = this
              , i = this.options
              , r = this.params;
            return e().then(function() {
                var e = i.retJson
                  , a = e.ret
                  , o = navigator.userAgent.toLowerCase()
                  , s = o.indexOf("safari") > -1 && o.indexOf("chrome") < 0 && o.indexOf("qqbrowser") < 0;
                if (a instanceof Array && (a = a.join(",")),
                (a.indexOf("SESSION_EXPIRED") > -1 || a.indexOf("SID_INVALID") > -1 || a.indexOf("AUTH_REJECT") > -1 || a.indexOf("NEED_LOGIN") > -1) && (e.retType = c.SESSION_EXPIRED,
                !i.WindVaneRequest && (!0 === d.LoginRequest || !0 === i.LoginRequest || !0 === r.needLogin))) {
                    if (!t.login)
                        throw new Error("LOGIN_NOT_FOUND::缺少lib.login");
                    if (!0 !== i.safariGoLogin || !s || "taobao.com" === i.pageDomain)
                        return t.login.goLoginAsync().then(function(e) {
                            return n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest])
                        }).catch(function(e) {
                            throw "CANCEL" === e ? new Error("LOGIN_CANCEL::用户取消登录") : new Error("LOGIN_FAILURE::用户登录失败")
                        });
                    t.login.goLogin()
                }
            })
        }
        function o(e) {
            var t = this.options;
            return this.params,
            !0 !== t.H5Request || !0 !== d.AntiFlood && !0 !== t.AntiFlood ? void e() : e().then(function() {
                var e = t.retJson
                  , n = e.ret;
                n instanceof Array && (n = n.join(",")),
                n.indexOf("FAIL_SYS_USER_VALIDATE") > -1 && e.data.url && (t.AntiFloodReferer ? location.href = e.data.url.replace(/(http_referer=).+/, "$1" + t.AntiFloodReferer) : location.href = e.data.url)
            })
        }
        function s(t) {
            var n = this
              , a = this.options
              , o = this.params;
            return !1 !== a.AntiCreep && (a.AntiCreep = !0),
            !0 !== o.forceAntiCreep && !0 !== a.H5Request || !0 !== d.AntiCreep && !0 !== a.AntiCreep ? void t() : t().then(function() {
                var t = a.retJson
                  , s = t.ret;
                if (s instanceof Array && (s = s.join(",")),
                (s.indexOf("RGV587_ERROR::SM") > -1 || s.indexOf("ASSIST_FLAG") > -1) && t.data.url) {
                    var u = "_m_h5_smt"
                      , d = i(u)
                      , c = !1;
                    if (!0 === a.saveAntiCreepToken && d) {
                        d = JSON.parse(d);
                        for (var h in d)
                            o[h] && (c = !0)
                    }
                    if (!0 === a.saveAntiCreepToken && d && !c) {
                        for (var h in d)
                            o[h] = d[h];
                        return n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest])
                    }
                    return new l(function(i, s) {
                        function l() {
                            h.removeEventListener("close", l),
                            e.removeEventListener("message", d),
                            s("USER_INPUT_CANCEL::用户取消输入")
                        }
                        function d(t) {
                            var r;
                            try {
                                r = JSON.parse(t.data) || {}
                            } catch (e) {}
                            if (r && "child" === r.type) {
                                h.removeEventListener("close", l),
                                e.removeEventListener("message", d),
                                h.hide();
                                var c;
                                try {
                                    "string" == typeof (c = JSON.parse(decodeURIComponent(r.content))) && (c = JSON.parse(c));
                                    for (var p in c)
                                        o[p] = c[p];
                                    !0 === a.saveAntiCreepToken ? (document.cookie = u + "=" + JSON.stringify(c) + ";",
                                    e.location.reload()) : n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest]).then(i)
                                } catch (e) {
                                    s("USER_INPUT_FAILURE::用户输入失败")
                                }
                            }
                        }
                        var c = t.data.url
                          , h = new r("",c);
                        h.addEventListener("close", l, !1),
                        e.addEventListener("message", d, !1),
                        h.show()
                    }
                    )
                }
            })
        }
        if (!t || !t.mtop || t.mtop.ERROR)
            throw new Error("Mtop 初始化失败！");
        var l = e.Promise
          , u = t.mtop.CLASS
          , d = t.mtop.config
          , c = t.mtop.RESPONSE_TYPE;
        t.mtop.middlewares.push(a),
        t.mtop.loginRequest = function(e, t, n) {
            var i = {
                LoginRequest: !0,
                H5Request: !0,
                successCallback: t,
                failureCallback: n || t
            };
            return new u(e).request(i)
        }
        ,
        t.mtop.antiFloodRequest = function(e, t, n) {
            var i = {
                AntiFlood: !0,
                successCallback: t,
                failureCallback: n || t
            };
            return new u(e).request(i)
        }
        ,
        t.mtop.middlewares.push(o),
        t.mtop.antiCreepRequest = function(e, t, n) {
            var i = {
                AntiCreep: !0,
                successCallback: t,
                failureCallback: n || t
            };
            return new u(e).request(i)
        }
        ,
        t.mtop.middlewares.push(s)
    }(window, window.lib || (window.lib = {})),
    e.exports = window.lib.mtop
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    !function(e) {
        e.L = "L",
        e.M = "M",
        e.Q = "Q",
        e.H = "H"
    }(t.EQRErrorCorrectLevel || (t.EQRErrorCorrectLevel = {}));
    !function(e) {
        e[e.L = 0] = "L",
        e[e.M = 1] = "M",
        e[e.Q = 2] = "Q",
        e[e.H = 3] = "H"
    }(t.EQRErrorCorrectNumberLevel || (t.EQRErrorCorrectNumberLevel = {}));
    !function(e) {
        e[e.PATTERN000 = 0] = "PATTERN000",
        e[e.PATTERN001 = 1] = "PATTERN001",
        e[e.PATTERN010 = 2] = "PATTERN010",
        e[e.PATTERN011 = 3] = "PATTERN011",
        e[e.PATTERN100 = 4] = "PATTERN100",
        e[e.PATTERN101 = 5] = "PATTERN101",
        e[e.PATTERN110 = 6] = "PATTERN110",
        e[e.PATTERN111 = 7] = "PATTERN111"
    }(t.EQRMaskPattern || (t.EQRMaskPattern = {})),
    t.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]],
    t.PATTERN_POSITION_TABLE = [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]]
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(21)
      , a = i(r)
      , o = n(20)
      , s = i(o)
      , l = n(10)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(65)
      , m = i(f)
      , y = n(69)
      , g = i(y)
      , v = n(27)
      , _ = function() {
        function e(t) {
            (0,
            c.default)(this, e);
            var n = {
                env: "dev"
            };
            this.args = (0,
            u.default)(n, t),
            this._conatainer = t.container,
            this.init(t),
            this.eventEmitter = new m.default.EventEmitter
        }
        return (0,
        p.default)(e, [{
            key: "init",
            value: function(e) {
                this.video = this._createVideo(e.videoAttr),
                "hidden" === this.args.videoVisiblity && this.hide(),
                this.videoInfo = {},
                this.duration = 0,
                this.currentTime = 0,
                this._registerEvents()
            }
        }, {
            key: "loadSource",
            value: function(e) {
                this.setSource(e)
            }
        }, {
            key: "setSource",
            value: function(e) {
                this.video.src = e
            }
        }, {
            key: "resetSource",
            value: function(e) {
                try {
                    this.currentTime = 0
                } catch (e) {
                    console.log("__ error 1 ___", e)
                }
                this.currentTime = 0,
                this.duration = 0,
                this._source = e.source
            }
        }, {
            key: "on",
            value: function(e, t) {
                var n = this;
                "error" === e && (e = "videoerror"),
                this.eventEmitter.on(e, function(e) {
                    t(e, n.video)
                })
            }
        }, {
            key: "once",
            value: function(e, t) {
                this.eventEmitter.once(e, t)
            }
        }, {
            key: "fire",
            value: function(e, t) {
                "error" === e && (e = "videoerror"),
                this.eventEmitter.removeListener(e, t)
            }
        }, {
            key: "fireAll",
            value: function() {
                this.eventEmitter.removeAllListeners()
            }
        }, {
            key: "emit",
            value: function(e, t) {
                e = "error" === e ? "videoerror" : e,
                this.eventEmitter.emit(e, t)
            }
        }, {
            key: "_createVideo",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return (0,
                v.createVideo)(this._conatainer, (0,
                u.default)(e, {
                    src: this.args.source,
                    muted: this.args.muted
                }))
            }
        }, {
            key: "play",
            value: function() {
                return this.video.paused && this.video.play(),
                this.video.paused
            }
        }, {
            key: "pause",
            value: function() {
                return this.video.pause(),
                this.video.paused
            }
        }, {
            key: "seek",
            value: function(e) {
                this.duration
            }
        }, {
            key: "setVolume",
            value: function(e) {
                return e > 1 && (e = 1),
                e > 0 ? (this.video.muted = !1,
                this.video.volume = e) : this.video.volume = 0,
                this.video.volume
            }
        }, {
            key: "setMuted",
            value: function(e) {
                return this.video.muted = e,
                this.video.muted
            }
        }, {
            key: "setRate",
            value: function(e) {
                return this.video.defaultPlaybackRate = e,
                this.video.playbackRate = e,
                this.video.playbackRate
            }
        }, {
            key: "replay",
            value: function() {
                this.video.currentTime = 0,
                this.currentTime = 0,
                this.video.play()
            }
        }, {
            key: "getDuration",
            value: function() {
                return this.duration
            }
        }, {
            key: "getCurrentTimeWithTimeFormate",
            value: function() {
                return (0,
                v.secondsToTime)(this.video.currentTime)
            }
        }, {
            key: "getCurrentTime",
            value: function() {
                return this.currentTime
            }
        }, {
            key: "getVolume",
            value: function() {
                return this.video.volume
            }
        }, {
            key: "getBufferTime",
            value: function() {
                var e = this.getDuration()
                  , t = this.video
                  , n = 0;
                if (e > 0)
                    for (var i = 0; i < t.buffered.length; i++) {
                        var r = t.buffered.start ? t.buffered.start(t.buffered.length - 1 - i) : t.buffered[t.buffered.length - 1 - i][0];
                        if (r < t.currentTime) {
                            var a = t.buffered.end ? t.buffered.end(t.buffered.length - 1 - i) : t.buffered[t.buffered.length - 1 - i][1];
                            n = a;
                            break
                        }
                    }
                return n
            }
        }, {
            key: "getAttribute",
            value: function(e) {
                if (this.video[e])
                    return this.video[e]
            }
        }, {
            key: "setAttribute",
            value: function(e, t) {
                this.video[e] = t
            }
        }, {
            key: "setStyle",
            value: function(e, t) {
                this.video.style[e] = t
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                this.video.width = e,
                this.video.height = t
            }
        }, {
            key: "fullScreen",
            value: function() {}
        }, {
            key: "load",
            value: function() {
                this.video.setAttribute("preload", !0),
                this.video.load()
            }
        }, {
            key: "end",
            value: function() {
                var e = this.video.duration;
                this.setCurrentTime(e - .1)
            }
        }, {
            key: "destroy",
            value: function() {
                this.video.src = "",
                this.fireAll()
            }
        }, {
            key: "_registerEvents",
            value: function(e) {
                var t = this
                  , n = e || this.video;
                if (n) {
                    var i = !0
                      , r = !1
                      , o = void 0;
                    try {
                        for (var l, u = (0,
                        s.default)((0,
                        a.default)(g.default)); !(i = (l = u.next()).done); i = !0) {
                            var d = l.value;
                            !function(e) {
                                n["handler_" + e] = function(n) {
                                    var i = {
                                        event: n,
                                        videoInfo: t.videoInfo,
                                        isSuccess: !0
                                    };
                                    "string" == typeof g.default[e] && "function" == typeof t[g.default[e]] && t[g.default[e]](i)
                                }
                                ,
                                n.addEventListener(e, n["handler_" + e])
                            }(d)
                        }
                    } catch (e) {
                        r = !0,
                        o = e
                    } finally {
                        try {
                            !i && u.return && u.return()
                        } finally {
                            if (r)
                                throw o
                        }
                    }
                }
            }
        }, {
            key: "removeAllEvents",
            value: function(e) {
                var t = !0
                  , n = !1
                  , i = void 0;
                try {
                    for (var r, o = (0,
                    s.default)((0,
                    a.default)(g.default)); !(t = (r = o.next()).done); t = !0) {
                        var l = r.value;
                        e.removeEventListener(l, e["handler_" + l])
                    }
                } catch (e) {
                    n = !0,
                    i = e
                } finally {
                    try {
                        !t && o.return && o.return()
                    } finally {
                        if (n)
                            throw i
                    }
                }
            }
        }, {
            key: "_onloadstart",
            value: function(e) {
                this.emit("loadstart", e)
            }
        }, {
            key: "_oncanplay",
            value: function(e) {
                this.emit("canplay", e)
            }
        }, {
            key: "_onloadeddata",
            value: function(e) {
                this.emit("loadeddata", e)
            }
        }, {
            key: "_onloadedmetadata",
            value: function(e) {
                this.emit("loadedmetadata", e)
            }
        }, {
            key: "_onabort",
            value: function(e) {
                this.emit("abort", e)
            }
        }, {
            key: "_onerror",
            value: function(e) {
                e.error = this.video.error,
                e.networkState = this.video.networkState,
                e.url = this.video.src,
                this.emit("error", e)
            }
        }, {
            key: "_onpause",
            value: function(e) {
                this.emit("pause", e)
            }
        }, {
            key: "_onwaiting",
            value: function(e) {
                this.emit("waiting", e)
            }
        }, {
            key: "_onstalled",
            value: function(e) {
                e.error = this.video.error,
                e.networkState = this.video.networkState,
                e.url = this.video.src,
                this.emit("stalled", e)
            }
        }, {
            key: "_onsuspend",
            value: function(e) {
                e.error = this.video.error,
                e.networkState = this.video.networkState,
                e.url = this.video.src,
                this.emit("suspend", e)
            }
        }, {
            key: "_onplay",
            value: function(e) {
                this.emit("play", e)
            }
        }, {
            key: "_onvolumechange",
            value: function(e) {
                this.emit("volumechange", e)
            }
        }, {
            key: "_onplaying",
            value: function(e) {
                this.emit("playing", e)
            }
        }, {
            key: "_onseeked",
            value: function(e) {
                this.emit("seeked", e)
            }
        }, {
            key: "_onseeking",
            value: function(e) {
                this.emit("seeking", e)
            }
        }, {
            key: "_ondurationchange",
            value: function(e) {
                this.duration = this.video.duration,
                this.emit("durationchange", e)
            }
        }, {
            key: "_onprogress",
            value: function(e) {
                this.emit("progress", e)
            }
        }, {
            key: "_onratechange",
            value: function(e) {
                e.playbackRate = this.video.playbackRate,
                this.emit("ratechange", e)
            }
        }, {
            key: "_ontimeupdate",
            value: function(e) {
                this.currentTime = this.video.currentTime,
                this.emit("timeupdate", e)
            }
        }, {
            key: "_onended",
            value: function(e) {
                this.emit("ended", e)
            }
        }, {
            key: "_oncanplaythrough",
            value: function(e) {
                this.emit("canplaythrough", e)
            }
        }, {
            key: "_notAllowedAutoPlay",
            value: function(e) {
                this.emit("notAllowedError", e)
            }
        }, {
            key: "_canDegradation",
            value: function(e) {
                this.emit("canDegradation", e)
            }
        }]),
        e
    }();
    t.default = _
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = {
        loadstart: "_onloadstart",
        canplay: "_oncanplay",
        loadeddata: "_onloadeddata",
        loadedmetadata: "_onloadedmetadata",
        abort: "_onabort",
        error: "_onerror",
        pause: "_onpause",
        waiting: "_onwaiting",
        stalled: "_onstalled",
        suspend: "_onsuspend",
        play: "_onplay",
        volumechange: "_onvolumechange",
        playing: "_onplaying",
        seeked: "_onseeked",
        seeking: "_onseeking",
        durationchange: "_ondurationchange",
        progress: "_onprogress",
        ratechange: "_onratechange",
        timeupdate: "_ontimeupdate",
        ended: "_onended",
        canplaythrough: "_oncanplaythrough",
        notAllowedAutoPlay: "_notAllowedAutoPlay",
        canDegradation: "_canDegradation"
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        INIT: "player.init",
        RELOADING: "serviceLoading",
        RESETING: "playerreset",
        READY: "ready",
        PAUSE: "paused",
        PLAY: "playing",
        WAITIING: "waiting",
        SEEKING: "seeking",
        END: "ended",
        ERROR: "error",
        ADPLAY: "adplay",
        ADPAUSE: "adpause",
        CUTADPLAY: "cutadplay",
        REPLAY: "replay",
        ADEND: "adended"
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        storageSet: function(e, t) {
            try {
                localStorage.setItem(e, t)
            } catch (e) {}
        },
        cookie: function(e, t, n, i) {
            if ("string" == typeof e && (i = n,
            n = t,
            t = e,
            e = window),
            void 0 === n)
                return n = e.document.cookie.match(new RegExp("(?:\\s|^)" + t + "\\=([^;]*)")),
                n ? decodeURIComponent(n[1]) : null;
            i = i || {};
            var r = void 0
              , a = "";
            i.expires && (i.expires.constructor === Date ? r = i.expires : (r = new Date,
            r.setTime(r.getTime() + 24 * i.expires * 60 * 60 * 1e3)),
            a = "; expires=" + r.toGMTString());
            var o = i.path ? "; path=" + i.path : ""
              , s = i.domain ? "; domain=" + i.domain : ""
              , l = i.secure ? "; secure" : "";
            e.document.cookie = [t, "=", encodeURIComponent(n), a, o, s, l].join("")
        }
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r() {
        if (!window.isPayJSLoad) {
            (0,
            v.getParamFromUrl)(location.href).ykviptest && (window.youku_vip_pay_env = "pre");
            var e = "pre" === window.youku_vip_pay_env ? "//g-assets.prepub.taobao.net/youkuvip_fe/vip-public-assets/pay/pay.js" : "//g.alicdn.com/youkuvip_fe/vip-public-assets/pay/pay.js";
            (0,
            v.loadfile)(e, "js")
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.AdLayer = t.ADEvents = t.ADState = t.ADType = t.default = void 0;
    var a = n(74)
      , o = i(a)
      , s = n(2)
      , l = i(s)
      , u = n(0)
      , d = i(u)
      , c = n(1)
      , h = i(c)
      , p = n(4)
      , f = i(p)
      , m = n(3)
      , y = i(m)
      , g = n(5)
      , v = n(6);
    n(336);
    var _ = window.adPlayerSDK || window.ykSDK
      , b = {
        FRONT: "frontad",
        END: "endad",
        CONTENT: "contentad",
        STAND: "standard",
        PAUSE: "pausead",
        CUT: "bfad",
        PREVIOUSLY: "previouslyad"
    }
      , k = {
        PLAY: "adplay",
        PLAYING: "adplaying",
        PAUSE: "adpause",
        READY: "adready",
        END: "adended",
        ERROR: "aderror",
        WAITING: "adwaiting",
        SABORT: "safariabort",
        SERVICEERROR: "adserviceerror",
        SERVICELOADING: "adserviceloading",
        SERVICESTART: "adservicestart",
        SERVICEEND: "adserviceend",
        CUTPLAYING: "cutplaying"
    }
      , S = {
        ADPLUGIN_STATE_CHANGE: "adplugin.statechange",
        SERVICE_STATE: "service.success",
        SERVICE_ERROR: "service.error"
    }
      , E = function(e) {
        function t(e) {
            return (0,
            d.default)(this, t),
            (0,
            f.default)(this, (t.__proto__ || (0,
            l.default)(t)).call(this, e))
        }
        return (0,
        y.default)(t, e),
        (0,
        h.default)(t, [{
            key: "render",
            value: function() {
                return '<div class="h5-ext-layer" style="z-index:1200;">\n        </div>'
            }
        }]),
        t
    }(g.Layer)
      , w = {
        create: function(e) {
            if (r(),
            _) {
                return new _(e)
            }
            return null
        },
        init: function(e, t) {
            (0,
            v.printLog)("SDKBridge init", t);
            var n = t.player._uiManage._adLayer._el;
            e && e.invoke("init", {
                player: t.player,
                container: n,
                upsData: t.upsData,
                data: t.adInfo,
                fullscreen: t.player.global.playerState.fullscreen
            })
        },
        invoke: function(e, t) {
            for (var n = arguments.length, i = Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)
                i[r - 2] = arguments[r];
            return "timeUpdate" !== t && (0,
            v.printLog)("SDKBridge ::" + t, i),
            e ? e.invoke.apply(e, [t].concat((0,
            o.default)(i))) : void 0
        },
        destroy: function(e) {
            (0,
            v.printLog)("SDKBridge destroy"),
            e && e.destroy()
        },
        on: function(e, t, n) {
            e && e.on(t, n)
        }
    };
    t.default = w,
    t.ADType = b,
    t.ADState = k,
    t.ADEvents = S,
    t.AdLayer = E
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        NOT_START: "notstart",
        START: "start",
        COMPLETE: "complete",
        ERROR: "error"
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = n(118)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.default = function(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++)
                n[t] = e[t];
            return n
        }
        return (0,
        r.default)(e)
    }
}
, function(e, t) {
    e.exports = function(e, t, n, i) {
        if (!(e instanceof t) || void 0 !== i && i in e)
            throw TypeError(n + ": incorrect invocation!");
        return e
    }
}
, function(e, t, n) {
    var i = n(49)
      , r = n(16)("toStringTag")
      , a = "Arguments" == i(function() {
        return arguments
    }())
      , o = function(e, t) {
        try {
            return e[t]
        } catch (e) {}
    };
    e.exports = function(e) {
        var t, n, s;
        return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = o(t = Object(e), r)) ? n : a ? i(t) : "Object" == (s = i(t)) && "function" == typeof t.callee ? "Arguments" : s
    }
}
, function(e, t) {
    e.exports = function(e) {
        if (void 0 == e)
            throw TypeError("Can't call method on  " + e);
        return e
    }
}
, function(e, t, n) {
    var i = n(25)
      , r = n(15).document
      , a = i(r) && i(r.createElement);
    e.exports = function(e) {
        return a ? r.createElement(e) : {}
    }
}
, function(e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(e, t, n) {
    var i = n(49);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == i(e) ? e.split("") : Object(e)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(52)
      , r = n(13)
      , a = n(136)
      , o = n(32)
      , s = n(51)
      , l = n(288)
      , u = n(55)
      , d = n(132)
      , c = n(16)("iterator")
      , h = !([].keys && "next"in [].keys())
      , p = function() {
        return this
    };
    e.exports = function(e, t, n, f, m, y, g) {
        l(n, t, f);
        var v, _, b, k = function(e) {
            if (!h && e in x)
                return x[e];
            switch (e) {
            case "keys":
            case "values":
                return function() {
                    return new n(this,e)
                }
            }
            return function() {
                return new n(this,e)
            }
        }, S = t + " Iterator", E = "values" == m, w = !1, x = e.prototype, T = x[c] || x["@@iterator"] || m && x[m], A = T || k(m), L = m ? E ? k("entries") : A : void 0, C = "Array" == t ? x.entries || T : T;
        if (C && (b = d(C.call(new e))) !== Object.prototype && b.next && (u(b, S, !0),
        i || "function" == typeof b[c] || o(b, c, p)),
        E && T && "values" !== T.name && (w = !0,
        A = function() {
            return T.call(this)
        }
        ),
        i && !g || !h && !w && x[c] || o(x, c, A),
        s[t] = A,
        s[S] = p,
        m)
            if (v = {
                values: E ? A : k("values"),
                keys: y ? A : k("keys"),
                entries: L
            },
            g)
                for (_ in v)
                    _ in x || a(x, _, v[_]);
            else
                r(r.P + r.F * (h || w), t, v);
        return v
    }
}
, function(e, t, n) {
    var i = n(63)("meta")
      , r = n(25)
      , a = n(36)
      , o = n(26).f
      , s = 0
      , l = Object.isExtensible || function() {
        return !0
    }
      , u = !n(35)(function() {
        return l(Object.preventExtensions({}))
    })
      , d = function(e) {
        o(e, i, {
            value: {
                i: "O" + ++s,
                w: {}
            }
        })
    }
      , c = function(e, t) {
        if (!r(e))
            return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
        if (!a(e, i)) {
            if (!l(e))
                return "F";
            if (!t)
                return "E";
            d(e)
        }
        return e[i].i
    }
      , h = function(e, t) {
        if (!a(e, i)) {
            if (!l(e))
                return !0;
            if (!t)
                return !1;
            d(e)
        }
        return e[i].w
    }
      , p = function(e) {
        return u && f.NEED && l(e) && !a(e, i) && d(e),
        e
    }
      , f = e.exports = {
        KEY: i,
        NEED: !1,
        fastKey: c,
        getWeak: h,
        onFreeze: p
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        var t, n;
        this.promise = new e(function(e, i) {
            if (void 0 !== t || void 0 !== n)
                throw TypeError("Bad Promise constructor");
            t = e,
            n = i
        }
        ),
        this.resolve = r(t),
        this.reject = r(n)
    }
    var r = n(48);
    e.exports.f = function(e) {
        return new i(e)
    }
}
, function(e, t, n) {
    var i = n(61)
      , r = n(54)
      , a = n(37)
      , o = n(91)
      , s = n(36)
      , l = n(125)
      , u = Object.getOwnPropertyDescriptor;
    t.f = n(24) ? u : function(e, t) {
        if (e = a(e),
        t = o(t, !0),
        l)
            try {
                return u(e, t)
            } catch (e) {}
        if (s(e, t))
            return r(!i.f.call(e, t), e[t])
    }
}
, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}
, function(e, t, n) {
    var i = n(13)
      , r = n(7)
      , a = n(35);
    e.exports = function(e, t) {
        var n = (r.Object || {})[e] || Object[e]
          , o = {};
        o[e] = t(n),
        i(i.S + i.F * a(function() {
            n(1)
        }), "Object", o)
    }
}
, function(e, t, n) {
    var i = n(32);
    e.exports = function(e, t, n) {
        for (var r in t)
            n && e[r] ? e[r] = t[r] : i(e, r, t[r]);
        return e
    }
}
, function(e, t, n) {
    var i = n(89)("keys")
      , r = n(63);
    e.exports = function(e) {
        return i[e] || (i[e] = r(e))
    }
}
, function(e, t, n) {
    var i = n(7)
      , r = n(15)
      , a = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (e.exports = function(e, t) {
        return a[e] || (a[e] = void 0 !== t ? t : {})
    }
    )("versions", []).push({
        version: i.version,
        mode: n(52) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}
, function(e, t) {
    var n = Math.ceil
      , i = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? i : n)(e)
    }
}
, function(e, t, n) {
    var i = n(25);
    e.exports = function(e, t) {
        if (!i(e))
            return e;
        var n, r;
        if (t && "function" == typeof (n = e.toString) && !i(r = n.call(e)))
            return r;
        if ("function" == typeof (n = e.valueOf) && !i(r = n.call(e)))
            return r;
        if (!t && "function" == typeof (n = e.toString) && !i(r = n.call(e)))
            return r;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(e, t, n) {
    var i = n(25);
    e.exports = function(e, t) {
        if (!i(e) || e._t !== t)
            throw TypeError("Incompatible receiver, " + t + " required!");
        return e
    }
}
, function(e, t, n) {
    var i = n(15)
      , r = n(7)
      , a = n(52)
      , o = n(94)
      , s = n(26).f;
    e.exports = function(e) {
        var t = r.Symbol || (r.Symbol = a ? {} : i.Symbol || {});
        "_" == e.charAt(0) || e in t || s(t, e, {
            value: o.f(e)
        })
    }
}
, function(e, t, n) {
    t.f = n(16)
}
, function(e, t, n) {
    var i = n(76)
      , r = n(16)("iterator")
      , a = n(51);
    e.exports = n(7).getIteratorMethod = function(e) {
        if (void 0 != e)
            return e[r] || e["@@iterator"] || a[i(e)]
    }
}
, function(e, t) {
    function n(e, t) {
        var n = e[1] || ""
          , r = e[3];
        if (!r)
            return n;
        if (t && "function" == typeof btoa) {
            var a = i(r);
            return [n].concat(r.sources.map(function(e) {
                return "/*# sourceURL=" + r.sourceRoot + e + " */"
            })).concat([a]).join("\n")
        }
        return [n].join("\n")
    }
    function i(e) {
        return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e)))) + " */"
    }
    e.exports = function(e) {
        var t = [];
        return t.toString = function() {
            return this.map(function(t) {
                var i = n(t, e);
                return t[2] ? "@media " + t[2] + "{" + i + "}" : i
            }).join("")
        }
        ,
        t.i = function(e, n) {
            "string" == typeof e && (e = [[null, e, ""]]);
            for (var i = {}, r = 0; r < this.length; r++) {
                var a = this[r][0];
                "number" == typeof a && (i[a] = !0)
            }
            for (r = 0; r < e.length; r++) {
                var o = e[r];
                "number" == typeof o[0] && i[o[0]] || (n && !o[2] ? o[2] = n : n && (o[2] = "(" + o[2] + ") and (" + n + ")"),
                t.push(o))
            }
        }
        ,
        t
    }
}
, function(e, t, n) {
    function i(e, t) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n]
              , r = f[i.id];
            if (r) {
                r.refs++;
                for (var a = 0; a < r.parts.length; a++)
                    r.parts[a](i.parts[a]);
                for (; a < i.parts.length; a++)
                    r.parts.push(d(i.parts[a], t))
            } else {
                for (var o = [], a = 0; a < i.parts.length; a++)
                    o.push(d(i.parts[a], t));
                f[i.id] = {
                    id: i.id,
                    refs: 1,
                    parts: o
                }
            }
        }
    }
    function r(e, t) {
        for (var n = [], i = {}, r = 0; r < e.length; r++) {
            var a = e[r]
              , o = t.base ? a[0] + t.base : a[0]
              , s = a[1]
              , l = a[2]
              , u = a[3]
              , d = {
                css: s,
                media: l,
                sourceMap: u
            };
            i[o] ? i[o].parts.push(d) : n.push(i[o] = {
                id: o,
                parts: [d]
            })
        }
        return n
    }
    function a(e, t) {
        var n = y(e.insertInto);
        if (!n)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var i = _[_.length - 1];
        if ("top" === e.insertAt)
            i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild),
            _.push(t);
        else {
            if ("bottom" !== e.insertAt)
                throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
            n.appendChild(t)
        }
    }
    function o(e) {
        if (null === e.parentNode)
            return !1;
        e.parentNode.removeChild(e);
        var t = _.indexOf(e);
        t >= 0 && _.splice(t, 1)
    }
    function s(e) {
        var t = document.createElement("style");
        return e.attrs.type = "text/css",
        u(t, e.attrs),
        a(e, t),
        t
    }
    function l(e) {
        var t = document.createElement("link");
        return e.attrs.type = "text/css",
        e.attrs.rel = "stylesheet",
        u(t, e.attrs),
        a(e, t),
        t
    }
    function u(e, t) {
        Object.keys(t).forEach(function(n) {
            e.setAttribute(n, t[n])
        })
    }
    function d(e, t) {
        var n, i, r, a;
        if (t.transform && e.css) {
            if (!(a = t.transform(e.css)))
                return function() {}
                ;
            e.css = a
        }
        if (t.singleton) {
            var u = v++;
            n = g || (g = s(t)),
            i = c.bind(null, n, u, !1),
            r = c.bind(null, n, u, !0)
        } else
            e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = l(t),
            i = p.bind(null, n, t),
            r = function() {
                o(n),
                n.href && URL.revokeObjectURL(n.href)
            }
            ) : (n = s(t),
            i = h.bind(null, n),
            r = function() {
                o(n)
            }
            );
        return i(e),
        function(t) {
            if (t) {
                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                    return;
                i(e = t)
            } else
                r()
        }
    }
    function c(e, t, n, i) {
        var r = n ? "" : i.css;
        if (e.styleSheet)
            e.styleSheet.cssText = k(t, r);
        else {
            var a = document.createTextNode(r)
              , o = e.childNodes;
            o[t] && e.removeChild(o[t]),
            o.length ? e.insertBefore(a, o[t]) : e.appendChild(a)
        }
    }
    function h(e, t) {
        var n = t.css
          , i = t.media;
        if (i && e.setAttribute("media", i),
        e.styleSheet)
            e.styleSheet.cssText = n;
        else {
            for (; e.firstChild; )
                e.removeChild(e.firstChild);
            e.appendChild(document.createTextNode(n))
        }
    }
    function p(e, t, n) {
        var i = n.css
          , r = n.sourceMap
          , a = void 0 === t.convertToAbsoluteUrls && r;
        (t.convertToAbsoluteUrls || a) && (i = b(i)),
        r && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(r)))) + " */");
        var o = new Blob([i],{
            type: "text/css"
        })
          , s = e.href;
        e.href = URL.createObjectURL(o),
        s && URL.revokeObjectURL(s)
    }
    var f = {}
      , m = function(e) {
        var t;
        return function() {
            return void 0 === t && (t = e.apply(this, arguments)),
            t
        }
    }(function() {
        return window && document && document.all && !window.atob
    })
      , y = function(e) {
        var t = {};
        return function(n) {
            return void 0 === t[n] && (t[n] = e.call(this, n)),
            t[n]
        }
    }(function(e) {
        return document.querySelector(e)
    })
      , g = null
      , v = 0
      , _ = []
      , b = n(337);
    e.exports = function(e, t) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
            throw new Error("The style-loader cannot be used in a non-browser environment");
        t = t || {},
        t.attrs = "object" == typeof t.attrs ? t.attrs : {},
        t.singleton || (t.singleton = m()),
        t.insertInto || (t.insertInto = "head"),
        t.insertAt || (t.insertAt = "bottom");
        var n = r(e, t);
        return i(n, t),
        function(e) {
            for (var a = [], o = 0; o < n.length; o++) {
                var s = n[o]
                  , l = f[s.id];
                l.refs--,
                a.push(l)
            }
            if (e) {
                i(r(e, t), t)
            }
            for (var o = 0; o < a.length; o++) {
                var l = a[o];
                if (0 === l.refs) {
                    for (var u = 0; u < l.parts.length; u++)
                        l.parts[u]();
                    delete f[l.id]
                }
            }
        }
    }
    ;
    var k = function() {
        var e = [];
        return function(t, n) {
            return e[t] = n,
            e.filter(Boolean).join("\n")
        }
    }()
}
, function(module, exports, __webpack_require__) {
    (function(process) {
        function TS_MUXER_SOURCE(e) {
            var t = function() {
                "use strict";
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1,
                        i.configurable = !0,
                        "value"in i && (i.writable = !0),
                        Object.defineProperty(e, i.key, i)
                    }
                }
                function t(e, t, n, i, r, a) {
                    var o;
                    o = 1 < a && fe(e.audioobjecttype, e.samplingfrequencyindex, e.channelcount) || t[n].data;
                    for (var s = 0; s < a; s++)
                        t.splice(n + s, 0, {
                            inert: !0,
                            audioobjecttype: e.audioobjecttype,
                            channelcount: e.channelcount,
                            dts: i + r * s,
                            pts: i + r * s,
                            data: o,
                            sampleCount: e.sampleCount,
                            samplerate: e.samplerate,
                            samplesize: e.samplesize,
                            samplingfrequencyindex: e.samplingfrequencyindex
                        })
                }
                function n(e) {
                    return parseInt(e) === e
                }
                function i(e) {
                    if (!n(e.length))
                        return !1;
                    for (var t = 0; t < e.length; t++)
                        if (!n(e[t]) || e[t] < 0 || 255 < e[t])
                            return !1;
                    return !0
                }
                function r(e, t) {
                    if (e.buffer && "Uint8Array" === e.name)
                        return t && (e = e.slice ? e.slice() : Array.prototype.slice.call(e)),
                        e;
                    if (Array.isArray(e)) {
                        if (!i(e))
                            throw new Error("Array contains invalid value: " + e);
                        return new Uint8Array(e)
                    }
                    if (n(e.length) && i(e))
                        return new Uint8Array(e);
                    throw new Error("unsupported array-like object")
                }
                function a(e) {
                    return new Uint8Array(e)
                }
                function o(e, t, n, i, r) {
                    null == i && null == r || (e = e.slice ? e.slice(i, r) : Array.prototype.slice.call(e, i, r)),
                    t.set(e, n)
                }
                function s(e) {
                    for (var t = [], n = 0; n < e.length; n += 4)
                        t.push(e[n] << 24 | e[n + 1] << 16 | e[n + 2] << 8 | e[n + 3]);
                    return t
                }
                var l, u, d, c, h, p, f, m, y, g, v, _, b, k, S, E, w, x, T, A, L, C, D, P, R, I, M, O, N, B, F, U, j, V, H, q, z, Y, G, K, W = function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }, X = function(t, n, i) {
                    return n && e(t.prototype, n),
                    i && e(t, i),
                    t
                }, Q = Math.pow(2, 32) - 1;
                !function() {
                    var e;
                    if (C = {
                        avc1: [],
                        avcC: [],
                        btrt: [],
                        pasp: [],
                        dinf: [],
                        dref: [],
                        esds: [],
                        ftyp: [],
                        hdlr: [],
                        mdat: [],
                        mdhd: [],
                        mdia: [],
                        mfhd: [],
                        minf: [],
                        moof: [],
                        moov: [],
                        mp4a: [],
                        mvex: [],
                        mvhd: [],
                        sdtp: [],
                        smhd: [],
                        stbl: [],
                        stco: [],
                        stsc: [],
                        stsd: [],
                        stsz: [],
                        stts: [],
                        styp: [],
                        tfdt: [],
                        tfhd: [],
                        traf: [],
                        trak: [],
                        trun: [],
                        trex: [],
                        tkhd: [],
                        vmhd: []
                    },
                    "undefined" != typeof Uint8Array) {
                        for (e in C)
                            C.hasOwnProperty(e) && (C[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                        D = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]),
                        R = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]),
                        P = new Uint8Array([0, 0, 0, 1]),
                        I = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
                        M = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]),
                        O = {
                            video: I,
                            audio: M
                        },
                        F = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
                        B = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                        U = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                        j = U,
                        V = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
                        H = U,
                        N = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                    }
                }(),
                l = function(e) {
                    var t, n, i = [], r = 0;
                    for (t = 1; t < arguments.length; t++)
                        i.push(arguments[t]);
                    for (t = i.length; t--; )
                        r += i[t].byteLength;
                    for (n = new Uint8Array(r + 8),
                    new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0, n.byteLength),
                    n.set(e, 4),
                    t = 0,
                    r = 8; t < i.length; t++)
                        n.set(i[t], r),
                        r += i[t].byteLength;
                    return n
                }
                ,
                u = function() {
                    return l(C.dinf, l(C.dref, F))
                }
                ,
                d = function(e) {
                    return l(C.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
                }
                ,
                S = function(e) {
                    return l(C.hdlr, O[e])
                }
                ,
                k = function(e) {
                    var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
                    return e.samplerate && (t[12] = e.samplerate >>> 24 & 255,
                    t[13] = e.samplerate >>> 16 & 255,
                    t[14] = e.samplerate >>> 8 & 255,
                    t[15] = 255 & e.samplerate),
                    l(C.mdhd, t)
                }
                ,
                b = function(e) {
                    return l(C.mdia, k(e), S(e.type), p(e))
                }
                ,
                h = function(e) {
                    return l(C.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
                }
                ,
                p = function(e) {
                    return l(C.minf, "video" === e.type ? l(C.vmhd, N) : l(C.smhd, B), u(), w(e))
                }
                ,
                f = function(e, t) {
                    for (var n = [], i = t.length; i--; )
                        n[i] = T(t[i]);
                    return l.apply(null, [C.moof, h(e)].concat(n))
                }
                ,
                m = function(e) {
                    for (var t = e.length, n = [], i = 0; t--; )
                        e[t].duration > i && (i = e[t].duration),
                        n[t] = v(e[t]);
                    return l.apply(null, [C.moov, g(i)].concat(n).concat(y(e)))
                }
                ,
                y = function(e) {
                    for (var t = e.length, n = []; t--; )
                        n[t] = A(e[t]);
                    return l.apply(null, [C.mvex].concat(n))
                }
                ,
                g = function(e) {
                    var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                    return l(C.mvhd, t)
                }
                ,
                E = function(e) {
                    var t, n, i = e.samples || [], r = new Uint8Array(4 + i.length);
                    for (n = 0; n < i.length; n++)
                        t = i[n].flags,
                        r[n + 4] = t.dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy;
                    return l(C.sdtp, r)
                }
                ,
                w = function(e) {
                    return l(C.stbl, x(e), l(C.stts, H), l(C.stsc, j), l(C.stsz, V), l(C.stco, U))
                }
                ,
                x = function(e) {
                    return l(C.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? q(e) : z(e))
                }
                ,
                q = function(e) {
                    var t, n = e.sps || [], i = e.pps || [], r = [], a = [];
                    for (t = 0; t < n.length; t++)
                        r.push((65280 & n[t].byteLength) >>> 8),
                        r.push(255 & n[t].byteLength),
                        r = r.concat(Array.prototype.slice.call(n[t]));
                    for (t = 0; t < i.length; t++)
                        a.push((65280 & i[t].byteLength) >>> 8),
                        a.push(255 & i[t].byteLength),
                        a = a.concat(Array.prototype.slice.call(i[t]));
                    var o = e.sarRatio[0]
                      , s = e.sarRatio[1];
                    return l(C.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), l(C.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255, 224 | n.length].concat(r).concat([i.length]).concat(a))), l(C.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), l(C.pasp, new Uint8Array([o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])))
                }
                ,
                z = function(e) {
                    return l(C.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), d(e))
                }
                ,
                _ = function(e) {
                    var t = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
                    return l(C.tkhd, t)
                }
                ,
                T = function(e) {
                    var t, n, i, r, a, o;
                    return t = l(C.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                    a = Math.floor(e.baseMediaDecodeTime / (Q + 1)),
                    o = Math.floor(e.baseMediaDecodeTime % (Q + 1)),
                    n = l(C.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o])),
                    "audio" === e.type ? (i = L(e, 92),
                    l(C.traf, t, n, i)) : (r = E(e),
                    i = L(e, r.length + 92),
                    l(C.traf, t, n, i, r))
                }
                ,
                v = function(e) {
                    return e.duration = e.duration || 4294967295,
                    l(C.trak, _(e), b(e))
                }
                ,
                A = function(e) {
                    var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                    return "video" !== e.type && (t[t.length - 1] = 0),
                    l(C.trex, t)
                }
                ,
                K = function(e, t) {
                    var n = 0
                      , i = 0
                      , r = 0
                      , a = 0;
                    return e.length && (void 0 !== e[0].duration && (n = 1),
                    void 0 !== e[0].size && (i = 2),
                    void 0 !== e[0].flags && (r = 4),
                    void 0 !== e[0].compositionTimeOffset && (a = 8)),
                    [0, 0, n | i | r | a, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                }
                ,
                G = function(e, t) {
                    var n, i, r, a;
                    for (t += 20 + 16 * (i = e.samples || []).length,
                    n = K(i, t),
                    a = 0; a < i.length; a++)
                        r = i[a],
                        n = n.concat([(4278190080 & r.duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size, r.flags.isLeading << 2 | r.flags.dependsOn, r.flags.isDependedOn << 6 | r.flags.hasRedundancy << 4 | r.flags.paddingValue << 1 | r.flags.isNonSyncSample, 61440 & r.flags.degradationPriority, 15 & r.flags.degradationPriority, (4278190080 & r.compositionTimeOffset) >>> 24, (16711680 & r.compositionTimeOffset) >>> 16, (65280 & r.compositionTimeOffset) >>> 8, 255 & r.compositionTimeOffset]);
                    return l(C.trun, new Uint8Array(n))
                }
                ,
                Y = function(e, t) {
                    var n, i, r, a;
                    for (t += 20 + 8 * (i = e.samples || []).length,
                    n = K(i, t),
                    a = 0; a < i.length; a++)
                        r = i[a],
                        n = n.concat([(4278190080 & r.duration) >>> 24, (16711680 & r.duration) >>> 16, (65280 & r.duration) >>> 8, 255 & r.duration, (4278190080 & r.size) >>> 24, (16711680 & r.size) >>> 16, (65280 & r.size) >>> 8, 255 & r.size]);
                    return l(C.trun, new Uint8Array(n))
                }
                ,
                L = function(e, t) {
                    return "audio" === e.type ? Y(e, t) : G(e, t)
                }
                ;
                var J, Z, $, ee, te, ne = {
                    ftyp: c = function() {
                        return l(C.ftyp, D, P, D, R)
                    }
                    ,
                    mdat: function(e) {
                        return l(C.mdat, e)
                    },
                    moof: f,
                    moov: m,
                    initSegment: function(e) {
                        var t, n = c(), i = m(e);
                        return (t = new Uint8Array(n.byteLength + i.byteLength)).set(n),
                        t.set(i, n.byteLength),
                        t
                    }
                }, ie = function(e) {
                    return e >>> 0
                };
                $ = function(e) {
                    return J(e, ["moov", "trak"]).reduce(function(e, t) {
                        var n, i, r, a, o;
                        return (n = J(t, ["tkhd"])[0]) ? (i = n[0],
                        a = ie(n[r = 0 === i ? 12 : 20] << 24 | n[r + 1] << 16 | n[r + 2] << 8 | n[r + 3]),
                        (o = J(t, ["mdia", "mdhd"])[0]) ? (r = 0 === (i = o[0]) ? 12 : 20,
                        e[a] = ie(o[r] << 24 | o[r + 1] << 16 | o[r + 2] << 8 | o[r + 3]),
                        e) : null) : null
                    }, {})
                }
                ,
                ee = function(e, t) {
                    var n, i, r;
                    return n = J(t, ["moof", "traf"]),
                    i = [].concat.apply([], n.map(function(t) {
                        return J(t, ["tfhd"]).map(function(n) {
                            var i, r;
                            return i = ie(n[4] << 24 | n[5] << 16 | n[6] << 8 | n[7]),
                            r = e[i] || 9e4,
                            (J(t, ["tfdt"]).map(function(e) {
                                var t, n;
                                return t = e[0],
                                n = ie(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]),
                                1 === t && (n *= Math.pow(2, 32),
                                n += ie(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])),
                                n
                            })[0] || 1 / 0) / r
                        })
                    })),
                    r = Math.min.apply(null, i),
                    isFinite(r) ? r : 0
                }
                ,
                te = function(e) {
                    var t = J(e, ["moov", "trak"])
                      , n = [];
                    return t.forEach(function(e) {
                        var t = J(e, ["mdia", "hdlr"])
                          , i = J(e, ["tkhd"]);
                        t.forEach(function(e, t) {
                            var r, a, o = Z(e.subarray(8, 12)), s = i[t];
                            "vide" === o && (a = 0 === (r = new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20),
                            n.push(a))
                        })
                    }),
                    n
                }
                ;
                var re = {
                    findBox: J = function(e, t) {
                        var n, i, r, a, o, s = [];
                        if (!t.length)
                            return null;
                        for (n = 0; n < e.byteLength; )
                            i = ie(e[n] << 24 | e[n + 1] << 16 | e[n + 2] << 8 | e[n + 3]),
                            r = Z(e.subarray(n + 4, n + 8)),
                            a = 1 < i ? n + i : e.byteLength,
                            r === t[0] && (1 === t.length ? s.push(e.subarray(n + 8, a)) : (o = J(e.subarray(n + 8, a), t.slice(1))).length && (s = s.concat(o))),
                            n = a;
                        return s
                    }
                    ,
                    parseType: Z = function(e) {
                        var t = "";
                        return t += String.fromCharCode(e[0]),
                        t += String.fromCharCode(e[1]),
                        t += String.fromCharCode(e[2]),
                        t += String.fromCharCode(e[3])
                    }
                    ,
                    timescale: $,
                    startTime: ee,
                    videoTrackIds: te
                }
                  , ae = function() {
                    this.init = function() {
                        var e = {};
                        this.on = function(t, n) {
                            e[t] || (e[t] = []),
                            e[t] = e[t].concat(n)
                        }
                        ,
                        this.off = function(t, n) {
                            var i;
                            return !!e[t] && (i = e[t].indexOf(n),
                            e[t] = e[t].slice(),
                            e[t].splice(i, 1),
                            -1 < i)
                        }
                        ,
                        this.trigger = function(t) {
                            var n, i, r, a;
                            if (n = e[t])
                                if (2 === arguments.length)
                                    for (r = n.length,
                                    i = 0; i < r; ++i)
                                        n[i].call(this, arguments[1]);
                                else {
                                    for (a = [],
                                    i = arguments.length,
                                    i = 1; i < arguments.length; ++i)
                                        a.push(arguments[i]);
                                    for (r = n.length,
                                    i = 0; i < r; ++i)
                                        n[i].apply(this, a)
                                }
                        }
                        ,
                        this.dispose = function() {
                            e = {}
                        }
                    }
                };
                ae.prototype.pipe = function(e) {
                    return this.on("data", function(t) {
                        e.push(t)
                    }),
                    this.on("done", function(t) {
                        e.flush(t)
                    }),
                    e
                }
                ,
                ae.prototype.push = function(e) {
                    this.trigger("data", e)
                }
                ,
                ae.prototype.flush = function(e) {
                    this.trigger("done", e)
                }
                ;
                var oe = ae
                  , se = /Version\/[\d.]+\s*Safari\/[\d.]+/.test(navigator.userAgent)
                  , le = 3600
                  , ue = function(e) {
                    var t, n, i = [], r = [];
                    for (i.byteLength = 0,
                    i.empty = !0,
                    t = 0; t < e.length; t++)
                        if ("access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType) {
                            if (i.length)
                                if (i.duration = n.dts - i.dts,
                                !i.empty && 0 < i.duration)
                                    delete i.empty,
                                    r.push(i),
                                    le = i.duration;
                                else {
                                    var a = r[r.length - 1];
                                    a && (a.duration += i.duration || 0)
                                }
                            (i = [n]).empty = !0,
                            i.byteLength = n.data.byteLength,
                            i.pts = n.pts,
                            i.dts = n.dts
                        } else
                            "slice_layer_without_partitioning_rbsp_idr" === n.nalUnitType ? (i.keyFrame = !0,
                            i.empty = !1) : "NDR" === n.nalUnitType && (i.empty = !1),
                            i.duration = n.dts - i.dts,
                            i.byteLength += n.data.byteLength,
                            i.push(n);
                    return (!i.duration || i.duration <= 0) && (i.duration = r[r.length - 1] && r[r.length - 1].duration || le,
                    le = i.duration),
                    !i.empty && 0 < i.duration ? (delete i.empty,
                    r.push(i)) : r[r.length - 1] && (r[r.length - 1].duration += i.duration || 0),
                    r
                }
                  , de = function(e) {
                    var t, n, i = [], r = [];
                    for (i.byteLength = 0,
                    i.nalCount = 0,
                    i.duration = 0,
                    i.pts = e[0].pts,
                    i.dts = e[0].dts,
                    r.byteLength = 0,
                    r.nalCount = 0,
                    r.duration = 0,
                    r.pts = e[0].pts,
                    r.dts = e[0].dts,
                    t = 0; t < e.length; t++)
                        (n = e[t]).keyFrame ? (i.length && (r.push(i),
                        r.byteLength += i.byteLength,
                        r.nalCount += i.nalCount,
                        r.duration += i.duration),
                        (i = [n]).nalCount = n.length,
                        i.byteLength = n.byteLength,
                        i.pts = n.pts,
                        i.dts = n.dts,
                        i.duration = n.duration) : (i.duration += n.duration,
                        i.nalCount += n.length,
                        i.byteLength += n.byteLength,
                        i.push(n));
                    return r.length && i.duration <= 0 && (i.duration = r[r.length - 1].duration),
                    r.byteLength += i.byteLength,
                    r.nalCount += i.nalCount,
                    r.duration += i.duration,
                    r.push(i),
                    r
                }
                  , ce = function(e) {
                    var t;
                    return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(),
                    e.byteLength -= t.byteLength,
                    e.nalCount -= t.nalCount,
                    e[0][0].dts = t.dts,
                    e[0][0].pts = t.pts,
                    e[0][0].duration += t.duration),
                    e
                }
                  , he = function(e, t) {
                    var n, i, r, a, o, s, l, u = 0, d = e.dts, c = e.pts, h = t || 0, p = [];
                    if (se)
                        var f = e[e.length - 1]
                          , m = e.reduce(function(e, t) {
                            return e + t.length
                        }, 0)
                          , y = Math.round((f[f.length - 1].dts - e.dts) / (m - 1));
                    for (n = 0; n < e.length; n++)
                        for (a = e[n],
                        i = 0; i < a.length; i++) {
                            if ((o = a[i]).dts = Math.max(d, o.dts),
                            o.pts = Math.max(c, o.pts),
                            se)
                                o.dts = d + u * y,
                                o.duration = y,
                                u++;
                            else {
                                var g = a[i + 1] || e[n + 1] && e[n + 1][0];
                                if (g)
                                    o.duration = Math.max(0, g.dts - o.dts);
                                else {
                                    var v = a[i - 1] || e[n - 1] && e[n - 1][e[n - 1].length - 1];
                                    v && (o.duration = Math.max(0, o.dts - v.dts))
                                }
                            }
                            s = o,
                            l = void 0,
                            (l = {
                                size: 0,
                                flags: {
                                    isLeading: 0,
                                    dependsOn: 1,
                                    isDependedOn: 0,
                                    hasRedundancy: 0,
                                    degradationPriority: 0,
                                    isNonSyncSample: 1
                                }
                            }).dataOffset = h,
                            l.compositionTimeOffset = se ? Math.max(0, s.duration * Math.round((s.pts - s.dts) / s.duration)) : Math.round(s.pts - s.dts),
                            l.duration = s.duration,
                            l.size = 4 * s.length,
                            l.size += s.byteLength,
                            s.keyFrame && (l.flags.dependsOn = 2,
                            l.flags.isNonSyncSample = 0),
                            h += (r = l).size,
                            p.push(r)
                        }
                    return p
                }
                  , pe = function(e) {
                    var t, n, i, r, a, o, s = 0, l = e.byteLength, u = e.nalCount, d = new Uint8Array(l + 4 * u), c = new DataView(d.buffer);
                    for (t = 0; t < e.length; t++)
                        for (r = e[t],
                        n = 0; n < r.length; n++)
                            for (a = r[n],
                            i = 0; i < a.length; i++)
                                o = a[i],
                                c.setUint32(s, o.data.byteLength),
                                s += 4,
                                d.set(o.data, s),
                                s += o.data.byteLength;
                    return d
                }
                  , fe = function(e, t, n) {
                    switch (6 <= t && (e = 5),
                    "mp4a.40." + (e || 2)) {
                    case "mp4a.40.2":
                        if (1 === n)
                            return new Uint8Array([0, 200, 0, 128, 35, 128]);
                        if (2 === n)
                            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                        if (3 === n)
                            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                        if (4 === n)
                            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                        if (5 === n)
                            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                        if (6 === n)
                            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
                        break;
                    default:
                        if (1 === n)
                            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                        if (2 === n)
                            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                        if (3 === n)
                            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
                    }
                    return null
                }
                  , me = 9e4
                  , ye = {
                    prefixWithSilence: function(e, t, n, i, r) {
                        var a = 0
                          , o = 0
                          , s = 0
                          , l = 0;
                        if (t.length) {
                            var u = me / (e.samplerate / 1024)
                              , d = {};
                            return (n || i) && (l = r - (n < i ? me < i - n && console.warn("AV 差距过大 audio偏移过多，", (i - n) / me) : (s = n - i,
                            0 < (a = Math.floor(s / u)) && (d.frontGap = (1e3 * s / me).toFixed(3),
                            d.frontFillCount = a,
                            addFramesToFront(e, t, u, a))),
                            (n = i) + t.length * u),
                            o = Math.ceil(l / u),
                            d.rearGap = (1e3 * l / me).toFixed(3),
                            d.rearFillCount = o,
                            .001 < l / me && 0 < o ? function(e, t, n, i) {
                                var r;
                                r = 2 < i && fe(e.audioobjecttype, e.samplingfrequencyindex, e.channelcount) || t[t.length - 1].data;
                                for (var a = t[t.length - 1], o = 0; o < i; o++)
                                    t.push({
                                        inert: !0,
                                        audioobjecttype: a.audioobjecttype,
                                        channelcount: a.channelcount,
                                        dts: a.pts + n * (o + 1),
                                        pts: a.dts + n * (o + 1),
                                        data: r,
                                        sampleCount: e.sampleCount,
                                        samplerate: e.samplerate,
                                        samplesize: e.samplesize,
                                        samplingfrequencyindex: a.samplingfrequencyindex
                                    })
                            }(e, t, u, o) : o < 0 && (d.rearGap = (1e3 * l / me).toFixed(3),
                            function(e, t) {
                                for (; 0 < t-- && e[0].insert; )
                                    e.shift();
                                for (; 0 < t--; )
                                    e.pop()
                            }(t, -o))),
                            e.baseMediaDecodeTime = n * e.samplerate / me,
                            d
                        }
                    },
                    fixAudioFrames: function(e, n, i) {
                        for (var r = me / e.samplerate * 1024, a = 0; a < n.length; a++) {
                            var o = n[a]
                              , s = o.pts - i
                              , l = 1e3 * s / me;
                            if (s <= -r)
                                n.splice(a, 1),
                                a--;
                            else if (r <= s && l < 1e4 && i) {
                                var u = Math.round(s / r);
                                t(e, n, a, i, r, u),
                                i += u * r,
                                a += u,
                                o.pts = o.dts = i,
                                i += r
                            } else
                                o.pts = o.dts = i,
                                i += r
                        }
                        return i
                    },
                    trimAdtsFramesByEarliestDts: function(e, t, n) {
                        return t.minSegmentDts >= n ? e : (t.minSegmentDts = 1 / 0,
                        e.filter(function(e) {
                            return e.dts >= n && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts),
                            t.minSegmentPts = t.minSegmentDts,
                            !0)
                        }))
                    },
                    generateSampleTable: function(e) {
                        var t, n, i = [];
                        for (t = 0; t < e.length; t++)
                            n = e[t],
                            i.push({
                                size: n.data.byteLength,
                                duration: 1024
                            });
                        return i
                    },
                    concatenateFrameData: function(e) {
                        var t, n, i = 0, r = new Uint8Array(function(e) {
                            var t, n = 0;
                            for (t = 0; t < e.length; t++)
                                n += e[t].data.byteLength;
                            return n
                        }(e));
                        for (t = 0; t < e.length; t++)
                            n = e[t],
                            r.set(n.data, i),
                            i += n.data.byteLength;
                        return r
                    }
                }
                  , ge = function(e) {
                    delete e.videoMinPts,
                    delete e.videoMinDts,
                    delete e.videoMaxPts,
                    delete e.videoMaxDts,
                    delete e.audioMinPts,
                    delete e.audioMinDts,
                    delete e.audioMaxPts,
                    delete e.audioMaxDts
                }
                  , ve = function(e, t) {
                    delete e.minSegmentDts,
                    delete e.maxSegmentDts,
                    delete e.minSegmentPts,
                    delete e.maxSegmentPts,
                    delete t[e.type + "MinPts"],
                    delete t[e.type + "MinDts"],
                    delete t[e.type + "MaxPts"],
                    delete t[e.type + "MaxDts"]
                }
                  , _e = function(e, t) {
                    var n, i = e.minSegmentDts;
                    return t || (i -= e.timelineStartInfo.dts),
                    n = e.timelineStartInfo.baseMediaDecodeTime,
                    n += i,
                    n = Math.max(0, n),
                    "audio" === e.type && (n *= e.samplerate / 9e4,
                    n = Math.floor(n)),
                    n
                }
                  , be = function(e, t, n) {
                    if ("number" == typeof t.pts) {
                        var i = e.type + "MinPts"
                          , r = e.type + "MaxPts";
                        void 0 === n[i] ? n[i] = t.pts : n[i] = Math.min(t.pts, n[i]),
                        void 0 === n[r] ? n[r] = t.pts : n[r] = Math.max(t.pts, n[i]),
                        void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts),
                        void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)
                    }
                    if ("number" == typeof t.duration && (n.duration = t.duration),
                    "number" == typeof t.dts) {
                        var a = e.type + "MinDts"
                          , o = e.type + "MaxDts";
                        void 0 === n[a] ? n[a] = t.dts : n[a] = Math.min(t.dts, n[a]),
                        void 0 === n[o] ? n[o] = t.dts : n[o] = Math.max(t.dts, n[o]),
                        void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts),
                        void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts)
                    }
                }
                  , ke = function(e) {
                    if (e.continuous && e.dts && e.videoMaxDts - e.dts < e.nextVideoDts && (e.pts = void 0,
                    e.dts = void 0),
                    void 0 === e.audioMinPts && (e.audioMinPts = e.videoMinPts),
                    void 0 === e.audioMinDts && (e.audioMinDts = e.videoMinDts),
                    void 0 === e.pts && e.videoMinPts && e.audioMinPts) {
                        var t = Math.min(e.videoMinPts, e.audioMinPts);
                        e.audioVideoShift = e.audioMinPts - e.videoMinPts,
                        e.pts = t - (9e4 * e.timeOffset || 0)
                    }
                    if (void 0 === e.dts && e.videoMinDts && e.audioMinDts) {
                        var n = Math.min(e.videoMinDts, e.audioMinDts);
                        e.dts = n - (9e4 * e.timeOffset || 0)
                    }
                }
                  , Se = function(e) {
                    delete e.pts,
                    delete e.dts,
                    ge(e)
                }
                  , Ee = function(e) {
                    for (var t = 0, n = {
                        payloadType: -1,
                        payloadSize: 0
                    }, i = 0, r = 0; t < e.byteLength && 128 !== e[t]; ) {
                        for (; 255 === e[t]; )
                            i += 255,
                            t++;
                        for (i += e[t++]; 255 === e[t]; )
                            r += 255,
                            t++;
                        if (r += e[t++],
                        !n.payload && 4 === i) {
                            n.payloadType = i,
                            n.payloadSize = r,
                            n.payload = e.subarray(t, t + r);
                            break
                        }
                        t += r,
                        r = i = 0
                    }
                    return n
                }
                  , we = function(e) {
                    return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                }
                  , xe = function(e, t) {
                    var n, i, r, a, o = [];
                    if (!(64 & t[0]))
                        return o;
                    for (i = 31 & t[0],
                    n = 0; n < i; n++)
                        a = {
                            type: 3 & t[2 + (r = 3 * n)],
                            pts: e
                        },
                        4 & t[r + 2] && (a.ccData = t[r + 3] << 8 | t[r + 4],
                        o.push(a));
                    return o
                }
                  , Te = function(e) {
                    for (var t, n, i = e.byteLength, r = [], a = 1; a < i - 2; )
                        0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2),
                        a += 2) : a++;
                    if (0 === r.length)
                        return e;
                    t = i - r.length,
                    n = new Uint8Array(t);
                    var o = 0;
                    for (a = 0; a < t; o++,
                    a++)
                        o === r[0] && (o++,
                        r.shift()),
                        n[a] = e[o];
                    return n
                }
                  , Ae = function e() {
                    e.prototype.init.call(this),
                    this.captionPackets_ = [],
                    this.ccStreams_ = [new Re(0,0), new Re(0,1), new Re(1,0), new Re(1,1)],
                    this.reset(),
                    this.ccStreams_.forEach(function(e) {
                        e.on("data", this.trigger.bind(this, "data")),
                        e.on("done", this.trigger.bind(this, "done"))
                    }, this)
                };
                (Ae.prototype = new oe).push = function(e) {
                    var t, n, i;
                    if ("sei_rbsp" === e.nalUnitType && 4 === (t = Ee(e.escapedRBSP)).payloadType && (n = we(t)))
                        if (e.dts < this.latestDts_)
                            this.ignoreNextEqualDts_ = !0;
                        else {
                            if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_)
                                return void (--this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                            i = xe(e.pts, n),
                            this.captionPackets_ = this.captionPackets_.concat(i),
                            this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
                            this.numSameDts_++,
                            this.latestDts_ = e.dts
                        }
                }
                ,
                Ae.prototype.flush = function() {
                    this.captionPackets_.length ? (this.captionPackets_.forEach(function(e, t) {
                        e.presortIndex = t
                    }),
                    this.captionPackets_.sort(function(e, t) {
                        return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                    }),
                    this.captionPackets_.forEach(function(e) {
                        e.type < 2 && this.dispatchCea608Packet(e)
                    }, this),
                    this.captionPackets_.length = 0,
                    this.ccStreams_.forEach(function(e) {
                        e.flush()
                    }, this)) : this.ccStreams_.forEach(function(e) {
                        e.flush()
                    }, this)
                }
                ,
                Ae.prototype.reset = function() {
                    this.latestDts_ = null,
                    this.ignoreNextEqualDts_ = !1,
                    this.numSameDts_ = 0,
                    this.activeCea608Channel_ = [null, null],
                    this.ccStreams_.forEach(function(e) {
                        e.reset()
                    })
                }
                ,
                Ae.prototype.dispatchCea608Packet = function(e) {
                    this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1),
                    null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                }
                ,
                Ae.prototype.setsChannel1Active = function(e) {
                    return 4096 == (30720 & e.ccData)
                }
                ,
                Ae.prototype.setsChannel2Active = function(e) {
                    return 6144 == (30720 & e.ccData)
                }
                ;
                var Le = {
                    42: 225,
                    92: 233,
                    94: 237,
                    95: 243,
                    96: 250,
                    123: 231,
                    124: 247,
                    125: 209,
                    126: 241,
                    127: 9608,
                    304: 174,
                    305: 176,
                    306: 189,
                    307: 191,
                    308: 8482,
                    309: 162,
                    310: 163,
                    311: 9834,
                    312: 224,
                    313: 160,
                    314: 232,
                    315: 226,
                    316: 234,
                    317: 238,
                    318: 244,
                    319: 251,
                    544: 193,
                    545: 201,
                    546: 211,
                    547: 218,
                    548: 220,
                    549: 252,
                    550: 8216,
                    551: 161,
                    552: 42,
                    553: 39,
                    554: 8212,
                    555: 169,
                    556: 8480,
                    557: 8226,
                    558: 8220,
                    559: 8221,
                    560: 192,
                    561: 194,
                    562: 199,
                    563: 200,
                    564: 202,
                    565: 203,
                    566: 235,
                    567: 206,
                    568: 207,
                    569: 239,
                    570: 212,
                    571: 217,
                    572: 249,
                    573: 219,
                    574: 171,
                    575: 187,
                    800: 195,
                    801: 227,
                    802: 205,
                    803: 204,
                    804: 236,
                    805: 210,
                    806: 242,
                    807: 213,
                    808: 245,
                    809: 123,
                    810: 125,
                    811: 92,
                    812: 94,
                    813: 95,
                    814: 124,
                    815: 126,
                    816: 196,
                    817: 228,
                    818: 214,
                    819: 246,
                    820: 223,
                    821: 165,
                    822: 164,
                    823: 9474,
                    824: 197,
                    825: 229,
                    826: 216,
                    827: 248,
                    828: 9484,
                    829: 9488,
                    830: 9492,
                    831: 9496
                }
                  , Ce = function(e) {
                    return null === e ? "" : (e = Le[e] || e,
                    String.fromCharCode(e))
                }
                  , De = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152]
                  , Pe = function() {
                    for (var e = [], t = 15; t--; )
                        e.push("");
                    return e
                }
                  , Re = function e(t, n) {
                    e.prototype.init.call(this),
                    this.field_ = t || 0,
                    this.dataChannel_ = n || 0,
                    this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)),
                    this.setConstants(),
                    this.reset(),
                    this.push = function(e) {
                        var t, n, i, r, a;
                        if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                            if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null),
                            i = t >>> 8,
                            r = 255 & t,
                            t !== this.PADDING_)
                                if (t === this.RESUME_CAPTION_LOADING_)
                                    this.mode_ = "popOn";
                                else if (t === this.END_OF_CAPTION_)
                                    this.mode_ = "popOn",
                                    this.clearFormatting(e.pts),
                                    this.flushDisplayed(e.pts),
                                    n = this.displayed_,
                                    this.displayed_ = this.nonDisplayed_,
                                    this.nonDisplayed_ = n,
                                    this.startPts_ = e.pts;
                                else if (t === this.ROLL_UP_2_ROWS_)
                                    this.rollUpRows_ = 2,
                                    this.setRollUp(e.pts);
                                else if (t === this.ROLL_UP_3_ROWS_)
                                    this.rollUpRows_ = 3,
                                    this.setRollUp(e.pts);
                                else if (t === this.ROLL_UP_4_ROWS_)
                                    this.rollUpRows_ = 4,
                                    this.setRollUp(e.pts);
                                else if (t === this.CARRIAGE_RETURN_)
                                    this.clearFormatting(e.pts),
                                    this.flushDisplayed(e.pts),
                                    this.shiftRowsUp_(),
                                    this.startPts_ = e.pts;
                                else if (t === this.BACKSPACE_)
                                    "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                else if (t === this.ERASE_DISPLAYED_MEMORY_)
                                    this.flushDisplayed(e.pts),
                                    this.displayed_ = Pe();
                                else if (t === this.ERASE_NON_DISPLAYED_MEMORY_)
                                    this.nonDisplayed_ = Pe();
                                else if (t === this.RESUME_DIRECT_CAPTIONING_)
                                    "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts),
                                    this.displayed_ = Pe()),
                                    this.mode_ = "paintOn",
                                    this.startPts_ = e.pts;
                                else if (this.isSpecialCharacter(i, r))
                                    a = Ce((i = (3 & i) << 8) | r),
                                    this[this.mode_](e.pts, a),
                                    this.column_++;
                                else if (this.isExtCharacter(i, r))
                                    "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1),
                                    a = Ce((i = (3 & i) << 8) | r),
                                    this[this.mode_](e.pts, a),
                                    this.column_++;
                                else if (this.isMidRowCode(i, r))
                                    this.clearFormatting(e.pts),
                                    this[this.mode_](e.pts, " "),
                                    this.column_++,
                                    14 == (14 & r) && this.addFormatting(e.pts, ["i"]),
                                    1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                else if (this.isOffsetControlCode(i, r))
                                    this.column_ += 3 & r;
                                else if (this.isPAC(i, r)) {
                                    var o = De.indexOf(7968 & t);
                                    "rollUp" === this.mode_ && (o - this.rollUpRows_ + 1 < 0 && (o = this.rollUpRows_ - 1),
                                    this.setRollUp(e.pts, o)),
                                    o !== this.row_ && (this.clearFormatting(e.pts),
                                    this.row_ = Math.max(0, o)),
                                    1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]),
                                    16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)),
                                    this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                                } else
                                    this.isNormalChar(i) && (0 === r && (r = null),
                                    a = Ce(i),
                                    a += Ce(r),
                                    this[this.mode_](e.pts, a),
                                    this.column_ += a.length)
                        } else
                            this.lastControlCode_ = null
                    }
                };
                Re.prototype = new oe,
                Re.prototype.flushDisplayed = function(e) {
                    var t = this.displayed_.map(function(e) {
                        try {
                            return e.trim()
                        } catch (e) {
                            return console.error("Skipping malformed caption."),
                            ""
                        }
                    }).join("\\n").replace(/^\\n+|\\n+$/g, "");
                    t.length && this.trigger("data", {
                        startPts: this.startPts_,
                        endPts: e,
                        text: t,
                        stream: this.name_
                    })
                }
                ,
                Re.prototype.reset = function() {
                    this.mode_ = "popOn",
                    this.topRow_ = 0,
                    this.startPts_ = 0,
                    this.displayed_ = Pe(),
                    this.nonDisplayed_ = Pe(),
                    this.lastControlCode_ = null,
                    this.column_ = 0,
                    this.row_ = 14,
                    this.rollUpRows_ = 2,
                    this.formatting_ = []
                }
                ,
                Re.prototype.setConstants = function() {
                    0 === this.dataChannel_ ? (this.BASE_ = 16,
                    this.EXT_ = 17,
                    this.CONTROL_ = (20 | this.field_) << 8,
                    this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24,
                    this.EXT_ = 25,
                    this.CONTROL_ = (28 | this.field_) << 8,
                    this.OFFSET_ = 31),
                    this.PADDING_ = 0,
                    this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_,
                    this.END_OF_CAPTION_ = 47 | this.CONTROL_,
                    this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_,
                    this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_,
                    this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_,
                    this.CARRIAGE_RETURN_ = 45 | this.CONTROL_,
                    this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_,
                    this.BACKSPACE_ = 33 | this.CONTROL_,
                    this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_,
                    this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                }
                ,
                Re.prototype.isSpecialCharacter = function(e, t) {
                    return e === this.EXT_ && 48 <= t && t <= 63
                }
                ,
                Re.prototype.isExtCharacter = function(e, t) {
                    return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
                }
                ,
                Re.prototype.isMidRowCode = function(e, t) {
                    return e === this.EXT_ && 32 <= t && t <= 47
                }
                ,
                Re.prototype.isOffsetControlCode = function(e, t) {
                    return e === this.OFFSET_ && 33 <= t && t <= 35
                }
                ,
                Re.prototype.isPAC = function(e, t) {
                    return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
                }
                ,
                Re.prototype.isColorPAC = function(e) {
                    return 64 <= e && e <= 79 || 96 <= e && e <= 127
                }
                ,
                Re.prototype.isNormalChar = function(e) {
                    return 32 <= e && e <= 127
                }
                ,
                Re.prototype.setRollUp = function(e, t) {
                    if ("rollUp" !== this.mode_ && (this.row_ = 14,
                    this.mode_ = "rollUp",
                    this.flushDisplayed(e),
                    this.nonDisplayed_ = Pe(),
                    this.displayed_ = Pe()),
                    void 0 !== t && t !== this.row_)
                        for (var n = 0; n < this.rollUpRows_; n++)
                            this.displayed_[t - n] = this.displayed_[this.row_ - n],
                            this.displayed_[this.row_ - n] = "";
                    void 0 === t && (t = this.row_),
                    this.topRow_ = t - this.rollUpRows_ + 1
                }
                ,
                Re.prototype.addFormatting = function(e, t) {
                    this.formatting_ = this.formatting_.concat(t);
                    var n = t.reduce(function(e, t) {
                        return e + "<" + t + ">"
                    }, "");
                    this[this.mode_](e, n)
                }
                ,
                Re.prototype.clearFormatting = function(e) {
                    if (this.formatting_.length) {
                        var t = this.formatting_.reverse().reduce(function(e, t) {
                            return e + "</" + t + ">"
                        }, "");
                        this.formatting_ = [],
                        this[this.mode_](e, t)
                    }
                }
                ,
                Re.prototype.popOn = function(e, t) {
                    var n = this.nonDisplayed_[this.row_];
                    n += t,
                    this.nonDisplayed_[this.row_] = n
                }
                ,
                Re.prototype.rollUp = function(e, t) {
                    var n = this.displayed_[this.row_];
                    n += t,
                    this.displayed_[this.row_] = n
                }
                ,
                Re.prototype.shiftRowsUp_ = function() {
                    var e;
                    for (e = 0; e < this.topRow_; e++)
                        this.displayed_[e] = "";
                    for (e = this.row_ + 1; e < 15; e++)
                        this.displayed_[e] = "";
                    for (e = this.topRow_; e < this.row_; e++)
                        this.displayed_[e] = this.displayed_[e + 1];
                    this.displayed_[this.row_] = ""
                }
                ,
                Re.prototype.paintOn = function(e, t) {
                    var n = this.displayed_[this.row_];
                    n += t,
                    this.displayed_[this.row_] = n
                }
                ;
                var Ie = {
                    CaptionStream: Ae,
                    Cea608Stream: Re
                }
                  , Me = {
                    H264_STREAM_TYPE: 27,
                    ADTS_STREAM_TYPE: 15,
                    METADATA_STREAM_TYPE: 21
                }
                  , Oe = {
                    16: 10,
                    24: 12,
                    32: 14
                }
                  , Ne = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145]
                  , Be = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22]
                  , Fe = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125]
                  , Ue = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986]
                  , je = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766]
                  , Ve = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126]
                  , He = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436]
                  , qe = [1374988112, 2118214995, 437757123, 975658646, 1001089995, 530400753, 2902087851, 1273168787, 540080725, 2910219766, 2295101073, 4110568485, 1340463100, 3307916247, 641025152, 3043140495, 3736164937, 632953703, 1172967064, 1576976609, 3274667266, 2169303058, 2370213795, 1809054150, 59727847, 361929877, 3211623147, 2505202138, 3569255213, 1484005843, 1239443753, 2395588676, 1975683434, 4102977912, 2572697195, 666464733, 3202437046, 4035489047, 3374361702, 2110667444, 1675577880, 3843699074, 2538681184, 1649639237, 2976151520, 3144396420, 4269907996, 4178062228, 1883793496, 2403728665, 2497604743, 1383856311, 2876494627, 1917518562, 3810496343, 1716890410, 3001755655, 800440835, 2261089178, 3543599269, 807962610, 599762354, 33778362, 3977675356, 2328828971, 2809771154, 4077384432, 1315562145, 1708848333, 101039829, 3509871135, 3299278474, 875451293, 2733856160, 92987698, 2767645557, 193195065, 1080094634, 1584504582, 3178106961, 1042385657, 2531067453, 3711829422, 1306967366, 2438237621, 1908694277, 67556463, 1615861247, 429456164, 3602770327, 2302690252, 1742315127, 2968011453, 126454664, 3877198648, 2043211483, 2709260871, 2084704233, 4169408201, 0, 159417987, 841739592, 504459436, 1817866830, 4245618683, 260388950, 1034867998, 908933415, 168810852, 1750902305, 2606453969, 607530554, 202008497, 2472011535, 3035535058, 463180190, 2160117071, 1641816226, 1517767529, 470948374, 3801332234, 3231722213, 1008918595, 303765277, 235474187, 4069246893, 766945465, 337553864, 1475418501, 2943682380, 4003061179, 2743034109, 4144047775, 1551037884, 1147550661, 1543208500, 2336434550, 3408119516, 3069049960, 3102011747, 3610369226, 1113818384, 328671808, 2227573024, 2236228733, 3535486456, 2935566865, 3341394285, 496906059, 3702665459, 226906860, 2009195472, 733156972, 2842737049, 294930682, 1206477858, 2835123396, 2700099354, 1451044056, 573804783, 2269728455, 3644379585, 2362090238, 2564033334, 2801107407, 2776292904, 3669462566, 1068351396, 742039012, 1350078989, 1784663195, 1417561698, 4136440770, 2430122216, 775550814, 2193862645, 2673705150, 1775276924, 1876241833, 3475313331, 3366754619, 270040487, 3902563182, 3678124923, 3441850377, 1851332852, 3969562369, 2203032232, 3868552805, 2868897406, 566021896, 4011190502, 3135740889, 1248802510, 3936291284, 699432150, 832877231, 708780849, 3332740144, 899835584, 1951317047, 4236429990, 3767586992, 866637845, 4043610186, 1106041591, 2144161806, 395441711, 1984812685, 1139781709, 3433712980, 3835036895, 2664543715, 1282050075, 3240894392, 1181045119, 2640243204, 25965917, 4203181171, 4211818798, 3009879386, 2463879762, 3910161971, 1842759443, 2597806476, 933301370, 1509430414, 3943906441, 3467192302, 3076639029, 3776767469, 2051518780, 2631065433, 1441952575, 404016761, 1942435775, 1408749034, 1610459739, 3745345300, 2017778566, 3400528769, 3110650942, 941896748, 3265478751, 371049330, 3168937228, 675039627, 4279080257, 967311729, 135050206, 3635733660, 1683407248, 2076935265, 3576870512, 1215061108, 3501741890]
                  , ze = [1347548327, 1400783205, 3273267108, 2520393566, 3409685355, 4045380933, 2880240216, 2471224067, 1428173050, 4138563181, 2441661558, 636813900, 4233094615, 3620022987, 2149987652, 2411029155, 1239331162, 1730525723, 2554718734, 3781033664, 46346101, 310463728, 2743944855, 3328955385, 3875770207, 2501218972, 3955191162, 3667219033, 768917123, 3545789473, 692707433, 1150208456, 1786102409, 2029293177, 1805211710, 3710368113, 3065962831, 401639597, 1724457132, 3028143674, 409198410, 2196052529, 1620529459, 1164071807, 3769721975, 2226875310, 486441376, 2499348523, 1483753576, 428819965, 2274680428, 3075636216, 598438867, 3799141122, 1474502543, 711349675, 129166120, 53458370, 2592523643, 2782082824, 4063242375, 2988687269, 3120694122, 1559041666, 730517276, 2460449204, 4042459122, 2706270690, 3446004468, 3573941694, 533804130, 2328143614, 2637442643, 2695033685, 839224033, 1973745387, 957055980, 2856345839, 106852767, 1371368976, 4181598602, 1033297158, 2933734917, 1179510461, 3046200461, 91341917, 1862534868, 4284502037, 605657339, 2547432937, 3431546947, 2003294622, 3182487618, 2282195339, 954669403, 3682191598, 1201765386, 3917234703, 3388507166, 0, 2198438022, 1211247597, 2887651696, 1315723890, 4227665663, 1443857720, 507358933, 657861945, 1678381017, 560487590, 3516619604, 975451694, 2970356327, 261314535, 3535072918, 2652609425, 1333838021, 2724322336, 1767536459, 370938394, 182621114, 3854606378, 1128014560, 487725847, 185469197, 2918353863, 3106780840, 3356761769, 2237133081, 1286567175, 3152976349, 4255350624, 2683765030, 3160175349, 3309594171, 878443390, 1988838185, 3704300486, 1756818940, 1673061617, 3403100636, 272786309, 1075025698, 545572369, 2105887268, 4174560061, 296679730, 1841768865, 1260232239, 4091327024, 3960309330, 3497509347, 1814803222, 2578018489, 4195456072, 575138148, 3299409036, 446754879, 3629546796, 4011996048, 3347532110, 3252238545, 4270639778, 915985419, 3483825537, 681933534, 651868046, 2755636671, 3828103837, 223377554, 2607439820, 1649704518, 3270937875, 3901806776, 1580087799, 4118987695, 3198115200, 2087309459, 2842678573, 3016697106, 1003007129, 2802849917, 1860738147, 2077965243, 164439672, 4100872472, 32283319, 2827177882, 1709610350, 2125135846, 136428751, 3874428392, 3652904859, 3460984630, 3572145929, 3593056380, 2939266226, 824852259, 818324884, 3224740454, 930369212, 2801566410, 2967507152, 355706840, 1257309336, 4148292826, 243256656, 790073846, 2373340630, 1296297904, 1422699085, 3756299780, 3818836405, 457992840, 3099667487, 2135319889, 77422314, 1560382517, 1945798516, 788204353, 1521706781, 1385356242, 870912086, 325965383, 2358957921, 2050466060, 2388260884, 2313884476, 4006521127, 901210569, 3990953189, 1014646705, 1503449823, 1062597235, 2031621326, 3212035895, 3931371469, 1533017514, 350174575, 2256028891, 2177544179, 1052338372, 741876788, 1606591296, 1914052035, 213705253, 2334669897, 1107234197, 1899603969, 3725069491, 2631447780, 2422494913, 1635502980, 1893020342, 1950903388, 1120974935]
                  , Ye = [2807058932, 1699970625, 2764249623, 1586903591, 1808481195, 1173430173, 1487645946, 59984867, 4199882800, 1844882806, 1989249228, 1277555970, 3623636965, 3419915562, 1149249077, 2744104290, 1514790577, 459744698, 244860394, 3235995134, 1963115311, 4027744588, 2544078150, 4190530515, 1608975247, 2627016082, 2062270317, 1507497298, 2200818878, 567498868, 1764313568, 3359936201, 2305455554, 2037970062, 1047239e3, 1910319033, 1337376481, 2904027272, 2892417312, 984907214, 1243112415, 830661914, 861968209, 2135253587, 2011214180, 2927934315, 2686254721, 731183368, 1750626376, 4246310725, 1820824798, 4172763771, 3542330227, 48394827, 2404901663, 2871682645, 671593195, 3254988725, 2073724613, 145085239, 2280796200, 2779915199, 1790575107, 2187128086, 472615631, 3029510009, 4075877127, 3802222185, 4107101658, 3201631749, 1646252340, 4270507174, 1402811438, 1436590835, 3778151818, 3950355702, 3963161475, 4020912224, 2667994737, 273792366, 2331590177, 104699613, 95345982, 3175501286, 2377486676, 1560637892, 3564045318, 369057872, 4213447064, 3919042237, 1137477952, 2658625497, 1119727848, 2340947849, 1530455833, 4007360968, 172466556, 266959938, 516552836, 0, 2256734592, 3980931627, 1890328081, 1917742170, 4294704398, 945164165, 3575528878, 958871085, 3647212047, 2787207260, 1423022939, 775562294, 1739656202, 3876557655, 2530391278, 2443058075, 3310321856, 547512796, 1265195639, 437656594, 3121275539, 719700128, 3762502690, 387781147, 218828297, 3350065803, 2830708150, 2848461854, 428169201, 122466165, 3720081049, 1627235199, 648017665, 4122762354, 1002783846, 2117360635, 695634755, 3336358691, 4234721005, 4049844452, 3704280881, 2232435299, 574624663, 287343814, 612205898, 1039717051, 840019705, 2708326185, 793451934, 821288114, 1391201670, 3822090177, 376187827, 3113855344, 1224348052, 1679968233, 2361698556, 1058709744, 752375421, 2431590963, 1321699145, 3519142200, 2734591178, 188127444, 2177869557, 3727205754, 2384911031, 3215212461, 2648976442, 2450346104, 3432737375, 1180849278, 331544205, 3102249176, 4150144569, 2952102595, 2159976285, 2474404304, 766078933, 313773861, 2570832044, 2108100632, 1668212892, 3145456443, 2013908262, 418672217, 3070356634, 2594734927, 1852171925, 3867060991, 3473416636, 3907448597, 2614737639, 919489135, 164948639, 2094410160, 2997825956, 590424639, 2486224549, 1723872674, 3157750862, 3399941250, 3501252752, 3625268135, 2555048196, 3673637356, 1343127501, 4130281361, 3599595085, 2957853679, 1297403050, 81781910, 3051593425, 2283490410, 532201772, 1367295589, 3926170974, 895287692, 1953757831, 1093597963, 492483431, 3528626907, 1446242576, 1192455638, 1636604631, 209336225, 344873464, 1015671571, 669961897, 3375740769, 3857572124, 2973530695, 3747192018, 1933530610, 3464042516, 935293895, 3454686199, 2858115069, 1863638845, 3683022916, 4085369519, 3292445032, 875313188, 1080017571, 3279033885, 621591778, 1233856572, 2504130317, 24197544, 3017672716, 3835484340, 3247465558, 2220981195, 3060847922, 1551124588, 1463996600]
                  , Ge = [4104605777, 1097159550, 396673818, 660510266, 2875968315, 2638606623, 4200115116, 3808662347, 821712160, 1986918061, 3430322568, 38544885, 3856137295, 718002117, 893681702, 1654886325, 2975484382, 3122358053, 3926825029, 4274053469, 796197571, 1290801793, 1184342925, 3556361835, 2405426947, 2459735317, 1836772287, 1381620373, 3196267988, 1948373848, 3764988233, 3385345166, 3263785589, 2390325492, 1480485785, 3111247143, 3780097726, 2293045232, 548169417, 3459953789, 3746175075, 439452389, 1362321559, 1400849762, 1685577905, 1806599355, 2174754046, 137073913, 1214797936, 1174215055, 3731654548, 2079897426, 1943217067, 1258480242, 529487843, 1437280870, 3945269170, 3049390895, 3313212038, 923313619, 679998e3, 3215307299, 57326082, 377642221, 3474729866, 2041877159, 133361907, 1776460110, 3673476453, 96392454, 878845905, 2801699524, 777231668, 4082475170, 2330014213, 4142626212, 2213296395, 1626319424, 1906247262, 1846563261, 562755902, 3708173718, 1040559837, 3871163981, 1418573201, 3294430577, 114585348, 1343618912, 2566595609, 3186202582, 1078185097, 3651041127, 3896688048, 2307622919, 425408743, 3371096953, 2081048481, 1108339068, 2216610296, 0, 2156299017, 736970802, 292596766, 1517440620, 251657213, 2235061775, 2933202493, 758720310, 265905162, 1554391400, 1532285339, 908999204, 174567692, 1474760595, 4002861748, 2610011675, 3234156416, 3693126241, 2001430874, 303699484, 2478443234, 2687165888, 585122620, 454499602, 151849742, 2345119218, 3064510765, 514443284, 4044981591, 1963412655, 2581445614, 2137062819, 19308535, 1928707164, 1715193156, 4219352155, 1126790795, 600235211, 3992742070, 3841024952, 836553431, 1669664834, 2535604243, 3323011204, 1243905413, 3141400786, 4180808110, 698445255, 2653899549, 2989552604, 2253581325, 3252932727, 3004591147, 1891211689, 2487810577, 3915653703, 4237083816, 4030667424, 2100090966, 865136418, 1229899655, 953270745, 3399679628, 3557504664, 4118925222, 2061379749, 3079546586, 2915017791, 983426092, 2022837584, 1607244650, 2118541908, 2366882550, 3635996816, 972512814, 3283088770, 1568718495, 3499326569, 3576539503, 621982671, 2895723464, 410887952, 2623762152, 1002142683, 645401037, 1494807662, 2595684844, 1335535747, 2507040230, 4293295786, 3167684641, 367585007, 3885750714, 1865862730, 2668221674, 2960971305, 2763173681, 1059270954, 2777952454, 2724642869, 1320957812, 2194319100, 2429595872, 2815956275, 77089521, 3973773121, 3444575871, 2448830231, 1305906550, 4021308739, 2857194700, 2516901860, 3518358430, 1787304780, 740276417, 1699839814, 1592394909, 2352307457, 2272556026, 188821243, 1729977011, 3687994002, 274084841, 3594982253, 3613494426, 2701949495, 4162096729, 322734571, 2837966542, 1640576439, 484830689, 1202797690, 3537852828, 4067639125, 349075736, 3342319475, 4157467219, 4255800159, 1030690015, 1155237496, 2951971274, 1757691577, 607398968, 2738905026, 499347990, 3794078908, 1011452712, 227885567, 2818666809, 213114376, 3034881240, 1455525988, 3414450555, 850817237, 1817998408, 3092726480]
                  , Ke = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795]
                  , We = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855]
                  , Xe = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150]
                  , Qe = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925]
                  , Je = function e(t) {
                    if (!(this instanceof e))
                        throw Error("AES must be instanitated with new");
                    Object.defineProperty(this, "key", {
                        value: r(t, !0)
                    }),
                    this._prepare()
                };
                Je.prototype._prepare = function() {
                    var e = Oe[this.key.length];
                    if (null == e)
                        throw new Error("invalid key size (must be 16, 24 or 32 bytes)");
                    this._Ke = [],
                    this._Kd = [];
                    for (var t = 0; t <= e; t++)
                        this._Ke.push([0, 0, 0, 0]),
                        this._Kd.push([0, 0, 0, 0]);
                    var n, i = 4 * (e + 1), r = this.key.length / 4, a = s(this.key);
                    for (t = 0; t < r; t++)
                        n = t >> 2,
                        this._Ke[n][t % 4] = a[t],
                        this._Kd[e - n][t % 4] = a[t];
                    for (var o, l = 0, u = r; u < i; ) {
                        if (o = a[r - 1],
                        a[0] ^= Be[o >> 16 & 255] << 24 ^ Be[o >> 8 & 255] << 16 ^ Be[255 & o] << 8 ^ Be[o >> 24 & 255] ^ Ne[l] << 24,
                        l += 1,
                        8 != r)
                            for (t = 1; t < r; t++)
                                a[t] ^= a[t - 1];
                        else {
                            for (t = 1; t < r / 2; t++)
                                a[t] ^= a[t - 1];
                            for (o = a[r / 2 - 1],
                            a[r / 2] ^= Be[255 & o] ^ Be[o >> 8 & 255] << 8 ^ Be[o >> 16 & 255] << 16 ^ Be[o >> 24 & 255] << 24,
                            t = r / 2 + 1; t < r; t++)
                                a[t] ^= a[t - 1]
                        }
                        for (t = 0; t < r && u < i; )
                            d = u >> 2,
                            c = u % 4,
                            this._Ke[d][c] = a[t],
                            this._Kd[e - d][c] = a[t++],
                            u++
                    }
                    for (var d = 1; d < e; d++)
                        for (var c = 0; c < 4; c++)
                            o = this._Kd[d][c],
                            this._Kd[d][c] = Ke[o >> 24 & 255] ^ We[o >> 16 & 255] ^ Xe[o >> 8 & 255] ^ Qe[255 & o]
                }
                ,
                Je.prototype.encrypt = function(e) {
                    if (16 != e.length)
                        throw new Error("invalid plaintext size (must be 16 bytes)");
                    for (var t = this._Ke.length - 1, n = [0, 0, 0, 0], i = s(e), r = 0; r < 4; r++)
                        i[r] ^= this._Ke[0][r];
                    for (var o = 1; o < t; o++) {
                        for (r = 0; r < 4; r++)
                            n[r] = Ue[i[r] >> 24 & 255] ^ je[i[(r + 1) % 4] >> 16 & 255] ^ Ve[i[(r + 2) % 4] >> 8 & 255] ^ He[255 & i[(r + 3) % 4]] ^ this._Ke[o][r];
                        i = n.slice()
                    }
                    var l, u = a(16);
                    for (r = 0; r < 4; r++)
                        l = this._Ke[t][r],
                        u[4 * r] = 255 & (Be[i[r] >> 24 & 255] ^ l >> 24),
                        u[4 * r + 1] = 255 & (Be[i[(r + 1) % 4] >> 16 & 255] ^ l >> 16),
                        u[4 * r + 2] = 255 & (Be[i[(r + 2) % 4] >> 8 & 255] ^ l >> 8),
                        u[4 * r + 3] = 255 & (Be[255 & i[(r + 3) % 4]] ^ l);
                    return u
                }
                ,
                Je.prototype.decrypt = function(e) {
                    if (16 != e.length)
                        throw new Error("invalid ciphertext size (must be 16 bytes)");
                    for (var t = this._Kd.length - 1, n = [0, 0, 0, 0], i = s(e), r = 0; r < 4; r++)
                        i[r] ^= this._Kd[0][r];
                    for (var o = 1; o < t; o++) {
                        for (r = 0; r < 4; r++)
                            n[r] = qe[i[r] >> 24 & 255] ^ ze[i[(r + 3) % 4] >> 16 & 255] ^ Ye[i[(r + 2) % 4] >> 8 & 255] ^ Ge[255 & i[(r + 1) % 4]] ^ this._Kd[o][r];
                        i = n.slice()
                    }
                    var l, u = a(16);
                    for (r = 0; r < 4; r++)
                        l = this._Kd[t][r],
                        u[4 * r] = 255 & (Fe[i[r] >> 24 & 255] ^ l >> 24),
                        u[4 * r + 1] = 255 & (Fe[i[(r + 3) % 4] >> 16 & 255] ^ l >> 16),
                        u[4 * r + 2] = 255 & (Fe[i[(r + 2) % 4] >> 8 & 255] ^ l >> 8),
                        u[4 * r + 3] = 255 & (Fe[255 & i[(r + 1) % 4]] ^ l);
                    return u
                }
                ;
                var Ze = function e(t) {
                    if (!(this instanceof e))
                        throw Error("AES must be instanitated with new");
                    this.description = "Electronic Code Block",
                    this.name = "ecb",
                    this._aes = new Je(t)
                };
                Ze.prototype.encrypt = function(e) {
                    if ((e = r(e)).length % 16 != 0)
                        throw new Error("invalid plaintext size (must be multiple of 16 bytes)");
                    for (var t = a(e.length), n = a(16), i = 0; i < e.length; i += 16)
                        o(e, n, 0, i, i + 16),
                        o(n = this._aes.encrypt(n), t, i);
                    return t
                }
                ,
                Ze.prototype.decrypt = function(e) {
                    if ((e = r(e)).length % 16 != 0)
                        throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");
                    for (var t = a(e.length), n = a(16), i = 0; i < e.length; i += 16)
                        o(e, n, 0, i, i + 16),
                        o(n = this._aes.decrypt(n), t, i);
                    return t
                }
                ;
                var $e = {
                    AES: Je,
                    ModeOfOperation: {
                        ecb: Ze
                    },
                    _arrayTest: {
                        coerceArray: r,
                        createArray: a,
                        copyArray: o
                    }
                }
                  , et = null
                  , tt = function(e, t) {
                    null != t && (et = new $e.ModeOfOperation.ecb(t)),
                    et = et || new $e.ModeOfOperation.ecb(t);
                    var n = e.length
                      , i = n % 16;
                    if (i) {
                        var r = et.decrypt(e.subarray(0, n - i))
                          , a = e.subarray(n - i)
                          , o = new Uint8Array(r.length + a.length);
                        return o.set(r, 0),
                        o.set(a, r.length),
                        o
                    }
                    return et.decrypt(e)
                }
                  , nt = function(e, t) {
                    var n = 1;
                    for (t < e && (n = -1); 4294967296 < Math.abs(t - e); )
                        e += 8589934592 * n;
                    return e
                }
                  , it = function e(t) {
                    var n, i;
                    e.prototype.init.call(this),
                    this.type_ = t,
                    this.push = function(e) {
                        e.type === this.type_ && (void 0 === i && (i = e.dts),
                        e.dts = nt(e.dts, i),
                        e.pts = nt(e.pts, i),
                        n = e.dts,
                        this.trigger("data", e))
                    }
                    ,
                    this.flush = function() {
                        i = n,
                        this.trigger("done")
                    }
                    ,
                    this.discontinuity = function() {
                        n = i = void 0
                    }
                };
                it.prototype = new oe;
                var rt, at = it, ot = function(e, t, n) {
                    var i, r = "";
                    for (i = t; i < n; i++)
                        r += "%" + ("00" + e[i].toString(16)).slice(-2);
                    return r
                }, st = function(e, t, n) {
                    return decodeURIComponent(ot(e, t, n))
                }, lt = function(e) {
                    return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                }, ut = {
                    TXXX: function(e) {
                        var t;
                        if (3 === e.data[0]) {
                            for (t = 1; t < e.data.length; t++)
                                if (0 === e.data[t]) {
                                    e.description = st(e.data, 1, t),
                                    e.value = st(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                    break
                                }
                            e.data = e.value
                        }
                    },
                    WXXX: function(e) {
                        var t;
                        if (3 === e.data[0])
                            for (t = 1; t < e.data.length; t++)
                                if (0 === e.data[t]) {
                                    e.description = st(e.data, 1, t),
                                    e.url = st(e.data, t + 1, e.data.length);
                                    break
                                }
                    },
                    PRIV: function(e) {
                        var t, n;
                        for (t = 0; t < e.data.length; t++)
                            if (0 === e.data[t]) {
                                e.owner = (n = e.data,
                                unescape(ot(n, 0, t)));
                                break
                            }
                        e.privateData = e.data.subarray(t + 1),
                        e.data = e.privateData
                    }
                };
                (rt = function(e) {
                    var t, n = {
                        debug: !(!e || !e.debug),
                        descriptor: e && e.descriptor
                    }, i = 0, r = [], a = 0;
                    if (rt.prototype.init.call(this),
                    this.dispatchType = Me.METADATA_STREAM_TYPE.toString(16),
                    n.descriptor)
                        for (t = 0; t < n.descriptor.length; t++)
                            this.dispatchType += ("00" + n.descriptor[t].toString(16)).slice(-2);
                    this.push = function(e) {
                        var t, o, s, l, u;
                        if ("timed-metadata" === e.type)
                            if (e.dataAlignmentIndicator && (a = 0,
                            r.length = 0),
                            0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)))
                                n.debug && console.log("Skipping unrecognized metadata packet");
                            else if (r.push(e),
                            a += e.data.byteLength,
                            1 === r.length && (i = lt(e.data.subarray(6, 10)),
                            i += 10),
                            !(a < i)) {
                                for (t = {
                                    data: new Uint8Array(i),
                                    frames: [],
                                    pts: r[0].pts,
                                    dts: r[0].dts
                                },
                                u = 0; u < i; )
                                    t.data.set(r[0].data.subarray(0, i - u), u),
                                    u += r[0].data.byteLength,
                                    a -= r[0].data.byteLength,
                                    r.shift();
                                o = 10,
                                64 & t.data[5] && (o += 4,
                                o += lt(t.data.subarray(10, 14)),
                                i -= lt(t.data.subarray(16, 20)));
                                do {
                                    if ((s = lt(t.data.subarray(o + 4, o + 8))) < 1)
                                        return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                                    if ((l = {
                                        id: String.fromCharCode(t.data[o], t.data[o + 1], t.data[o + 2], t.data[o + 3]),
                                        data: t.data.subarray(o + 10, o + s + 10)
                                    }).key = l.id,
                                    ut[l.id] && (ut[l.id](l),
                                    "com.apple.streaming.transportStreamTimestamp" === l.owner)) {
                                        var d = l.data
                                          , c = (1 & d[3]) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;
                                        c *= 4,
                                        c += 3 & d[7],
                                        l.timeStamp = c,
                                        void 0 === t.pts && void 0 === t.dts && (t.pts = l.timeStamp,
                                        t.dts = l.timeStamp),
                                        this.trigger("timestamp", l)
                                    }
                                    t.frames.push(l),
                                    o += 10,
                                    o += s
                                } while (o < i);
                                this.trigger("data", t)
                            }
                    }
                }
                ).prototype = new oe;
                var dt, ct, ht, pt = rt, ft = at;
                (dt = function() {
                    var e = new Uint8Array(188)
                      , t = 0;
                    dt.prototype.init.call(this),
                    this.push = function(n) {
                        var i, r = 0, a = 188;
                        for (t ? ((i = new Uint8Array(n.byteLength + t)).set(e.subarray(0, t)),
                        i.set(n, t),
                        t = 0) : i = n; a < i.byteLength; )
                            71 !== i[r] || 71 !== i[a] ? (r++,
                            a++) : (this.trigger("data", i.subarray(r, a)),
                            r += 188,
                            a += 188);
                        r < i.byteLength && (e.set(i.subarray(r), 0),
                        t = i.byteLength - r)
                    }
                    ,
                    this.flush = function() {
                        188 === t && 71 === e[0] && (this.trigger("data", e),
                        t = 0),
                        this.trigger("done")
                    }
                }
                ).prototype = new oe,
                (ct = function() {
                    var e, t, n, i;
                    ct.prototype.init.call(this),
                    (i = this).packetsWaitingForPmt = [],
                    this.programMapTable = void 0,
                    e = function(e, i) {
                        var r = 0;
                        i.payloadUnitStartIndicator && (r += e[r] + 1),
                        "pat" === i.type ? t(e.subarray(r), i) : n(e.subarray(r), i)
                    }
                    ,
                    t = function(e, t) {
                        t.section_number = e[7],
                        t.last_section_number = e[8],
                        i.pmtPid = (31 & e[10]) << 8 | e[11],
                        t.pmtPid = i.pmtPid
                    }
                    ,
                    n = function(e, t) {
                        var n, r;
                        if (1 & e[5]) {
                            for (i.programMapTable = {
                                video: null,
                                audio: null,
                                "timed-metadata": {}
                            },
                            n = 3 + ((15 & e[1]) << 8 | e[2]) - 4,
                            r = 12 + ((15 & e[10]) << 8 | e[11]); r < n; ) {
                                var a = e[r]
                                  , o = (31 & e[r + 1]) << 8 | e[r + 2];
                                a === Me.H264_STREAM_TYPE && null === i.programMapTable.video ? i.programMapTable.video = o : a === Me.ADTS_STREAM_TYPE && null === i.programMapTable.audio ? i.programMapTable.audio = o : a === Me.METADATA_STREAM_TYPE && (i.programMapTable["timed-metadata"][o] = a),
                                r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                            }
                            t.programMapTable = i.programMapTable
                        }
                    }
                    ,
                    this.push = function(t) {
                        var n = {}
                          , i = 4;
                        if (n.payloadUnitStartIndicator = !!(64 & t[1]),
                        n.pid = 31 & t[1],
                        n.pid <<= 8,
                        n.pid |= t[2],
                        1 < (48 & t[3]) >>> 4 && (i += t[i] + 1),
                        0 === n.pid)
                            n.type = "pat",
                            e(t.subarray(i), n),
                            this.trigger("data", n);
                        else if (n.pid === this.pmtPid)
                            for (n.type = "pmt",
                            e(t.subarray(i), n),
                            this.trigger("data", n); this.packetsWaitingForPmt.length; )
                                this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                        else
                            void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, i, n]) : this.processPes_(t, i, n)
                    }
                    ,
                    this.processPes_ = function(e, t, n) {
                        n.pid === this.programMapTable.video ? n.streamType = Me.H264_STREAM_TYPE : n.pid === this.programMapTable.audio ? n.streamType = Me.ADTS_STREAM_TYPE : n.streamType = this.programMapTable["timed-metadata"][n.pid],
                        n.type = "pes",
                        n.data = e.subarray(t),
                        this.trigger("data", n)
                    }
                }
                ).prototype = new oe,
                ct.STREAM_TYPES = {
                    h264: 27,
                    adts: 15
                },
                (ht = function(e) {
                    var t = this
                      , n = {
                        data: [],
                        size: 0
                    }
                      , i = {
                        data: [],
                        size: 0
                    }
                      , r = {
                        data: [],
                        size: 0
                    }
                      , a = !1
                      , o = function(n, i, r) {
                        var o, s, l = new Uint8Array(n.size), u = {
                            type: i
                        }, d = 0, c = 0;
                        if (n.data.length && !(n.size < 9)) {
                            for (u.trackId = n.data[0].pid,
                            d = 0; d < n.data.length; d++)
                                s = n.data[d],
                                l.set(s.data, c),
                                c += s.data.byteLength;
                            var h, p, f;
                            h = l,
                            (p = u).packetLength = 6 + (h[4] << 8 | h[5]),
                            p.dataAlignmentIndicator = 0 != (4 & h[6]),
                            192 & (f = h[7]) && (p.pts = (14 & h[9]) << 27 | (255 & h[10]) << 20 | (254 & h[11]) << 12 | (255 & h[12]) << 5 | (254 & h[13]) >>> 3,
                            p.pts *= 4,
                            p.pts += (6 & h[13]) >>> 1,
                            p.dts = p.pts,
                            64 & f && (p.dts = (14 & h[14]) << 27 | (255 & h[15]) << 20 | (254 & h[16]) << 12 | (255 & h[17]) << 5 | (254 & h[18]) >>> 3,
                            p.dts *= 4,
                            p.dts += (6 & h[18]) >>> 1)),
                            p.data = h.subarray(9 + h[8]),
                            e.decodeKey && a && (p.data = tt(p.data, e.decodeKey)),
                            o = "video" === i || u.packetLength <= n.size,
                            (r || o) && (n.size = 0,
                            n.data.length = 0),
                            o && t.trigger("data", u)
                        }
                    };
                    ht.prototype.init.call(this),
                    this.setEncrypted = function(e) {
                        a = e
                    }
                    ,
                    this.push = function(e) {
                        ({
                            pat: function() {},
                            pes: function() {
                                var t, a;
                                switch (e.streamType) {
                                case Me.H264_STREAM_TYPE:
                                case Me.H264_STREAM_TYPE:
                                    t = n,
                                    a = "video";
                                    break;
                                case Me.ADTS_STREAM_TYPE:
                                    t = i,
                                    a = "audio";
                                    break;
                                case Me.METADATA_STREAM_TYPE:
                                    t = r,
                                    a = "timed-metadata";
                                    break;
                                default:
                                    return
                                }
                                e.payloadUnitStartIndicator && o(t, a, !0),
                                t.data.push(e),
                                t.size += e.data.byteLength
                            },
                            pmt: function() {
                                var n = {
                                    type: "metadata",
                                    tracks: []
                                }
                                  , i = e.programMapTable;
                                i && null !== i.video && n.tracks.push({
                                    timelineStartInfo: {
                                        baseMediaDecodeTime: 0
                                    },
                                    id: +i.video,
                                    codec: "avc",
                                    type: "video"
                                }),
                                i && null !== i.audio && n.tracks.push({
                                    timelineStartInfo: {
                                        baseMediaDecodeTime: 0
                                    },
                                    id: +i.audio,
                                    codec: "adts",
                                    type: "audio"
                                }),
                                t.trigger("data", n)
                            }
                        })[e.type]()
                    }
                    ,
                    this.flush = function() {
                        o(i, "audio"),
                        o(n, "video"),
                        o(r, "timed-metadata"),
                        this.trigger("done")
                    }
                }
                ).prototype = new oe;
                var mt = {
                    PAT_PID: 0,
                    MP2T_PACKET_LENGTH: 188,
                    TransportPacketStream: dt,
                    TransportParseStream: ct,
                    ElementaryStream: ht,
                    TimestampRolloverStream: ft,
                    CaptionStream: Ie.CaptionStream,
                    Cea608Stream: Ie.Cea608Stream,
                    MetadataStream: pt
                };
                for (var yt in Me)
                    Me.hasOwnProperty(yt) && (mt[yt] = Me[yt]);
                var gt, vt = mt, _t = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                (gt = function() {
                    var e;
                    gt.prototype.init.call(this),
                    this.push = function(t) {
                        var n, i, r, a, o, s, l = 0, u = 0;
                        if ("audio" === t.type)
                            for (e ? (a = e,
                            (e = new Uint8Array(a.byteLength + t.data.byteLength)).set(a),
                            e.set(t.data, a.byteLength)) : e = t.data; l + 5 < e.length; )
                                if (255 === e[l] && 240 == (246 & e[l + 1])) {
                                    if (i = 2 * (1 & ~e[l + 1]),
                                    n = (3 & e[l + 3]) << 11 | e[l + 4] << 3 | (224 & e[l + 5]) >> 5,
                                    s = 9e4 * (o = 1024 * (1 + (3 & e[l + 6]))) / _t[(60 & e[l + 2]) >>> 2],
                                    r = l + n,
                                    e.byteLength < r)
                                        return;
                                    if (this.trigger("data", {
                                        pts: t.pts + u * s,
                                        dts: t.dts + u * s,
                                        sampleCount: o,
                                        audioobjecttype: 1 + (e[l + 2] >>> 6 & 3),
                                        channelcount: (1 & e[l + 2]) << 2 | (192 & e[l + 3]) >>> 6,
                                        samplerate: _t[(60 & e[l + 2]) >>> 2],
                                        samplingfrequencyindex: (60 & e[l + 2]) >>> 2,
                                        samplesize: 16,
                                        data: e.subarray(l + 7 + i, r)
                                    }),
                                    e.byteLength === r)
                                        return void (e = void 0);
                                    u++,
                                    e = e.subarray(r)
                                } else
                                    l++
                    }
                    ,
                    this.flush = function() {
                        this.trigger("done")
                    }
                }
                ).prototype = new oe;
                var bt, kt, St, Et, wt = gt, xt = function(e) {
                    var t = e.byteLength
                      , n = 0
                      , i = 0;
                    this.length = function() {
                        return 8 * t
                    }
                    ,
                    this.bitsAvailable = function() {
                        return 8 * t + i
                    }
                    ,
                    this.loadWord = function() {
                        var r = e.byteLength - t
                          , a = new Uint8Array(4)
                          , o = Math.min(4, t);
                        if (0 === o)
                            throw new Error("no bytes available");
                        a.set(e.subarray(r, r + o)),
                        n = new DataView(a.buffer).getUint32(0),
                        i = 8 * o,
                        t -= o
                    }
                    ,
                    this.skipBits = function(e) {
                        var r;
                        e < i || (e -= i,
                        e -= 8 * (r = Math.floor(e / 8)),
                        t -= r,
                        this.loadWord()),
                        n <<= e,
                        i -= e
                    }
                    ,
                    this.readBits = function(e) {
                        var r = Math.min(i, e)
                          , a = n >>> 32 - r;
                        return 0 < (i -= r) ? n <<= r : 0 < t && this.loadWord(),
                        0 < (r = e - r) ? a << r | this.readBits(r) : a
                    }
                    ,
                    this.skipLeadingZeros = function() {
                        var e;
                        for (e = 0; e < i; ++e)
                            if (0 != (n & 2147483648 >>> e))
                                return n <<= e,
                                i -= e,
                                e;
                        return this.loadWord(),
                        e + this.skipLeadingZeros()
                    }
                    ,
                    this.skipUnsignedExpGolomb = function() {
                        this.skipBits(1 + this.skipLeadingZeros())
                    }
                    ,
                    this.skipExpGolomb = function() {
                        this.skipBits(1 + this.skipLeadingZeros())
                    }
                    ,
                    this.readUnsignedExpGolomb = function() {
                        var e = this.skipLeadingZeros();
                        return this.readBits(e + 1) - 1
                    }
                    ,
                    this.readExpGolomb = function() {
                        var e = this.readUnsignedExpGolomb();
                        return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                    }
                    ,
                    this.readBoolean = function() {
                        return 1 === this.readBits(1)
                    }
                    ,
                    this.readUnsignedByte = function() {
                        return this.readBits(8)
                    }
                    ,
                    this.loadWord()
                };
                (kt = function() {
                    var e, t, n = 0;
                    kt.prototype.init.call(this),
                    this.push = function(i) {
                        var r;
                        for (t = t ? ((r = new Uint8Array(t.byteLength + i.data.byteLength)).set(t),
                        r.set(i.data, t.byteLength),
                        r) : i.data; n < t.byteLength - 3; n++)
                            if (1 === t[n + 2]) {
                                e = n + 5;
                                break
                            }
                        for (; e < t.byteLength; )
                            switch (t[e]) {
                            case 0:
                                if (0 !== t[e - 1]) {
                                    e += 2;
                                    break
                                }
                                if (0 !== t[e - 2]) {
                                    e++;
                                    break
                                }
                                for (n + 3 !== e - 2 && this.trigger("data", t.subarray(n + 3, e - 2)); 1 !== t[++e] && e < t.length; )
                                    ;
                                n = e - 2,
                                e += 3;
                                break;
                            case 1:
                                if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                    e += 3;
                                    break
                                }
                                n + 3 !== e - 2 && this.trigger("data", t.subarray(n + 3, e - 2)),
                                n = e - 2,
                                e += 3;
                                break;
                            default:
                                e += 3
                            }
                        t = t.subarray(n),
                        e -= n,
                        n = 0
                    }
                    ,
                    this.flush = function() {
                        t && 3 < t.byteLength && this.trigger("data", t.subarray(n + 3)),
                        t = null,
                        n = 0,
                        this.trigger("done")
                    }
                }
                ).prototype = new oe,
                St = {
                    100: !0,
                    110: !0,
                    122: !0,
                    244: !0,
                    44: !0,
                    83: !0,
                    86: !0,
                    118: !0,
                    128: !0,
                    138: !0,
                    139: !0,
                    134: !0
                },
                (bt = function() {
                    var e, t, n, i, r, a, o, s = new kt;
                    bt.prototype.init.call(this),
                    (e = this).push = function(e) {
                        "video" === e.type && (t = e.trackId,
                        n = e.pts,
                        i = e.dts,
                        s.push(e))
                    }
                    ,
                    s.on("data", function(o) {
                        var s = {
                            trackId: t,
                            pts: n,
                            dts: i,
                            data: o
                        };
                        switch (31 & o[0]) {
                        case 1:
                            s.nalUnitType = "NDR";
                            break;
                        case 5:
                            s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                            break;
                        case 6:
                            s.nalUnitType = "sei_rbsp",
                            s.escapedRBSP = r(o.subarray(1));
                            break;
                        case 7:
                            s.nalUnitType = "seq_parameter_set_rbsp",
                            s.escapedRBSP = r(o.subarray(1)),
                            s.config = a(s.escapedRBSP);
                            break;
                        case 8:
                            s.nalUnitType = "pic_parameter_set_rbsp";
                            break;
                        case 9:
                            s.nalUnitType = "access_unit_delimiter_rbsp";
                            break;
                        default:
                            return
                        }
                        e.trigger("data", s)
                    }),
                    s.on("done", function() {
                        e.trigger("done")
                    }),
                    this.flush = function() {
                        s.flush()
                    }
                    ,
                    o = function(e, t) {
                        var n, i = 8, r = 8;
                        for (n = 0; n < e; n++)
                            0 !== r && (r = (i + t.readExpGolomb() + 256) % 256),
                            i = 0 === r ? i : r
                    }
                    ,
                    r = function(e) {
                        for (var t, n, i = e.byteLength, r = [], a = 1; a < i - 2; )
                            0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (r.push(a + 2),
                            a += 2) : a++;
                        if (0 === r.length)
                            return e;
                        t = i - r.length,
                        n = new Uint8Array(t);
                        var o = 0;
                        for (a = 0; a < t; o++,
                        a++)
                            o === r[0] && (o++,
                            r.shift()),
                            n[a] = e[o];
                        return n
                    }
                    ,
                    a = function(e) {
                        var t, n, i, r, a, s, l, u, d, c, h, p, f = 0, m = 0, y = 0, g = 0, v = [1, 1];
                        try {
                            if (n = (t = new xt(e)).readUnsignedByte(),
                            r = t.readUnsignedByte(),
                            i = t.readUnsignedByte(),
                            t.skipUnsignedExpGolomb(),
                            St[n] && (3 === (a = t.readUnsignedExpGolomb()) && t.skipBits(1),
                            t.skipUnsignedExpGolomb(),
                            t.skipUnsignedExpGolomb(),
                            t.skipBits(1),
                            t.readBoolean()))
                                for (h = 3 !== a ? 8 : 12,
                                p = 0; p < h; p++)
                                    t.readBoolean() && o(p < 6 ? 16 : 64, t);
                            if (t.skipUnsignedExpGolomb(),
                            0 === (s = t.readUnsignedExpGolomb()))
                                t.readUnsignedExpGolomb();
                            else if (1 === s)
                                for (t.skipBits(1),
                                t.skipExpGolomb(),
                                t.skipExpGolomb(),
                                l = t.readUnsignedExpGolomb(),
                                p = 0; p < l; p++)
                                    t.skipExpGolomb();
                            if (t.skipUnsignedExpGolomb(),
                            t.skipBits(1),
                            u = t.readUnsignedExpGolomb(),
                            d = t.readUnsignedExpGolomb(),
                            0 === (c = t.readBits(1)) && t.skipBits(1),
                            t.skipBits(1),
                            t.readBoolean() && (f = t.readUnsignedExpGolomb(),
                            m = t.readUnsignedExpGolomb(),
                            y = t.readUnsignedExpGolomb(),
                            g = t.readUnsignedExpGolomb()),
                            t.readBoolean() && t.readBoolean()) {
                                switch (t.readUnsignedByte()) {
                                case 1:
                                    v = [1, 1];
                                    break;
                                case 2:
                                    v = [12, 11];
                                    break;
                                case 3:
                                    v = [10, 11];
                                    break;
                                case 4:
                                    v = [16, 11];
                                    break;
                                case 5:
                                    v = [40, 33];
                                    break;
                                case 6:
                                    v = [24, 11];
                                    break;
                                case 7:
                                    v = [20, 11];
                                    break;
                                case 8:
                                    v = [32, 11];
                                    break;
                                case 9:
                                    v = [80, 33];
                                    break;
                                case 10:
                                    v = [18, 11];
                                    break;
                                case 11:
                                    v = [15, 11];
                                    break;
                                case 12:
                                    v = [64, 33];
                                    break;
                                case 13:
                                    v = [160, 99];
                                    break;
                                case 14:
                                    v = [4, 3];
                                    break;
                                case 15:
                                    v = [3, 2];
                                    break;
                                case 16:
                                    v = [2, 1];
                                    break;
                                case 255:
                                    v = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                                }
                                v && (v[0],
                                v[1])
                            }
                        } catch (e) {
                            if (Et)
                                return Et;
                            throw e
                        }
                        return Et = {
                            profileIdc: n,
                            levelIdc: i,
                            sarRatio: v,
                            profileCompatibility: r,
                            width: Math.ceil(16 * (u + 1) - 2 * f - 2 * m),
                            height: (2 - c) * (d + 1) * 16 - 2 * y - 2 * g
                        }
                    }
                }
                ).prototype = new oe;
                var Tt, At = {
                    H264Stream: bt,
                    NalByteStream: kt
                }, Lt = function(e) {
                    return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                }, Ct = function(e, t) {
                    var n = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                    return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10
                }, Dt = function(e, t) {
                    var n = (224 & e[t + 5]) >> 5
                      , i = e[t + 4] << 3;
                    return 6144 & e[t + 3] | i | n
                };
                (Tt = function() {
                    var e = new Uint8Array
                      , t = 0;
                    Tt.prototype.init.call(this),
                    this.setTimestamp = function(e) {
                        t = e
                    }
                    ,
                    this.push = function(n) {
                        var i, r, a, o, s = 0, l = 0;
                        for (e.length ? (o = e.length,
                        (e = new Uint8Array(n.byteLength + o)).set(e.subarray(0, o)),
                        e.set(n, o)) : e = n; 3 <= e.length - l; )
                            if (e[l] !== "I".charCodeAt(0) || e[l + 1] !== "D".charCodeAt(0) || e[l + 2] !== "3".charCodeAt(0))
                                if (255 != (255 & e[l]) || 240 != (240 & e[l + 1]))
                                    l++;
                                else {
                                    if (e.length - l < 7)
                                        break;
                                    if (l + (s = Dt(e, l)) > e.length)
                                        break;
                                    a = {
                                        type: "audio",
                                        data: e.subarray(l, l + s),
                                        pts: t,
                                        dts: t
                                    },
                                    this.trigger("data", a),
                                    l += s
                                }
                            else {
                                if (e.length - l < 10)
                                    break;
                                if (l + (s = Ct(e, l)) > e.length)
                                    break;
                                r = {
                                    type: "timed-metadata",
                                    data: e.subarray(l, l + s)
                                },
                                this.trigger("data", r),
                                l += s
                            }
                        i = e.length - l,
                        e = 0 < i ? e.subarray(l) : new Uint8Array
                    }
                }
                ).prototype = new oe;
                var Pt, Rt, It, Mt, Ot = Tt, Nt = At.H264Stream, Bt = Lt, Ft = /Version\/[\d.]+\s*Safari\/[\d.]+/.test(navigator.userAgent), Ut = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"], jt = ["width", "height", "profileIdc", "levelIdc", "sarRatio", "profileCompatibility"], Vt = {}, Ht = function(e, t) {
                    var n;
                    if (e.length !== t.length)
                        return !1;
                    for (n = 0; n < e.length; n++)
                        if (e[n] !== t[n])
                            return !1;
                    return !0
                };
                (Rt = function(e, t) {
                    var n = []
                      , i = 0;
                    t = t || {},
                    Rt.prototype.init.call(this),
                    this.push = function(t) {
                        be(e, t, Vt),
                        e && Ut.forEach(function(n) {
                            e[n] = t[n]
                        }),
                        n.push(t)
                    }
                    ,
                    this.setEarliestDts = function(t) {
                        e.timelineStartInfo.baseMediaDecodeTime
                    }
                    ,
                    this.setVideoBaseMediaDecodeTime = function(e) {}
                    ,
                    this.setAudioAppendStart = function(t) {
                        e.samplerate
                    }
                    ,
                    this.flush = function() {
                        var r, a, o, s;
                        if (0 !== n.length) {
                            r = n;
                            var l = 9e4 / e.samplerate;
                            ke(Vt),
                            e.rawPts = [r[0].pts, r[r.length - 1].pts + r[r.length - 1].sampleCount * l],
                            e.baseMediaDecodeTime = _e(e, t.keepOriginalTimestamps),
                            r.forEach(function(e) {
                                e.pts = e.dts = Math.max(0, e.pts - Vt.pts)
                            }),
                            r = r.filter(function(e) {
                                return 0 <= e.pts
                            });
                            var u = Vt.nextAudioPts;
                            if (e.ref = u,
                            e.disc = Vt.continuous,
                            Vt.continuous || (u = Vt.accurateTimeOffset ? 9e4 * Vt.timeOffset + Math.max(0, Vt.audioVideoShift) : r[0].pts),
                            ye.fixAudioFrames(e, r, u),
                            0 < r.length) {
                                e.baseMediaDecodeTime = r[0].pts / l;
                                var d = r[r.length - 1].sampleCount * l;
                                e.pts = [r[0].pts, r[r.length - 1].pts + d],
                                e.start = r[0].pts / 9e4;
                                var c = r[r.length - 1];
                                Vt.nextAudioPts = c.pts + d,
                                e.samples = ye.generateSampleTable(r),
                                o = ne.mdat(ye.concatenateFrameData(r)),
                                e.end = Vt.nextAudioPts / 9e4,
                                n = [],
                                a = ne.moof(i, [e]),
                                s = new Uint8Array(a.byteLength + o.byteLength),
                                i++,
                                s.set(a),
                                s.set(o, a.byteLength)
                            } else
                                e.start = Vt.nextAudioPts / 9e4,
                                e.end = e.start;
                            this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
                            this.trigger("timelineStartInfo", e.timelineStartInfo),
                            this.trigger("data", {
                                track: e,
                                boxes: s
                            }),
                            this.trigger("done", "AudioSegmentStream")
                        } else
                            this.trigger("done", "AudioSegmentStream")
                    }
                }
                ).prototype = new oe,
                (Pt = function(e, t) {
                    var n, i, r = 0, a = [], o = [];
                    t = t || {},
                    Pt.prototype.init.call(this),
                    delete e.minPTS,
                    this.gopCache_ = [],
                    this.setVideoAppendStart = function(e) {}
                    ,
                    this.push = function(t) {
                        be(e, t, Vt),
                        "seq_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.config,
                        e.sps = [t.data],
                        jt.forEach(function(t) {
                            e[t] = n[t]
                        }, this)),
                        "pic_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.data,
                        e.pps = [t.data]),
                        t.id = a.length,
                        a.push(t)
                    }
                    ,
                    this.flush = function() {
                        for (var n, i, s, l, u; a.length && "access_unit_delimiter_rbsp" !== a[0].nalUnitType; )
                            a.shift();
                        if (0 === a.length)
                            return this.resetStream_(),
                            void this.trigger("done", "VideoSegmentStream");
                        n = ue(a),
                        ke(Vt),
                        e.rawPts = [n[0].pts, n[n.length - 1].pts + n[n.length - 1].duration],
                        e.rawDts = [n[0].dts, n[n.length - 1].dts + n[n.length - 1].duration];
                        var d = Vt.nextVideoDts;
                        e.ref = d,
                        e.disc = Vt.continuous,
                        Vt.continuous || (d = 9e4 * Vt.timeOffset + Math.max(0, Vt.audioVideoShift)),
                        n.sort(function(e, t) {
                            return e.dts - t.dts || e.pts - t.pts || e.id - t.id
                        });
                        var c = 0
                          , h = Vt.pts;
                        Ft && (h = Vt.dts),
                        n.forEach(function(e, t) {
                            e.dts = Math.max(0, e.dts - h),
                            e.pts = Math.max(0, e.pts - h),
                            e.pts + e.duration > c && (c = e.pts + e.duration)
                        });
                        var p = Math.max(0, n[0].dts)
                          , f = Math.max(0, n[0].pts)
                          , m = Math.round((p - d) / 90);
                        if (Vt.continuous && 1 < Math.abs(m)) {
                            1 < m ? console.warn("AVC ".concat(m, "ms hole find! pts gap:").concat((f - Vt.nextVideoPts) / 90)) : m < -1 && console.warn("AVC ".concat(-m, "ms overlap find")),
                            p = d,
                            f = Math.max(p, Math.max(f - m, Vt.nextVideoPts)),
                            n[0].pts = f,
                            n[0].dts = p;
                            for (var y = 1; y < n.length; y++) {
                                if (!(n[y].dts < p || n[y].pts < f)) {
                                    if (n[y].dts === p && n[y].keyFrame) {
                                        n = n.slice(y);
                                        break
                                    }
                                    break
                                }
                                n[y].dts = Math.max(p, n[y].dts),
                                n[y].pts = Math.max(f, n[y].pts)
                            }
                        }
                        f + n[0].duration > c && (c = f + n[0].duration),
                        Vt.nextVideoPts = c;
                        var g = n[0]
                          , v = n[n.length - 1];
                        if (Vt.nextVideoDts = v.dts + v.duration,
                        (i = de(n))[0][0].keyFrame || e.timelineStartInfo.discontinuity && (i = ce(i)),
                        o.length) {
                            var _;
                            if (!(_ = t.alignGopsAtEnd ? this.alignGopsAtEnd_(i) : this.alignGopsAtStart_(i)))
                                return this.gopCache_.unshift({
                                    gop: i.pop(),
                                    pps: e.pps,
                                    sps: e.sps
                                }),
                                this.gopCache_.length = Math.min(6, this.gopCache_.length),
                                a = [],
                                this.resetStream_(),
                                void this.trigger("done", "VideoSegmentStream");
                            ve(e, Vt),
                            i = _
                        }
                        e.samples = he(i),
                        e.dts = [g.dts, v.dts + v.duration],
                        e.pts = [g.pts, c],
                        e.duration = v.dts - g.dts + e.samples[e.samples.length - 1].duration,
                        e.fps = Math.round(n.length / (e.duration / 9e4)) || 24,
                        l = ne.mdat(pe(i)),
                        e.baseMediaDecodeTime = p,
                        this.trigger("processedGopsInfo", i.map(function(e) {
                            return {
                                pts: e.pts,
                                dts: e.dts,
                                byteLength: e.byteLength
                            }
                        })),
                        this.gopCache_.length = Math.min(6, this.gopCache_.length),
                        a = [],
                        this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
                        this.trigger("timelineStartInfo", e.timelineStartInfo),
                        e.start = f / 9e4,
                        e.end = c / 9e4,
                        s = ne.moof(r, [e]),
                        u = new Uint8Array(s.byteLength + l.byteLength),
                        r++,
                        u.set(s),
                        u.set(l, s.byteLength),
                        this.trigger("data", {
                            track: e,
                            boxes: u
                        }),
                        this.resetStream_(),
                        this.trigger("done", "VideoSegmentStream")
                    }
                    ,
                    this.resetStream_ = function() {
                        i = n = void 0
                    }
                    ,
                    this.getGopForFusion_ = function(t) {
                        var n, i, r, a, o, s = 1 / 0;
                        for (o = 0; o < this.gopCache_.length; o++)
                            r = (a = this.gopCache_[o]).gop,
                            e.pps && Ht(e.pps[0], a.pps[0]) && e.sps && Ht(e.sps[0], a.sps[0]) && (r.dts < e.timelineStartInfo.dts || -1e4 <= (n = t.dts - r.dts - r.duration) && n <= 45e3 && (!i || n < s) && (i = a,
                            s = n));
                        return i ? i.gop : null
                    }
                    ,
                    this.alignGopsAtStart_ = function(e) {
                        var t, n, i, r, a, s, l, u;
                        for (a = e.byteLength,
                        s = e.nalCount,
                        l = e.duration,
                        t = n = 0; t < o.length && n < e.length && (i = o[t],
                        r = e[n],
                        i.pts !== r.pts); )
                            r.pts > i.pts ? t++ : (n++,
                            a -= r.byteLength,
                            s -= r.nalCount,
                            l -= r.duration);
                        return 0 === n ? e : n === e.length ? null : ((u = e.slice(n)).byteLength = a,
                        u.duration = l,
                        u.nalCount = s,
                        u.pts = u[0].pts,
                        u.dts = u[0].dts,
                        u)
                    }
                    ,
                    this.alignGopsAtEnd_ = function(e) {
                        var t, n, i, r, a, s, l;
                        for (t = o.length - 1,
                        n = e.length - 1,
                        a = null,
                        s = !1; 0 <= t && 0 <= n; ) {
                            if (i = o[t],
                            r = e[n],
                            i.pts === r.pts) {
                                s = !0;
                                break
                            }
                            i.pts > r.pts ? t-- : (t === o.length - 1 && (a = n),
                            n--)
                        }
                        if (!s && null === a)
                            return null;
                        if (0 === (l = s ? n : a))
                            return e;
                        var u = e.slice(l)
                          , d = u.reduce(function(e, t) {
                            return e.byteLength += t.byteLength,
                            e.duration += t.duration,
                            e.nalCount += t.nalCount,
                            e
                        }, {
                            byteLength: 0,
                            duration: 0,
                            nalCount: 0
                        });
                        return u.byteLength = d.byteLength,
                        u.duration = d.duration,
                        u.nalCount = d.nalCount,
                        u.pts = u[0].pts,
                        u.dts = u[0].dts,
                        u
                    }
                    ,
                    this.alignGopsWith = function(e) {
                        o = e
                    }
                }
                ).prototype = new oe,
                (Mt = function(e, t) {
                    this.numberOfTracks = 0,
                    this.metadataStream = t,
                    void 0 !== (e = e || {}).remux ? this.remuxTracks = !!e.remux : this.remuxTracks = !0,
                    "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps),
                    this.pendingTracks = [],
                    this.videoTrack = null,
                    this.pendingBoxes = [],
                    this.pendingCaptions = [],
                    this.pendingMetadata = [],
                    this.pendingBytes = 0,
                    this.emittedTracks = 0,
                    Mt.prototype.init.call(this),
                    this.push = function(e) {
                        return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track),
                        e.boxes && (this.pendingBoxes.push(e.boxes),
                        this.pendingBytes += e.boxes.byteLength),
                        "video" === e.track.type && (this.videoTrack = e.track),
                        void ("audio" === e.track.type && (this.audioTrack = e.track)))
                    }
                }
                ).prototype = new oe,
                Mt.prototype.flush = function(e) {
                    var t, n, i, r, a = 0, o = {
                        captions: [],
                        captionStreams: {},
                        metadata: [],
                        info: {}
                    }, s = 0;
                    if (this.pendingTracks.length < this.numberOfTracks) {
                        if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e)
                            return;
                        if (this.remuxTracks)
                            return;
                        if (0 === this.pendingTracks.length)
                            return void (++this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
                            this.emittedTracks = 0))
                    }
                    for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts,
                    jt.forEach(function(e) {
                        o.info[e] = this.videoTrack[e]
                    }, this),
                    o.info.fps = this.videoTrack.fps,
                    o.info.timeline = {
                        base: this.videoTrack.baseMediaDecodeTime,
                        ref: this.videoTrack.ref,
                        disc: this.videoTrack.disc,
                        rawDts: this.videoTrack.rawDts,
                        rawPts: this.videoTrack.rawPts,
                        dts: this.videoTrack.dts,
                        pts: this.videoTrack.pts,
                        start: this.videoTrack.start,
                        end: this.videoTrack.end
                    },
                    ve(this.videoTrack, Vt)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts,
                    Ut.forEach(function(e) {
                        o.info[e] = this.audioTrack[e]
                    }, this),
                    o.info.alignInfo = this.audioTrack.alignInfo,
                    o.info.timeline = {
                        base: Vt.pts,
                        ref: this.audioTrack.ref,
                        disc: this.audioTrack.disc,
                        rawPts: this.audioTrack.rawPts,
                        pts: this.audioTrack.pts,
                        start: this.audioTrack.start,
                        end: this.audioTrack.end
                    },
                    ve(this.audioTrack, Vt)),
                    1 === this.pendingTracks.length ? o.type = this.pendingTracks[0].type : o.type = "combined",
                    this.emittedTracks += this.pendingTracks.length,
                    i = ne.initSegment(this.pendingTracks),
                    o.initSegment = new Uint8Array(i.byteLength),
                    o.initSegment.set(i),
                    o.data = new Uint8Array(this.pendingBytes),
                    r = 0; r < this.pendingBoxes.length; r++)
                        o.data.set(this.pendingBoxes[r], a),
                        a += this.pendingBoxes[r].byteLength;
                    for (r = 0; r < this.pendingCaptions.length; r++)
                        (t = this.pendingCaptions[r]).startTime = t.startPts,
                        this.keepOriginalTimestamps || (t.startTime -= s),
                        t.startTime /= 9e4,
                        t.endTime = t.endPts,
                        this.keepOriginalTimestamps || (t.endTime -= s),
                        t.endTime /= 9e4,
                        o.captionStreams[t.stream] = !0,
                        o.captions.push(t);
                    for (r = 0; r < this.pendingMetadata.length; r++)
                        (n = this.pendingMetadata[r]).cueTime = n.pts,
                        this.keepOriginalTimestamps || (n.cueTime -= s),
                        n.cueTime /= 9e4,
                        o.metadata.push(n);
                    o.metadata.dispatchType = this.metadataStream.dispatchType,
                    this.pendingTracks.length = 0,
                    this.videoTrack = null,
                    this.pendingBoxes.length = 0,
                    this.pendingCaptions.length = 0,
                    this.pendingBytes = 0,
                    this.pendingMetadata.length = 0,
                    this.trigger("data", o),
                    this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
                    this.emittedTracks = 0)
                }
                ,
                (It = function(e) {
                    var t, n, i = this, r = !0;
                    It.prototype.init.call(this),
                    e = e || {},
                    this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0,
                    this.transmuxPipeline_ = {},
                    this.setupAacPipeline = function() {
                        var t = {};
                        (this.transmuxPipeline_ = t).type = "aac",
                        t.metadataStream = new vt.MetadataStream,
                        t.aacStream = new Ot,
                        t.audioTimestampRolloverStream = new vt.TimestampRolloverStream("audio"),
                        t.timedMetadataTimestampRolloverStream = new vt.TimestampRolloverStream("timed-metadata"),
                        t.adtsStream = new wt,
                        t.coalesceStream = new Mt(e,t.metadataStream),
                        t.headOfPipeline = t.aacStream,
                        t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),
                        t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),
                        t.metadataStream.on("timestamp", function(e) {
                            t.aacStream.setTimestamp(e.timeStamp)
                        }),
                        t.aacStream.on("data", function(r) {
                            "timed-metadata" !== r.type || t.audioSegmentStream || (n = n || {
                                timelineStartInfo: {
                                    baseMediaDecodeTime: i.baseMediaDecodeTime
                                },
                                codec: "adts",
                                type: "audio"
                            },
                            t.coalesceStream.numberOfTracks++,
                            t.audioSegmentStream = new Rt(n,e),
                            t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                        }),
                        t.coalesceStream.on("data", this.trigger.bind(this, "data")),
                        t.coalesceStream.on("done", this.trigger.bind(this, "done"))
                    }
                    ,
                    this.setupTsPipeline = function() {
                        var r = {};
                        (this.transmuxPipeline_ = r).type = "ts",
                        r.metadataStream = new vt.MetadataStream,
                        r.packetStream = new vt.TransportPacketStream,
                        r.parseStream = new vt.TransportParseStream,
                        r.elementaryStream = new vt.ElementaryStream(e),
                        r.videoTimestampRolloverStream = new vt.TimestampRolloverStream("video"),
                        r.audioTimestampRolloverStream = new vt.TimestampRolloverStream("audio"),
                        r.timedMetadataTimestampRolloverStream = new vt.TimestampRolloverStream("timed-metadata"),
                        r.adtsStream = new wt,
                        r.h264Stream = new Nt,
                        r.captionStream = new vt.CaptionStream,
                        r.coalesceStream = new Mt(e,r.metadataStream),
                        r.headOfPipeline = r.packetStream,
                        r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),
                        r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),
                        r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),
                        r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),
                        r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),
                        r.elementaryStream.on("data", function(a) {
                            var o;
                            if ("metadata" === a.type) {
                                for (o = a.tracks.length; o--; )
                                    t || "video" !== a.tracks[o].type ? n || "audio" !== a.tracks[o].type || ((n = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = i.baseMediaDecodeTime) : (t = a.tracks[o]).timelineStartInfo.baseMediaDecodeTime = i.baseMediaDecodeTime;
                                t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++,
                                r.videoSegmentStream = new Pt(t,e),
                                r.videoSegmentStream.on("timelineStartInfo", function(e) {
                                    n && (n.timelineStartInfo = e,
                                    r.audioSegmentStream.setEarliestDts(e.dts))
                                }),
                                r.videoSegmentStream.on("processedGopsInfo", i.trigger.bind(i, "gopInfo")),
                                r.videoSegmentStream.on("baseMediaDecodeTime", function(e) {
                                    n && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                                }),
                                r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),
                                n && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++,
                                r.audioSegmentStream = new Rt(n,e),
                                r.audioSegmentStream.on("timelineStartInfo", function(e) {
                                    t && (t.timelineStartInfo = e)
                                }),
                                r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))
                            }
                        }),
                        r.coalesceStream.on("data", this.trigger.bind(this, "data")),
                        r.coalesceStream.on("done", this.trigger.bind(this, "done"))
                    }
                    ,
                    this.discontinuity = function(i) {
                        var r = this.transmuxPipeline_;
                        e.keepOriginalTimestamps,
                        n && (n.discontinuity = !0,
                        n.timelineStartInfo.dts = void 0,
                        n.timelineStartInfo.pts = void 0,
                        n.timelineStartInfo.offset = 9e4 * i,
                        ve(n, Vt),
                        r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()),
                        t && (t.discontinuity = !0,
                        r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = [],
                        r.videoTimestampRolloverStream.discontinuity()),
                        t.timelineStartInfo.discontinuity = !0,
                        t.timelineStartInfo.offset = 9e4 * i,
                        t.timelineStartInfo.dts = void 0,
                        t.timelineStartInfo.pts = void 0,
                        ve(t, Vt),
                        r.captionStream.reset()),
                        r.timedMetadataTimestampRolloverStream && r.timedMetadataTimestampRolloverStream.discontinuity()
                    }
                    ,
                    this.setBaseMediaDecodeTime = function(e) {
                        this.setAppendStart(e),
                        t && (t.contiguous = !1),
                        n && (n.contiguous = !1)
                    }
                    ,
                    this.setAppendStart = function(e) {
                        n && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e),
                        t && this.transmuxPipeline_.videoSegmentStream.setVideoAppendStart(e)
                    }
                    ,
                    this.alignGopsWith = function(e) {
                        t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                    }
                    ,
                    this.push = function(e, t, n, i, a, o) {
                        if (i && Se(Vt),
                        Vt.continuous = n,
                        Vt.timeOffset = a,
                        Vt.accurateTimeOffset = o,
                        r) {
                            var s = Bt(e);
                            s && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : s || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(),
                            r = !1
                        }
                        var l = this.transmuxPipeline_.elementaryStream;
                        l && l.setEncrypted(t),
                        this.transmuxPipeline_.headOfPipeline.push(e)
                    }
                    ,
                    this.flush = function() {
                        r = !0,
                        this.transmuxPipeline_.headOfPipeline.flush()
                    }
                    ,
                    this.resetCaptions = function() {
                        this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                    }
                }
                ).prototype = new oe;
                var qt, zt, Yt, Gt = {
                    Transmuxer: It,
                    VideoSegmentStream: Pt,
                    AudioSegmentStream: Rt,
                    AUDIO_PROPERTIES: Ut,
                    VIDEO_PROPERTIES: jt
                }, Kt = (function(e) {
                    function t(e) {
                        return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e
                        }
                        : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                        )(e)
                    }
                    function n(i) {
                        return "function" == typeof Symbol && "symbol" === t(Symbol.iterator) ? e.exports = n = function(e) {
                            return t(e)
                        }
                        : e.exports = n = function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : t(e)
                        }
                        ,
                        n(i)
                    }
                    e.exports = n
                }(qt = {
                    exports: {}
                }, qt.exports),
                qt.exports), Wt = re.parseType, Xt = function(e) {
                    return new Date(1e3 * e - 20828448e5)
                }, Qt = function(e) {
                    return {
                        isLeading: (12 & e[0]) >>> 2,
                        dependsOn: 3 & e[0],
                        isDependedOn: (192 & e[1]) >>> 6,
                        hasRedundancy: (48 & e[1]) >>> 4,
                        paddingValue: (14 & e[1]) >>> 1,
                        isNonSyncSample: 1 & e[1],
                        degradationPriority: e[2] << 8 | e[3]
                    }
                }, Jt = {
                    avc1: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                        return {
                            dataReferenceIndex: t.getUint16(6),
                            width: t.getUint16(24),
                            height: t.getUint16(26),
                            horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                            vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                            frameCount: t.getUint16(40),
                            depth: t.getUint16(74),
                            config: zt(e.subarray(78, e.byteLength))
                        }
                    },
                    avcC: function(e) {
                        var t, n, i, r, a = new DataView(e.buffer,e.byteOffset,e.byteLength), o = {
                            configurationVersion: e[0],
                            avcProfileIndication: e[1],
                            profileCompatibility: e[2],
                            avcLevelIndication: e[3],
                            lengthSizeMinusOne: 3 & e[4],
                            sps: [],
                            pps: []
                        }, s = 31 & e[5];
                        for (i = 6,
                        r = 0; r < s; r++)
                            n = a.getUint16(i),
                            i += 2,
                            o.sps.push(new Uint8Array(e.subarray(i, i + n))),
                            i += n;
                        for (t = e[i],
                        i++,
                        r = 0; r < t; r++)
                            n = a.getUint16(i),
                            i += 2,
                            o.pps.push(new Uint8Array(e.subarray(i, i + n))),
                            i += n;
                        return o
                    },
                    btrt: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                        return {
                            bufferSizeDB: t.getUint32(0),
                            maxBitrate: t.getUint32(4),
                            avgBitrate: t.getUint32(8)
                        }
                    },
                    esds: function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            esId: e[6] << 8 | e[7],
                            streamPriority: 31 & e[8],
                            decoderConfig: {
                                objectProfileIndication: e[11],
                                streamType: e[12] >>> 2 & 63,
                                bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                                maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                                avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                                decoderConfigDescriptor: {
                                    tag: e[24],
                                    length: e[25],
                                    audioObjectType: e[26] >>> 3 & 31,
                                    samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                    channelConfiguration: e[27] >>> 3 & 15
                                }
                            }
                        }
                    },
                    ftyp: function(e) {
                        for (var t = new DataView(e.buffer,e.byteOffset,e.byteLength), n = {
                            majorBrand: Wt(e.subarray(0, 4)),
                            minorVersion: t.getUint32(4),
                            compatibleBrands: []
                        }, i = 8; i < e.byteLength; )
                            n.compatibleBrands.push(Wt(e.subarray(i, i + 4))),
                            i += 4;
                        return n
                    },
                    dinf: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    dref: function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            dataReferences: zt(e.subarray(8))
                        }
                    },
                    hdlr: function(e) {
                        var t = {
                            version: new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            handlerType: Wt(e.subarray(8, 12)),
                            name: ""
                        }
                          , n = 8;
                        for (n = 24; n < e.byteLength; n++) {
                            if (0 === e[n]) {
                                n++;
                                break
                            }
                            t.name += String.fromCharCode(e[n])
                        }
                        return t.name = decodeURIComponent(escape(t.name)),
                        t
                    },
                    mdat: function(e) {
                        return {
                            byteLength: e.byteLength,
                            nals: function(e) {
                                var t, n, i = new DataView(e.buffer,e.byteOffset,e.byteLength), r = [];
                                for (t = 0; t + 4 < e.length; t += n)
                                    if (n = i.getUint32(t),
                                    t += 4,
                                    n <= 0)
                                        r.push("<span style='color:red;'>MALFORMED DATA</span>");
                                    else
                                        switch (31 & e[t]) {
                                        case 1:
                                            r.push("slice_layer_without_partitioning_rbsp");
                                            break;
                                        case 5:
                                            r.push("slice_layer_without_partitioning_rbsp_idr");
                                            break;
                                        case 6:
                                            r.push("sei_rbsp");
                                            break;
                                        case 7:
                                            r.push("seq_parameter_set_rbsp");
                                            break;
                                        case 8:
                                            r.push("pic_parameter_set_rbsp");
                                            break;
                                        case 9:
                                            r.push("access_unit_delimiter_rbsp");
                                            break;
                                        default:
                                            r.push("UNKNOWN NAL - " + e[t] & 31)
                                        }
                                return r
                            }(e)
                        }
                    },
                    mdhd: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = 4, r = {
                            version: n.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            language: ""
                        };
                        return 1 === r.version ? (i += 4,
                        r.creationTime = Xt(n.getUint32(i)),
                        i += 8,
                        r.modificationTime = Xt(n.getUint32(i)),
                        i += 4,
                        r.timescale = n.getUint32(i),
                        i += 8) : (r.creationTime = Xt(n.getUint32(i)),
                        i += 4,
                        r.modificationTime = Xt(n.getUint32(i)),
                        i += 4,
                        r.timescale = n.getUint32(i),
                        i += 4),
                        r.duration = n.getUint32(i),
                        i += 4,
                        t = n.getUint16(i),
                        r.language += String.fromCharCode(96 + (t >> 10)),
                        r.language += String.fromCharCode(96 + ((992 & t) >> 5)),
                        r.language += String.fromCharCode(96 + (31 & t)),
                        r
                    },
                    mdia: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    mfhd: function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                        }
                    },
                    minf: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    mp4a: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
                          , n = {
                            dataReferenceIndex: t.getUint16(6),
                            channelcount: t.getUint16(16),
                            samplesize: t.getUint16(18),
                            samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                        };
                        return 28 < e.byteLength && (n.streamDescriptor = zt(e.subarray(28))[0]),
                        n
                    },
                    moof: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    moov: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    mvex: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    mvhd: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
                          , n = 4
                          , i = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                        return 1 === i.version ? (n += 4,
                        i.creationTime = Xt(t.getUint32(n)),
                        n += 8,
                        i.modificationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.timescale = t.getUint32(n),
                        n += 8) : (i.creationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.modificationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.timescale = t.getUint32(n),
                        n += 4),
                        i.duration = t.getUint32(n),
                        n += 4,
                        i.rate = t.getUint16(n) + t.getUint16(n + 2) / 16,
                        n += 4,
                        i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8,
                        n += 2,
                        n += 2,
                        n += 8,
                        i.matrix = new Uint32Array(e.subarray(n, n + 36)),
                        n += 36,
                        n += 24,
                        i.nextTrackId = t.getUint32(n),
                        i
                    },
                    pdin: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                        return {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4)),
                            rate: t.getUint32(4),
                            initialDelay: t.getUint32(8)
                        }
                    },
                    sdtp: function(e) {
                        var t, n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            samples: []
                        };
                        for (t = 4; t < e.byteLength; t++)
                            n.samples.push({
                                dependsOn: (48 & e[t]) >> 4,
                                isDependedOn: (12 & e[t]) >> 2,
                                hasRedundancy: 3 & e[t]
                            });
                        return n
                    },
                    sidx: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            references: [],
                            referenceId: n.getUint32(4),
                            timescale: n.getUint32(8),
                            earliestPresentationTime: n.getUint32(12),
                            firstOffset: n.getUint32(16)
                        }, r = n.getUint16(22);
                        for (t = 24; r; t += 12,
                        r--)
                            i.references.push({
                                referenceType: (128 & e[t]) >>> 7,
                                referencedSize: 2147483647 & n.getUint32(t),
                                subsegmentDuration: n.getUint32(t + 4),
                                startsWithSap: !!(128 & e[t + 8]),
                                sapType: (112 & e[t + 8]) >>> 4,
                                sapDeltaTime: 268435455 & n.getUint32(t + 8)
                            });
                        return i
                    },
                    smhd: function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            balance: e[4] + e[5] / 256
                        }
                    },
                    stbl: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    stco: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            chunkOffsets: []
                        }, r = n.getUint32(4);
                        for (t = 8; r; t += 4,
                        r--)
                            i.chunkOffsets.push(n.getUint32(t));
                        return i
                    },
                    stsc: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = n.getUint32(4), r = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleToChunks: []
                        };
                        for (t = 8; i; t += 12,
                        i--)
                            r.sampleToChunks.push({
                                firstChunk: n.getUint32(t),
                                samplesPerChunk: n.getUint32(t + 4),
                                sampleDescriptionIndex: n.getUint32(t + 8)
                            });
                        return r
                    },
                    stsd: function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleDescriptions: zt(e.subarray(8))
                        }
                    },
                    stsz: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            sampleSize: n.getUint32(4),
                            entries: []
                        };
                        for (t = 12; t < e.byteLength; t += 4)
                            i.entries.push(n.getUint32(t));
                        return i
                    },
                    stts: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            timeToSamples: []
                        }, r = n.getUint32(4);
                        for (t = 8; r; t += 8,
                        r--)
                            i.timeToSamples.push({
                                sampleCount: n.getUint32(t),
                                sampleDelta: n.getUint32(t + 4)
                            });
                        return i
                    },
                    styp: function(e) {
                        return Jt.ftyp(e)
                    },
                    tfdt: function(e) {
                        var t = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                        };
                        return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32),
                        t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]),
                        t
                    },
                    tfhd: function(e) {
                        var t, n = new DataView(e.buffer,e.byteOffset,e.byteLength), i = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            trackId: n.getUint32(4)
                        }, r = 1 & i.flags[2], a = 2 & i.flags[2], o = 8 & i.flags[2], s = 16 & i.flags[2], l = 32 & i.flags[2], u = 65536 & i.flags[0], d = 131072 & i.flags[0];
                        return t = 8,
                        r && (t += 4,
                        i.baseDataOffset = n.getUint32(12),
                        t += 4),
                        a && (i.sampleDescriptionIndex = n.getUint32(t),
                        t += 4),
                        o && (i.defaultSampleDuration = n.getUint32(t),
                        t += 4),
                        s && (i.defaultSampleSize = n.getUint32(t),
                        t += 4),
                        l && (i.defaultSampleFlags = n.getUint32(t)),
                        u && (i.durationIsEmpty = !0),
                        !r && d && (i.baseDataOffsetIsMoof = !0),
                        i
                    },
                    tkhd: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
                          , n = 4
                          , i = {
                            version: t.getUint8(0),
                            flags: new Uint8Array(e.subarray(1, 4))
                        };
                        return 1 === i.version ? (n += 4,
                        i.creationTime = Xt(t.getUint32(n)),
                        n += 8,
                        i.modificationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.trackId = t.getUint32(n),
                        n += 4,
                        n += 8) : (i.creationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.modificationTime = Xt(t.getUint32(n)),
                        n += 4,
                        i.trackId = t.getUint32(n),
                        n += 4,
                        n += 4),
                        i.duration = t.getUint32(n),
                        n += 4,
                        n += 8,
                        i.layer = t.getUint16(n),
                        n += 2,
                        i.alternateGroup = t.getUint16(n),
                        n += 2,
                        i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8,
                        n += 2,
                        n += 2,
                        i.matrix = new Uint32Array(e.subarray(n, n + 36)),
                        n += 36,
                        i.width = t.getUint16(n) + t.getUint16(n + 2) / 16,
                        n += 4,
                        i.height = t.getUint16(n) + t.getUint16(n + 2) / 16,
                        i
                    },
                    traf: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    trak: function(e) {
                        return {
                            boxes: zt(e)
                        }
                    },
                    trex: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            trackId: t.getUint32(4),
                            defaultSampleDescriptionIndex: t.getUint32(8),
                            defaultSampleDuration: t.getUint32(12),
                            defaultSampleSize: t.getUint32(16),
                            sampleDependsOn: 3 & e[20],
                            sampleIsDependedOn: (192 & e[21]) >> 6,
                            sampleHasRedundancy: (48 & e[21]) >> 4,
                            samplePaddingValue: (14 & e[21]) >> 1,
                            sampleIsDifferenceSample: !!(1 & e[21]),
                            sampleDegradationPriority: t.getUint16(22)
                        }
                    },
                    trun: function(e) {
                        var t, n = {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            samples: []
                        }, i = new DataView(e.buffer,e.byteOffset,e.byteLength), r = 1 & n.flags[2], a = 4 & n.flags[2], o = 1 & n.flags[1], s = 2 & n.flags[1], l = 4 & n.flags[1], u = 8 & n.flags[1], d = i.getUint32(4), c = 8;
                        for (r && (n.dataOffset = i.getInt32(c),
                        c += 4),
                        a && d && (t = {
                            flags: Qt(e.subarray(c, c + 4))
                        },
                        c += 4,
                        o && (t.duration = i.getUint32(c),
                        c += 4),
                        s && (t.size = i.getUint32(c),
                        c += 4),
                        u && (t.compositionTimeOffset = i.getUint32(c),
                        c += 4),
                        n.samples.push(t),
                        d--); d--; )
                            t = {},
                            o && (t.duration = i.getUint32(c),
                            c += 4),
                            s && (t.size = i.getUint32(c),
                            c += 4),
                            l && (t.flags = Qt(e.subarray(c, c + 4)),
                            c += 4),
                            u && (t.compositionTimeOffset = i.getUint32(c),
                            c += 4),
                            n.samples.push(t);
                        return n
                    },
                    "url ": function(e) {
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4))
                        }
                    },
                    vmhd: function(e) {
                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                        return {
                            version: e[0],
                            flags: new Uint8Array(e.subarray(1, 4)),
                            graphicsmode: t.getUint16(4),
                            opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                        }
                    }
                }, Zt = {
                    inspect: zt = function(e) {
                        for (var t, n, i, r, a, o = 0, s = [], l = new ArrayBuffer(e.length), u = new Uint8Array(l), d = 0; d < e.length; ++d)
                            u[d] = e[d];
                        for (t = new DataView(l); o < e.byteLength; )
                            n = t.getUint32(o),
                            i = Wt(e.subarray(o + 4, o + 8)),
                            r = 1 < n ? o + n : e.byteLength,
                            (a = (Jt[i] || function(e) {
                                return {
                                    data: e
                                }
                            }
                            )(e.subarray(o + 8, r))).size = n,
                            a.type = i,
                            s.push(a),
                            o = r;
                        return s
                    }
                    ,
                    textify: Yt = function(e, t) {
                        var n;
                        return t = t || 0,
                        n = new Array(2 * t + 1).join(" "),
                        e.map(function(e, i) {
                            return n + e.type + "\\n" + Object.keys(e).filter(function(e) {
                                return "type" !== e && "boxes" !== e
                            }).map(function(t) {
                                var i = n + "  " + t + ": "
                                  , r = e[t];
                                if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                    var a = Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(e) {
                                        return " " + ("00" + e.toString(16)).slice(-2)
                                    }).join("").match(/.{1,24}/g);
                                    return a ? 1 === a.length ? i + "<" + a.join("").slice(1) + ">" : i + "<\\n" + a.map(function(e) {
                                        return n + "  " + e
                                    }).join("\\n") + "\\n" + n + "  >" : i + "<>"
                                }
                                return i + JSON.stringify(r, null, 2).split("\\n").map(function(e, t) {
                                    return 0 === t ? e : n + "  " + e
                                }).join("\\n")
                            }).join("\\n") + (e.boxes ? "\\n" + Yt(e.boxes, t + 1) : "")
                        }).join("\\n")
                    }
                    ,
                    parseTfdt: Jt.tfdt,
                    parseHdlr: Jt.hdlr,
                    parseTfhd: Jt.tfhd,
                    parseTrun: Jt.trun,
                    parseSidx: Jt.sidx
                }, $t = Te, en = Ie.CaptionStream, tn = function(e, t) {
                    for (var n = e, i = 0; i < t.length; i++) {
                        var r = t[i];
                        if (n < r.size)
                            return r;
                        n -= r.size
                    }
                    return null
                }, nn = function(e, t) {
                    var n = re.findBox(e, ["moof", "traf"])
                      , i = re.findBox(e, ["mdat"])
                      , r = {}
                      , a = [];
                    return i.forEach(function(e, t) {
                        var i = n[t];
                        a.push({
                            mdat: e,
                            traf: i
                        })
                    }),
                    a.forEach(function(e) {
                        var n, i, a, o, s, l, u, d, c = e.mdat, h = e.traf, p = re.findBox(h, ["tfhd"]), f = Zt.parseTfhd(p[0]), m = f.trackId, y = re.findBox(h, ["tfdt"]), g = 0 < y.length ? Zt.parseTfdt(y[0]).baseMediaDecodeTime : 0, v = re.findBox(h, ["trun"]);
                        t === m && 0 < v.length && (i = v,
                        o = g,
                        s = (a = f).defaultSampleDuration || 0,
                        l = a.defaultSampleSize || 0,
                        u = a.trackId,
                        d = [],
                        i.forEach(function(e) {
                            var t = Zt.parseTrun(e).samples;
                            t.forEach(function(e) {
                                void 0 === e.duration && (e.duration = s),
                                void 0 === e.size && (e.size = l),
                                e.trackId = u,
                                e.dts = o,
                                void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0),
                                e.pts = o + e.compositionTimeOffset,
                                o += e.duration
                            }),
                            d = d.concat(t)
                        }),
                        n = function(e, t, n) {
                            var i, r, a, o, s = new DataView(e.buffer,e.byteOffset,e.byteLength), l = [];
                            for (r = 0; r + 4 < e.length; r += a)
                                if (a = s.getUint32(r),
                                r += 4,
                                !(a <= 0))
                                    switch (31 & e[r]) {
                                    case 6:
                                        var u = e.subarray(r + 1, r + 1 + a)
                                          , d = tn(r, t);
                                        i = {
                                            nalUnitType: "sei_rbsp",
                                            size: a,
                                            data: u,
                                            escapedRBSP: $t(u),
                                            trackId: n
                                        },
                                        d ? (i.pts = d.pts,
                                        i.dts = d.dts,
                                        o = d) : (i.pts = o.pts,
                                        i.dts = o.dts),
                                        l.push(i)
                                    }
                            return l
                        }(c, d, m),
                        r[m] || (r[m] = []),
                        r[m] = r[m].concat(n))
                    }),
                    r
                }, rn = {
                    mp4: {
                        generator: ne,
                        probe: re,
                        Transmuxer: Gt.Transmuxer,
                        AudioSegmentStream: Gt.AudioSegmentStream,
                        VideoSegmentStream: Gt.VideoSegmentStream,
                        CaptionParser: function() {
                            var e, t, n, i, r, a = !1;
                            this.isInitialized = function() {
                                return a
                            }
                            ,
                            this.init = function() {
                                e = new en,
                                a = !0,
                                e.on("data", function(e) {
                                    e.startTime = e.startPts / i,
                                    e.endTime = e.endPts / i,
                                    r.captions.push(e),
                                    r.captionStreams[e.stream] = !0
                                })
                            }
                            ,
                            this.isNewInit = function(e, t) {
                                return !(e && 0 === e.length || t && "object" === Kt(t) && 0 === Object.keys(t).length || n === e[0] && i === t[n])
                            }
                            ,
                            this.parse = function(e, a, o) {
                                var s, l, u, d;
                                if (!this.isInitialized())
                                    return null;
                                if (!a || !o)
                                    return null;
                                if (this.isNewInit(a, o))
                                    n = a[0],
                                    i = o[n];
                                else if (!n || !i)
                                    return t.push(e),
                                    null;
                                for (; 0 < t.length; ) {
                                    var c = t.shift();
                                    this.parse(c, a, o)
                                }
                                return l = e,
                                d = i,
                                null !== (s = (u = n) ? {
                                    seiNals: nn(l, u)[u],
                                    timescale: d
                                } : null) && s.seiNals ? (this.pushNals(s.seiNals),
                                this.flushStream(),
                                r) : null
                            }
                            ,
                            this.pushNals = function(t) {
                                if (!this.isInitialized() || !t || 0 === t.length)
                                    return null;
                                t.forEach(function(t) {
                                    e.push(t)
                                })
                            }
                            ,
                            this.flushStream = function() {
                                if (!this.isInitialized())
                                    return null;
                                e.flush()
                            }
                            ,
                            this.clearParsedCaptions = function() {
                                r.captions = [],
                                r.captionStreams = {}
                            }
                            ,
                            this.resetCaptionStream = function() {
                                if (!this.isInitialized())
                                    return null;
                                e.reset()
                            }
                            ,
                            this.clearAllCaptions = function() {
                                this.clearParsedCaptions(),
                                this.resetCaptionStream()
                            }
                            ,
                            this.reset = function() {
                                t = [],
                                i = n = null,
                                r ? this.clearParsedCaptions() : r = {
                                    captions: [],
                                    captionStreams: {}
                                },
                                this.resetCaptionStream()
                            }
                            ,
                            this.reset()
                        }
                    }
                };
                return function() {
                    function e(t) {
                        W(this, e),
                        this.transmuxer = null,
                        this.bytes = null,
                        this.onDoneCb = t,
                        this.initTracks()
                    }
                    return X(e, [{
                        key: "initTracks",
                        value: function() {
                            this.tracks = {
                                combined: this.getRemuxTempVars(),
                                audio: this.getRemuxTempVars(),
                                video: this.getRemuxTempVars()
                            }
                        }
                    }, {
                        key: "getRemuxTempVars",
                        value: function() {
                            return {
                                remuxedSegments: [],
                                remuxedInitSegment: null,
                                remuxedBytesLength: 0,
                                createInitSegment: !0
                            }
                        }
                    }, {
                        key: "setDiscontinuity",
                        value: function(e) {
                            this.transmuxer && this.transmuxer.discontinuity(e)
                        }
                    }, {
                        key: "resetInitSegment",
                        value: function() {
                            var e = this;
                            Object.keys(this.tracks).forEach(function(t) {
                                e.tracks[t].createInitSegment = !0,
                                e.tracks[t].remuxedInitSegment = []
                            })
                        }
                    }, {
                        key: "initTransmuxer",
                        value: function(e) {
                            this.options = e,
                            this.transmuxer = new rn.mp4.Transmuxer(e),
                            this.bindTransmuxerEvent()
                        }
                    }, {
                        key: "changeDecodeKey",
                        value: function(e) {
                            this.options.decodeKey = e
                        }
                    }, {
                        key: "bindTransmuxerEvent",
                        value: function() {
                            var e = this;
                            this.transmuxer.on("error", function(e) {
                                console.error(e)
                            }),
                            this.transmuxer.on("data", function(t) {
                                e.handleTrackMuxData(t)
                            }),
                            this.transmuxer.on("done", function() {
                                var t = e.handleTrackMuxDone("video")
                                  , n = e.handleTrackMuxDone("audio")
                                  , i = 2 === e.onDoneCb.length
                                  , r = []
                                  , a = [];
                                t && (r.push({
                                    type: "video",
                                    data: t[0].buffer,
                                    info: t[1]
                                }),
                                i && a.push(t[0].buffer)),
                                n && (r.push({
                                    type: "audio",
                                    data: n[0].buffer,
                                    info: n[1]
                                }),
                                i && a.push(n[0].buffer)),
                                e.onDoneCb(r, a)
                            })
                        }
                    }, {
                        key: "handleTrackMuxData",
                        value: function() {
                            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}
                              , t = e.type
                              , n = this.tracks[t];
                            n && (n.have = !0,
                            n.info = e.info,
                            n.remuxedSegments.push(e),
                            n.remuxedBytesLength += e.data.byteLength,
                            n.remuxedInitSegment = e.initSegment)
                        }
                    }, {
                        key: "setBaseMediaDecodeTime",
                        value: function(e) {
                            this.transmuxer && this.transmuxer.setBaseMediaDecodeTime(e)
                        }
                    }, {
                        key: "handleTrackMuxDone",
                        value: function(e) {
                            var t = this.tracks[e];
                            if (t.have) {
                                var n = 0;
                                t.createInitSegment ? (this.bytes = new Uint8Array(t.remuxedInitSegment.byteLength + t.remuxedBytesLength),
                                this.bytes.set(t.remuxedInitSegment, n),
                                n += t.remuxedInitSegment.byteLength,
                                t.createInitSegment = !1,
                                t.remuxedInitSegment = []) : this.bytes = new Uint8Array(t.remuxedBytesLength);
                                for (var i = 0, r = n; i < t.remuxedSegments.length; i += 1)
                                    this.bytes.set(t.remuxedSegments[i].data, r),
                                    r += t.remuxedSegments[i].byteLength;
                                return t.remuxedSegments = [],
                                t.remuxedBytesLength = 0,
                                [this.bytes, t.info]
                            }
                        }
                    }, {
                        key: "push",
                        value: function(e) {
                            var t = e.buffer
                              , n = e.encrypted
                              , i = e.continuous
                              , r = e.discontinuity
                              , a = e.timeOffset
                              , o = e.accurateTimeOffset;
                            r && this.resetInitSegment(),
                            this.transmuxer ? (this.transmuxer.push(new Uint8Array(t), n, i, r, a, o),
                            this.transmuxer.flush()) : this.onDoneCb([])
                        }
                    }, {
                        key: "cleanWhenError",
                        value: function() {
                            var e = this;
                            this.bytes = null,
                            Object.keys(this.tracks).forEach(function(t) {
                                e.tracks[t].remuxedBytesLength = 0,
                                e.tracks[t].remuxedSegments = []
                            })
                        }
                    }, {
                        key: "clean",
                        value: function() {
                            this.transmuxer = null,
                            this.initTracks()
                        }
                    }]),
                    e
                }()
            }();
            e.TsMuxer = t
        }
        !function(e, t) {
            module.exports = t()
        }(0, function() {
            "use strict";
            function _classCallCheck(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function createCommonjsModule(e, t) {
                return t = {
                    exports: {}
                },
                e(t, t.exports),
                t.exports
            }
            function _assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }
            function _possibleConstructorReturn(e, t) {
                return !t || "object" !== _typeof_1(t) && "function" != typeof t ? assertThisInitialized(e) : t
            }
            function _defineProperties(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
            }
            function _createClass(e, t, n) {
                return t && _defineProperties(e.prototype, t),
                n && _defineProperties(e, n),
                e
            }
            function _inherits(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && setPrototypeOf(e, t)
            }
            function createCommonjsModule$1(e, t) {
                return t = {
                    exports: {}
                },
                e(t, t.exports),
                t.exports
            }
            function browserDetect(e) {
                return new Detector(e,injectableNavigator,injectableProcess).detect()
            }
            function fastApply(e, t, n) {
                return e.apply(t, n)
            }
            function spliceOne(e, t) {
                for (; t + 1 < e.length; t++)
                    e[t] = e[t + 1];
                e.pop()
            }
            function upperFirstCase(e) {
                return e.charAt(0).toUpperCase() + e.slice(1)
            }
            function arrayRemove(e, t, n) {
                for (var i = 0; i < e.length; i++)
                    if (e[i] === t) {
                        if (spliceOne(e, i),
                        n)
                            break;
                        i--
                    }
            }
            function formatTime(e) {
                return "".concat(padZero(e.getHours()), ":").concat(padZero(e.getMinutes()), ":").concat(padZero(e.getSeconds()), ".").concat(e.getMilliseconds())
            }
            function padZero(e) {
                return e > 9 ? "".concat(e) : "0".concat(e)
            }
            function formatByteUnit(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                if (isNaN(e))
                    return 0;
                if (e < 1e3) {
                    var i = String(e).split(".")[0].length;
                    return "".concat(e.toFixed(4 - i), " ").concat(t[n] || "")
                }
                return formatByteUnit(e / 1024, t, n + 1)
            }
            function formatNum(e, t) {
                var n = Number(e).toFixed(t).split(".");
                return 1 == n.length ? Number(n[0]) : 2 == n.length ? (n[1] = n[1].replace(rTrimRearZero, ""),
                n[1] ? Number(n.join(".")) : Number(n[0])) : Number(e)
            }
            function base64ForUrl(e) {
                return btoa(e).replace(/[+/=]/g, function(e) {
                    return _base64Map[e]
                })
            }
            function resolveSamples(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .2
                  , n = e[0]
                  , i = [e[0]]
                  , r = [];
                return e.forEach(function(e) {
                    Math.abs(e - n) / n < t || Math.abs(e - n) < 5 ? (n = (n * i.length + e) / (i.length + 1),
                    i.push(e)) : (r.push(Math.round(n)),
                    i = [e],
                    n = e)
                }),
                i.length > 0 && r.push(Math.round(n)),
                r
            }
            function dumpError(e) {
                logger.error("".concat(e.name, "--details:").concat(e.details, "--fatal:").concat(e.fatal, "--code:").concat(e.code, "----").concat(e.message, "----\n").concat(e.response && JSON.stringify(e.response), "-----\n").concat(e.frag && JSON.stringify(e.frag)))
            }
            function getDomain(e) {
                var t = /^https?:\/\/([^/]+)/.exec(e);
                return t && t[1]
            }
            function replaceDomain(e, t) {
                return e.replace(/^(https?:\/\/)([^/]+)/, "$1".concat(t))
            }
            function isSupported() {
                var e;
                "undefined" != typeof window && (e = window.MediaSource || window.WebKitMediaSource);
                var t = window.SourceBuffer || window.WebKitSourceBuffer
                  , n = e && "function" == typeof e.isTypeSupported && e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')
                  , i = !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove;
                return !!n && !!i
            }
            function _defineProperty(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                e
            }
            function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                      , i = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(n).filter(function(e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                    i.forEach(function(t) {
                        defineProperty(e, t, n[t])
                    })
                }
                return e
            }
            function _arrayWithoutHoles(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++)
                        n[t] = e[t];
                    return n
                }
            }
            function _iterableToArray(e) {
                if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                    return Array.from(e)
            }
            function _nonIterableSpread() {
                throw new TypeError("Invalid attempt to spread non-iterable instance")
            }
            function _toConsumableArray(e) {
                return arrayWithoutHoles(e) || iterableToArray(e) || nonIterableSpread()
            }
            function _isNativeFunction(e) {
                return -1 !== Function.toString.call(e).indexOf("[native code]")
            }
            function _arrayWithHoles(e) {
                if (Array.isArray(e))
                    return e
            }
            function _iterableToArrayLimit(e, t) {
                var n = []
                  , i = !0
                  , r = !1
                  , a = void 0;
                try {
                    for (var o, s = e[Symbol.iterator](); !(i = (o = s.next()).done) && (n.push(o.value),
                    !t || n.length !== t); i = !0)
                        ;
                } catch (e) {
                    r = !0,
                    a = e
                } finally {
                    try {
                        i || null == s.return || s.return()
                    } finally {
                        if (r)
                            throw a
                    }
                }
                return n
            }
            function _nonIterableRest() {
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
            function _slicedToArray(e, t) {
                return arrayWithHoles(e) || iterableToArrayLimit(e, t) || nonIterableRest()
            }
            function isIe() {
                var e = navigator.userAgent;
                if (/Edge/.test(e))
                    return !1;
                if (/(Trident|MSIE)/.test(e)) {
                    var t = /MSIE\s(\d+)/.exec(e);
                    return t ? parseInt(t[1]) : 11
                }
                return !1
            }
            function getCodecType(e) {
                var t = e.split(".")[0];
                return sampleEntryCodesISO.video[t] ? "video" : sampleEntryCodesISO.audio[t] ? "audio" : "unknown"
            }
            function generateVideoCodec(e) {
                if (!e)
                    return "avc1.42E01E";
                var t = "avc1.";
                switch (e.profileIdc) {
                case 66:
                    t += "42E0";
                    break;
                case 77:
                    t += "4D40";
                    break;
                default:
                    t += "6400"
                }
                return t + Number(e.levelIdc).toString(16).padStart(2, "0")
            }
            function generateAudioCodec(e) {
                if (!e)
                    return "mp4a.40.2";
                var t = e.samplingfrequencyindex
                  , n = e.audioobjecttype;
                return t >= 6 && (n = 5),
                "mp4a.40." + n
            }
            function getAVCodecFromTracks(e) {
                var t, n, i, r;
                return i = e.filter(function(e) {
                    return e.type === TrackType.MIXED
                }),
                r = i.length ? i[0] : e.reduce(function(e, t) {
                    return t.type === TrackType.AUDIO && (e.audioCodec = t.codec),
                    t.type === TrackType.VIDEO && (e.videoCodec = t.codec),
                    e
                }, {}),
                t = r.audioCodec || "mp4a.40.2",
                n = r.videoCodec || "avc1.42E01E",
                {
                    audioCodec: t,
                    videoCodec: n
                }
            }
            function extractAbsoluteDtsFromUrl(e) {
                var t = URL_DTS_PATTERN.exec(e);
                if (t) {
                    var n = slicedToArray(t, 3)
                      , i = (n[0],
                    n[1])
                      , r = n[2];
                    if (i && r)
                        return {
                            seqNo: +i,
                            absDts: +r
                        }
                }
            }
            function setCodecs(e, t) {
                e.forEach(function(e) {
                    var n = getCodecType(e);
                    "unknown" == n ? (t.unknownCodecs || (t.unknownCodecs = []),
                    t.unknownCodecs.push(e)) : t["".concat(n, "Codec")] = e
                })
            }
            function execTag(e) {
                if (DISCONTINUITY_PATTERN.test(e))
                    return ["", "xDiscontinuity", ""];
                var t = EXTRACT_PATTERN.exec(e);
                return t && t.length && (t[1] = convertUpperNameToCamel(t[1])),
                t
            }
            function convertUpperNameToCamel(e) {
                if (-1 !== e.indexOf("-")) {
                    return e.split("-").map(function(e, t) {
                        return 0 === t ? e.toLowerCase() : e[0] + e.slice(1).toLowerCase()
                    }).join("")
                }
                return e.toLowerCase()
            }
            function execAttrs(e, t) {
                return -1 === e.indexOf("=") ? e.split(",").filter(Boolean).map(function(e) {
                    return isNaN(Number(e)) ? convertUpperNameToCamel(e) : Number(e)
                }) : e.trim().match(SPLIT_ATTR_PATTERN).map(function(e) {
                    return "," === e.charAt(0) && (e = e.slice(1)),
                    '"' === e.charAt(0) && "," === e.charAt(1) && (e = e.slice(2)),
                    e.replace(/"/, "")
                }).reduce(function(e, n) {
                    var i = ATTR_PATTERN.exec(n);
                    if (i && i.length) {
                        var r = slicedToArray(i, 3)
                          , a = r[1]
                          , o = r[2];
                        "URI" === a && (a = "URL"),
                        e[convertUpperNameToCamel(a)] = isNaN(Number(o)) ? setAttrUrlToAbsolute(a, o.replace(/"/g, ""), t) : Number(o)
                    }
                    return e
                }, {})
            }
            function setAttrUrlToAbsolute(e, t, n) {
                return "URL" === e ? setUrlToAbsolute(t, n) : t
            }
            function getPwdOfPlayListUrl(e) {
                if (!e)
                    return "";
                /^\/\//.test(e) && (e = location.protocol + e);
                var t = e.split("/");
                return t.slice(0, t.length - 1).join("/")
            }
            function setUrlToAbsolute(e, t) {
                var n;
                if (!1 === /^(http|https|\/\/)/.test(e)) {
                    for (var i, r = t.split("/"), a = e.split("/"); a.length; )
                        i = a.shift(),
                        -1 == r.indexOf(i) && r.push(i);
                    n = r.join("/")
                } else
                    n = e;
                n = "https:" === location.protocol ? n.replace(/^(https|http)/, "https") : n;
                var o = /m3u8host=([^&$]+)/.exec(location.search);
                return o && o.length && (n = n.replace("pl-ali.youku.com", o[1])),
                n
            }
            function resolveTagAndAttr(e, t, n, i) {
                parserResolve.dispatch(e, t, n, i) || (1 === t.length && (t = t[0]),
                n[e]instanceof Array ? n[e].push(t) : "object" === _typeof_1(n[e]) ? n[e] = [n[e], t] : n[e] = t)
            }
            function addExtraProps(e, t) {
                "LEVEL" === t && (e.live = void 0 === e.live || e.live),
                parserResolve.dispatch("extraProps", null, e, t)
            }
            function checkDataIntegrity(e) {
                return e.segments.length || e.levels.length ? e.segments.length ? void (e.segments = e.segments.filter(function(e) {
                    return e.duration && e.url
                })) : void (e.levels.length && (e.levels = e.levels.filter(function(e) {
                    return e.bandwidth && e.url
                }))) : void (e.error = M3U8_PARSE_ERROR)
            }
            function findGroup(e, t) {
                if (!e)
                    return null;
                for (var n = null, i = 0; i < e.length; i++) {
                    var r = e[i];
                    r.id === t && (n = r)
                }
                return n
            }
            function addCodecToAudioTrack(e, t) {
                var n = e.map(function(e) {
                    return !!e.audio && {
                        id: e.audio,
                        codec: e.audioCodec
                    }
                }).filter(Boolean);
                n.length && (Array.isArray(t.xMedia) || (t.xMedia = [t.xMedia]),
                t.xMedia.forEach(function(e) {
                    if ("AUDIO" === e.type) {
                        var t = findGroup(n, e.groupId);
                        e.audioCodec = t ? t.codec : n[0].codec
                    }
                }))
            }
            function filterResolution(e, t) {
                if (e.levels.length && t.length) {
                    e.levels = e.levels.filter(function(e) {
                        return -1 === t.indexOf(e.streamtype)
                    });
                    var n = e.levels.length;
                    e.levels.forEach(function(e, t) {
                        e.levelId = n - t
                    })
                }
            }
            function m3u8Parser(e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : []
                  , r = {
                    error: 0,
                    startSN: 0,
                    segments: [],
                    levels: [],
                    xMedia: []
                };
                try {
                    parserResolve.reset();
                    var a = getPwdOfPlayListUrl(n);
                    return e.split("\n").filter(Boolean).map(function(e) {
                        return e.trim()
                    }).forEach(function(e) {
                        var n, i, o;
                        if ("#" !== e.charAt(0))
                            n = "url",
                            o = setUrlToAbsolute(e, a);
                        else {
                            var s = execTag(e);
                            if (!s || !s.length)
                                return;
                            var l = slicedToArray(s, 3);
                            n = l[1],
                            i = l[2],
                            o = execAttrs(i, a)
                        }
                        resolveTagAndAttr(n, o, r, t)
                    }),
                    addExtraProps(r, t),
                    checkDataIntegrity(r),
                    addCodecToAudioTrack(r.levels, r),
                    filterResolution(r, i.concat(["3gphd"])),
                    r
                } catch (e) {
                    return console.log(e),
                    r.error = M3U8_PARSE_ERROR,
                    r
                }
            }
            function fix(e) {
                var t = "".concat(e).split(".");
                return "".concat(t[0], ".").concat((t[1] || "").padEnd(4, "0").slice(0, 4)).replace(".0000", "")
            }
            function _doUpdate(e, t, n) {
                var i = e && e.details && e.details.segments || [];
                if (i.length) {
                    i = i.filter(function(e) {
                        return e.id >= t.id
                    });
                    for (var r = 0; r < i.length; r++)
                        i[r].id === t.id ? (i[r].start = t.start,
                        i[r].end = t.end,
                        i[r].duration = t.duration) : (i[r].start = i[r - 1] ? i[r - 1].end : i[r].start,
                        i[r].end = i[r].start + i[r].duration)
                }
                if (n) {
                    i = i.filter(function(e) {
                        return e.id <= t.id
                    });
                    for (var a = i.length, o = a - 1; o > 0; o--) {
                        var s = i[o - 1];
                        s.end = i[o].start,
                        s.start = s.end - s.duration
                    }
                }
            }
            function updateRestSegmentsOffset(e, t, n, i) {
                if (t)
                    if (i)
                        t.forEach(function(t) {
                            _doUpdate(t, e, n)
                        });
                    else {
                        var r = t.find(function(t) {
                            return t.levelId === e.levelId
                        });
                        _doUpdate(r, e, n)
                    }
            }
            function locateSegment(e, t) {
                if (t && t.details) {
                    for (var n = t.details.segments, i = 0; i < n.length; i++)
                        if (e >= n[i].start && e <= n[i].end)
                            return n[i];
                    if (e > n[n.length - 1].end)
                        return n[n.length - 1]
                }
                return null
            }
            function getSegmentById(e, t, n) {
                var i = t.details && t.details.segments.find(function(t) {
                    return t.id === e
                });
                if (i && n && n.details.segments.length > 0) {
                    var r = n.details.segments.find(function(t) {
                        return t.id === e
                    });
                    i.audioUrl = r.url
                }
                return i
            }
            function resetSegmentsByRange(e, t, n) {
                if (n && n.details && n.details.segments)
                    for (var i = 0; i < n.details.segments.length; i++) {
                        var r = n.details.segments[i];
                        if ((r.start >= e && r.start <= t || r.end >= e && r.end <= t && r.state === SegmentState.APPENDED) && (r.setState(SegmentState.INIT),
                        r.reloadCount = 0,
                        r.off()),
                        r.start > t)
                            break
                    }
            }
            function clearSegmentsStatus(e) {
                e && e.details && e.details.segments.forEach(function(e) {
                    e.setState(SegmentState.INIT),
                    e.data = null,
                    e.audioData = null,
                    e.videoData = null
                })
            }
            function _binarySearch(e, t, n, i) {
                if (e > t)
                    return -1;
                var r = e + Math.floor((t - e) / 2);
                return n < i[r].start ? (t = r - 1,
                _binarySearch(e, t, n, i)) : n > i[r].end ? (e = r + 1,
                _binarySearch(e, t, n, i)) : r
            }
            function getLevelIdOfUsedSegment(e, t, n) {
                var i = _binarySearch(0, t.length - 1, e, t);
                if (-1 !== i) {
                    var r = t[i].id;
                    if (void 0 !== t[i].videoData && t[i].state !== SegmentState.INIT)
                        return t[i].levelId;
                    var a = !0
                      , o = !1
                      , s = void 0;
                    try {
                        for (var l, u = n.levels[Symbol.iterator](); !(a = (l = u.next()).done); a = !0) {
                            var d = l.value;
                            if ((t = d.details && d.details.segments) && t[i] && t[i].id >= r && void 0 !== t[i].videoData && t[i].state !== SegmentState.INIT)
                                return t[i].levelId
                        }
                    } catch (e) {
                        o = !0,
                        s = e
                    } finally {
                        try {
                            a || null == u.return || u.return()
                        } finally {
                            if (o)
                                throw s
                        }
                    }
                    var c = !0
                      , h = !1
                      , p = void 0;
                    try {
                        for (var f, m = n.levels[Symbol.iterator](); !(c = (f = m.next()).done); c = !0) {
                            var y = f.value;
                            if ((t = y.details && y.details.segments) && t[i] && t[i].id >= r && t[i].state !== SegmentState.INIT)
                                return t[i].levelId
                        }
                    } catch (e) {
                        h = !0,
                        p = e
                    } finally {
                        try {
                            c || null == m.return || m.return()
                        } finally {
                            if (h)
                                throw p
                        }
                    }
                }
            }
            function getSegment(e, t, n, i, r, a, o) {
                var s = null;
                if (r && r.details) {
                    var l = r.details && r.details.segments
                      , u = r.details.startSN;
                    if (l) {
                        if (n && (s = l[n.id - u + 1]) && s.start <= e + i && s.end > e + i)
                            return a && a.details.segments.length > 0 && setupAudioSegment(e, t, s, a),
                            s;
                        for (var d = i, c = 0, h = l.length; c < h; c++) {
                            if (l[c].isLast) {
                                e + d > l[c].start && (e <= l[c].end || Math.abs(l[c].end - e) <= .15) && (s = l[c]);
                                break
                            }
                            if (!(l[c].start > e + d) && (e + d >= l[c].start && e + d < l[c].end)) {
                                s = l[c];
                                break
                            }
                        }
                        return !s && !o && l.length && e >= l[l.length - 1].end && (s = l[l.length - 1]),
                        a && a.details.segments.length > 0 && s && setupAudioSegment(e, t, s, a),
                        s
                    }
                }
            }
            function setupAudioSegment(e, t, n, i) {
                var r, a = findAudioSegment(t, i);
                n.end - a.end > .6 * a.duration && (r = i.details.segments[a.id + 1]),
                r ? (n.audioUrl = [a.url, r.url],
                n.audioStart = a.start,
                n.audioEnd = r.end) : (n.audioUrl = a.url,
                n.audioStart = a.start,
                n.audioEnd = a.end)
            }
            function findAudioSegment(e, t) {
                for (var n = 0; n < t.details.segments.length; n++) {
                    var i = t.details.segments[n];
                    if (i.start <= e + .04 && e + .04 < i.end)
                        return i
                }
                var r = t.details.segments[0]
                  , a = t.details.segments[t.details.segments.length - 1];
                return e >= a.start ? a : e <= r ? r : void 0
            }
            function _structuredBuffer(e) {
                if (e instanceof Array)
                    return e;
                var t = [];
                if (e instanceof TimeRanges) {
                    for (var n = 0; n < e.length; n++)
                        t.push([e.start(n), e.end(n)]);
                    return t
                }
                return []
            }
            function getBufferInfo() {
                var e = new BufferInfo$1;
                return function(t) {
                    return e.setRanges(_structuredBuffer(t))
                }
            }
            function formatTimestamp(e, t) {
                return e ? e.timeline[t].map(function(e) {
                    return (e / 9e4).toFixed(3)
                }).join(",") : ""
            }
            function convertStrToBuffer(e) {
                for (var t = new Uint8Array(e.length), n = 0; n < e.length; n += 1)
                    t[n] = e.charCodeAt(n);
                return t.buffer
            }
            function convertBufferToStr(e) {
                for (var t = e instanceof ArrayBuffer ? new Uint8Array(e) : e, n = "", i = 0; i < t.length; i += 1)
                    n += String.fromCharCode(t[i]);
                return n
            }
            function stringToArray(e) {
                for (var t = new ArrayBuffer(2 * e.length), n = new Uint16Array(t), i = 0, r = e.length; i < r; i++)
                    n[i] = e.charCodeAt(i);
                return n
            }
            function arrayToString(e) {
                var t = new Uint16Array(e.buffer);
                return String.fromCharCode.apply(null, t)
            }
            function base64DecodeUint8Array(e) {
                for (var t = window.atob(e), n = t.length, i = new Uint8Array(new ArrayBuffer(n)), r = 0; r < n; r++)
                    i[r] = t.charCodeAt(r);
                return i
            }
            function isSupportPerformance() {
                return performance && performance.getEntries
            }
            function getMatchedEntry(e, t) {
                var n;
                if (n = PATH_PATTERN.exec(e),
                n = n && n.length && n[1],
                isSupportPerformance()) {
                    var i = performance.getEntries().filter(function(e) {
                        return e.initiatorType === t
                    }).filter(function(e) {
                        var t = PATH_PATTERN.exec(e.name);
                        if (t && t.length)
                            return t[1] === n || void 0
                    })[0];
                    if (i)
                        return i
                }
                return null
            }
            function caclDefaultSpeed() {
                var e = function(e) {
                    return "resource" === e.entryType && e.transferSize && e.duration && ("xmlhttprequest" === e.initiatorType || "script" === e.initiatorType)
                };
                if (isSupportPerformance()) {
                    var t = performance.getEntries().filter(e).map(function(e) {
                        return {
                            size: e.transferSize || 0,
                            duration: e.responseEnd ? e.responseEnd - e.responseStart : e.duration
                        }
                    });
                    if (!t.length)
                        return 0;
                    var n = t.map(function(e) {
                        return e.size / e.duration
                    }).filter(function(e) {
                        return e > 50
                    }).reduce(function(e, t) {
                        return e += t
                    }, 0);
                    return parseInt(n / t.length * 1e3 * 8)
                }
                return 0
            }
            function getWorker() {
                var worker = null;
                if (window.Worker && !isIe()) {
                    var wrapper = "".concat(TS_MUXER_SOURCE.toString(), ';\n      const global={};\n      TS_MUXER_SOURCE(global);\n      const context = self;\n      const tsMuxer= new global.TsMuxer(function(dataSet,transferable){\n        context.postMessage(dataSet,transferable)\n      });\n      context.addEventListener(\'message\', function(e){\n        const type = e.data.type\n        const data = e.data.data\n        switch(type){\n          case "INIT":\n              tsMuxer.initTransmuxer(data);\n              break;\n          case "BUFFER_DATA":\n              tsMuxer.push(data);\n              break;\n          case "SET_BASEMEDIA_DECODE_TIME":\n              tsMuxer.setBaseMediaDecodeTime(data);\n              break;\n          case "RESET_INIT_SEGMENT":\n              tsMuxer.resetInitSegment();\n              break;\n          case "SET_DISCONTINUITY":\n              tsMuxer.setDiscontinuity(data);\n              break;\n          case "CHANGE_DECODE_KEY":\n              tsMuxer.changeDecodeKey(data)\n              break;\n          case  "CLEAN_WHEN_ERROR":\n              tsMuxer.cleanWhenError();\n              break;\n          case "CLEAN":\n              tsMuxer.clean()\n              break;\n        }\n      });\n    ')
                      , blob = new Blob([wrapper],{
                        type: "text/javascript"
                    })
                      , URL = window.URL || window.webkitURL || window.mozURL || window.msURL
                      , workerUrl = URL.createObjectURL(blob);
                    worker = new Worker(workerUrl),
                    worker.clean = function() {
                        worker.postMessage({
                            type: "CLEAN"
                        })
                    }
                    ,
                    worker.onerror = function() {
                        console.log("worker error")
                    }
                } else {
                    var proxy = {
                        addEventListener: function() {},
                        postMessage: function() {}
                    };
                    if (11 === isIe()) {
                        var tsMuxer;
                        eval("".concat(TS_MUXER_SOURCE.toString(), ";const global={};TS_MUXER_SOURCE(global);window.TsMuxer = global.TsMuxer")),
                        tsMuxer = new TsMuxer(function(e) {
                            proxy.events.message({
                                data: e
                            })
                        }
                        ),
                        proxy = {
                            events: {},
                            clean: function() {
                                tsMuxer.clean()
                            },
                            addEventListener: function(e, t) {
                                proxy.events[e] = t
                            },
                            removeEventListener: function(e) {
                                delete proxy.events[e]
                            },
                            postMessage: function(e) {
                                var t = e.type
                                  , n = e.data;
                                switch (t) {
                                case "INIT":
                                    tsMuxer.initTransmuxer(n);
                                    break;
                                case "BUFFER_DATA":
                                    tsMuxer.push(n);
                                    break;
                                case "SET_BASEMEDIA_DECODE_TIME":
                                    tsMuxer.setBaseMediaDecodeTime(n);
                                    break;
                                case "RESET_INIT_SEGMENT":
                                    tsMuxer.resetInitSegment();
                                    break;
                                case "CHANGE_DECODE_KEY":
                                    tsMuxer.changeDecodeKey(n);
                                    break;
                                case "CLEAN_WHEN_ERROR":
                                    tsMuxer.cleanWhenError();
                                    break;
                                case "CLEAN":
                                    tsMuxer.clean()
                                }
                            }
                        }
                    }
                    worker = proxy
                }
                return worker
            }
            function array2string(e) {
                for (var t = [], n = 0; n < e.length; n++)
                    t.push(Number(e[n]).toString(16));
                return "[".concat(t.join(","), "]")
            }
            function paramsSerialize(e) {
                if ("object" !== _typeof_1(e))
                    return "";
                var t = Object.keys(e).reduce(function(t, n) {
                    return "object" === _typeof_1(e[n]) ? t += "".concat(n, "=").concat(JSON.stringify(e[n]), "&") : t += "".concat(n, "=").concat(e[n], "&"),
                    t
                }, "");
                return t.slice(0, t.length - 1)
            }
            function formatSpeed(e) {
                return isNaN(e) ? "0KB/s" : (e <= 0 && (e = 0),
                e >= .8 ? "".concat(e.toFixed(2), "MB/s") : "".concat((1024 * e).toFixed(2), "KB/s"))
            }
            var classCallCheck = _classCallCheck
              , _typeof_1 = createCommonjsModule(function(e) {
                function t(e) {
                    return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e
                    }
                    : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                    }
                    )(e)
                }
                function n(i) {
                    return "function" == typeof Symbol && "symbol" === t(Symbol.iterator) ? e.exports = n = function(e) {
                        return t(e)
                    }
                    : e.exports = n = function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : t(e)
                    }
                    ,
                    n(i)
                }
                e.exports = n
            })
              , assertThisInitialized = _assertThisInitialized
              , possibleConstructorReturn = _possibleConstructorReturn
              , getPrototypeOf = createCommonjsModule(function(e) {
                function t(n) {
                    return e.exports = t = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                    ,
                    t(n)
                }
                e.exports = t
            })
              , createClass = _createClass
              , setPrototypeOf = createCommonjsModule(function(e) {
                function t(n, i) {
                    return e.exports = t = Object.setPrototypeOf || function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    ,
                    t(n, i)
                }
                e.exports = t
            })
              , inherits = _inherits
              , __assign = Object.assign || function(e) {
                for (var t, n = 1, i = arguments.length; n < i; n++) {
                    t = arguments[n];
                    for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                }
                return e
            }
              , browsers = [["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/], ["opera", /Opera\/([0-9\.]+)(?:\s|$)/], ["opera", /OPR\/([0-9\.]+)(:?\s|$)$/], ["edge", /Edge\/([0-9\._]+)/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["safari", /Version\/([0-9\._]+).*Safari/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/], ["yandexbrowser", /YaBrowser\/([0-9\._]+)/], ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/]]
              , os = ["Windows Phone", "Android", "CentOS", {
                name: "Chrome OS",
                pattern: "CrOS"
            }, "Debian", "Fedora", "FreeBSD", "Gentoo", "Haiku", "Kubuntu", "Linux Mint", "OpenBSD", "Red Hat", "SuSE", "Ubuntu", "Xubuntu", "Cygwin", "Symbian OS", "hpwOS", "webOS ", "webOS", "Tablet OS", "Tizen", "Linux", "Mac OS X", "Macintosh", "Mac", "Windows 98;", "Windows "]
              , osVersions = {
                "10.0": "10",
                6.4: "10 Technical Preview",
                6.3: "8.1",
                6.2: "8",
                6.1: "Server 2008 R2 / 7",
                "6.0": "Server 2008 / Vista",
                5.2: "Server 2003 / XP 64-bit",
                5.1: "XP",
                5.01: "2000 SP1",
                "5.0": "2000",
                "4.0": "NT",
                "4.90": "ME"
            }
              , mobileRegExp = new RegExp(["(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|", "compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|", "midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)", "\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|", "wap|windows ce|xda|xiino"].join(""),"i")
              , mobilePrefixRegExp = new RegExp(["1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|", "ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|", "avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|", "cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|", "ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|", "g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|", "hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|", "i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|", "kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])", "|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|", "mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|", "n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|", "op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|", "po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|", "raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|", "se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|", "so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|", "tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|", "veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|", "w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-"].join(""),"i")
              , Detector = function() {
                function e(e, t, n) {
                    this.navigator = t,
                    this.process = n,
                    this.userAgent = e || (this.navigator ? t.userAgent || t.vendor : "")
                }
                return e.prototype.detect = function() {
                    if (this.process && !this.userAgent) {
                        var e = this.process.version.slice(1).split(".").slice(0, 3)
                          , t = Array.prototype.slice.call(e, 1).join("") || "0";
                        return {
                            name: "node",
                            version: e.join("."),
                            versionNumber: parseFloat(e[0] + "." + t),
                            mobile: !1,
                            os: this.process.platform
                        }
                    }
                    return this.userAgent || this.handleMissingError(),
                    __assign({}, this.checkBrowser(), this.checkMobile(), this.checkOs())
                }
                ,
                e.prototype.checkBrowser = function() {
                    var e = this;
                    return browsers.filter(function(t) {
                        return t[1].test(e.userAgent)
                    }).map(function(t) {
                        var n = t[1].exec(e.userAgent)
                          , i = n && n[1].split(/[._]/).slice(0, 3)
                          , r = Array.prototype.slice.call(i, 1).join("") || "0";
                        return i && i.length < 3 && Array.prototype.push.apply(i, 1 === i.length ? [0, 0] : [0]),
                        {
                            name: String(t[0]),
                            version: i.join("."),
                            versionNumber: Number(i[0] + "." + r)
                        }
                    }).shift()
                }
                ,
                e.prototype.checkMobile = function() {
                    var e = this.userAgent.substr(0, 4);
                    return {
                        mobile: mobileRegExp.test(this.userAgent) || mobilePrefixRegExp.test(e)
                    }
                }
                ,
                e.prototype.checkOs = function() {
                    var e = this;
                    return os.map(function(t) {
                        var n = t.name || t
                          , i = e.getOsPattern(t);
                        return {
                            name: n,
                            pattern: i,
                            value: RegExp("\\b" + i.replace(/([ -])(?!$)/g, "$1?") + "(?:x?[\\d._]+|[ \\w.]*)", "i").exec(e.userAgent)
                        }
                    }).filter(function(e) {
                        return e.value
                    }).map(function(e) {
                        var t, n = e.value[0] || "";
                        return e.pattern && e.name && /^Win/i.test(n) && !/^Windows Phone /i.test(n) && (t = osVersions[n.replace(/[^\d.]/g, "")]) && (n = "Windows " + t),
                        e.pattern && e.name && (n = n.replace(RegExp(e.pattern, "i"), e.name)),
                        n = n.replace(/ ce$/i, " CE").replace(/\bhpw/i, "web").replace(/\bMacintosh\b/, "Mac OS").replace(/_PowerPC\b/i, " OS").replace(/\b(OS X) [^ \d]+/i, "$1").replace(/\bMac (OS X)\b/, "$1").replace(/\/(\d)/, " $1").replace(/_/g, ".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, "").replace(/\bx86\.64\b/gi, "x86_64").replace(/\b(Windows Phone) OS\b/, "$1").replace(/\b(Chrome OS \w+) [\d.]+\b/, "$1").split(" on ")[0].trim(),
                        n = /^(?:webOS|i(?:OS|P))/.test(n) ? n : n.charAt(0).toUpperCase() + n.slice(1),
                        {
                            os: n
                        }
                    }).shift()
                }
                ,
                e.prototype.getOsPattern = function(e) {
                    var t = e;
                    return ("string" == typeof e ? e : void 0) || t.pattern || t.name
                }
                ,
                e.prototype.handleMissingError = function() {
                    throw new Error("Please give user-agent.\n> browser(navigator.userAgent or res.headers['user-agent']).")
                }
                ,
                e
            }()
              , _global = createCommonjsModule$1(function(e) {
                var t = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                "number" == typeof __g && (__g = t)
            })
              , _core = createCommonjsModule$1(function(e) {
                var t = e.exports = {
                    version: "2.5.7"
                };
                "number" == typeof __e && (__e = t)
            })
              , _core_1 = _core.version
              , _isObject = function(e) {
                return "object" == typeof e ? null !== e : "function" == typeof e
            }
              , _anObject = function(e) {
                if (!_isObject(e))
                    throw TypeError(e + " is not an object!");
                return e
            }
              , _fails = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
              , _descriptors = !_fails(function() {
                return 7 != Object.defineProperty({}, "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
              , document$1 = _global.document
              , is = _isObject(document$1) && _isObject(document$1.createElement)
              , _domCreate = function(e) {
                return is ? document$1.createElement(e) : {}
            }
              , _ie8DomDefine = !_descriptors && !_fails(function() {
                return 7 != Object.defineProperty(_domCreate("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
              , _toPrimitive = function(e, t) {
                if (!_isObject(e))
                    return e;
                var n, i;
                if (t && "function" == typeof (n = e.toString) && !_isObject(i = n.call(e)))
                    return i;
                if ("function" == typeof (n = e.valueOf) && !_isObject(i = n.call(e)))
                    return i;
                if (!t && "function" == typeof (n = e.toString) && !_isObject(i = n.call(e)))
                    return i;
                throw TypeError("Can't convert object to primitive value")
            }
              , dP = Object.defineProperty
              , f = _descriptors ? Object.defineProperty : function(e, t, n) {
                if (_anObject(e),
                t = _toPrimitive(t, !0),
                _anObject(n),
                _ie8DomDefine)
                    try {
                        return dP(e, t, n)
                    } catch (e) {}
                if ("get"in n || "set"in n)
                    throw TypeError("Accessors not supported!");
                return "value"in n && (e[t] = n.value),
                e
            }
              , _objectDp = {
                f: f
            }
              , _propertyDesc = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
              , _hide = _descriptors ? function(e, t, n) {
                return _objectDp.f(e, t, _propertyDesc(1, n))
            }
            : function(e, t, n) {
                return e[t] = n,
                e
            }
              , hasOwnProperty = {}.hasOwnProperty
              , _has = function(e, t) {
                return hasOwnProperty.call(e, t)
            }
              , id = 0
              , px = Math.random()
              , _uid = function(e) {
                return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++id + px).toString(36))
            }
              , _redefine = createCommonjsModule$1(function(e) {
                var t = _uid("src")
                  , n = Function.toString
                  , i = ("" + n).split("toString");
                _core.inspectSource = function(e) {
                    return n.call(e)
                }
                ,
                (e.exports = function(e, n, r, a) {
                    var o = "function" == typeof r;
                    o && (_has(r, "name") || _hide(r, "name", n)),
                    e[n] !== r && (o && (_has(r, t) || _hide(r, t, e[n] ? "" + e[n] : i.join(String(n)))),
                    e === _global ? e[n] = r : a ? e[n] ? e[n] = r : _hide(e, n, r) : (delete e[n],
                    _hide(e, n, r)))
                }
                )(Function.prototype, "toString", function() {
                    return "function" == typeof this && this[t] || n.call(this)
                })
            })
              , _aFunction = function(e) {
                if ("function" != typeof e)
                    throw TypeError(e + " is not a function!");
                return e
            }
              , _ctx = function(e, t, n) {
                if (_aFunction(e),
                void 0 === t)
                    return e;
                switch (n) {
                case 1:
                    return function(n) {
                        return e.call(t, n)
                    }
                    ;
                case 2:
                    return function(n, i) {
                        return e.call(t, n, i)
                    }
                    ;
                case 3:
                    return function(n, i, r) {
                        return e.call(t, n, i, r)
                    }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }
              , PROTOTYPE = "prototype"
              , $export = function(e, t, n) {
                var i, r, a, o, s = e & $export.F, l = e & $export.G, u = e & $export.S, d = e & $export.P, c = e & $export.B, h = l ? _global : u ? _global[t] || (_global[t] = {}) : (_global[t] || {})[PROTOTYPE], p = l ? _core : _core[t] || (_core[t] = {}), f = p[PROTOTYPE] || (p[PROTOTYPE] = {});
                l && (n = t);
                for (i in n)
                    r = !s && h && void 0 !== h[i],
                    a = (r ? h : n)[i],
                    o = c && r ? _ctx(a, _global) : d && "function" == typeof a ? _ctx(Function.call, a) : a,
                    h && _redefine(h, i, a, e & $export.U),
                    p[i] != a && _hide(p, i, o),
                    d && f[i] != a && (f[i] = a)
            };
            _global.core = _core,
            $export.F = 1,
            $export.G = 2,
            $export.S = 4,
            $export.P = 8,
            $export.B = 16,
            $export.W = 32,
            $export.U = 64,
            $export.R = 128;
            var _export = $export
              , toString = {}.toString
              , _cof = function(e) {
                return toString.call(e).slice(8, -1)
            }
              , _iobject = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
                return "String" == _cof(e) ? e.split("") : Object(e)
            }
              , _defined = function(e) {
                if (void 0 == e)
                    throw TypeError("Can't call method on  " + e);
                return e
            }
              , _toObject = function(e) {
                return Object(_defined(e))
            }
              , ceil = Math.ceil
              , floor = Math.floor
              , _toInteger = function(e) {
                return isNaN(e = +e) ? 0 : (e > 0 ? floor : ceil)(e)
            }
              , min = Math.min
              , _toLength = function(e) {
                return e > 0 ? min(_toInteger(e), 9007199254740991) : 0
            }
              , _isArray = Array.isArray || function(e) {
                return "Array" == _cof(e)
            }
              , _shared = createCommonjsModule$1(function(e) {
                var t = _global["__core-js_shared__"] || (_global["__core-js_shared__"] = {});
                (e.exports = function(e, n) {
                    return t[e] || (t[e] = void 0 !== n ? n : {})
                }
                )("versions", []).push({
                    version: _core.version,
                    mode: "global",
                    copyright: "© 2018 Denis Pushkarev (zloirock.ru)"
                })
            })
              , _wks = createCommonjsModule$1(function(e) {
                var t = _shared("wks")
                  , n = _global.Symbol
                  , i = "function" == typeof n;
                (e.exports = function(e) {
                    return t[e] || (t[e] = i && n[e] || (i ? n : _uid)("Symbol." + e))
                }
                ).store = t
            })
              , SPECIES = _wks("species")
              , _arraySpeciesConstructor = function(e) {
                var t;
                return _isArray(e) && (t = e.constructor,
                "function" != typeof t || t !== Array && !_isArray(t.prototype) || (t = void 0),
                _isObject(t) && null === (t = t[SPECIES]) && (t = void 0)),
                void 0 === t ? Array : t
            }
              , _arraySpeciesCreate = function(e, t) {
                return new (_arraySpeciesConstructor(e))(t)
            }
              , _arrayMethods = function(e, t) {
                var n = 1 == e
                  , i = 2 == e
                  , r = 3 == e
                  , a = 4 == e
                  , o = 6 == e
                  , s = 5 == e || o
                  , l = t || _arraySpeciesCreate;
                return function(t, u, d) {
                    for (var c, h, p = _toObject(t), f = _iobject(p), m = _ctx(u, d, 3), y = _toLength(f.length), g = 0, v = n ? l(t, y) : i ? l(t, 0) : void 0; y > g; g++)
                        if ((s || g in f) && (c = f[g],
                        h = m(c, g, p),
                        e))
                            if (n)
                                v[g] = h;
                            else if (h)
                                switch (e) {
                                case 3:
                                    return !0;
                                case 5:
                                    return c;
                                case 6:
                                    return g;
                                case 2:
                                    v.push(c)
                                }
                            else if (a)
                                return !1;
                    return o ? -1 : r || a ? a : v
                }
            }
              , _strictMethod = function(e, t) {
                return !!e && _fails(function() {
                    t ? e.call(null, function() {}, 1) : e.call(null)
                })
            }
              , $filter = _arrayMethods(2);
            _export(_export.P + _export.F * !_strictMethod([].filter, !0), "Array", {
                filter: function(e) {
                    return $filter(this, e, arguments[1])
                }
            });
            var filter = _core.Array.filter
              , $map = _arrayMethods(1);
            _export(_export.P + _export.F * !_strictMethod([].map, !0), "Array", {
                map: function(e) {
                    return $map(this, e, arguments[1])
                }
            });
            var map = _core.Array.map
              , _stringWs = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
              , space = "[" + _stringWs + "]"
              , non = "​"
              , ltrim = RegExp("^" + space + space + "*")
              , rtrim = RegExp(space + space + "*$")
              , exporter = function(e, t, n) {
                var i = {}
                  , r = _fails(function() {
                    return !!_stringWs[e]() || non[e]() != non
                })
                  , a = i[e] = r ? t(trim) : _stringWs[e];
                n && (i[n] = a),
                _export(_export.P + _export.F * r, "String", i)
            }
              , trim = exporter.trim = function(e, t) {
                return e = String(_defined(e)),
                1 & t && (e = e.replace(ltrim, "")),
                2 & t && (e = e.replace(rtrim, "")),
                e
            }
              , _stringTrim = exporter;
            _stringTrim("trim", function(e) {
                return function() {
                    return e(this, 3)
                }
            });
            var trim$1 = _core.String.trim
              , injectableNavigator = "undefined" != typeof window ? window.navigator : void 0
              , injectableProcess = void 0 !== process ? process : void 0;
            Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
                value: function(e) {
                    if (null == this)
                        throw new TypeError('"this" is null or not defined');
                    var t = Object(this)
                      , n = t.length >>> 0;
                    if ("function" != typeof e)
                        throw new TypeError("predicate must be a function");
                    for (var i = arguments[1], r = 0; r < n; ) {
                        var a = t[r];
                        if (e.call(i, a, r, t))
                            return a;
                        r++
                    }
                },
                configurable: !0,
                writable: !0
            }),
            "function" != typeof String.prototype.padEnd && (String.prototype.padEnd = function(e) {
                for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " ", n = e - this.length, i = ""; n-- > 0; )
                    i += t;
                return this + i
            }
            ),
            "function" != typeof String.prototype.padStart && (String.prototype.padStart = function(e) {
                for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " ", n = e - this.length, i = ""; n-- > 0; )
                    i += t;
                return i + this
            }
            );
            var _enable = "daily.v.youku.com" === location.hostname || "pre-v.youku.com" === location.hostname
              , match = /\bcorex_log=(\d)/.exec(document.cookie);
            match && (_enable = "1" == match[1]);
            var logger = {};
            logger.log = function() {
                if (_enable) {
                    var e;
                    (e = console).log.apply(e, arguments)
                }
            }
            ,
            logger.group = function() {
                if (_enable) {
                    var e;
                    (e = console).group.apply(e, arguments)
                }
            }
            ,
            logger.groupEnd = function() {
                _enable && console.groupEnd()
            }
            ,
            logger.warn = function() {
                if (_enable) {
                    var e;
                    (e = console).warn.apply(e, arguments)
                }
            }
            ,
            logger.info = function() {
                if (_enable) {
                    var e;
                    (e = console).info.apply(e, arguments)
                }
            }
            ,
            logger.error = function() {
                if (_enable) {
                    var e;
                    (e = console).error.apply(e, arguments)
                }
            }
            ;
            var Units = {
                BitRate: ["bps", "kbps", "mbps", "gbps", "tbps", "ppbs"],
                Byte: ["", "KB", "MB", "GB"]
            }
              , rTrimRearZero = /0+$/g
              , _base64Map = {
                "+": "-",
                "/": "_",
                "=": ""
            }
              , EventBus = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    classCallCheck(this, e),
                    this._handlers = {},
                    this._config = t,
                    this._emitCaches = {}
                }
                return createClass(e, [{
                    key: "off",
                    value: function(e, t) {
                        if (t) {
                            for (var n = 0; n < this._handlers[e].length; n++)
                                if (this._handlers[e][n] === t) {
                                    spliceOne(this._handlers[e], n);
                                    break
                                }
                        } else
                            e ? this._handlers[e] = [] : this._handlers = {}
                    }
                }, {
                    key: "once",
                    value: function(e, t) {
                        function n() {
                            if (i.off(e, n),
                            !r) {
                                r = !0;
                                for (var a = arguments.length, o = new Array(a), s = 0; s < a; s++)
                                    o[s] = arguments[s];
                                fastApply(t, this, Array.prototype.slice.call(o))
                            }
                        }
                        var i = this
                          , r = !1;
                        this.on(e, n)
                    }
                }, {
                    key: "addEventListener",
                    value: function(e, t) {
                        this.on(e, t)
                    }
                }, {
                    key: "removeEventListener",
                    value: function(e, t) {
                        this.off(e, t)
                    }
                }, {
                    key: "on",
                    value: function(e, t, n) {
                        var i = this;
                        this._handlers[e] ? isFinite(n) ? this._handlers.splice(n, 0, t) : this._handlers[e].push(t) : this._handlers[e] = [t],
                        this._emitCaches[e] && this._emitCaches[e].length > 0 && setTimeout(function() {
                            for (var t; (t = i._emitCaches[e].shift()) && i._emit(e, t); )
                                ;
                        })
                    }
                }, {
                    key: "_emit",
                    value: function(e, t) {
                        var n = this
                          , i = this._handlers[e];
                        if (i && i.length > 0) {
                            return i.concat().forEach(function(e) {
                                fastApply(e, n, t)
                            }),
                            !0
                        }
                        return !1
                    }
                }, {
                    key: "emit",
                    value: function(e) {
                        if (!e)
                            return !1;
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
                            n[i - 1] = arguments[i];
                        var r = this._emit(e, n);
                        if (this._config.wildcard) {
                            var a = e.split(".");
                            r || (a[a.length - 1] = "*",
                            r = this._emit(a.join("."), n)),
                            a[a.length - 1] = "#",
                            r = this._emit(a.join("."), n)
                        }
                        return !r && this._config.cache && (this._emitCaches[e] || (this._emitCaches[e] = [])).push(n),
                        r
                    }
                }]),
                e
            }()
              , defineProperty = _defineProperty
              , objectSpread = _objectSpread
              , arrayWithoutHoles = _arrayWithoutHoles
              , iterableToArray = _iterableToArray
              , nonIterableSpread = _nonIterableSpread
              , toConsumableArray = _toConsumableArray
              , INIT_STATE = "_init"
              , _stateMachines = [];
            window.$StateMachines$ = {};
            var StateMachine = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    i._id = _stateMachines.id,
                    _stateMachines.push(assertThisInitialized(assertThisInitialized(i))),
                    i._stateMachineName = e,
                    window.$StateMachines$[e] = assertThisInitialized(assertThisInitialized(i)),
                    i.currentState = INIT_STATE,
                    i.stateStack = "",
                    i._breakPoint = [],
                    i._parentStateMachine = n,
                    i._timeoutMonitor = [],
                    i._tickerStamp = Date.now(),
                    i._destroyed = !1,
                    i._dependents = [],
                    i._fireMap = {},
                    n && n.syncMap && n.syncMap[e] && (n.syncMap[e].children.push(assertThisInitialized(assertThisInitialized(i))),
                    n.syncMap[e].handlers.forEach(function(e) {
                        i.on("__sync__.".concat(e.state), e.handler)
                    })),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "nextStateByOnce",
                    value: function(e, t, n) {
                        for (var i = this, r = arguments.length, a = new Array(r > 3 ? r - 3 : 0), o = 3; o < r; o++)
                            a[o - 3] = arguments[o];
                        var s = !1
                          , l = null
                          , u = this.currentState
                          , d = function r(o) {
                            e.removeEventListener(t, r),
                            s || (s = !0,
                            a.unshift(o),
                            l && !i.isInState(l) || i.nextState.apply(i, [n].concat(a)))
                        };
                        return e.addEventListener(t, d),
                        {
                            check: function(e) {
                                return l = void 0 === e ? u : e,
                                this
                            }
                        }
                    }
                }, {
                    key: "nextStateBy",
                    value: function(e, t, n) {
                        for (var i = this, r = arguments.length, a = new Array(r > 3 ? r - 3 : 0), o = 3; o < r; o++)
                            a[o - 3] = arguments[o];
                        var s = null
                          , l = this.currentState
                          , u = function(e) {
                            var t = [e].concat(a);
                            s && !i.isInState(s) || i.nextState.apply(i, [n].concat(toConsumableArray(t)))
                        };
                        return e.addEventListener(t, u),
                        {
                            check: function(e) {
                                return s = void 0 === e ? l : e,
                                this
                            },
                            off: function() {
                                e.removeEventListener(t, u)
                            }
                        }
                    }
                }, {
                    key: "nextStateWhen",
                    value: function(e, t) {
                        for (var n = this, i = arguments.length, r = new Array(i > 2 ? i - 2 : 0), a = 2; a < i; a++)
                            r[a - 2] = arguments[a];
                        var o = null
                          , s = this.currentState;
                        return e.then && e.catch ? e.then(function(e) {
                            r.unshift(e),
                            o && !n.isInState(o) || ("function" == typeof t ? t.apply(void 0, r) : n.nextState.apply(n, [t].concat(r)))
                        }, function(e) {
                            n.nextState("error", e)
                        }) : e >= 0 && (clearTimeout(this._delayTimer),
                        this._delayTimer = setTimeout(function() {
                            o && !n.isInState(o) || ("function" == typeof t ? t.apply(void 0, r) : n.nextState.apply(n, [t].concat(r)))
                        }, e)),
                        {
                            check: function(e) {
                                return o = void 0 === e ? s : e,
                                this
                            }
                        }
                    }
                }, {
                    key: "nextStateAfter",
                    value: function(e, t) {
                        for (var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)
                            i[r - 2] = arguments[r];
                        var a = e.indexOf("|") >= 0
                          , o = e.indexOf("+") >= 0;
                        if (a || o) {
                            if (a && o)
                                throw new SyntaxError("StateMachine.nextStateAfter不支持|+同时出现")
                        } else
                            a = !0;
                        var s;
                        a ? s = new RegExp("^(".concat(e.split("|").filter(function(e) {
                            return e
                        }).join("|"), ")$")) : o && (s = e.split("+").map(function(e) {
                            return new RegExp("\\b".concat(e, "\\b"))
                        })),
                        this._dependents.push({
                            criteria: s,
                            state: t,
                            args: i
                        }),
                        this._resolveDependents()
                    }
                }, {
                    key: "nextStateAfterAll",
                    value: function(e, t, n) {
                        for (var i = this, r = arguments.length, a = new Array(r > 3 ? r - 3 : 0), o = 3; o < r; o++)
                            a[o - 3] = arguments[o];
                        var s = e.concat();
                        s.forEach(function(r) {
                            r.once(t, function() {
                                arrayRemove(e, r),
                                0 == e.length && i.nextState.apply(i, [n].concat(a))
                            })
                        }),
                        s = null
                    }
                }, {
                    key: "nextStateDelayed",
                    value: function(e, t) {
                        for (var n = this, i = arguments.length, r = new Array(i > 2 ? i - 2 : 0), a = 2; a < i; a++)
                            r[a - 2] = arguments[a];
                        setTimeout(function() {
                            n.nextState.apply(n, [e].concat(r))
                        }, t)
                    }
                }, {
                    key: "nextState",
                    value: function(e) {
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
                            n[i - 1] = arguments[i];
                        if (this.currentState != e && "destroy" !== this.currentState && (clearTimeout(this._delayTimer),
                        !window.$stopAllStateMachine)) {
                            var r = Date.now();
                            this.stateStack += "".concat(this.currentState, "@").concat(r - this._tickerStamp, ";");
                            var a = this.currentState;
                            this._fireMap[a] && !this._fireMap[a].fired && (this._emit.call(this, a, this._fireMap[a].args),
                            this._emit.call(this, "__sync__.".concat(a), this._fireMap[a].args),
                            this._fireMap[a].fired = !0),
                            this.currentState = e,
                            this.log(a, e, n),
                            this._checkTimeout(a, e),
                            this._tickerStamp = r;
                            for (var o = 0; o < this._breakPoint.length; o++) {
                                var s = this._breakPoint[o];
                                if (!("*" != s.currentState && s.currentState !== a || "*" != s && s.nextState !== e)) {
                                    window._debug && window._debug();
                                    break
                                }
                            }
                            var l = "on".concat(upperFirstCase(e))
                              , u = "after".concat(upperFirstCase(e));
                            this._fireMap[e] = {
                                args: n,
                                fired: !1
                            },
                            this[l] && fastApply(this[l], this, n),
                            this._fireMap[e].fired || (this._emit.call(this, e, n),
                            this._emit.call(this, "__sync__.".concat(e), n)),
                            delete this._fireMap[e],
                            this[u] && fastApply(this[u], this, n),
                            this._destroyed ? this._destroy() : this._resolveDependents()
                        }
                    }
                }, {
                    key: "hasState",
                    value: function(e) {
                        return new RegExp("\\b".concat(e, "\\b")).test(this.stateStack)
                    }
                }, {
                    key: "after",
                    value: function(e) {
                        var t = this;
                        if (!e)
                            throw new SyntaxError("StateMachine.after参数为空");
                        var n = e.split("->");
                        if (1 == n.length && this.currentState === n[0])
                            return Promise.resolve();
                        var i = function e(i) {
                            var r = n.shift();
                            t.once(r, function() {
                                n.length > 0 ? e(i) : i()
                            })
                        };
                        return new Promise(i)
                    }
                }, {
                    key: "elapse",
                    value: function(e, t) {
                        var n = {}
                          , i = +Date.now() - this._tickerStamp;
                        return e ? "".concat(this.stateStack + this.currentState, "@").concat(i).split(";").reverse().filter(function(i) {
                            if (i) {
                                var r = i.split("@")[0];
                                if (new RegExp("\\b".concat(r, "\\b")).test(e) && (t || !n[r]))
                                    return n[r] = !0,
                                    !0
                            }
                            return !1
                        }).reduce(function(e, t) {
                            return e + parseFloat(t.split("@")[1])
                        }, 0) : i
                    }
                }, {
                    key: "_resolveDependents",
                    value: function() {
                        for (var e = this, t = 0; t < this._dependents.length; t++) {
                            if ("break" === function(t) {
                                var n = e._dependents[t]
                                  , i = "".concat(e.stateStack, ";").concat(e.currentState)
                                  , r = !1;
                                if (n.criteria instanceof RegExp ? r = n.criteria.test(e.currentState) : n.criteria instanceof Array && (r = n.criteria.every(function(e) {
                                    return e.test(i)
                                })),
                                r)
                                    return setTimeout(function() {
                                        e.nextState.apply(e, [n.state].concat(toConsumableArray(n.args)))
                                    }),
                                    spliceOne(e._dependents, t),
                                    "break"
                            }(t))
                                break
                        }
                    }
                }, {
                    key: "syncState",
                    value: function(e, t) {
                        var n = this
                          , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t;
                        e.on("__sync__.".concat(t), function() {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
                                t[r] = arguments[r];
                            n.nextState.apply(n, [i].concat(t))
                        })
                    }
                }, {
                    key: "syncChildren",
                    value: function(e, t) {
                        var n = this
                          , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t;
                        if (this.syncMap || (this.syncMap = {}),
                        !this.syncMap[e]) {
                            this.syncMap[e] = {
                                children: [],
                                handlers: []
                            };
                            var r = {
                                state: t,
                                handler: function() {
                                    0 == n.syncMap[e].children.filter(function(e) {
                                        return e.currentState != t
                                    }).length && n.nextState(i)
                                }
                            };
                            this.syncMap[e].handlers.push(r)
                        }
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._destroyed = !0
                    }
                }, {
                    key: "_destroy",
                    value: function() {
                        this.currentState = "destroy";
                        for (var e = _stateMachines.length; e-- > 0; )
                            if (_stateMachines[e] === this) {
                                spliceOne(_stateMachines, e);
                                break
                            }
                        this.off()
                    }
                }, {
                    key: "log",
                    value: function(e, t, n) {
                        for (var i = this, r = "", a = Date.now(); i = i._parentStateMachine; )
                            r = "".concat(i._stateMachineName, "[").concat(i.currentState, "] | ").concat(r);
                        var o = a - this._tickerStamp
                          , s = "ms";
                        o > 1e3 && (o /= 1e3,
                        s = "s"),
                        r += "".concat(this._stateMachineName, ":[").concat(e, "(").concat(o).concat(s, ")]->[").concat(t, "]"),
                        1 == n.length && (n = n[0]);
                        var l;
                        l = !n || n instanceof Array && 0 == n.length ? [r] : [r, "with:", n];
                        var u = this.getLogTags ? this.getLogTags() : [];
                        fastApply(logger.log, logger, u.concat(l))
                    }
                }, {
                    key: "timeout",
                    value: function(e, t, n) {
                        this._timeoutMonitor = this._timeoutMonitor.concat(e.split(",").map(function(e) {
                            return {
                                states: e.split("+"),
                                reg: new RegExp("^(".concat(e.replace(/\+/g, "|"), ")$")),
                                timeout: t,
                                callback: n
                            }
                        }))
                    }
                }, {
                    key: "_checkTimeout",
                    value: function(e, t) {
                        var n = this;
                        this._timeoutMonitor.forEach(function(i, r) {
                            if (i.reg.test(e))
                                clearTimeout(i.timer);
                            else if (i.reg.test(t)) {
                                var a = i.states.reduce(function(e, t) {
                                    return e + n.elapse(t)
                                }, 0);
                                a >= i.timeout ? (i.callback(),
                                setTimeout(function() {
                                    spliceOne(n._timeoutMonitor, r)
                                })) : i.timer = setTimeout(function() {
                                    i.callback(),
                                    spliceOne(n._timeoutMonitor, r)
                                }, i.timeout - a)
                            }
                        })
                    }
                }, {
                    key: "isInState",
                    value: function(e) {
                        return -1 == e.indexOf(",") ? this.currentState === e : new RegExp("^(".concat(e.replace(/,/g, "|"), ")$")).test(this.currentState)
                    }
                }, {
                    key: "breakOn",
                    value: function(e) {
                        var t = e.split("->");
                        this._breakPoint.push({
                            currentState: t[0],
                            nextState: t[1]
                        })
                    }
                }, {
                    key: "getLogTags",
                    value: function() {
                        return this._parentStateMachine ? this._parentStateMachine.getLogTags() : []
                    }
                }]),
                t
            }(EventBus)
              , isNativeFunction = _isNativeFunction
              , construct = createCommonjsModule(function(e) {
                function t() {
                    if ("undefined" == typeof Reflect || !Reflect.construct)
                        return !1;
                    if (Reflect.construct.sham)
                        return !1;
                    if ("function" == typeof Proxy)
                        return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function() {})),
                        !0
                    } catch (e) {
                        return !1
                    }
                }
                function n(i, r, a) {
                    return t() ? e.exports = n = Reflect.construct : e.exports = n = function(e, t, n) {
                        var i = [null];
                        i.push.apply(i, t);
                        var r = Function.bind.apply(e, i)
                          , a = new r;
                        return n && setPrototypeOf(a, n.prototype),
                        a
                    }
                    ,
                    n.apply(null, arguments)
                }
                e.exports = n
            })
              , wrapNativeSuper = createCommonjsModule(function(e) {
                function t(n) {
                    var i = "function" == typeof Map ? new Map : void 0;
                    return e.exports = t = function(e) {
                        function t() {
                            return construct(e, arguments, getPrototypeOf(this).constructor)
                        }
                        if (null === e || !isNativeFunction(e))
                            return e;
                        if ("function" != typeof e)
                            throw new TypeError("Super expression must either be null or a function");
                        if (void 0 !== i) {
                            if (i.has(e))
                                return i.get(e);
                            i.set(e, t)
                        }
                        return t.prototype = Object.create(e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        setPrototypeOf(t, e)
                    }
                    ,
                    t(n)
                }
                e.exports = t
            })
              , ErrorTypes = {
                NETWORK_ERROR: "networkError",
                MEDIA_ERROR: "mediaError",
                KEY_SYSTEM_ERROR: "keySystemError",
                MUX_ERROR: "muxError",
                OTHER_ERROR: "otherError"
            }
              , ErrorDetails = {
                KEY_SYSTEM_NO_SUPPORT_DRM: "keySystemNoSupportDrm",
                KEY_SYSTEM_NO_ACCESS: "keySystemNoAccess",
                KEY_SYSTEM_GENE_REQUEST_ERROR: "keySystemGeneRequestError",
                KEY_SYSTEM_LICENSE_REQUEST_FAILED: "keySystemLicenseRequestFailed",
                KEY_SYSTEM_UPDATE_SESSION_ERROR: "keySystemUpdateSessionError",
                DRM_FRAG_LOAD_ERROR: "drmFragLoadError",
                YOUKU_DRM_DECODE_ERROR: "youkuDrmDecodeError",
                KEY_SYSTEM_SET_MEDIA_KEY_ERROR: "keySystemSetMediaKeyError",
                KEY_SYSTEM_WAITING_FOR_KEY_ERROR: "keySystemWaitingForKeyError",
                MANIFEST_LOAD_ERROR: "manifestLoadError",
                MANIFEST_LOAD_TIMEOUT: "manifestLoadTimeOut",
                MANIFEST_PARSING_ERROR: "manifestParsingError",
                MANIFEST_INCOMPATIBLE_CODECS_ERROR: "manifestIncompatibleCodecsError",
                LEVEL_LOAD_ERROR: "levelLoadError",
                LEVEL_PARSING_ERROR: "levelParsingError",
                LEVEL_LOAD_TIMEOUT: "levelLoadTimeOut",
                LEVEL_SWITCH_ERROR: "levelSwitchError",
                AUDIO_TRACK_LOAD_ERROR: "audioTrackLoadError",
                AUDIO_TRACK_PARSING_ERROR: "audioTrackParsingError",
                AUDIO_TRACK_LOAD_TIMEOUT: "audioTrackLoadTimeOut",
                FRAG_LOAD_ERROR: "fragLoadError",
                FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
                FRAG_DECRYPT_ERROR: "fragDecryptError",
                FRAG_PARSING_ERROR: "fragParsingError",
                WORKER_PARSING_ERROR: "workerParsingError",
                REMUX_ALLOC_ERROR: "remuxAllocError",
                KEY_LOAD_ERROR: "keyLoadError",
                KEY_LOAD_TIMEOUT: "keyLoadTimeOut",
                BUFFER_ADD_CODEC_ERROR: "bufferAddCodecError",
                BUFFER_APPEND_ERROR: "bufferAppendError",
                BUFFER_APPENDING_ERROR: "bufferAppendingError",
                BUFFER_STALLED_ERROR: "bufferStalledError",
                BUFFER_FULL_ERROR: "bufferFullError",
                BUFFER_SEEK_OVER_HOLE: "bufferSeekOverHole",
                BUFFER_NUDGE_ON_STALL: "bufferNudgeOnStall",
                INTERNAL_EXCEPTION: "internalException",
                PIPELINE_DECODE_ERROR: "pipelineDecodeError"
            }
              , PlayerError = function(e) {
                function t(e) {
                    for (var n, i = arguments.length, r = new Array(i > 1 ? i - 1 : 0), a = 1; a < i; a++)
                        r[a - 1] = arguments[a];
                    return classCallCheck(this, t),
                    n = possibleConstructorReturn(this, getPrototypeOf(t).call(this, e.message ? e.message.replace(/{%(\d+)}/g, function(e, t) {
                        return r[t - 1] || ""
                    }) : "")),
                    n.name = n.constructor.name || "PlayerError",
                    Object.keys(e).forEach(function(t) {
                        "message" !== t && (n[t] = e[t])
                    }),
                    n.args = r,
                    n
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "is",
                    value: function(e) {
                        return "function" == typeof e ? this instanceof e : !("object" !== _typeof_1(e) || !Number.isFinite(e.code)) && this.code == e.code
                    }
                }, {
                    key: "serialize",
                    value: function() {
                        return {
                            code: this.code,
                            message: this.message
                        }
                    }
                }]),
                t
            }(wrapNativeSuper(Error))
              , ErrorSeverity = {
                RECOVERABLE: 0,
                CRITICAL: 1,
                FATAL: 2
            };
            PlayerError.RequestTypeNotSupported = {
                code: 1e3,
                message: "不支持的RequestType:{%1}",
                severity: ErrorSeverity.FATAL
            };
            var AbortError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            AbortError.SegmentTimeout = new AbortError({
                code: 10001,
                message: "segment请求超时",
                severity: ErrorSeverity.CRITICAL
            }),
            AbortError.Invalid = new AbortError({
                code: 10002,
                message: "无效请求终止",
                severity: ErrorSeverity.RECOVERABLE
            }),
            AbortError.ForAbrLevelChange = new AbortError({
                code: 10003,
                message: "切档位",
                severity: ErrorSeverity.RECOVERABLE
            });
            var P2PError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError)
              , NetworkError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            NetworkError.Abort = {
                code: 2e4,
                message: "请求终止:{%1}",
                severity: ErrorSeverity.RECOVERABLE
            },
            NetworkError.HttpError = {
                code: 20001,
                message: "请求{%1}时发生网络故障",
                severity: ErrorSeverity.RECOVERABLE,
                response: {
                    code: 555
                }
            },
            NetworkError.Timeout = {
                code: 20003,
                message: "请求{%1}时超时",
                severity: ErrorSeverity.RECOVERABLE
            };
            var PlayListError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            PlayListError.ManifestFetchError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.MANIFEST_LOAD_ERROR,
                code: 30001,
                message: "manifest {%1} 获取失败",
                severity: ErrorSeverity.FATAL,
                fatal: !0
            },
            PlayListError.ManifestParseError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.MANIFEST_PARSING_ERROR,
                code: 30002,
                message: "manifest {%1} 解析失败",
                severity: ErrorSeverity.FATAL,
                fatal: !0
            },
            PlayListError.ManifestLoadTimeout = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.MANIFEST_LOAD_TIMEOUT,
                code: 30003,
                message: "manifest {%1} 请求超时",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.LevelFetchError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.LEVEL_LOAD_ERROR,
                code: 30004,
                message: "level {%1} 获取失败",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.LevelParseError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.LevelParseError,
                code: 30005,
                message: "level {%1} 解析失败",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.LevelLoadTimeout = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.LEVEL_LOAD_TIMEOUT,
                code: 30006,
                message: "level {%1} 请求超时",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.AudioTrackFetchError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.AUDIO_TRACK_LOAD_ERROR,
                code: 30007,
                message: "audio track {%1} 获取失败",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.AudioTrackParseError = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.AUDIO_TRACK_PARSING_ERROR,
                code: 30008,
                message: "audio track {%1} 解析失败",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.AudioTrackLoadTimeout = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,
                code: 30009,
                message: "audio track {%1} 请求超时",
                severity: ErrorSeverity.FATAL
            },
            PlayListError.LevelNotFound = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.LEVEL_NOT_FOUND,
                code: 30010,
                message: "没有key = {%1} ,value= {%2} 的流",
                severity: ErrorSeverity.RECOVERABLE
            },
            PlayListError.StreamCanNotUseForFetchError = {
                code: 300011,
                message: "当前流 {%1} 不可用,playlist获取失败",
                severity: ErrorSeverity.RECOVERABLE
            },
            PlayListError.StreamCanNotUseForParseError = {
                code: 300012,
                message: "当前流 {%1} 不可用，playlist解析失败",
                severity: ErrorSeverity.RECOVERABLE
            };
            var SegmentError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "bindSegment",
                    value: function(e) {
                        return this.frag = {
                            relurl: e.url,
                            baseurl: e.baseUrl,
                            start: e.start,
                            end: e.end
                        },
                        this
                    }
                }]),
                t
            }(PlayerError);
            SegmentError.AbortForLevelChange = {
                code: 4e4,
                message: "分片请求终止,切level",
                severity: ErrorSeverity.RECOVERABLE
            },
            SegmentError.FRAG_LOAD_ERROR = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.FRAG_LOAD_ERROR,
                code: 41e3,
                message: "[{%2}]分片 {%1} 获取失败",
                severity: ErrorSeverity.CRITICAL
            },
            SegmentError.Abort = {
                code: 42e3,
                message: "分片请求终止",
                severity: ErrorSeverity.RECOVERABLE
            },
            SegmentError.FRAG_LOAD_TIMEOUT = {
                type: ErrorTypes.NETWORK_ERROR,
                details: ErrorDetails.FRAG_LOAD_TIMEOUT,
                code: 43e3,
                message: "分片 {%1} 请求超时",
                severity: ErrorSeverity.CRITICAL
            },
            SegmentError.FRAG_DECRYPT_ERROR = {
                type: ErrorTypes.MEDIA_ERROR,
                details: ErrorDetails.FRAG_DECRYPT_ERROR,
                code: 44e3,
                message: "分片 {%1} 解码失败",
                severity: ErrorSeverity.CRITICAL
            },
            SegmentError.FRAG_PARSING_ERROR = {
                type: ErrorTypes.MEDIA_ERROR,
                details: ErrorDetails.FRAG_PARSING_ERROR,
                code: 45e3,
                message: "分片解析失败:{%1}",
                severity: ErrorSeverity.CRITICAL
            },
            SegmentError.WORKER_PARSING_ERROR = {
                type: ErrorTypes.MEDIA_ERROR,
                details: ErrorDetails.WORKER_PARSING_ERROR,
                code: 46e3,
                message: "分片解析失败,worker出错:{%1}",
                severity: ErrorSeverity.CRITICAL
            };
            var BufferError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            BufferError.BufferAppendError = {
                type: ErrorTypes.MEDIA_ERROR,
                details: ErrorDetails.BUFFER_APPEND_ERROR,
                code: 50001,
                message: "buffer append 出错:{%1}:{%2}",
                severity: ErrorSeverity.CRITICAL
            },
            BufferError.AddSourceBufferError = {
                type: ErrorTypes.MEDIA_ERROR,
                details: ErrorDetails.BUFFER_ADD_CODEC_ERROR,
                code: 50002,
                message: "addSourceBuffer 出错:{%1}:{%2}",
                severity: ErrorSeverity.FATAL
            };
            var DrmError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayListError);
            DrmError.LicenseRequestError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                code: 6e4,
                message: "[{%1}] 请求证书服务 {%2} 失败,msg:{%3}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.NotSupportDrmError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_NO_SUPPORT_DRM,
                code: 60001,
                message: "浏览器不支持DRM",
                severity: ErrorSeverity.FATAL
            },
            DrmError.RequestKeySysError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_NO_ACCESS,
                code: 60002,
                message: "请求访问MediaKeySystem出错: {%1}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.GeneLicenseRequestError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_GENE_REQUEST_ERROR,
                code: 60003,
                message: "生成证书请求失败:{%1}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.UpdateSessionError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_UPDATE_SESSION_ERROR,
                code: 60004,
                message: "更新session失败:{%1},{%2}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.setMediaKeyError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_SET_MEDIA_KEY_ERROR,
                code: 60005,
                message: "setMediaKey出错:{%1}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.YouKuDrmDecodeError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.YOUKU_DRM_DECODE_ERROR,
                code: 60006,
                message: "优酷DRM解密失败: drmKey:{%1}",
                severity: ErrorSeverity.FATAL
            },
            DrmError.WaitingForKeyError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.KEY_SYSTEM_WAITING_FOR_KEY_ERROR,
                code: 60007,
                message: "没有解密key,播放停止",
                severity: ErrorSeverity.FATAL
            },
            DrmError.FragLoadError = {
                type: ErrorTypes.KEY_SYSTEM_ERROR,
                details: ErrorDetails.DRM_FRAG_LOAD_ERROR,
                code: 60008,
                message: "drm视频 load error",
                severity: ErrorSeverity.FATAL
            };
            var DBManageError = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            DBManageError.DBRequestError = {
                code: 70001,
                message: "与db {%1} 连接出错",
                severity: ErrorSeverity.CRITICAL
            },
            DBManageError.DBTransactionError = {
                code: 70002,
                message: "db {%1} 事务操作失败",
                severity: ErrorSeverity.CRITICAL
            };
            var MediaElementError = function(e) {
                function t(e) {
                    classCallCheck(this, t);
                    var n = e.msExtendedCode;
                    return n ? (n < 0 && (n += Math.pow(2, 32)),
                    n = Number(n).toString(16)) : n = e.message,
                    possibleConstructorReturn(this, getPrototypeOf(t).call(this, {
                        type: ErrorTypes.MEDIA_ERROR,
                        details: ErrorDetails.PIPELINE_DECODE_ERROR,
                        code: 8e4 + (+e && e.code || 0),
                        message: "Video解码失败:".concat(n),
                        severity: ErrorSeverity.FATAL
                    }))
                }
                return inherits(t, e),
                t
            }(PlayerError)
              , H265Error = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                t
            }(PlayerError);
            H265Error.H265Error = {
                type: ErrorTypes.MEDIA_ERROR,
                details: "h265PlayError",
                code: 90001,
                message: "{%1},{%2},{%3}",
                severity: ErrorSeverity.FATAL
            };
            var _uuid = 0
              , IPromise = function() {
                function e(t, n) {
                    var i = this;
                    classCallCheck(this, e),
                    this.id = _uuid++,
                    1 == arguments.length && ("function" == typeof t ? (n = t,
                    t = null) : t instanceof Promise || (t = Promise.resolve(t))),
                    t ? this._promise = t : (this.deferred = {},
                    this._promise = new Promise(function(e, t) {
                        i.deferred.resolve = e,
                        i.deferred.reject = t
                    }
                    )),
                    this.abortFunction = n
                }
                return createClass(e, [{
                    key: "abort",
                    value: function(e) {
                        this.abortFunction && this.abortFunction(),
                        this.reject(e)
                    }
                }, {
                    key: "catch",
                    value: function(t) {
                        return new e(this._promise.catch(t))
                    }
                }, {
                    key: "then",
                    value: function(t, n) {
                        return new e(this._promise.then(t, n))
                    }
                }, {
                    key: "resolve",
                    value: function(e) {
                        this.deferred.resolve && this.deferred.resolve(e)
                    }
                }, {
                    key: "reject",
                    value: function(e) {
                        this.deferred.reject && this.deferred.reject(e)
                    }
                }]),
                e
            }()
              , arrayWithHoles = _arrayWithHoles
              , iterableToArrayLimit = _iterableToArrayLimit
              , nonIterableRest = _nonIterableRest
              , slicedToArray = _slicedToArray
              , TrackType = {
                AUDIO: 0,
                VIDEO: 1,
                SUBTITLE: 2,
                MIXED: 3
            }
              , sampleEntryCodesISO = {
                audio: {
                    a3ds: !0,
                    "ac-3": !0,
                    "ac-4": !0,
                    alac: !0,
                    alaw: !0,
                    dra1: !0,
                    "dts+": !0,
                    "dts-": !0,
                    dtsc: !0,
                    dtse: !0,
                    dtsh: !0,
                    "ec-3": !0,
                    enca: !0,
                    g719: !0,
                    g726: !0,
                    m4ae: !0,
                    mha1: !0,
                    mha2: !0,
                    mhm1: !0,
                    mhm2: !0,
                    mlpa: !0,
                    mp4a: !0,
                    "raw ": !0,
                    opus: !0,
                    samr: !0,
                    sawb: !0,
                    sawp: !0,
                    sevc: !0,
                    sqcp: !0,
                    ssmv: !0,
                    twos: !0,
                    ulaw: !0
                },
                video: {
                    av01: !0,
                    avc1: !0,
                    avc2: !0,
                    avc3: !0,
                    avc4: !0,
                    avcp: !0,
                    drac: !0,
                    dvav: !0,
                    dvhe: !0,
                    encv: !0,
                    hev1: !0,
                    hvc1: !0,
                    mjp2: !0,
                    mp4v: !0,
                    mvc1: !0,
                    mvc2: !0,
                    mvc3: !0,
                    mvc4: !0,
                    resv: !0,
                    rv60: !0,
                    s263: !0,
                    svc1: !0,
                    svc2: !0,
                    "vc-1": !0,
                    vp08: !0,
                    vp09: !0
                }
            }
              , KEY_METHOD = {
                NONE: "NONE",
                AES128: "AES-128"
            }
              , URL_DTS_PATTERN = /ats_(\d+)_dts(\d+)\.ts/
              , parserResolve = {
                cc: 0,
                offset: 0,
                keyMethod: "",
                resetKeyMethod: function() {
                    parserResolve.keyMethod = ""
                },
                setKeyMethod: function(e) {
                    if (e && e === KEY_METHOD.AES128)
                        return parserResolve.cc += 1,
                        void parserResolve.resetKeyMethod();
                    parserResolve.keyMethod = e
                },
                dispatch: function(e, t, n, i) {
                    var r = e.toUpperCase();
                    return !!this[r] && (this[r](e, t, n, i),
                    !0)
                },
                on: function(e, t) {
                    var n = e.toUpperCase();
                    parserResolve[n] = t
                },
                reset: function() {
                    parserResolve.cc = 0,
                    parserResolve.offset = 0,
                    parserResolve.resetKeyMethod()
                }
            };
            parserResolve.on("INF", function(e, t, n) {
                var i = slicedToArray(t, 2)
                  , r = i[0]
                  , a = i[1]
                  , o = n.segments[n.segments.length - 1]
                  , s = o ? o.end : 0
                  , l = n.segments.length
                  , u = {
                    duration: parseFloat(r),
                    id: n.startSN + l,
                    start: s,
                    end: s + parseFloat(r),
                    cc: parserResolve.cc,
                    offset: parserResolve.offset || 0
                };
                a && (u.title = a),
                n.segments.push(u)
            }),
            parserResolve.on("XPRIVINF", function(e, t, n, i) {
                Array.isArray(t) && (t = t.reduce(function(e, t) {
                    return e[t] = 0,
                    e
                }, {}));
                var r = "MASTER" === i ? n.levels : n.segments;
                Object.assign(r[r.length - 1], t)
            }),
            parserResolve.on("XKEY", function(e, t, n) {
                parserResolve.setKeyMethod(t.method)
            }),
            parserResolve.on("XSTREAMINF", function(e, t, n) {
                t.codecs && setCodecs([].concat((t.codecs || "").split(/[ ,]+/)), t),
                n.levels.push(t),
                n.levels = n.levels.sort(function(e, t) {
                    return e.bandwidth > t.bandwidth ? -1 : 1
                });
                var i = n.levels.length;
                n.levels.forEach(function(e, t) {
                    e.levelId = i - t
                })
            }),
            parserResolve.on("XMEDIASEQUENCE", function(e, t, n) {
                n.startSN = t[0]
            }),
            parserResolve.on("XDISCONTINUITY", function(e, t, n) {
                parserResolve.cc += 1
            }),
            parserResolve.on("URL", function(e, t, n, i) {
                for (var r = t.url || t, a = "MASTER" === i ? n.levels : n.segments, o = 0; o < a.length; o++)
                    if (!a[o].url) {
                        var s = extractAbsoluteDtsFromUrl(r);
                        return s && (a[o].absoluteDts = s.absDts),
                        a[o].url = r,
                        parserResolve.keyMethod && parserResolve.keyMethod === KEY_METHOD.NONE && (a[o].drm_notencrypt = 0),
                        void (a[o].cc = parserResolve.cc)
                    }
            }),
            parserResolve.on("XENDLIST", function(e, t, n) {
                n.live = !1;
                var i = n.segments.length;
                if (i) {
                    var r = n.segments[i - 1]
                      , a = n.segments[i - 2];
                    r.isLast = !0,
                    r.duration < .5 && a && (a.isLast = !0)
                }
            }),
            parserResolve.on("EXTRAPROPS", function(e, t, n, i) {
                if ("LEVEL" === i) {
                    var r = n.segments;
                    n.totalDuration = r.map(function(e) {
                        return e.duration
                    }).reduce(function(e, t) {
                        return e += t
                    }, 0),
                    n.totalDuration = +n.totalDuration.toFixed(3),
                    n.endSN = r[r.length - 1].id
                }
            });
            var EXTRACT_PATTERN = /^#EXT(?:-?)([^:]*):?(.*)$/
              , DISCONTINUITY_PATTERN = /^#EXT-(X-DISCONTINUITY)$/
              , SPLIT_ATTR_PATTERN = /([^=]+)((="[^"]+)|(=?[^,]+))/g
              , ATTR_PATTERN = /^([^=]+)=?(.*)$/
              , M3U8_PARSE_ERROR = 2
              , SegmentState = {
                INIT: 0,
                LOADING: 1,
                LOADED: 2,
                APPENDING: 3,
                APPENDED: 4
            }
              , StateName = Object.keys(SegmentState).sort(function(e, t) {
                return SegmentState[e] - SegmentState[t]
            })
              , Segment = function(e) {
                function t(e) {
                    var n;
                    return classCallCheck(this, t),
                    n = possibleConstructorReturn(this, getPrototypeOf(t).call(this, {
                        cache: !0
                    })),
                    Object.keys(e).forEach(function(t) {
                        n[t] = e[t]
                    }),
                    n.origStart = n.start,
                    n.origEnd = n.end,
                    n.shift = 0,
                    n.origDuration = n.duration,
                    n.reloadCount = 0,
                    n.maxReload = 5,
                    n.data = null,
                    n.promises = null,
                    n._errorCount = 0,
                    n.state = SegmentState.INIT,
                    n.loadTimeoutTimer = null,
                    n.dot = 0,
                    n.prevState = SegmentState.INIT,
                    n
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "_load",
                    value: function(e, t, n, i) {
                        var r = this;
                        if (this.state !== SegmentState.LOADING) {
                            this.setState(SegmentState.LOADING);
                            var a = this.url
                              , o = this.audioUrl;
                            this.clearTimeout(),
                            i.abrEnable && !n.isCurrentLowestLevel() || (this.loadTimeoutTimer = setTimeout(function() {
                                r.setState(SegmentState.INIT),
                                r.abort(AbortError.SegmentTimeout, t)
                            }, n.isLive ? i.liveSegmentLoadTimeout : i.maxSegmentLoadTimeout));
                            var s = [a];
                            Array.isArray(o) ? s = s.concat(o) : s.push(o),
                            this.promises = s.filter(Boolean).map(function(e) {
                                return t.requestSegment(e, r)
                            }),
                            Promise.all(this.promises).then(function(t) {
                                r.clearTimeout(),
                                r.promises = null,
                                e(t)
                            }).catch(function(e) {
                                r.clearTimeout(),
                                r.promises = null;
                                var t;
                                t = e.is && e.is(AbortError.Invalid) ? SegmentError.Abort : e.is && e.is(AbortError.SegmentTimeout) ? SegmentError.FRAG_LOAD_TIMEOUT : e.is && e.is(AbortError.ForAbrLevelChange) ? SegmentError.AbortForLevelChange : SegmentError.FRAG_LOAD_ERROR;
                                var n = new SegmentError(objectSpread({}, t, {
                                    response: e.response
                                }),a,e.response && e.response.code || 0);
                                n.bindSegment(r),
                                r.setState(SegmentState.INIT),
                                r.emit("error", n)
                            })
                        }
                    }
                }, {
                    key: "clearTimeout",
                    value: function(e) {
                        function t() {
                            return e.apply(this, arguments)
                        }
                        return t.toString = function() {
                            return e.toString()
                        }
                        ,
                        t
                    }(function() {
                        clearTimeout(this.loadTimeoutTimer)
                    })
                }, {
                    key: "setState",
                    value: function(e) {
                        this.prevState = this.state,
                        this.state = e,
                        this.dot = Date.now()
                    }
                }, {
                    key: "load",
                    value: function(e, t, n) {
                        var i = this;
                        this.networkAgent = n.networkAgent,
                        this.ts = Date.now(),
                        this._load(function(e) {
                            if (i.setState(SegmentState.LOADED),
                            i.data = e[0],
                            n.bitRate = i.data.byteLength / i.duration,
                            e.length > 2) {
                                var t = new Uint8Array(e[1].byteLength + e[2].byteLength);
                                t.set(new Uint8Array(e[1])),
                                t.set(new Uint8Array(e[2]), e[1].byteLength),
                                i.audioData = t.buffer
                            } else
                                i.audioData = e[1];
                            i.elapsed = Date.now() - i.ts,
                            i.size = i.data.byteLength,
                            i.emit("loaded", i),
                            i.clearError()
                        }, e, t, n)
                    }
                }, {
                    key: "abort",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : AbortError.SegmentTimeout
                          , t = arguments.length > 1 ? arguments[1] : void 0;
                        this.promises && (this._errorCount++,
                        this.promises.forEach(function(n) {
                            t.abortSegment(n.abortId, e)
                        }))
                    }
                }, {
                    key: "loadInitMp4",
                    value: function(e, t, n) {
                        var i = this;
                        this._load(function(e) {
                            i.setState(SegmentState.LOADED),
                            i.videoData = e[0],
                            i.audioData = e[1],
                            i.emit("loaded", i)
                        }, e, t, n)
                    }
                }, {
                    key: "adjustTimeline",
                    value: function(e, t) {
                        logger.log("[", this.videoInfo ? this.videoInfo.timeline.start : "N/A", "~", this.videoInfo ? this.videoInfo.timeline.end : "N/A", "]", "[", this.audioInfo ? this.audioInfo.timeline.start : "N/A", "~", this.audioInfo ? this.audioInfo.timeline.end : "N/A", "]");
                        var n = Math.min(this.videoInfo ? this.videoInfo.timeline.start : 1 / 0, this.audioInfo ? this.audioInfo.timeline.start : 1 / 0)
                          , i = Math.min(this.videoInfo ? this.videoInfo.timeline.end : 1 / 0, this.audioInfo ? this.audioInfo.timeline.end : 1 / 0);
                        return this.updateSegBound(n, i, !1, e)
                    }
                }, {
                    key: "updateSegBound",
                    value: function(e, t, n, i) {
                        var r = e != this.start || t != this.end;
                        if (!n && (Math.abs(this.start - e) >= i.maxShiftTolerance || Math.abs(this.end - t) >= i.maxShiftTolerance) && logger.warn("分片实际插入buffer后时间线偏移过大"),
                        Math.abs(e - t) > .5)
                            return this.start = e,
                            this.end = t,
                            this.duration = t - e,
                            r
                    }
                }, {
                    key: "brief",
                    value: function() {
                        return "[".concat(fix(this.start), " ~ ").concat(fix(this.end), "] [").concat(this.duration, "|").concat(this.cc, "] ")
                    }
                }, {
                    key: "clearError",
                    value: function() {
                        this._errorCount = 0,
                        delete this._lastError
                    }
                }, {
                    key: "serialize",
                    value: function() {
                        var e = {
                            origStart: Math.abs(formatNum(this.origStart, 6)),
                            origEnd: formatNum(this.origEnd, 6),
                            start: Math.abs(formatNum(this.start, 6)),
                            end: formatNum(this.end, 6),
                            error: ""
                        };
                        return this._lastError && (e.error = this._lastError.code + (this._lastError.response && this._lastError.response.code || 0)),
                        this.elapsed || (this.elapsed = Date.now() - this.ts),
                        "".concat(e.origStart, "~").concat(e.origEnd, "!").concat(e.start, "~").concat(e.end, "!").concat(this.elapsed || 0, "!").concat(this._errorCount, "!").concat(StateName[this.state], "!").concat(e.error, "!").concat(StateName[this.prevState], "!").concat(Number(this.dot).toString(36), "!").concat(this.networkAgent)
                    }
                }, {
                    key: "errorCount",
                    get: function() {
                        return this._errorCount
                    }
                }]),
                t
            }(EventBus)
              , AudioTrack = function() {
                function e(t, n) {
                    classCallCheck(this, e),
                    this.playList = t,
                    this.levelsInfo = n,
                    this.currentAudioTrack = null
                }
                return createClass(e, [{
                    key: "selectAudioTrack",
                    value: function(e, t) {
                        var n = this
                          , i = this.levelsInfo.xMedia;
                        return i && i.length && (this.currentAudioTrack = {
                            error: 1
                        },
                        i.forEach(function(i) {
                            i.type == e && i.groupId == t && "YES" === i.default && (n.currentAudioTrack = i)
                        }),
                        this.currentAudioTrack.details || i.length && (this.currentAudioTrack = i.filter(function(n) {
                            return n.type == e && n.groupId == t
                        })[0])),
                        this.currentAudioTrack
                    }
                }]),
                e
            }()
              , ABR_INIT_BANDWIDTH_FACTOR = .45
              , Level = function() {
                function e(t, n) {
                    classCallCheck(this, e),
                    this.playList = t,
                    this.manualLevelId = 0,
                    this.levelsInfo = n,
                    this._lastLiveFlushHaveNoNews = !1
                }
                return createClass(e, [{
                    key: "selectLevel",
                    value: function(e) {
                        var t = e.key
                          , n = e.value
                          , i = e.type;
                        if (this.levelsInfo) {
                            var r = this.levelsInfo.levels
                              , a = null
                              , o = r[r.length - 1];
                            if ("bandwidth" === t) {
                                for (var s = 0; s < r.length; s++)
                                    if (!(r[s].bandwidth >= n * ABR_INIT_BANDWIDTH_FACTOR)) {
                                        a = r[s];
                                        break
                                    }
                            } else if (t) {
                                var l = r.filter(function(e) {
                                    return e[t] == n
                                });
                                l.length ? a = l[0] : logger.warn("不存在 key,value 对,"[n])
                            }
                            return a || (a = o),
                            this.manualLevelId = "MANUAL" === i ? a.levelId : 0,
                            a
                        }
                    }
                }, {
                    key: "selectLevelById",
                    value: function(e) {
                        return this._getLevelById(e)
                    }
                }, {
                    key: "getLoadLevelUrl",
                    value: function(e) {
                        var t = this._getLevelById(e);
                        return t && t.url
                    }
                }, {
                    key: "getStreamTypeByLevelId",
                    value: function(e) {
                        var t = this._getLevelById(e);
                        if (t)
                            return t.streamtype
                    }
                }, {
                    key: "getLevelIdByStreamType",
                    value: function(e) {
                        if (!this.levelsInfo)
                            return 0;
                        var t = this.levelsInfo.levels
                          , n = t.filter(function(t) {
                            return -1 !== e.indexOf(t.streamtype)
                        }).map(function(e) {
                            return e.levelId
                        });
                        return n.length ? n[0] : 0
                    }
                }, {
                    key: "_getLevelById",
                    value: function(e) {
                        return this._getLevelByKeyword("levelId", e)
                    }
                }, {
                    key: "_getLevelByKeyword",
                    value: function(e, t) {
                        if (this.levelsInfo) {
                            var n = this.levelsInfo.levels
                              , i = n.filter(function(n) {
                                return n[e] === t
                            });
                            return i.length ? i[0] : void 0
                        }
                    }
                }, {
                    key: "_traverseLevelsFindSNMatched",
                    value: function(e) {
                        var t = !0
                          , n = !1
                          , i = void 0;
                        try {
                            for (var r, a = this.playList.levelsInfo.levels[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                                var o = r.value
                                  , s = o.details && o.details.segments.find(function(t) {
                                    return t.id === e
                                });
                                if (s)
                                    return s
                            }
                        } catch (e) {
                            n = !0,
                            i = e
                        } finally {
                            try {
                                t || null == a.return || a.return()
                            } finally {
                                if (n)
                                    throw i
                            }
                        }
                    }
                }, {
                    key: "_convertCC",
                    value: function(e) {
                        if (!e.length)
                            return e;
                        for (var t = e[0].cc, n = 1; n < e.length; n++)
                            e[n].cc !== t ? t = e[n].cc : e[n].cc = 0;
                        return e
                    }
                }, {
                    key: "mergeDetails",
                    value: function(e, t, n) {
                        var i = e.levelIns._getLevelById(n);
                        if (t.currentLevel && !t.currentLevel.error && i.details) {
                            var r, a = t.currentLevel.details, o = i.details, s = a.startSN, l = a.endSN, u = o.startSN, d = o.endSN, c = s - o.startSN, h = o.segments.slice(), p = a.segments, f = 0;
                            logger.log("update level details with levelId ".concat(n, " : old details sn[").concat(o.startSN, ",").concat(o.endSN, "],new details sn[").concat(a.startSN, ",").concat(a.endSN, "],cc: [").concat(a.segments.map(function(e) {
                                return e.cc
                            }), "]")),
                            this._convertCC(p),
                            this._lastLiveFlushHaveNoNews = s === u && l === d;
                            for (var m = !1, y = 0; y <= l - s; y++)
                                if (o.segments[y + c])
                                    m = !0,
                                    r = o.segments[y + c];
                                else if (r) {
                                    var g = p[y];
                                    g.start = g.origStart = r.end,
                                    f || (f = r.cc),
                                    g.cc && f++,
                                    g.end = g.origEnd = g.start + g.duration,
                                    g.cc = f,
                                    g.levelId = n,
                                    g.lowestLevel = 1 === n,
                                    h.push(g),
                                    r = g
                                }
                            if (!m) {
                                var v = this.playList.lastLevel ? this.playList.lastLevel.details.segments : o.segments;
                                v.length && (f = v[v.length - 1].cc,
                                logger.log("no overlap,use lastLevel id=".concat(v[0].levelId, " startSN=").concat(v[0].id)));
                                var _ = this._positionSegmentByAbsolutePtsOrSameId(v, p);
                                logger.warn("new levels index=".concat(_.newIndex, " match old levels index=").concat(_.oldIndex));
                                for (var b = 0; b < p.length; b++) {
                                    var k = p[b];
                                    k.cc && f++,
                                    k.cc = f,
                                    k.levelId = n,
                                    k.lowestLevel = 1 === n,
                                    b > _.newIndex && (k.start = k.origStart = p[b - 1].end,
                                    k.end = k.origEnd = k.start + k.duration),
                                    h.push(k)
                                }
                            }
                            o.segments = h.filter(function(e) {
                                return e.id >= s
                            });
                            var S = o.segments.find(function(e) {
                                return e.id === l
                            });
                            S && (o.totalDuration = S.end),
                            o.xTargetduration = a.xTargetduration,
                            o.startSN = s,
                            o.endSN = l,
                            o.live = a.live,
                            e.config.maxBufferLength = a.totalDuration,
                            e.config.maxFlyBufferLength = a.totalDuration,
                            logger.log("slide position:".concat(e.slidePosition), "segments rangs: [".concat(o.segments[0].start, ",").concat(o.totalDuration, "]"))
                        }
                    }
                }, {
                    key: "_positionSegmentByAbsolutePtsOrSameId",
                    value: function(e, t) {
                        var n, i, r = t.length, a = r && t[0].absoluteDts;
                        if (a) {
                            var o = t[0]
                              , s = e.map(function(e) {
                                return e.absoluteDts
                            })
                              , l = t.map(function(e) {
                                return e.absoluteDts
                            });
                            logger.log(s, l);
                            var u = l.map(function(e, t) {
                                return s.map(function(n, i) {
                                    return {
                                        newIndex: t,
                                        oldIndex: i,
                                        delta: (e - n) / 1e3
                                    }
                                }).filter(function(e) {
                                    return Math.abs(e.delta) < o.duration
                                })
                            }).filter(function(e) {
                                return e.length
                            });
                            if (u.length && u[0].length)
                                return n = u[0][0],
                                logger.log("there has absolute dts info,and the two levels exist segment.absoluteDts close,[newIndex= ".concat(n.newIndex, ",oldIndex=").concat(n.oldIndex, "],delta = ").concat(n.delta, " s")),
                                i = t[n.newIndex],
                                i.start = e[n.oldIndex].start + (n.delta > 0 ? n.delta - 0 : n.delta < 0 ? n.delta + 0 : 0),
                                i.end = i.start + i.duration,
                                n
                        }
                        var d = !1
                          , c = e.map(function(e) {
                            return e.id
                        })
                          , h = t.map(function(e) {
                            return e.id
                        })
                          , p = h.map(function(e, t) {
                            return c.map(function(n, i) {
                                return {
                                    newIndex: t,
                                    oldIndex: i,
                                    delta: e - n
                                }
                            }).filter(function(e) {
                                return 0 === e.delta
                            })
                        }).filter(function(e) {
                            return e.length
                        });
                        if (p.length && p[0].length)
                            return d = !0,
                            n = p[0][0],
                            i = t[n.newIndex],
                            i.start = e[n.oldIndex].start,
                            i.end = i.start + i.duration,
                            logger.log("lastLevelId =  ".concat(e[0].levelId, ", level overlap with lastLevel,[newIndex= ").concat(n.newIndex, ",oldIndex=").concat(n.oldIndex, "]")),
                            n;
                        if (!d) {
                            var f = e.length - 1;
                            return i = t[0],
                            i.start = e[f].end,
                            i.end = i.start + i.duration,
                            logger.warn("no overlap between the two levels, use current total duration as  segment.id = ".concat(i.id, " start")),
                            {
                                newIndex: 0,
                                oldIndex: -1
                            }
                        }
                    }
                }, {
                    key: "syncTwoLevelDetails",
                    value: function(e, t) {
                        try {
                            logger.log("sync two level details,currentLevel ".concat(e.levelId, ":[").concat(e.details.startSN, ",").concat(e.details.endSN, "] , newLevel ").concat(t.levelId, ":[").concat(t.details.startSN, ",").concat(t.details.endSN, "]"));
                            var n = t.details.segments
                              , i = e.details.segments;
                            if (!i.length)
                                return;
                            for (var r = this._positionSegmentByAbsolutePtsOrSameId(i, n), a = 0; a < n.length; a++)
                                if (a > r.newIndex) {
                                    var o = n[a];
                                    o.start = o.origStart = n[a - 1].end,
                                    o.end = o.origEnd = o.start + o.duration
                                }
                            t.details.totalDuration = n[n.length - 1].end,
                            logger.log("slide position:".concat(n[0].start, " segments ranges:[").concat(n[0].start, " , ").concat(n[n.length - 1].end, "]"))
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "lastLiveFlushHaveNoNews",
                    get: function() {
                        return this._lastLiveFlushHaveNoNews
                    }
                }, {
                    key: "currentLevel",
                    get: function() {
                        return this.playList.currentLevel
                    }
                }]),
                e
            }()
              , TRACK_FETCH_ERROR = 1
              , M3U8_PARSE_ERROR$1 = 2
              , PLAYLIST_TYPE = {
                MANIFEST: "manifest",
                LEVEL: "level"
            }
              , PlayList = function(e) {
                function t(e, n, i) {
                    var r, a = e.url, o = e.source;
                    return classCallCheck(this, t),
                    r = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    r.url = "",
                    r.dataService = n,
                    r.config = i,
                    r.playListType = "MASTER",
                    r.levelsInfo = null,
                    r.levelIns = null,
                    r.audioTrackIns = null,
                    r.currentAudioTrack = null,
                    r.currentLevel = null,
                    r.lastLevel = null,
                    r.lastAudioTrack = null,
                    r.waitAudioVideoLoaded = [],
                    r._initPlayAutoLevelStream = null,
                    r._minAutoLevelId = -1,
                    r._maxAutoLevelId = -1,
                    r.initLoad(a, o),
                    r
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "_getAutoLevel",
                    value: function(e) {
                        return Math.min(Math.max(e, this._minAutoLevelId), this._maxAutoLevelId)
                    }
                }, {
                    key: "_setAutoLevelIdBound",
                    value: function(e) {
                        var t = e.levels;
                        if (t.length) {
                            var n = t[t.length - 1]
                              , i = t[0];
                            this._minAutoLevelId = -1 === this._minAutoLevelId ? n.levelId : this._minAutoLevelId,
                            this._maxAutoLevelId = -1 === this._maxAutoLevelId ? i.levelId : this._maxAutoLevelId
                        }
                    }
                }, {
                    key: "isCurrentLowestLevel",
                    value: function(e) {
                        return (e = e || this.currentLevel.levelId) === this._minAutoLevelId
                    }
                }, {
                    key: "getStreamTypeByLevelId",
                    value: function(e) {
                        return this.levelIns && this.levelIns.getStreamTypeByLevelId(e)
                    }
                }, {
                    key: "getLevelIdByStreamType",
                    value: function(e) {
                        return this.levelIns && this.levelIns.getLevelIdByStreamType(e)
                    }
                }, {
                    key: "liveFlushInterval",
                    value: function(e) {
                        var t = this.segmentDuration;
                        return this.levelIns && this.levelIns.lastLiveFlushHaveNoNews ? t / 2 : e ? Math.max(t / 2, t - e) * this.config.liveFlushIntervalFactor : t * this.config.liveFlushIntervalFactor
                    }
                }, {
                    key: "syncTwoLevelDetails",
                    value: function(e, t) {
                        this.levelIns && this.levelIns.syncTwoLevelDetails(e, t)
                    }
                }, {
                    key: "setLevelNotUsableForExpired",
                    value: function() {
                        this.currentLevel.error = 2
                    }
                }, {
                    key: "isFmp4",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "currentLevel";
                        return !(!this[e] || !this[e].details) && (this[e].details.xMap && this[e].details.xMap.url)
                    }
                }, {
                    key: "defaultLevelsInfo",
                    value: function(e, t) {
                        return {
                            error: 0,
                            levels: [{
                                error: 0,
                                levelId: 1,
                                url: e,
                                details: t
                            }]
                        }
                    }
                }, {
                    key: "emitError",
                    value: function(e) {
                        this.emit("error", e)
                    }
                }, {
                    key: "addErrorAndEmit",
                    value: function(e, t, n, i) {
                        logger.error(n);
                        var r, a = n && 20003 === n.code;
                        "MASTER" === e || this.levels && 1 === this.levels.length ? r = a ? PlayListError.ManifestLoadTimeout : "FETCH" === t ? PlayListError.ManifestFetchError : PlayListError.ManifestParseError : "LEVEL" === e && (r = a ? PlayListError.ManifestLoadTimeout : "FETCH" === t ? PlayListError.ManifestFetchError : PlayListError.ManifestParseError),
                        "AUDIOTRACK" === e && (r = a ? PlayListError.AudioTrackLoadTimeout : "FETCH" === t ? PlayListError.AudioTrackFetchError : PlayListError.AudioTrackParseError);
                        var o = new PlayListError(objectSpread({}, r, {
                            response: n.response,
                            context: {
                                url: i
                            }
                        }),i);
                        return this.emitError(o),
                        o
                    }
                }, {
                    key: "checkIsMasterPlayList",
                    value: function(e) {
                        return !(e.indexOf("#EXTINF") > 0 || e.indexOf("#EXT-X-TARGETDURATION:") > 0)
                    }
                }, {
                    key: "appendPlayList",
                    value: function(e) {
                        var n = this
                          , i = e.url
                          , r = e.source
                          , a = new t({
                            url: i,
                            source: r
                        },this.dataService,this.config);
                        a.on("error", function() {
                            n.emit("nextPlaylistLoaded"),
                            a = null
                        }),
                        a.on("loaded", function(e) {
                            if (a.currentLevel && 0 === a.currentLevel.details.error) {
                                var t = n.currentLevel.details.segments
                                  , i = a.currentLevel.details.segments
                                  , r = n.getTotalDuration()
                                  , o = t[t.length - 1].id
                                  , s = t[o].cc;
                                t[o].isLast = !1,
                                i[0].discontinuity = !0,
                                i.forEach(function(e, t) {
                                    e.cc = s + 1 + (e.cc || 0),
                                    e.start = e.origStart = r + e.start,
                                    e.end = e.origEnd = r + e.end,
                                    e.id += o + 1
                                }),
                                n.currentLevel.details.segments = t.concat(i),
                                n.currentLevel.details.totalDuration += a.currentLevel.details.totalDuration,
                                a = null,
                                n.emit("nextPlaylistLoaded")
                            }
                        })
                    }
                }, {
                    key: "initLoad",
                    value: function(e, t) {
                        var n = this;
                        this.url = e;
                        var i;
                        e && (i = this.dataService.requestPlayList(e, "MANIFEST", function(e) {
                            n.url = e
                        })),
                        t && (i = Promise.resolve(t)),
                        i.then(function(e) {
                            var t = n.checkIsMasterPlayList(e) ? "MASTER" : "LEVEL";
                            n.playListType = t;
                            var i = m3u8Parser(e, t, n.url, n.config.resolutionToFilter);
                            if (i.error)
                                return void n.addErrorAndEmit(t, "PARSE", i.error, n.url);
                            "MASTER" === t ? (n.levelsInfo = i,
                            n._setAutoLevelIdBound(n.levelsInfo)) : (n.levelsInfo = n.defaultLevelsInfo(n.url, i),
                            n.convertSegmentsToCls(i, 1, n.url)),
                            n.initLoaded(t)
                        }).catch(function(e) {
                            n.addErrorAndEmit(n.playListType, "FETCH", e, n.url)
                        })
                    }
                }, {
                    key: "flushM3u8",
                    value: function(e) {
                        var n = this
                          , i = this.levelIns.getLoadLevelUrl(e);
                        if (i) {
                            var r = new t({
                                url: i
                            },this.dataService,this.config);
                            r.once("loaded", function() {
                                n.levelIns.mergeDetails(n, r, e),
                                r = null,
                                n.emit("m3u8Flushed", !0)
                            }),
                            r.once("error", function(e) {
                                e.severity = ErrorSeverity.CRITICAL,
                                n.emit("error", e)
                            })
                        } else
                            this.emitError(new PlayListError(PlayListError.LevelNotFound,"levelId",e))
                    }
                }, {
                    key: "checkLiveCanplay",
                    value: function(e, t) {
                        var n = this
                          , i = this.getSegments().length;
                        i >= this.config.liveCanPlayMinSegmentsCount ? (e === PLAYLIST_TYPE.MANIFEST && this.emit("loaded", t),
                        e === PLAYLIST_TYPE.LEVEL && this.emit("levelLoaded", t)) : (logger.log("live playlist,segments count = ".concat(i, " < ").concat(this.config.liveCanPlayMinSegmentsCount, ",continue wait to flush playlist")),
                        setTimeout(function() {
                            n.flushM3u8(n.currentLevel.levelId),
                            n.once("m3u8Flushed", function() {
                                n.checkLiveCanplay(e, t)
                            })
                        }, 500))
                    }
                }, {
                    key: "initLoaded",
                    value: function(e) {
                        var t = this;
                        if (this.levelIns = new Level(this,this.levelsInfo),
                        this.audioTrackIns = new AudioTrack(this,this.levelsInfo),
                        "LEVEL" === e)
                            return this.currentLevel = this.levelsInfo.levels[0],
                            void this.emit("loaded", this);
                        var n;
                        if (this.config.abrEnable)
                            n = this.selectStream("bandwidth", this.config.abrEwmaDefaultEstimate),
                            logger.warn("智能档 初始level: ".concat(this.currentLevel.levelId, ", 评估带宽:").concat(this.config.abrEwmaDefaultEstimate, " bps"));
                        else if (this.initPlayAutoLevelStream) {
                            var i = this.getLevelIdByStreamType(this.initPlayAutoLevelStream) || 1;
                            logger.warn("存在起播档位设置, ", i),
                            n = this.selectStream("levelId", i)
                        } else
                            n = this.selectStream(!1, !1);
                        n.then(function() {
                            t.isLive && "MASTER" === t.playListType && (t.config.abrEnable = !0),
                            t.emit("loaded", t)
                        }).catch(function(e) {
                            t.emitError(e)
                        })
                    }
                }, {
                    key: "preloadLevel",
                    value: function() {
                        var e = this
                          , t = this.levels
                          , n = t.filter(function(e) {
                            return !e.details
                        });
                        if (n.length) {
                            var i = n[0];
                            logger.log("preload level", i.levelId);
                            var r = this.levelIns.selectLevel({
                                key: "levelId",
                                value: i.levelId,
                                type: "AUTO"
                            })
                              , a = this.audioTrackIns.selectAudioTrack("AUDIO", r.audio);
                            this.loadLevelDetail(r),
                            this.loadAudioTrackDetail(a),
                            this.once("levelLoaded", function() {
                                logger.log("preload complete"),
                                e.isLive && e.syncTwoLevelDetails(e.currentLevel, r)
                            })
                        }
                    }
                }, {
                    key: "loadNextLevelStream",
                    value: function(e) {
                        var t = this._getAutoLevel(e)
                          , n = this.levelIns.selectLevelById(t);
                        return !n || n.error && 0 !== n.error ? (this.lastLevel && (this.currentLevel = this.lastLevel),
                        Promise.resolve()) : n.details && 0 === n.details.error ? (this.lastLevel = this.currentLevel,
                        this.lastAudioTrack = this.currentAudioTrack,
                        this.currentLevel = n,
                        this.currentAudioTrack = this.audioTrackIns.selectAudioTrack("AUDIO", this.currentLevel.audio),
                        this.isLive && this.lastLevel.levelId !== this.currentLevel.levelId && this.flushM3u8(this.currentLevel.levelId, !0),
                        logger.warn("".concat(this.lastLevel && this.lastLevel.levelId, " , switch to level: ").concat(this.currentLevel.levelId, " , [").concat(this.currentLevel.details.startSN, " , ").concat(this.currentLevel.details.endSN, " ]")),
                        Promise.resolve()) : this.selectStream("levelId", t)
                    }
                }, {
                    key: "selectStream",
                    value: function(e, t, n) {
                        var i = this;
                        this.lastLevel = this.currentLevel,
                        this.lastAudioTrack = this.currentAudioTrack,
                        this.currentLevel = this.levelIns.selectLevel({
                            key: e,
                            value: t,
                            type: n
                        }),
                        this.currentAudioTrack = this.audioTrackIns.selectAudioTrack("AUDIO", this.currentLevel.audio);
                        var r = new IPromise
                          , a = this.loadLevelDetail(this.currentLevel);
                        a && (this.currentLevel = this.lastLevel,
                        r.reject(a));
                        var o = this.loadAudioTrackDetail(this.currentAudioTrack);
                        return o && (this.currentAudioTrack = this.lastAudioTrack,
                        r.reject(o)),
                        this.once("levelLoaded", function(e) {
                            0 === e.error ? (i.isLive && i.lastLevel && i.currentLevel.levelId !== i.lastLevel.levelId && i.syncTwoLevelDetails(i.lastLevel, i.currentLevel),
                            logger.warn("the first time load the level , ".concat(i.lastLevel && i.lastLevel.levelId, " switch to level: ").concat(i.currentLevel.levelId, ", [").concat(e.startSN, " , ").concat(e.endSN, " ]")),
                            r.resolve(i)) : (i.currentLevel = i.lastLevel,
                            i.currentAudioTrack = i.lastAudioTrack,
                            r.reject(e.errIns))
                        }),
                        r
                    }
                }, {
                    key: "loadLevelDetail",
                    value: function(e) {
                        var t;
                        if (1 === e.error)
                            return t = new PlayListError(PlayListError.LevelNotFound,e.key,e.value),
                            this.emitError(t),
                            t;
                        if (e.details && 0 !== e.details.error) {
                            var n = e.details.error === TRACK_FETCH_ERROR ? PlayListError.StreamCanNotUseForFetchError : PlayListError.StreamCanNotUseForParseError;
                            return t = new PlayListError(n,e.url),
                            this.emitError(t),
                            t
                        }
                        this.waitAudioVideoLoaded.push({
                            type: "LEVEL",
                            state: !1
                        }),
                        this.loadTrackOrLevelPlayList("LEVEL", e)
                    }
                }, {
                    key: "loadAudioTrackDetail",
                    value: function(e) {
                        var t;
                        if (e) {
                            if (1 === e.error)
                                return t = new PlayListError(PlayListError.AudioTrackFetchError),
                                this.emitError(t),
                                t;
                            this.waitAudioVideoLoaded.push({
                                type: "AUDIOTRACK",
                                state: !1
                            }),
                            this.loadTrackOrLevelPlayList("AUDIOTRACK", e)
                        }
                    }
                }, {
                    key: "loadTrackOrLevelPlayList",
                    value: function(e, t) {
                        var n = this
                          , i = t.url
                          , r = t.details
                          , a = t.levelId;
                        if (r)
                            return this.waitAudioVideoLoaded.forEach(function(t) {
                                t.type === e && (t.state = !0)
                            }),
                            void setTimeout(function() {
                                n.levelLoaded(e, t)
                            });
                        this.dataService.requestPlayList(i, "LEVEL", function(e) {
                            t.url = e
                        }).then(function(i) {
                            var o = m3u8Parser(i, "LEVEL", t.url);
                            0 === o.error ? (r = o,
                            n.convertSegmentsToCls(r, a, t.url)) : (r = {
                                error: M3U8_PARSE_ERROR$1
                            },
                            r.errIns = n.addErrorAndEmit(e, "PARSE", null, t.url))
                        }).catch(function(i) {
                            r = {
                                error: TRACK_FETCH_ERROR
                            },
                            r.errIns = n.addErrorAndEmit(e, "FETCH", i, t.url)
                        }).then(function() {
                            t.details = r,
                            n.waitAudioVideoLoaded.forEach(function(t) {
                                t.type === e && (t.state = !0)
                            }),
                            n.levelLoaded(e, t)
                        })
                    }
                }, {
                    key: "levelLoaded",
                    value: function(e, t) {
                        var n = t.details;
                        this.waitAudioVideoLoaded.every(function(e) {
                            return e.state
                        }) && (this.waitAudioVideoLoaded = [],
                        this.emit("levelLoaded", n))
                    }
                }, {
                    key: "convertSegmentsToCls",
                    value: function(e, t, n) {
                        var i = this.isCurrentLowestLevel(t)
                          , r = e.segments.map(function(e) {
                            e.id;
                            return new Segment(objectSpread({}, e, {
                                levelId: t,
                                baseUrl: n,
                                lowestLevel: i
                            }))
                        });
                        e.segments = r
                    }
                }, {
                    key: "getTracks",
                    value: function() {
                        var e = []
                          , t = this.currentLevel || {}
                          , n = t.videoCodec
                          , i = t.audioCodec;
                        return this.currentAudioTrack ? (e.push({
                            type: TrackType.VIDEO,
                            codec: n
                        }),
                        e.push({
                            type: TrackType.AUDIO,
                            codec: i
                        })) : e.push({
                            type: TrackType.MIXED,
                            audioCodec: i,
                            videoCodec: n
                        }),
                        e
                    }
                }, {
                    key: "updateTotalDuration",
                    value: function() {
                        if (this.currentLevel.details) {
                            var e = this.currentLevel.details.segments;
                            this.currentLevel.details.totalDuration = e[e.length - 1].end
                        }
                    }
                }, {
                    key: "getTotalDuration",
                    value: function() {
                        if (this.currentLevel) {
                            if (!this.currentLevel.details)
                                return this.lastLevel && 0 == this.lastLevel.details.error ? this.lastLevel.details.totalDuration : 0;
                            if (0 === this.currentLevel.details.error)
                                return this.currentLevel.details.totalDuration
                        }
                        return 0
                    }
                }, {
                    key: "getInitSegment",
                    value: function() {
                        return new Segment({
                            url: this.videoInitUrl,
                            audioUrl: this.audioInitUrl
                        })
                    }
                }, {
                    key: "getSegments",
                    value: function() {
                        return this.currentLevel && this.currentLevel.details && this.currentLevel.details.segments || []
                    }
                }, {
                    key: "updateRestSegmentsOffset",
                    value: function(e, t) {
                        updateRestSegmentsOffset(e, this.levels, this.isLive, t)
                    }
                }, {
                    key: "locateSegment",
                    value: function(e) {
                        return locateSegment(e, this.currentLevel)
                    }
                }, {
                    key: "getSegmentById",
                    value: function(e) {
                        return getSegmentById(e, this.currentLevel, this.currentAudioTrack)
                    }
                }, {
                    key: "resetSegmentsByRange",
                    value: function(e, t) {
                        resetSegmentsByRange(e, t, this.currentLevel)
                    }
                }, {
                    key: "clearSegmentsStatus",
                    value: function() {
                        clearSegmentsStatus(this.currentLevel)
                    }
                }, {
                    key: "getLevelIdOfUsedSegment",
                    value: function(e) {
                        return getLevelIdOfUsedSegment(e, this.getSegments(), this.levelsInfo)
                    }
                }, {
                    key: "getSegment",
                    value: function(e, t, n, i) {
                        return getSegment(e, t, n, i, this.currentLevel, this.currentAudioTrack, this.isLive)
                    }
                }, {
                    key: "maxAutoLevel",
                    get: function() {
                        return this._maxAutoLevelId
                    },
                    set: function(e) {
                        this._maxAutoLevelId = e
                    }
                }, {
                    key: "minAutoLevel",
                    get: function() {
                        return this._minAutoLevelId
                    },
                    set: function(e) {
                        this._minAutoLevelId = e
                    }
                }, {
                    key: "initPlayAutoLevelStream",
                    get: function() {
                        return this._initPlayAutoLevelStream
                    },
                    set: function(e) {
                        this._initPlayAutoLevelStream = e
                    }
                }, {
                    key: "isLive",
                    get: function() {
                        return this.currentLevel && this.currentLevel.details ? this.currentLevel.details.live : this.lastLevel && this.lastLevel.details ? this.lastLevel.details.live : void 0
                    }
                }, {
                    key: "slidePosition",
                    get: function() {
                        var e = this.getSegments();
                        if (e.length)
                            return e[0].start
                    }
                }, {
                    key: "liveSyncPostion",
                    get: function() {
                        var e = this.getSegments().map(function(e) {
                            return e.duration
                        }).reduce(function(e, t) {
                            return e += t
                        }, 0);
                        return this.getTotalDuration() - e * this.config.liveMaxLatencyFactor
                    }
                }, {
                    key: "levels",
                    get: function() {
                        return this.levelsInfo ? this.levelsInfo.levels : null
                    }
                }, {
                    key: "isMultiTrack",
                    get: function() {
                        return this.currentLevel && this.currentAudioTrack
                    }
                }, {
                    key: "videoInitUrl",
                    get: function() {
                        return this.isFmp4()
                    }
                }, {
                    key: "audioInitUrl",
                    get: function() {
                        return this.isFmp4("currentAudioTrack")
                    }
                }, {
                    key: "plType",
                    get: function() {
                        return this.playListType
                    }
                }, {
                    key: "currentLevelId",
                    get: function() {
                        return this.currentLevel && this.currentLevel.levelId || 1
                    }
                }, {
                    key: "segmentDuration",
                    get: function() {
                        return this.currentLevel && this.currentLevel.details ? this.currentLevel.details.xTargetduration : 10
                    }
                }]),
                t
            }(EventBus)
              , START = 0
              , END = 1;
            TimeRanges.prototype.dump = function(e) {
                for (var t = [], n = 0; n < this.length; n++)
                    t.push("".concat(this.start(n), "~").concat(this.end(n)));
                if (e)
                    return t.join(" , ");
                logger.log(t.join(" , "))
            }
            ;
            var BufferInfo$1 = function() {
                function e(t) {
                    classCallCheck(this, e),
                    this.ranges = _structuredBuffer(t)
                }
                return createClass(e, [{
                    key: "setRanges",
                    value: function(e) {
                        return this.ranges = e,
                        this
                    }
                }, {
                    key: "isVerySmallGap",
                    value: function(e) {
                        if (!this.ranges.length)
                            return !1;
                        var t = !0
                          , n = !1
                          , i = void 0;
                        try {
                            for (var r, a = this.ranges[Symbol.iterator](); !(t = (r = a.next()).done); t = !0) {
                                var o = r.value;
                                if (o[0] >= e)
                                    return o[1] - o[0] <= .005
                            }
                        } catch (e) {
                            n = !0,
                            i = e
                        } finally {
                            try {
                                t || null == a.return || a.return()
                            } finally {
                                if (n)
                                    throw i
                            }
                        }
                        return !1
                    }
                }, {
                    key: "toGap",
                    value: function() {
                        var e = [];
                        if (this.ranges.length > 0 && this.ranges[0][0] > 0 && e.push([0, this.ranges[0][0]]),
                        this.ranges.length > 1)
                            for (var t = 1; t < this.ranges.length; t++)
                                e.push([this.ranges[t - 1][END], this.ranges[t][START]]);
                        return this.setRanges(e)
                    }
                }, {
                    key: "isOverlap",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                          , i = 0;
                        if (0 == this.ranges.length)
                            return !1;
                        for (; i < this.ranges.length; i++) {
                            if (0 == i && e <= this.ranges[i][START] + n && t <= this.ranges[i][START] + n)
                                return !1;
                            if (i > 0 && e >= this.ranges[i - 1][END] - n && t <= this.ranges[i][START] + n)
                                return !1
                        }
                        return e < this.ranges[i - 1][END] - n
                    }
                }, {
                    key: "fillGap",
                    value: function(e) {
                        if (this.ranges.length > 1) {
                            for (var t = [[this.ranges[0][START], this.ranges[0][END]]], n = 1; n < this.ranges.length; n++)
                                this.ranges[n][START] <= t[t.length - 1][END] + e ? t[t.length - 1][END] = this.ranges[n][END] : t.push([this.ranges[n][START], this.ranges[n][END]]);
                            this.ranges = t.filter(function(e) {
                                return e[0] !== e[1]
                            })
                        }
                        return this
                    }
                }, {
                    key: "getUsedRange",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10
                          , n = this.indexOf(e);
                        if (0 != n) {
                            if (n > 0) {
                                var i = [[this.ranges[0][START], this.ranges[n - 1][END]]];
                                return i.push([this.ranges[n][START], e - this.ranges[n][START] >= t ? e - t : this.ranges[n][START]]),
                                i
                            }
                            return null
                        }
                        return e - this.ranges[n][START] > t ? [[this.ranges[n][START], e - t]] : this.ranges.length > n + 2 && this.Last[START] - this.ranges[n][END] > Math.max(300, t) ? [[this.Last[START], this.Last[END]], [0, 0]] : void 0
                    }
                }, {
                    key: "getIndicator",
                    value: function(e, t) {
                        for (var n = 0; n < this.ranges.length; n++) {
                            if (e < this.ranges[n][START] - t)
                                return {
                                    bufferLength: 0,
                                    bufferEnd: e
                                };
                            if (e >= this.ranges[n][START] - t && e <= this.ranges[n][END])
                                return {
                                    bufferLength: this.ranges[n][END] - e,
                                    bufferEnd: this.ranges[n][END],
                                    bufferStart: this.ranges[n][START]
                                }
                        }
                        return {
                            bufferLength: 0,
                            bufferEnd: e,
                            bufferStart: e
                        }
                    }
                }, {
                    key: "concat",
                    value: function(t, n) {
                        return new e(this.ranges.concat(t).sort(function(e, t) {
                            return e[0] < t[0] && e[1] < t[1] ? -1 : 1
                        })).fillGap(n)
                    }
                }, {
                    key: "clone",
                    value: function() {}
                }, {
                    key: "snapshot",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10
                          , n = this.position(e);
                        return this.ranges.slice(Math.max(0, Math.abs(n) - t), Math.abs(n) + t)
                    }
                }, {
                    key: "position",
                    value: function(e) {
                        var t = 0;
                        for (t = 0; t < this.ranges.length; t++) {
                            if (e < this.ranges[t][0])
                                return -t - 1;
                            if (e >= this.ranges[t][0] && e <= this.ranges[t][1])
                                return t
                        }
                        return -t - 1
                    }
                }, {
                    key: "indexOf",
                    value: function(e) {
                        for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = 0; n < this.ranges.length; n++)
                            if (e >= this.ranges[n][0] - t && e <= this.ranges[n][1])
                                return n;
                        return -1
                    }
                }, {
                    key: "findRange",
                    value: function(e, t) {
                        return this.ranges[this.indexOf(e, t)]
                    }
                }, {
                    key: "zip",
                    value: function(e) {
                        return this.ranges.reduce(function(t, n) {
                            return t.push({
                                n: n[0],
                                flag: START,
                                dye: e
                            }),
                            t.push({
                                n: n[1],
                                flag: END,
                                dye: e
                            }),
                            t
                        }, [])
                    }
                }, {
                    key: "reduce",
                    value: function(t) {
                        for (var n, i, r, a = this.zip("a").concat(t.zip("b")).sort(function(e, t) {
                            return 10 * e.n + e.flag - (10 * t.n + t.flag)
                        }), o = {
                            a: [],
                            b: []
                        }; n = a.shift(); )
                            i ? i.dye != n.dye ? i.coincide ? (i.start = n.n,
                            r = null,
                            i.coincide = !1) : (i.end = n.n,
                            i.start != i.end && o[i.dye].push([i.start, i.end]),
                            r = {
                                dye: i.dye,
                                start: n.n
                            },
                            i = {
                                dye: n.dye,
                                start: n.n,
                                coincide: !0
                            }) : i.coincide ? (r.start = n.n,
                            i = r,
                            i.coincide = !1,
                            r = null) : (i.end = n.n,
                            i.end != i.start && o[i.dye].push([i.start, i.end]),
                            i = null) : i = {
                                dye: n.dye,
                                start: n.n,
                                coincide: !1
                            };
                        return o.a = new e(o.a),
                        o.b = new e(o.b),
                        o
                    }
                }, {
                    key: "toString",
                    value: function() {
                        return "[".concat(this.ranges.map(function(e) {
                            return e.join(" ~ ")
                        }).join(" , "), "]")
                    }
                }, {
                    key: "contain",
                    value: function() {}
                }, {
                    key: "Length",
                    get: function() {
                        return this.ranges.reduce(function(e, t) {
                            return e + t[END] - t[START]
                        }, 0)
                    }
                }, {
                    key: "Last",
                    get: function() {
                        return this.ranges[this.ranges.length - 1]
                    }
                }, {
                    key: "Start",
                    get: function() {
                        return this.ranges[0]
                    }
                }]),
                e
            }();
            window.BufferInfo = BufferInfo$1;
            var templateBufferInfo = getBufferInfo()
              , FlySourceBuffer = function() {
                function e(t) {
                    classCallCheck(this, e),
                    this._flyBufferStore = [],
                    this.core = t.core,
                    this.mediaBuffer = t.mediaBuffer
                }
                return createClass(e, [{
                    key: "drainAudio",
                    value: function(e) {
                        var t = this._flyBufferStore.find(function(t) {
                            return t.audioStart === e.audioStart || t.audioEnd === e.audioEnd
                        });
                        return t && !t.data && (t.state === SegmentState.APPENDED && (t.state = 0),
                        this._flyBufferStore = this._flyBufferStore.filter(function(e) {
                            return e.id !== t.id
                        }),
                        t = null),
                        t
                    }
                }, {
                    key: "drain",
                    value: function(e) {
                        var t = this._flyBufferStore.find(function(t) {
                            return t.id === e
                        });
                        if (t && !t.data && (t.state === SegmentState.APPENDED && (t.state = 0),
                        this._flyBufferStore = this._flyBufferStore.filter(function(t) {
                            return t.id !== e
                        }),
                        t = null),
                        t && !t.isLast && this.core.config.queueLoad && this.core.queueLoad.usage) {
                            return this._flyBufferStore.find(function(t) {
                                return t.id === e + 1
                            }) ? t : void logger.log("waiting next..........")
                        }
                        if (t)
                            return t
                    }
                }, {
                    key: "findFistSegmentLargerThanCurrentTime",
                    value: function(e) {
                        return this._flyBufferStore.find(function(t) {
                            return t.data && (t.start <= e + .1 && t.end > e || t.start >= e)
                        })
                    }
                }, {
                    key: "subStore",
                    value: function(e) {
                        this._flyBufferStore = this._flyBufferStore.filter(function(t) {
                            return t.id >= e
                        })
                    }
                }, {
                    key: "removeSegment",
                    value: function(e) {
                        this._flyBufferStore = this._flyBufferStore.filter(function(t) {
                            return t.id !== e
                        })
                    }
                }, {
                    key: "has",
                    value: function(e) {
                        return this._flyBufferStore.filter(function(t) {
                            return t.id === e.id
                        }).length > 0
                    }
                }, {
                    key: "storeSegment",
                    value: function(e) {
                        e.data && (logger.log("do store segment: ", e),
                        0 === this._flyBufferStore.filter(function(t) {
                            return t.id === e.id
                        }).length && this._flyBufferStore.push(e))
                    }
                }, {
                    key: "reset",
                    value: function() {
                        logger.log("flySourceBuffer reset"),
                        this.destroy()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._flyBufferStore = []
                    }
                }, {
                    key: "flyAudioBuffered",
                    get: function() {
                        return new BufferInfo$1(this._flyBufferStore.filter(function(e) {
                            return e.audioData
                        }).map(function(e) {
                            return [e.audioStart, e.audioEnd]
                        }).sort(function(e, t) {
                            return e[0] < t[0] && e[1] < t[1] ? -1 : 1
                        })).fillGap(this.core.config.maxBufferHole)
                    }
                }, {
                    key: "flyBuffered",
                    get: function() {
                        return new BufferInfo$1(this._flyBufferStore.filter(function(e) {
                            return e.data
                        }).map(function(e) {
                            return [e.start, e.end]
                        }).sort(function(e, t) {
                            return e[0] < t[0] && e[1] < t[1] ? -1 : 1
                        })).fillGap(this.core.config.maxBufferHole)
                    }
                }]),
                e
            }()
              , match$1 = /\bcorex_debug=(\d)/.exec(document.cookie)
              , _debug = !1;
            match$1 && (_debug = "1" == match$1[1]);
            var debug = _debug
              , MediaBuffer = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaBuffer", n)),
                    i.mediaSource = e,
                    i.parent = n,
                    i.mediaElement = n.mediaElement,
                    i.config = n.core.config,
                    i.pendingSegments = [],
                    i.lastAudioCodec = "",
                    i.combine = !0,
                    i.audioSourceBuffer = null,
                    i.videoSourceBuffer = null,
                    i.lastABuffer = new BufferInfo$1([]),
                    i.lastVBuffer = new BufferInfo$1([]),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "onEnd",
                    value: function() {
                        this.audioSourceBuffer = null,
                        this.videoSourceBuffer = null,
                        this.mediaSource = null,
                        this.destroy()
                    }
                }, {
                    key: "appendSegment",
                    value: function(e) {
                        this.pendingSegments.find(function(t) {
                            return t.id == e.id
                        }) || this.pendingSegments.push(e),
                        this.isInState("idle,error,_init,initMp4Appended") && this.nextState("appending")
                    }
                }, {
                    key: "onAppending",
                    value: function() {
                        var e = this.pendingSegments[0];
                        if (!e || !e.videoData && !e.audioData)
                            return void this.pendingSegments.shift();
                        this.combine = e.audioData && e.videoData;
                        try {
                            this._handleAppending(e)
                        } catch (e) {
                            this.nextState("error", new BufferError(BufferError.BufferAppendError,e.name,e.message))
                        }
                    }
                }, {
                    key: "_handleAppending",
                    value: function(e) {
                        var t = this._geneCodec(e)
                          , n = t.audioCodec
                          , i = t.videoCodec
                          , r = i.split(".")[0];
                        if (this.lastAudioCodec && this.lastAudioCodec !== n || this.lastVideoCodecId && this.lastVideoCodecId != r)
                            return logger.warn("audio codecs changed : ", "".concat(this.lastAudioCodec, " -> ").concat(n)),
                            this.nextState("createMs", e.id),
                            !1;
                        this.lastAudioCodec = n,
                        this.lastVideoCodecId = r,
                        e.audioData && (this.audioSourceBuffer || this._createSourceBuffer("audio", n),
                        this.combine || this.audioSourceBuffer.appendBuffer(e.audioData)),
                        e.videoData && (this.videoSourceBuffer || this._createSourceBuffer("video", i),
                        e.appendWindowEnd ? (this.videoSourceBuffer.appendWindowEnd = 1 / 0,
                        this.videoSourceBuffer.appendWindowEnd = e.appendWindowEnd) : this.videoSourceBuffer.appendWindowEnd = 1 / 0,
                        this.combine || this.videoSourceBuffer.appendBuffer(e.videoData)),
                        this.combine && (this.audioSourceBuffer.appendBuffer(e.audioData),
                        this.videoSourceBuffer.appendBuffer(e.videoData))
                    }
                }, {
                    key: "_geneCodec",
                    value: function(e) {
                        var t, n, i = e.audioInfo, r = e.videoInfo;
                        if (this.parent.isFmp4) {
                            var a = getAVCodecFromTracks(this.parent.tracks);
                            t = a.videoCodec,
                            n = a.audioCodec
                        } else
                            t = generateVideoCodec(r),
                            n = generateAudioCodec(i);
                        return {
                            videoCodec: t,
                            audioCodec: n
                        }
                    }
                }, {
                    key: "_createSourceBuffer",
                    value: function(e, t) {
                        logger.log("create sourcebuffer with codec :", t);
                        var n = this.mediaSource.addSourceBuffer('video/mp4;codecs="'.concat(t, '"'));
                        this._bindSourceBufferEvent(n, e),
                        this["".concat(e, "SourceBuffer")] = n
                    }
                }, {
                    key: "_bindSourceBufferEvent",
                    value: function(e, t) {
                        var n = this
                          , i = this.combine;
                        e.addEventListener("updateend", function() {
                            if (!n.isInState("appended")) {
                                var e = n.pendingSegments[0];
                                if (e) {
                                    if (i) {
                                        if (e["".concat(t, "Data")] = null,
                                        e.videoData || e.audioData)
                                            return
                                    } else
                                        e["".concat(t, "Data")] = null;
                                    n._printBufferLog(e),
                                    e.id > 0 && !debug && (e.videoInfo = null,
                                    e.audioInfo = null),
                                    e.setState(SegmentState.APPENDED),
                                    n.pendingSegments.shift(),
                                    n.nextState("appended", e),
                                    e.emit("appended")
                                }
                            }
                        }),
                        e.addEventListener("error", function() {
                            n.nextState("error", new BufferError(BufferError.BufferAppendError,"".concat(t, "  error")))
                        })
                    }
                }, {
                    key: "_printBufferLog",
                    value: function() {
                        logger.log("video dump:"),
                        logger.log(this.videoSourceBuffer && this.videoSourceBuffer.buffered.dump(!0)),
                        logger.log("audio dump:"),
                        logger.log(this.audioSourceBuffer && this.audioSourceBuffer.buffered.dump(!0))
                    }
                }, {
                    key: "onAppended",
                    value: function(e) {
                        var t = this;
                        if (debug && this.audioSourceBuffer && this.videoSourceBuffer) {
                            var n = new BufferInfo$1(this.audioSourceBuffer.buffered)
                              , i = new BufferInfo$1(this.videoSourceBuffer.buffered)
                              , r = n.reduce(i)
                              , a = n.reduce(this.lastABuffer)
                              , o = i.reduce(this.lastVBuffer);
                            console.group("#".concat(e.id, "@").concat(e.levelId, " [").concat(e.start, "~").concat(e.end, "]")),
                            console.log("audio change:", a.a.toString(), r.a.Length),
                            console.log("video change:", o.a.toString(), r.b.Length),
                            console.log("base:", e.audioInfo.timeline.base / 9e4, "ref:", e.audioInfo.timeline.ref / 9e4, e.audioInfo.timeline.disc),
                            console.log("video raw Dts/Pts:[".concat(formatTimestamp(e.videoInfo, "rawDts"), "] [").concat(formatTimestamp(e.videoInfo, "rawPts"), "]")),
                            console.log("video adt Dts/Pts:[".concat(formatTimestamp(e.videoInfo, "dts"), "] [").concat(formatTimestamp(e.videoInfo, "pts"), "]")),
                            console.log("audio raw Pts:[".concat(formatTimestamp(e.audioInfo, "rawPts"), "]")),
                            console.log("audio adt Pts:[".concat(formatTimestamp(e.audioInfo, "pts"), "]"));
                            var s = Math.round((e.audioInfo.timeline.pts[0] - e.videoInfo.timeline.pts[0]) / 90);
                            console.log("shift:".concat(s, "ms")),
                            Math.abs(s) > 200 && console.warn("big shift", e.id, s),
                            console.groupEnd(),
                            this.lastABuffer = n,
                            this.lastVBuffer = i,
                            this.vIncreased = o.a,
                            this.aIncreased = a.a
                        }
                        if (this.pendingSegments.length)
                            return void this.nextState("appending");
                        this._checkFlushBuffer().then(function() {
                            t.parent.isFmp4 && t.parent.isInState("loadInitMp4") ? t.nextState("initMp4Appended") : (t.nextState("idle"),
                            logger.log("<=============="))
                        })
                    }
                }, {
                    key: "_checkFlushBuffer",
                    value: function() {
                        var e = this.mediaElement.currentTime
                          , t = this.config.maxBufferLength
                          , n = Math.max(0, e - t)
                          , i = new BufferInfo$1(this.mediaElement.buffered).getIndicator(n, this.config.gapTolerance);
                        return n && n - i.bufferStart >= t / 2 ? this.removeBuffer(0, n) : Promise.resolve()
                    }
                }, {
                    key: "removeBuffer",
                    value: function(e, t) {
                        var n = this
                          , i = this.videoSourceBuffer
                          , r = this.audioSourceBuffer;
                        return logger.log("remove buffer", [e, t]),
                        new Promise(function(a) {
                            var o;
                            try {
                                i && !i.updating && i.remove(e, t),
                                r && !r.updting && r.remove(e, t)
                            } catch (e) {
                                a()
                            }
                            o = setInterval(function() {
                                n.updating || (clearInterval(o),
                                n.emit("bufferFlushed", t),
                                a())
                            }, 20)
                        }
                        )
                    }
                }, {
                    key: "changeDuration",
                    value: function(e, t) {
                        this.updating || "open" !== this.mediaSource.readyState || this.mediaSource.duration == e || (t || this.mediaSource.duration < e) && (this.mediaSource.duration = e,
                        logger.log("media source duration changed to: ", e))
                    }
                }, {
                    key: "onError",
                    value: function(e) {
                        var t = this.pendingSegments.shift();
                        t && (t.setState(SegmentState.INIT),
                        t.emit("error", e),
                        this.parent.removeSegmentFromStore(t.id))
                    }
                }, {
                    key: "updating",
                    get: function() {
                        return !(!this.audioSourceBuffer || !this.audioSourceBuffer.updating) || this.videoSourceBuffer && this.videoSourceBuffer.updating
                    }
                }]),
                t
            }(StateMachine)
              , H265Buffer = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "H265Buffer", n)),
                    i.lastSegment = null,
                    i.parent = n,
                    i.media = e,
                    i.segmentQueue = [],
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "onAppending",
                    value: function() {
                        var e = this
                          , t = this.segmentQueue[0];
                        if (t) {
                            var n = !this.lastSegment || this.lastSegment.levelId != t.levelId
                              , i = !this.lastSegment || this.lastSegment.cc !== t.cc || 1 != Math.abs(this.lastSegment.id - t.id);
                            i && logger.warn("h265 dump buffer,discontinue"),
                            n && this.media.resetCodec(),
                            this.media.appendBuffer(t.data, i ? t.start : null),
                            this.media.once("bufferAppended", function(n) {
                                t.videoInfo = {
                                    timeline: {
                                        start: n.vStart,
                                        end: n.vEnd
                                    },
                                    vMeta: n.vMeta
                                },
                                t.audioInfo = {
                                    timeline: {
                                        start: n.aStart,
                                        end: n.aEnd
                                    },
                                    aMeta: n.aMeta
                                },
                                e.segmentQueue.shift(),
                                e._updateTimeline(t),
                                e.nextState("appended", t),
                                t.setState(SegmentState.APPENDED),
                                t.emit("appended"),
                                e.lastSegment = t
                            })
                        }
                    }
                }, {
                    key: "resetInit",
                    value: function() {
                        this.lastSegment = null
                    }
                }, {
                    key: "_updateTimeline",
                    value: function(e) {
                        var t = this.parent
                          , n = t.core
                          , i = t.playList;
                        e.adjustTimeline(n.config) && (i.updateRestSegmentsOffset(e, !0),
                        i.isLive && i.updateTotalDuration())
                    }
                }, {
                    key: "onAppended",
                    value: function() {
                        return this.segmentQueue.length ? void this.nextState("appending") : this.parent.isLive ? void this.nextState("idle") : (this._checkFlushBuffer(),
                        this.nextState("idle"),
                        void logger.log("<=============="))
                    }
                }, {
                    key: "_checkFlushBuffer",
                    value: function() {
                        var e = this.parent
                          , t = e.core
                          , n = (e.playList,
                        this.media.currentTime)
                          , i = t.config.maxBufferLength
                          , r = Math.max(0, n - i)
                          , a = new BufferInfo(this.media.buffered).getIndicator(r, t.config.gapTolerance);
                        r && r - a.bufferStart >= i / 2 && (this.media.removeBuffer(0, r),
                        logger.log("remove buffer", [0, r], "currentTime:", n),
                        this.emit("bufferFlushed", r))
                    }
                }, {
                    key: "appendSegment",
                    value: function(e) {
                        this.segmentQueue.find(function(t) {
                            return t.id === e.id
                        }) || this.segmentQueue.push(e),
                        this.nextState("appending")
                    }
                }, {
                    key: "removeBuffer",
                    value: function(e, t) {
                        return this.media.removeBuffer(e, t),
                        Promise.resolve()
                    }
                }, {
                    key: "changeDuration",
                    value: function(e, t) {
                        (t || this.media.duration < e) && (this.media.duration = e,
                        logger.log("media  duration changed to: ", e))
                    }
                }, {
                    key: "onEnd",
                    value: function() {
                        this.lastSegment = null,
                        this.segmentQueue = []
                    }
                }]),
                t
            }(StateMachine)
              , CoreXEvents = {
                LOADED: "loaded",
                READY: "ready",
                ERROR: "hlsError",
                FRAG_BUFFERED: "fragBuffered",
                MANIFEST_LOADED: "playListLoaded",
                MANIFEST_PARSED: "playlistParsed",
                FRAG_PARSING_DATA: "fragParsingData",
                VIDEO_INFO: "videoInfo",
                PLAY_LAG: "playLag",
                WAITING_TIMEOUT: "waitingTimeout",
                M3U8_ENDED: "m3u8Ended",
                LEVEL_CHANGED: "levelChanged"
            }
              , DrmController = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "DrmController", n)),
                    i.sessionUpdateFinish = !1,
                    i.config = n.core.config,
                    i.dataService = n.core.dataService,
                    i.mediaElement = e,
                    i.msConfiguration = {
                        initDataTypes: [],
                        videoCapabilities: [],
                        audioCapabilities: []
                    },
                    i.onSessionMessage = i.onSessionMessage.bind(assertThisInitialized(assertThisInitialized(i))),
                    i.onWaitingForKey = i.onWaitingForKey.bind(assertThisInitialized(assertThisInitialized(i))),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "onError",
                    value: function() {
                        this.nextState("sessionUpdated")
                    }
                }, {
                    key: "onEnd",
                    value: function() {
                        this.session && this.session.removeEventListener("message", this.onSessionMessage),
                        this.mediaElement.removeEventListener("waitingforkey", this.onWaitingForKey),
                        this.destroy()
                    }
                }, {
                    key: "init",
                    value: function(e) {
                        this._geneMsConfig(e),
                        this.bindEncryptedOnce(),
                        this.mediaElement.addEventListener("waitingforkey", this.onWaitingForKey)
                    }
                }, {
                    key: "bindEncryptedOnce",
                    value: function() {
                        this.nextStateByOnce(this.mediaElement, "encrypted", "createMediaKey")
                    }
                }, {
                    key: "_geneMsConfig",
                    value: function(e) {
                        var t = getAVCodecFromTracks(e)
                          , n = t.audioCodec
                          , i = t.videoCodec;
                        this.msConfiguration.videoCapabilities.push({
                            contentType: 'video/mp4; codecs="'.concat(i, '"'),
                            robustness: "SW_SECURE_CRYPTO"
                        }),
                        this.msConfiguration.audioCapabilities = [],
                        this.msConfiguration.audioCapabilities.push({
                            contentType: 'audio/mp4; codecs="'.concat(n, '"'),
                            robustness: "SW_SECURE_CRYPTO"
                        })
                    }
                }, {
                    key: "onWaitingForKey",
                    value: function() {}
                }, {
                    key: "onCreateMediaKey",
                    value: function(e) {
                        var t = this;
                        if (logger.log("encrypted...."),
                        navigator.requestMediaKeySystemAccess)
                            if (this.mediaKey)
                                this.onSessionConnect(e),
                                this.currentState = "_init";
                            else {
                                var n = navigator.requestMediaKeySystemAccess(this.config.keySystem, [this.msConfiguration]).catch(function(e) {
                                    t.nextState("error", new DrmError(DrmError.RequestKeySysError,e.message))
                                });
                                this.nextStateWhen(n, "mediaKeySysAccess", e)
                            }
                        else
                            this.nextState("error", new DrmError(DrmError.NotSupportDrmError))
                    }
                }, {
                    key: "onMediaKeySysAccess",
                    value: function(e, t) {
                        var n = this;
                        if (!e)
                            return void this.nextState("error", new DrmError(DrmError.RequestKeySysError));
                        e.createMediaKeys().then(function(e) {
                            return n.mediaKey = e,
                            n.mediaElement.setMediaKeys(e)
                        }).then(function() {
                            n.nextState("sessionConnect", t)
                        }).catch(function(e) {
                            n.nextState("error", new DrmError(DrmError.setMediaKeyError,e.message))
                        })
                    }
                }, {
                    key: "onSessionConnect",
                    value: function(e) {
                        var t = this
                          , n = this.mediaElement.mediaKeys.createSession();
                        n.addEventListener("message", this.onSessionMessage),
                        this.session ? (this.session.removeEventListener("message", this.onSessionMessage),
                        this.session.close().then(function() {
                            t.session = n,
                            t.sessionGeneRequest(n, e)
                        }).catch(function(e) {
                            t.nextState("error", new DrmError(DrmError.UpdateSessionError,"重建session失败".concat(e && e.message)))
                        })) : (this.session = n,
                        this.sessionGeneRequest(n, e))
                    }
                }, {
                    key: "sessionGeneRequest",
                    value: function(e, t) {
                        var n = this;
                        console.log(t.initDataType, t.initData),
                        e.generateRequest(t.initDataType, t.initData).catch(function(e) {
                            console.log(e),
                            console.log("".concat(e.code, "    ").concat(e.message)),
                            n.nextState("error", new DrmError(DrmError.GeneLicenseRequestError,e.message))
                        })
                    }
                }, {
                    key: "onSessionMessage",
                    value: function(e) {
                        var t = this;
                        logger.log("eme session message..."),
                        logger.log("请求证书服务获取秘钥key", e.message),
                        this._generateLicense(e.message).then(function(n) {
                            e.target.update(convertStrToBuffer(window.atob(n.data))).then(function() {
                                logger.log("session更新成功"),
                                t.sessionUpdateFinish = !0,
                                2 !== e.message.byteLength && t.nextState("sessionUpdated")
                            }).catch(function(n) {
                                t.nextState("error", new DrmError(DrmError.UpdateSessionError,n.message,e.message.byteLength))
                            })
                        }).catch(function(e) {
                            t.sessionUpdateFinish = !0;
                            var n = 6e4 + (e.states || 0);
                            DrmError.LicenseRequestError.code = n,
                            t.nextState("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                response: e && e.response
                            }),n,t.config.licenseServer,e.msg))
                        })
                    }
                }, {
                    key: "_generateLicense",
                    value: function(e) {
                        var t = this.config
                          , n = t.licenseServer
                          , i = this._parseUrl(n)
                          , r = window.btoa(convertBufferToStr(e))
                          , a = Object.assign({}, i.params, {
                            licenseRequest: encodeURIComponent(r),
                            utdid: t.uid,
                            drmType: "widevine"
                        });
                        return this.dataService.requestLicence(i.host, a)
                    }
                }, {
                    key: "_parseUrl",
                    value: function(e) {
                        var t = {}
                          , n = e.split("?")[0]
                          , i = e.split("?")[1];
                        return i ? (i.split("&").forEach(function(e) {
                            var n = e.replace("=", "|").split("|")
                              , i = slicedToArray(n, 2)
                              , r = i[0]
                              , a = i[1];
                            t[r] = a
                        }),
                        {
                            host: n,
                            params: t
                        }) : {
                            host: n,
                            params: {}
                        }
                    }
                }, {
                    key: "sessionUpdateStatus",
                    get: function() {
                        return this.sessionUpdateFinish
                    }
                }]),
                t
            }(StateMachine)
              , EWMA = function() {
                function e(t) {
                    classCallCheck(this, e),
                    this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0,
                    this.estimate_ = 0,
                    this.totalWeight_ = 0
                }
                return createClass(e, [{
                    key: "sample",
                    value: function(e, t) {
                        var n = Math.pow(this.alpha_, e);
                        this.estimate_ = t * (1 - n) + n * this.estimate_,
                        this.totalWeight_ += e
                    }
                }, {
                    key: "getTotalWeight",
                    value: function() {
                        return this.totalWeight_
                    }
                }, {
                    key: "getEstimate",
                    value: function() {
                        if (this.alpha_) {
                            var e = 1 - Math.pow(this.alpha_, this.totalWeight_);
                            return this.estimate_ / e
                        }
                        return this.estimate_
                    }
                }]),
                e
            }()
              , EwmaBandWidthEstimator = function() {
                function e(t, n, i) {
                    classCallCheck(this, e),
                    this.defaultEstimate_ = i,
                    this.minWeight_ = .001,
                    this.minDelayMs_ = 50,
                    this.slow_ = new EWMA(t),
                    this.fast_ = new EWMA(n)
                }
                return createClass(e, [{
                    key: "sample",
                    value: function(e, t) {
                        e = Math.max(e, this.minDelayMs_);
                        var n = 8e3 * t / e
                          , i = e / 1e3;
                        this.fast_.sample(i, n),
                        this.slow_.sample(i, n)
                    }
                }, {
                    key: "canEstimate",
                    value: function() {
                        var e = this.fast_;
                        return e && e.getTotalWeight() >= this.minWeight_
                    }
                }, {
                    key: "getEstimate",
                    value: function() {
                        return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_
                    }
                }, {
                    key: "destroy",
                    value: function() {}
                }]),
                e
            }()
              , PATH_PATTERN = /https?:\/\/(?:[^\/]+)([^?]+)/
              , CpuPeak = function() {
                function e(t, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3e4
                      , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 3;
                    classCallCheck(this, e),
                    Object.assign(this, {
                        mediaMonitor: t,
                        media: n,
                        duration: i,
                        threshold: r
                    }),
                    this._timer = null,
                    this._waitingCount = 0,
                    this._accumulate = this._accumulate.bind(this),
                    this._setUp()
                }
                return createClass(e, [{
                    key: "incThreshold",
                    value: function(e) {
                        this.threshold += e
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this._waitingCount = 0,
                        clearInterval(this._timer),
                        this._startTimer()
                    }
                }, {
                    key: "_setUp",
                    value: function() {
                        this._bindEvent(),
                        this._startTimer()
                    }
                }, {
                    key: "_bindEvent",
                    value: function() {
                        this.media.addEventListener("waiting", this._accumulate)
                    }
                }, {
                    key: "_accumulate",
                    value: function() {
                        !this.media.seeking && this.mediaMonitor.restBuffered() > 1 && (this._waitingCount += 1,
                        clearInterval(this._timer),
                        this._startTimer())
                    }
                }, {
                    key: "_startTimer",
                    value: function() {
                        var e = this;
                        this._timer = setInterval(function() {
                            e._waitingCount < e.threshold && (e._waitingCount = 0)
                        }, this.duration)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.media.removeEventListener("waiting", this._accumulate),
                        clearInterval(this._timer)
                    }
                }, {
                    key: "peak",
                    get: function() {
                        return this._waitingCount >= this.threshold
                    }
                }]),
                e
            }()
              , LOAD_CONTINUE_THRESHOLD = 95
              , REQUEST_DELAY_THRESHOLD = 100
              , CHECK_LEVEL_FREQ = 200
              , ABRController = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "ABRController", n)),
                    i.media = e,
                    i.parent = n,
                    i.config = n.core.config,
                    i.downMonitor = n.core.downMonitor,
                    i.dataService = n.core.dataService,
                    i._nextForceLevel = -1,
                    i.timer = null,
                    i.bwEstimator = null,
                    i.currentSegment = null,
                    i.cpuPeak = null,
                    i.droppedStateList = [],
                    i.trequest = 0,
                    i.lastLoadedFragLevel = 1,
                    i.doCheck = i.doCheck.bind(assertThisInitialized(assertThisInitialized(i))),
                    i.cpuPeak = new CpuPeak(n.core.mediaMonitor,e),
                    i.config.on("abrEnable", function() {
                        i._nextForceLevel = -1,
                        i.clearTimer(),
                        i.cpuPeak.reset()
                    }),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "destroy",
                    value: function() {
                        this.cpuPeak.destroy(),
                        this.clearTimer()
                    }
                }, {
                    key: "clearTimer",
                    value: function() {
                        clearInterval(this.timer),
                        this.timer = null
                    }
                }, {
                    key: "onSegmentLoading",
                    value: function(e) {
                        var t = this
                          , n = this.config;
                        if (this.currentSegment = e,
                        this.clearTimer(),
                        this.timer || (this.trequest = performance.now(),
                        this.timer = setInterval(this.doCheck, CHECK_LEVEL_FREQ)),
                        !this.bwEstimator) {
                            var i = this.parent.isLive ? n.abrEwmaFastLive : n.abrEwmaFastVoD
                              , r = this.parent.isLive ? n.abrEwmaSlowLive : n.abrEwmaSlowVoD;
                            this.bwEstimator = new EwmaBandWidthEstimator(r,i,n.abrEwmaDefaultEstimate)
                        }
                        e.once("loaded", function() {
                            var n = "p2p" === t.config.networkAgent ? null : getMatchedEntry(e.url, "xmlhttprequest");
                            t._nextForceLevel = -1;
                            var i;
                            i = n && n.transferSize ? {
                                total: n.transferSize,
                                duration: n.duration
                            } : {
                                total: e.size,
                                duration: e.elapsed
                            },
                            t.nextState("segmentLoaded", e, i)
                        }),
                        e.once("error", function() {
                            t.nextState("segmentLoaded", e, {
                                total: t.downMonitor.loaded,
                                duration: performance.now() - t.trequest
                            })
                        })
                    }
                }, {
                    key: "onSegmentLoaded",
                    value: function(e, t) {
                        this.clearTimer(),
                        this.lastLoadedFragLevel = e.levelId,
                        t && this.bwEstimator && (logger.warn("字节数: ".concat(t.total / 1e3, "KB  \n        耗时:").concat(t.duration, " ms \n        速度: ").concat(t.total / t.duration * 1e3 / 1e6, " MB/s")),
                        this.bwEstimator.sample(t.duration, t.total))
                    }
                }, {
                    key: "doCheck",
                    value: function() {
                        var e = this.parent
                          , t = this.media
                          , n = this.currentSegment;
                        if (n && t && t.currentTime && !t.seeking && 0 !== t.playbackRate && !n.lowestLevel && n.levelId !== e.minAutoLevel) {
                            var i = performance.now() - this.trequest
                              , r = Math.abs(this.media.playbackRate);
                            if (i > n.duration * REQUEST_DELAY_THRESHOLD / r) {
                                var a = this.downMonitor
                                  , o = a.total
                                  , s = a.loaded
                                  , l = Math.max(1, 1e3 * s / i)
                                  , u = (o - s) / l
                                  , d = templateBufferInfo(t.buffered).fillGap(.5)
                                  , c = d.getIndicator(t.currentTime, this.config.gapTolerance).bufferLength / r
                                  , h = (s / o * 100).toFixed(2);
                                logger.log("当前分片下载进度", "".concat(h, "%"));
                                var p = c < this.config.maxBufferLength / 2 / r;
                                if (u >= c || p && u / c > .3) {
                                    if (logger.warn("loadRate: ".concat(l, "B/s, 当前分片下载完还需的时间: ").concat(u, ",还能播放的buffer时长: ").concat(c)),
                                    this.bwEstimator.sample(i, s),
                                    this.nextAutoLevel = this.getMatchedLevel(n, e, u, c, l),
                                    h > LOAD_CONTINUE_THRESHOLD)
                                        return void logger.log("继续下载,下个分片切level");
                                    (this.parent.isLive || n.errorCount >= 2) && (logger.log("当前level abort次数过多"),
                                    this.nextAutoLevel = Math.max(this.nextAutoLevel - 1, 1)),
                                    logger.log("abort 当前请求,强制切换level", this.nextAutoLevel),
                                    n.abort(AbortError.ForAbrLevelChange, this.dataService),
                                    this.clearTimer()
                                }
                            } else
                                this.cpuPeak.peak && (logger.log("cpu负载过重, abort 当前请求,强制切换level"),
                                n.abort(AbortError.ForAbrLevelChange, this.dataService),
                                this.clearTimer())
                        }
                    }
                }, {
                    key: "getMatchedLevel",
                    value: function(e, t, n, i, r) {
                        var a, o, s = t.minAutoLevel, l = t.maxAutoLevel, u = t.levels, d = this.parent.isLive;
                        for (o = e.levelId; o >= 1; o--) {
                            var c = Math.min(Math.max(l - o, 0), l - 1)
                              , h = u[c].realBitrate ? Math.max(u[c].realBitrate, u[c].bandwidth) : u[c].bandwidth;
                            if (a = e.duration * h / (8 * (d ? .6 : .8) * r),
                            a / i <= d ? .5 : .8)
                                break
                        }
                        return a < n ? o || s : s
                    }
                }, {
                    key: "_findBestLevel",
                    value: function(e, t, n, i, r, a, o, s, l, u) {
                        for (var d = r; d >= i; d--) {
                            var c = l[d - 1];
                            if (c) {
                                var h = (c.details,
                                t)
                                  , p = void 0;
                                if (d <= e)
                                    p = o * n;
                                else {
                                    p = (!this.parent.isLive && a > u / 3 ? 1 : .8) * s * n
                                }
                                var f = r - d
                                  , m = l[f].realBitrate ? Math.max(l[f].realBitrate, l[f].bandwidth) : l[f].bandwidth
                                  , y = m * h / p;
                                if (p > m && (!c.error || 0 !== c.error) && y < (a || h))
                                    return d
                            }
                        }
                        return -1
                    }
                }, {
                    key: "nextAutoLevel",
                    set: function(e) {
                        this._nextForceLevel = e
                    },
                    get: function() {
                        var e = this._nextForceLevel;
                        this.bwEstimator;
                        if (-1 !== this._nextForceLevel)
                            return this.cpuPeak.reset(),
                            e;
                        var t = this._nextABRAutoLevel;
                        return this.cpuPeak.peak && (t = Math.max(1, t - 1),
                        this.parent.maxAutoLevel = this.parent.getStreamTypeByLevelId(t),
                        logger.warn("cpu负载过高,强制降级到:", t),
                        this.cpuPeak.reset(),
                        this.cpuPeak.incThreshold(1)),
                        t
                    }
                }, {
                    key: "_nextABRAutoLevel",
                    get: function() {
                        var e = this.config
                          , t = this.parent
                          , n = t.maxAutoLevel
                          , i = t.levels
                          , r = t.minAutoLevel
                          , a = this.media
                          , o = this.lastLoadedFragLevel
                          , s = t.playList.segmentDuration || 0
                          , l = a && 0 !== a.playbackRate ? Math.abs(a.playbackRate) : 1
                          , u = this.bwEstimator ? this.bwEstimator.getEstimate() : e.abrEwmaDefaultEstimate
                          , d = templateBufferInfo(a.buffered).fillGap(.5)
                          , c = d.getIndicator(a.currentTime, e.gapTolerance).bufferLength / l
                          , h = this.config.maxBufferLength / l
                          , p = this._findBestLevel(o, s, u, r, n, c, e.abrBandWidthFactor, e.abrBandWidthUpFactor, i, h);
                        return p >= 0 ? p : 1
                    }
                }]),
                t
            }(StateMachine)
              , MediaSource = window && (window.MediaSource || window.WebKitMediaSource)
              , MediaController = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaController")),
                    i.mediaElement = e,
                    i.core = n,
                    i.dataPipeLine = n.dataPipeLine,
                    i.drmController = new DrmController(e,assertThisInitialized(assertThisInitialized(i))),
                    i.abrController = new ABRController(e,assertThisInitialized(assertThisInitialized(i))),
                    i._errorCount = 0,
                    i._multiM3u8 = !1,
                    i.lastBufferd = new BufferInfo$1([]),
                    i.lastLevel = null,
                    i.segmentAppendedHandler = i.segmentAppendedHandler.bind(assertThisInitialized(assertThisInitialized(i))),
                    i.core.config.h265 ? i._setupH265() : i._setup(),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "_setup",
                    value: function() {
                        this.mediaSource = new MediaSource,
                        this.objectUrl = null,
                        this.objectUrl = window.URL.createObjectURL(this.mediaSource),
                        this.mediaElement.src = this.objectUrl,
                        this.nextStateBy(this.drmController, "error", "error"),
                        this.nextStateByOnce(this.mediaSource, "sourceopen", "sourceReady"),
                        this.nextStateBy(this.mediaSource, "error", "error"),
                        this.nextStateAfter("sourceReady+playListLoaded", "mediaReady")
                    }
                }, {
                    key: "_setupH265",
                    value: function() {
                        var e = this;
                        this.nextStateByOnce(this.mediaElement, "ready", "sourceReady"),
                        this.mediaElement.on("h265Error", function(t) {
                            e.nextState("error", new H265Error(H265Error.H265Error,t.type,t.code,t.message))
                        }),
                        this.nextStateAfter("sourceReady+playListLoaded", "h265Ready"),
                        this.mediaElement.ready && this.nextStateAfter("playListLoaded", "h265Ready")
                    }
                }, {
                    key: "onReCreateMediaSource",
                    value: function(e) {
                        var t = this;
                        this.currentLoadSegment && this.currentLoadSegment.abort(AbortError.Invalid, this.core.dataService),
                        this.reCreateMsTimer = setInterval(function() {
                            if (t._getRestBuffer() <= .5) {
                                clearInterval(t.reCreateMsTimer);
                                var n = t.mediaElement.currentTime;
                                URL.revokeObjectURL(t.objectUrl),
                                t.objectUrl = null,
                                t.mediaElement.removeAttribute("src"),
                                t.mediaElement.load(),
                                t.mediaBuffer && (t.mediaBuffer.nextState("end"),
                                t.mediaBuffer = null),
                                t.mediaSource = new MediaSource,
                                t.objectUrl = window.URL.createObjectURL(t.mediaSource),
                                t.mediaElement.src = t.objectUrl,
                                t.dataPipeLine.resetInitSegment(),
                                t.dataPipeLine.resetLastSegment(),
                                t.nextStateByOnce(t.mediaSource, "sourceopen", "mediaReady"),
                                t.nextStateBy(t.mediaSource, "error", "error");
                                var i = t.playList.getSegmentById(e);
                                i && i.setState(SegmentState.INIT),
                                i && i.emit("appended"),
                                t.flySourceBuffer.reset(),
                                t.mediaElement.currentTime = n,
                                logger.log("recreate seek to :".concat(t.mediaElement.currentTime))
                            }
                        }, 50)
                    }
                }, {
                    key: "onLoadPlayList",
                    value: function(e) {
                        var t = this;
                        this.playList && (this.core.dataService.abortAllPlaylistRequest(),
                        this.playList.off()),
                        this.playList = new PlayList(e,this.core.dataService,this.core.config),
                        this.nextStateBy(this.playList, "loaded", "playListLoaded"),
                        this.playList.on("error", function(e) {
                            t.isLive && t.emit("m3u8Flushed", !1),
                            t.nextState("error", e)
                        })
                    }
                }, {
                    key: "onMediaReady",
                    value: function() {
                        var e = this;
                        this.mediaSource.duration = this.playList.getTotalDuration(),
                        this.mediaBuffer = new MediaBuffer(this.mediaSource,this),
                        this.flySourceBuffer = new FlySourceBuffer(this),
                        this.core.mediaMonitor.mountFlyBuffer(this.flySourceBuffer),
                        this.syncState(this.mediaBuffer, "initMp4Appended", "initMp4Appended"),
                        this.syncState(this.mediaBuffer, "error", "error"),
                        this.nextStateByOnce(this.mediaBuffer, "createMs", "reCreateMediaSource"),
                        this.core.emit(CoreXEvents.LOADED, CoreXEvents.LOADED),
                        this.mediaBuffer.on("appended", this.segmentAppendedHandler),
                        this.mediaBuffer.on("idle", function() {
                            e.checkEos()
                        }),
                        this.mediaBuffer.on("bufferFlushed", function(t) {
                            e.lastBufferd = new BufferInfo$1(e.mediaElement.buffered),
                            e.playList.resetSegmentsByRange(0, t + 1)
                        }),
                        this.core.emit(CoreXEvents.READY),
                        this.playList.isFmp4() ? this.nextState("loadInitMp4") : this.nextState("idle")
                    }
                }, {
                    key: "segmentAppendedHandler",
                    value: function(e) {
                        this.removeSegmentFromStore(e.id),
                        this.core.emit(CoreXEvents.FRAG_BUFFERED, CoreXEvents.FRAG_BUFFERED, e),
                        this.lastSegment || this.core.emit(CoreXEvents.READY, CoreXEvents.READY, e),
                        this.lastSegment = e,
                        this._errorCount = 0;
                        var t = new BufferInfo$1(this.mediaElement.buffered)
                          , n = t.reduce(this.lastBufferd).a;
                        logger.log("buffer新增:", n.toString(), "segment[", e.start, e.end, "]"),
                        (!n.Length || n.Length < .1) && (e.reloadCount = 0),
                        this.lastBufferd = t,
                        0 == e.id && 0 == this.mediaElement.currentTime && n.Start && n.Start[0] > .08 && (this.mediaElement.currentTime = n.Start[0] + .01)
                    }
                }, {
                    key: "onH265Ready",
                    value: function() {
                        var e = this;
                        this.mediaElement.duration = this.playList.getTotalDuration(),
                        this.flySourceBuffer = new FlySourceBuffer(this),
                        this.mediaBuffer = new H265Buffer(this.mediaElement,this),
                        this.core.mediaMonitor.mountFlyBuffer(this.flySourceBuffer),
                        this.core.emit(CoreXEvents.LOADED, CoreXEvents.LOADED),
                        this.mediaBuffer.on("appended", this.segmentAppendedHandler),
                        this.mediaBuffer.on("bufferFlushed", function(t) {
                            e.lastBufferd = new BufferInfo$1(e.mediaElement.buffered),
                            e.playList.resetSegmentsByRange(0, t + 1)
                        }),
                        this.nextState("idle"),
                        this.mediaElement.error && (this.mediaElement.currentTime = this.mediaElement.currentTime)
                    }
                }, {
                    key: "onPlayListLoaded",
                    value: function(e) {
                        var t = this.core
                          , n = t.config
                          , i = t.dataService
                          , r = t.mediaMonitor
                          , a = e.levelsInfo
                          , o = e.url
                          , s = e.currentLevel;
                        n.bitRate = -1,
                        "MASTER" === e.plType && (n.abrEwmaDefaultEstimate = caclDefaultSpeed() * n.abrInitBandWidthFactor || n.abrEwmaDefaultEstimate,
                        n.abrEnable = !0),
                        this.drmController.init(this.tracks),
                        this.core.emit(CoreXEvents.MANIFEST_PARSED, {
                            levels: a.levels,
                            currentLevel: s,
                            url: o
                        }),
                        this.core.emit(CoreXEvents.MANIFEST_LOADED, {
                            levels: a.levels,
                            currentLevel: s,
                            url: o
                        }),
                        r.mountPlayList(e),
                        n.p2p && e.currentLevel && i.initP2P(e.currentLevel.details.segments, e.currentLevel.url)
                    }
                }, {
                    key: "onSegmentLoading",
                    value: function(e) {
                        var t = this
                          , n = this.core
                          , i = n.config
                          , r = n.dataService;
                        this.currentLoadSegment = e,
                        e.load(r, this.playList, i),
                        e.once("loaded", function(e) {
                            t.flySourceBuffer && t.flySourceBuffer.storeSegment(e),
                            t.currentLoadSegment = null,
                            t.nextState("segmentLoaded")
                        }),
                        e.once("error", function(n) {
                            e.off("loaded"),
                            e.setState(SegmentState.INIT),
                            t.nextState("error", n),
                            n.is && !n.is(SegmentError) && t.removeSegmentFromStore(e.id)
                        })
                    }
                }, {
                    key: "onUpdateFmp4SegBound",
                    value: function(e) {
                        var t = this.mediaBuffer.videoIncreased;
                        if (t) {
                            var n = t.ranges[0] && t.ranges[0][0]
                              , i = t.ranges[0] && t.ranges[0][1];
                            Number.isFinite(n) && Number.isFinite(i) && e.updateSegBound(n, i, !0) && this.playList.updateRestSegmentsOffset(e)
                        }
                    }
                }, {
                    key: "onLoadInitMp4",
                    value: function() {
                        var e = this
                          , t = this.playList.getInitSegment();
                        t.loadInitMp4(this.core.dataService, this.playList, this.core.config),
                        t.on("loaded", function(t) {
                            e.mediaBuffer && e.mediaBuffer.appendSegment(t)
                        }),
                        this.nextStateByOnce(t, "error", "error").check()
                    }
                }, {
                    key: "onInitMp4Appended",
                    value: function() {
                        this.core.config.isDrm ? this.nextStateBy(this.drmController, "sessionUpdated", "idle") : this.nextState("idle")
                    }
                }, {
                    key: "onSegmentLoaded",
                    value: function() {
                        this.core.config.abrEnable ? this.nextState("levelReadyCheck") : this.nextState("idle")
                    }
                }, {
                    key: "onIdle",
                    value: function() {
                        logger.groupEnd()
                    }
                }, {
                    key: "onEnd",
                    value: function() {
                        logger.log("mediaController destroy..."),
                        this._errorCount = 0,
                        this.core.dataService.abortAllSegmentRequest(AbortError.Invalid),
                        this.core.dataService.setLevelIndicator(0),
                        this.mediaSource && "open" === this.mediaSource.readyState && this.closeStream(),
                        this.objectUrl ? (URL.revokeObjectURL(this.objectUrl),
                        this.objectUrl = null,
                        this.mediaElement.removeAttribute("src"),
                        this.mediaElement.load()) : this.mediaElement.destroy(),
                        this.drmController && (this.drmController.nextState("end"),
                        this.drmController = null),
                        this.mediaBuffer && (this.mediaBuffer.nextState("end"),
                        this.mediaBuffer = null),
                        this.flySourceBuffer && this.flySourceBuffer.destroy(),
                        this.dataPipeLine.nextState("end"),
                        this.abrController.destroy(),
                        this.destroy(),
                        this.lastSegment = null
                    }
                }, {
                    key: "onSelectStream",
                    value: function(e, t) {
                        var n = this.core.dataService
                          , i = this.mediaElement.currentTime
                          , r = this.playList.locateSegment(i);
                        logger.log("currentSegment:", r.id, r.state),
                        r.state <= SegmentState.LOADED ? (n.abortAllSegmentRequest(AbortError.Invalid),
                        this._switchStream(e, t)) : r.state == SegmentState.APPENDING ? this._switchStream(e, t, r) : i + 1 <= r.end ? (n.abortAllSegmentRequest(AbortError.Invalid),
                        this._switchStream(e, t, r)) : (r = this.playList.getSegmentById(r.id + 1),
                        r.state == SegmentState.INIT ? (n.abortAllSegmentRequest(AbortError.Invalid),
                        this.nextState("segmentLoading", r),
                        this._switchStream(e, t, r)) : (r.state,
                        SegmentState.APPENDED,
                        this._switchStream(e, t, r)))
                    }
                }, {
                    key: "onReloadPlayList",
                    value: function(e) {
                        var t = this
                          , n = this.core.dataService;
                        this.lastSegment = null,
                        n.abortAllSegmentRequest(AbortError.Invalid),
                        n.setLevelIndicator(0),
                        n.abortAllPlaylistRequest(),
                        this.dataPipeLine.resetInitSegment(),
                        this.dataPipeLine.resetLastSegment(),
                        this.dataPipeLine.abortAllProcessingSegment(),
                        this.currentLoadSegment && this.currentLoadSegment.abort(AbortError.Invalid, n),
                        this.playList.currentLevel && this.playList.currentLevel.details && (this.lastLevel = this.playList.currentLevel),
                        this.playList.off(),
                        this.playList = new PlayList(e,n,this.core.config),
                        this.nextStateBy(this.playList, "loaded", "playListReloaded"),
                        this.playList.on("error", function(e) {
                            t.isLive && t.emit("m3u8Flushed", !1),
                            t.nextState("error", e)
                        })
                    }
                }, {
                    key: "onPlayListReloaded",
                    value: function(e, t) {
                        var n = this
                          , i = this.core
                          , r = i.config
                          , a = i.dataService;
                        r.p2p && e.currentLevel && a.initP2P(e.currentLevel.details.segments, e.currentLevel.url),
                        r.bitRate = -1;
                        var o, s;
                        if (this.lastLevel && this.lastLevel.details && (o = this.lastLevel.details.live),
                        s = e.isLive,
                        o && s && e.levels.filter(function(e) {
                            return e.details
                        }).forEach(function(e) {
                            n.playList.syncTwoLevelDetails(n.lastLevel, e)
                        }),
                        this.playList.clearSegmentsStatus(),
                        this.core.mediaMonitor.mountPlayList(this.playList),
                        t) {
                            this.mediaBuffer.removeBuffer(t.end, Number.POSITIVE_INFINITY);
                            var l = this.playList.getSegment(t.end, t.end, null, r.maxFragLookupTolerance);
                            this.nextState("segmentLoading", l)
                        } else {
                            var u = e.url
                              , d = e.currentLevel
                              , c = e.levelsInfo;
                            this.mediaBuffer.once("idle", function() {
                                n.mediaBuffer.changeDuration(e.getTotalDuration(), !0),
                                n.core.emit(CoreXEvents.READY)
                            }),
                            this.core.emit(CoreXEvents.MANIFEST_LOADED, {
                                levels: c.levels,
                                currentLevel: d,
                                url: u
                            }),
                            this.core.emit(CoreXEvents.MANIFEST_PARSED, {
                                levels: c.levels,
                                currentLevel: d,
                                url: u
                            }),
                            this.mediaBuffer.resetInit && this.mediaBuffer.resetInit(),
                            this.mediaBuffer.removeBuffer(0, Number.POSITIVE_INFINITY).then(function() {
                                n.playList.isFmp4() ? (n.drmController.bindEncryptedOnce(),
                                n.nextState("loadInitMp4")) : (n.nextState("idle"),
                                !o && s && (n.mediaElement.currentTime = 0,
                                n.emit("startFlushM3u8Task")),
                                o && !s && (n.mediaElement.currentTime = 0))
                            }),
                            logger.log("current time:", this.mediaElement.currentTime),
                            this.flySourceBuffer.reset(),
                            this.once("segmentLoaded", function() {
                                n.mediaElement.currentTime += .2
                            })
                        }
                    }
                }, {
                    key: "onLevelReadyCheck",
                    value: function() {
                        var e = this
                          , t = this.core
                          , n = t.config
                          , i = t.dataService;
                        this.nextAutoLevel !== this.playList.currentLevelId ? this.nextStateWhen(this.playList.loadNextLevelStream(this.nextAutoLevel), function() {
                            if (n.p2p && e.playList.currentLevel) {
                                i.initP2P(e.playList.currentLevel.details.segments, e.playList.currentLevel.url);
                                var t = new BufferInfo$1(e.mediaElement.buffered)
                                  , r = t.getIndicator(e.mediaElement.currentTime, n.gapTolerance);
                                i.setLevelIndicator(r.bufferEnd)
                            }
                            e.nextState("idle"),
                            e.playList.isLive || e.playList.preloadLevel()
                        }) : (this.nextState("idle"),
                        this.playList.isLive || this.playList.preloadLevel())
                    }
                }, {
                    key: "_getRestBuffer",
                    value: function() {
                        return new BufferInfo$1(this.mediaElement.buffered).getIndicator(this.mediaElement.currentTime, this.core.config.gapTolerance).bufferLength
                    }
                }, {
                    key: "_errorMatchCode",
                    value: function(e, t) {
                        return e.is && e.is(SegmentError) && e.response && e.response.code === t
                    }
                }, {
                    key: "onError",
                    value: function(e) {
                        var t = this.core.config;
                        if (this.appendPlayListStatus = !1,
                        this._getRestBuffer() <= 1 && (this._errorMatchCode(e, 555) && (t.isDrm ? e = new DrmError(objectSpread({}, DrmError.FragLoadError, {
                            response: e.response
                        })) : e.severity = ErrorSeverity.FATAL),
                        this._errorMatchCode(e, 403) && (e.severity = ErrorSeverity.FATAL)),
                        e.is && e.is(BufferError.BufferAppendError) && (t.maxBufferSize = Math.max(10485760, t.maxBufferSize - 10485760)),
                        e.severity === ErrorSeverity.FATAL)
                            return void (this._multiM3u8 && e.is && e.is(PlayListError) ? this.nextState("firstPlayloadLoadError") : (e.fatal = !0,
                            this.core.fatalError(e),
                            dumpError(e)));
                        if (e.severity === ErrorSeverity.CRITICAL) {
                            if (this._errorCount >= t.maxErrorRetryCount && this._getRestBuffer() <= 1)
                                return e.fatal = !0,
                                this._errorCount = 0,
                                this.core.fatalError(e),
                                void dumpError(e);
                            this._errorCount++,
                            0 == this.mediaElement.currentTime && this._errorCount++
                        }
                        var n = t.mediaRetryDelay;
                        0 == this.mediaElement.currentTime && 0 == this.mediaElement.buffered.length ? n = 0 : n *= this.mediaElement.paused ? 3 : 1,
                        e.is && e.is(SegmentError.AbortForLevelChange) ? this.nextState("levelReadyCheck") : this.nextStateDelayed("idle", n)
                    }
                }, {
                    key: "checkEos",
                    value: function() {
                        "open" == this.mediaSource.readyState && this.lastSegment.isLast && this.mediaSource.endOfStream()
                    }
                }, {
                    key: "closeStream",
                    value: function() {
                        if ("open" == this.mediaSource.readyState)
                            try {
                                this.mediaSource.endOfStream()
                            } catch (e) {
                                console.error(e)
                            }
                    }
                }, {
                    key: "appendPlayList",
                    value: function(e) {
                        var t = this;
                        this.playList.on("nextPlaylistLoaded", function() {
                            t.appendPlayListStatus = !1,
                            t.mediaBuffer.once("idle", function() {
                                t.mediaBuffer.changeDuration(t.playList.getTotalDuration())
                            })
                        }),
                        this.appendPlayListStatus = !0,
                        this.playList.appendPlayList(e)
                    }
                }, {
                    key: "_resolveSegmentAppendWindow",
                    value: function(e) {
                        var t = this.playList.getSegmentById(e.id + 1);
                        t && t.state == SegmentState.APPENDED && e.videoInfo.timeline.end > t.start && (e.appendWindowEnd = t.start)
                    }
                }, {
                    key: "_switchStream",
                    value: function(e, t, n) {
                        logger.log("_switchStream"),
                        this.dataPipeLine.abortAllProcessingSegment(),
                        this.dataPipeLine.resetInitSegment(),
                        this.dataPipeLine.resetLastSegment(),
                        this.nextStateWhen(this.playList.selectStream(e, t, "MANUAL"), "playListReloaded", n)
                    }
                }, {
                    key: "drainSegment",
                    value: function(e) {
                        var t = this;
                        if (this.flySourceBuffer && (!this.core.config.isDrm || this.drmController.isInState("sessionUpdated"))) {
                            var n = this.flySourceBuffer.drain(e.id);
                            if (n || (e.audioStart >= 0 && e.audioEnd >= 0 ? n = this.flySourceBuffer.drainAudio(e) : e.state === SegmentState.LOADED && e.data && (n = e),
                            n))
                                return logger.log("============> do Mux and Append", n),
                                this.core.config.h265 ? (logger.log("mux -> id: ".concat(n.id, " , levelId: ").concat(n.levelId, " , [").concat(n.start, " , ").concat(n.end, "]")),
                                this.mediaBuffer.appendSegment(n),
                                n) : this.dataPipeLine.push(n) ? (logger.log("mux -> id: ".concat(n.id, " , levelId: ").concat(n.levelId, " , [").concat(n.start, " , ").concat(n.end, "]")),
                                n.once("muxed", function(e) {
                                    if (t.core.emit(CoreXEvents.FRAG_PARSING_DATA, CoreXEvents.FRAG_PARSING_DATA, {
                                        fps: e.videoInfo && e.videoInfo.fps,
                                        info: e.videoInfo
                                    }),
                                    t.core.mediaMonitor.mountSegment(e),
                                    !t.playList.isFmp4()) {
                                        var i = e.adjustTimeline(t.core.config);
                                        t._resolveSegmentAppendWindow(e),
                                        i && (t.playList.updateRestSegmentsOffset(e),
                                        t.playList.isLive && t.playList.updateTotalDuration())
                                    }
                                    t.mediaBuffer.appendSegment(n)
                                }),
                                n) : void 0
                        }
                    }
                }, {
                    key: "findFistSegmentLargerThanCurrentTime",
                    value: function(e) {
                        return this.flySourceBuffer.findFistSegmentLargerThanCurrentTime(e)
                    }
                }, {
                    key: "removeSegmentFromStore",
                    value: function(e) {
                        this.flySourceBuffer.removeSegment(e)
                    }
                }, {
                    key: "flushM3u8",
                    value: function() {
                        var e = this;
                        this.playList.flushM3u8(this.playList.currentLevelId),
                        this.playList.once("m3u8Flushed", function(t) {
                            e.emit("m3u8Flushed", t),
                            e.liveCanPlay ? e.mediaBuffer.changeDuration(e.playList.getTotalDuration()) : setTimeout(function() {
                                e.flushM3u8()
                            }, 500)
                        })
                    }
                }, {
                    key: "setMultiM3u8",
                    value: function(e) {
                        this._multiM3u8 = e
                    }
                }, {
                    key: "getLevelIdByStreamType",
                    value: function(e) {
                        return this.playList.getLevelIdByStreamType(e)
                    }
                }, {
                    key: "getStreamTypeByLevelId",
                    value: function(e) {
                        return this.playList.getStreamTypeByLevelId(e)
                    }
                }, {
                    key: "getLiveFlushInteval",
                    value: function(e) {
                        return this.playList.liveFlushInterval(e)
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.currentState = "init"
                    }
                }, {
                    key: "flyBuffered",
                    get: function() {
                        return this.flySourceBuffer && this.flySourceBuffer.flyBuffered
                    }
                }, {
                    key: "flyAudioBuffered",
                    get: function() {
                        return this.flySourceBuffer && this.flySourceBuffer.flyAudioBuffered
                    }
                }, {
                    key: "appendPlStatus",
                    get: function() {
                        return this.appendPlayListStatus
                    }
                }, {
                    key: "nextAutoLevel",
                    get: function() {
                        return this.core.config.abrEnable ? this.abrController.nextAutoLevel : this.playList.currentLevelId
                    }
                }, {
                    key: "tracks",
                    get: function() {
                        return this.playList.getTracks()
                    }
                }, {
                    key: "levels",
                    get: function() {
                        return this.playList.levels
                    }
                }, {
                    key: "isOpen",
                    get: function() {
                        return "open" === this.mediaSource.readyState
                    }
                }, {
                    key: "maxAutoLevel",
                    get: function() {
                        return this.playList.maxAutoLevel
                    },
                    set: function(e) {
                        this.playList.maxAutoLevel = this.getLevelIdByStreamType(e) || this.maxAutoLevel
                    }
                }, {
                    key: "minAutoLevel",
                    get: function() {
                        return this.playList.minAutoLevel
                    },
                    set: function(e) {
                        this.playList.minAutoLevel = this.getLevelIdByStreamType(e) || this.minAutoLevel
                    }
                }, {
                    key: "initPlayAutoLevel",
                    set: function(e) {
                        this.playList.initPlayAutoLevelStream = e
                    }
                }, {
                    key: "isFmp4AndSingle",
                    get: function() {
                        return this.playList.isFmp4() && !this.playList.isMultiTrack
                    }
                }, {
                    key: "isFmp4",
                    get: function() {
                        return this.playList.isFmp4()
                    }
                }, {
                    key: "segmentDuration",
                    get: function() {
                        return this.playList.segmentDuration
                    }
                }, {
                    key: "sourceBuffers",
                    get: function() {
                        return {
                            video: this.mediaBuffer && this.mediaBuffer.videoSourceBuffer || this.mediaElement,
                            audio: this.mediaBuffer && this.mediaBuffer.audioSourceBuffer || this.mediaElement
                        }
                    }
                }, {
                    key: "isLive",
                    get: function() {
                        return this.playList.isLive
                    }
                }, {
                    key: "liveCanPlay",
                    get: function() {
                        return this.playList.getSegments().length >= this.core.config.liveCanPlayMinSegmentsCount
                    }
                }, {
                    key: "slidePosition",
                    get: function() {
                        return this.playList.slidePosition
                    }
                }, {
                    key: "liveSyncPostion",
                    get: function() {
                        return Math.max(this.slidePosition, this.playList.liveSyncPostion)
                    }
                }]),
                t
            }(StateMachine)
              , FpDrmController = function(e) {
                function t(e, n, i) {
                    var r;
                    return classCallCheck(this, t),
                    r = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "FpDrmController")),
                    r.mediaElement = e,
                    r.dataService = n,
                    r.config = i,
                    r.extractContentId = r.extractContentId.bind(assertThisInitialized(assertThisInitialized(r))),
                    r.onCreateMediaKey = r.onCreateMediaKey.bind(assertThisInitialized(assertThisInitialized(r))),
                    r
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "init",
                    value: function() {
                        this.mediaElement.addEventListener("webkitneedkey", this.onCreateMediaKey)
                    }
                }, {
                    key: "onCreateMediaKey",
                    value: function(e) {
                        var t = this;
                        window.WebKitMediaKeys ? this._loadCertificate().then(function(n) {
                            t.onMediaKeySysAccess(n, e)
                        }).catch(function(e) {
                            var n = 6e4 + (e.states || 0);
                            DrmError.LicenseRequestError.code = n,
                            t.emit("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                response: e && e.response
                            }),n,t.config.licenseServer,e.msg), t)
                        }) : this.emit("error", new DrmError(DrmError.NotSupportDrmError), this)
                    }
                }, {
                    key: "onMediaKeySysAccess",
                    value: function(e, t) {
                        var n = t.target
                          , i = t.initData
                          , r = this.extractContentId(i);
                        if (this.certificate = new Uint8Array(convertStrToBuffer(window.atob(e.data))),
                        i = this._concatInitDataIdAndCertificate(i, r, this.certificate),
                        this.mediaKey)
                            this.nextState("sessionConnect", i, r);
                        else if (WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0", "video/mp4")) {
                            n.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")),
                            this.mediaKey = n.webkitKeys,
                            this.nextState("sessionConnect", i, r)
                        } else
                            this.emit("error", new DrmError(DrmError.RequestKeySysError), this)
                    }
                }, {
                    key: "onSessionConnect",
                    value: function(e, t) {
                        var n = this.mediaKey.createSession("video/mp4", e);
                        n ? (n.contentId = t,
                        this.nextStateBy(n, "webkitkeymessage", "licenseRequest"),
                        this.nextStateBy(n, "webkitkeyadded", "keyadded"),
                        this.nextStateBy(n, "webkitkeyerror", "keyerror")) : this.emit("error", new DrmError(DrmError.setMediaKeyError,"create session error"), this)
                    }
                }, {
                    key: "onLicenseRequest",
                    value: function(e) {
                        var t = this
                          , n = e.target
                          , i = e.message
                          , r = this.config.licenseServer
                          , a = {
                            utdid: this.config.uid,
                            licenseRequest: encodeURIComponent(window.btoa(convertBufferToStr(i))),
                            drmType: "fairplay"
                        }
                          , o = this._requestparam(r, a);
                        this.dataService.requestLicence(o.host, o.body).then(function(e) {
                            n.update(base64DecodeUint8Array(e.data))
                        }).catch(function(e) {
                            if (e.states) {
                                var n = 6e4 + (e.states || 0);
                                DrmError.LicenseRequestError.code = n,
                                t.emit("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                    response: e && e.response
                                }),n,t.config.licenseServer,e.msg), t)
                            } else
                                t.emit("error", new DrmError(DrmError.UpdateSessionError), t)
                        })
                    }
                }, {
                    key: "onKeyadded",
                    value: function() {
                        logger.log("Decryption key was added to session."),
                        this.mediaElement.play()
                    }
                }, {
                    key: "onKeyerror",
                    value: function() {
                        this.emit("error", new DrmError(DrmError.UpdateSessionError,"webkitkeyerror"), this)
                    }
                }, {
                    key: "_loadCertificate",
                    value: function() {
                        var e = this.config.licenseServer
                          , t = {
                            licenseRequest: encodeURIComponent("CAQ="),
                            utdid: this.config.uid,
                            drmType: "fairplay"
                        }
                          , n = this._requestparam(e, t);
                        return this.dataService.requestLicence(n.host, n.body)
                    }
                }, {
                    key: "extractContentId",
                    value: function(e) {
                        var t = arrayToString(e.slice(4, e.length))
                          , n = document.createElement("a");
                        return n.href = t,
                        n.hostname
                    }
                }, {
                    key: "_concatInitDataIdAndCertificate",
                    value: function(e, t, n) {
                        if ("string" == typeof t) {
                            t = stringToArray(t);
                            var i = 0
                              , r = new ArrayBuffer(e.byteLength + 4 + t.byteLength + 4 + n.byteLength)
                              , a = new DataView(r);
                            new Uint8Array(r,i,e.byteLength).set(e),
                            i += e.byteLength,
                            a.setUint32(i, t.byteLength, !0),
                            i += 4;
                            var o = new Uint16Array(r,i,t.length);
                            o.set(t),
                            i += o.byteLength,
                            a.setUint32(i, n.byteLength, !0),
                            i += 4;
                            return new Uint8Array(r,i,n.byteLength).set(n),
                            new Uint8Array(r,0,r.byteLength)
                        }
                    }
                }, {
                    key: "_parseUrl",
                    value: function(e) {
                        var t = {}
                          , n = e.split("?")[0]
                          , i = e.split("?")[1];
                        return i ? (i.split("&").forEach(function(e) {
                            var n = e.replace("=", "|").split("|")
                              , i = slicedToArray(n, 2)
                              , r = i[0]
                              , a = i[1];
                            t[r] = a
                        }),
                        {
                            host: n,
                            params: t
                        }) : {
                            host: n,
                            params: {}
                        }
                    }
                }, {
                    key: "_requestparam",
                    value: function(e, t) {
                        var n = this._parseUrl(e)
                          , i = Object.assign({}, n.params, t);
                        return {
                            host: n.host,
                            body: i
                        }
                    }
                }]),
                t
            }(StateMachine)
              , Driver = function() {
                function e(t) {
                    classCallCheck(this, e),
                    this._interval = t,
                    this._tasks = [],
                    this._stoped = !1,
                    this._disabled = !1
                }
                return createClass(e, [{
                    key: "disableTask",
                    value: function(e) {
                        var t = this._tasks.find(function(t) {
                            return t.method == e
                        });
                        t && (t.disabled = !0)
                    }
                }, {
                    key: "disable",
                    value: function() {
                        this._disabled = !0
                    }
                }, {
                    key: "enable",
                    value: function() {
                        this._disabled = !1
                    }
                }, {
                    key: "enableTask",
                    value: function(e, t) {
                        var n = this._tasks.find(function(t) {
                            return t.method == e
                        });
                        n && (delete n.disabled,
                        t && this._doTask(n))
                    }
                }, {
                    key: "addTask",
                    value: function(e, t) {
                        var n = 0 == this._tasks.length
                          , i = this._tasks.filter(function(t) {
                            return t.method === e
                        })[0];
                        i ? i._nextTickCalled || (i.needTick = !0) : (i = {
                            method: e,
                            needTick: !0,
                            ts: 0
                        },
                        this._tasks.push(i)),
                        n ? this.start(t) : t && this._doTask(i)
                    }
                }, {
                    key: "_pause",
                    value: function() {
                        clearInterval(this._intervalTimer),
                        this._intervalTimer = null
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this._paused = !0
                    }
                }, {
                    key: "stop",
                    value: function() {
                        clearInterval(this._intervalTimer),
                        this._intervalTimer = null,
                        this._tasks = [],
                        this._stoped = !0
                    }
                }, {
                    key: "start",
                    value: function(e) {
                        this._paused = !1,
                        this._stoped = !1,
                        this._intervalTimer || (this._intervalTimer = setInterval(this._doTick.bind(this), this._interval)),
                        e && this._doTick()
                    }
                }, {
                    key: "_doTick",
                    value: function() {
                        var e = this;
                        this._tasks.filter(function(t) {
                            return t.needTick && Date.now() - t.ts > .8 * e._interval && !t.disabled
                        }).forEach(function(t) {
                            e._doTask(t)
                        }),
                        this._paused && this.pause()
                    }
                }, {
                    key: "removeTask",
                    value: function(e) {
                        this._tasks = this._tasks.filter(function(t) {
                            return t.method != e
                        })
                    }
                }, {
                    key: "_doTask",
                    value: function(e) {
                        var t = this;
                        this._disabled || e.disabled || (e.needTick = !1,
                        this[e.method] && this[e.method].call(this, function(n) {
                            n && n.then ? (e._nextTickCalled = !0,
                            n.then(function() {
                                delete e._nextTickCalled,
                                e.needTick = !0,
                                e.ts = 0,
                                setTimeout(function() {
                                    t._stoped || t._doTask(e)
                                })
                            })) : e._nextTickCalled || (e.needTick = !0,
                            e.ts = Date.now(),
                            "number" == typeof n && (e.ts += n - t._interval))
                        }))
                    }
                }, {
                    key: "doTask",
                    value: function(e) {
                        var t = this._tasks.find(function(t) {
                            return t.method == e
                        });
                        t || (t = {
                            method: e,
                            needTick: !0,
                            ts: 0
                        },
                        this._tasks.push(t)),
                        this._doTask(t)
                    }
                }]),
                e
            }()
              , LOG_BLUE_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:#00cbff;"
              , LOG_ORANGE_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:rgb(251,176,54);"
              , LOG_RED_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:#f92672;"
              , Action = {
                PLAY: 0,
                PAUSE: 1,
                SEEK: 2,
                WAITING: 3,
                PLAYING: 4,
                ENDED: 5,
                ERROR: 6
            }
              , State = {
                INIT: 0,
                RISE: 1,
                DECLINE: 2,
                NC: 3
            }
              , BufferHealth = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    i.warningValue = e,
                    i.dangerValue = n,
                    i.reset(),
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "reset",
                    value: function() {
                        this.highWatermark = 0,
                        this.watermark = 0,
                        this.lastBufferLength = 0,
                        this.state = State.INIT,
                        this.watermarkState = State.INIT,
                        this.lastTime = -1,
                        this.alreadyWarning = !1
                    }
                }, {
                    key: "setBufferLength",
                    value: function(e, t) {
                        if (this.lastTime > 0 && (this.elapsed = Date.now() - this.lastTime),
                        this.lastTime = Date.now(),
                        e > this.lastBufferLength)
                            this.state = State.RISE,
                            this.alreadyWarning = !1;
                        else if (e < this.lastBufferLength) {
                            if (this.state === State.RISE) {
                                var n = this.lastBufferLength - this.watermark;
                                this.watermarkState = n > 0 ? State.RISE : State.DECLINE,
                                this.watermark = this.lastBufferLength,
                                this.watermark > this.highWatermark && (this.highWatermark = this.watermark)
                            }
                            this.state = State.DECLINE
                        }
                        this.state === State.DECLINE && !this.alreadyWarning && (Math.min(t, this.watermark) - e > this.warningValue && e <= 30 || e < this.dangerValue) && (this.emit("warning"),
                        this.alreadyWarning = !0),
                        this.lastBufferLength = e
                    }
                }, {
                    key: "reportScore",
                    value: function() {
                        this.emit("score", this.increased.reduce(function(e, t) {
                            return e + t
                        }, 0) / this.increased.length),
                        this.increased = []
                    }
                }]),
                t
            }(EventBus)
              , MediaDriver = function(e) {
                function t(e, n, i) {
                    var r;
                    return classCallCheck(this, t),
                    r = possibleConstructorReturn(this, getPrototypeOf(t).call(this, i.config.interval)),
                    r.mediaElement = e,
                    r.mediaController = n,
                    r.multiPlaylist = [],
                    r.core = i,
                    r.seekingTimer = null,
                    r.lagTimer = null,
                    r.videoBufferInfo = getBufferInfo(),
                    r.audioBufferInfo = getBufferInfo(),
                    r.seekFlag = 0,
                    r.switched = 0,
                    r.lastDiscontinuity = !1,
                    r.lastLevelId = -1,
                    r.startLoadPosition = -1 / 0,
                    r.bufferHealth = new BufferHealth(15,5),
                    r.bufferHealth.on("warning", function() {
                        var e = r.core
                          , t = e.config
                          , n = e.detector;
                        r.switched < 4 && t.domainSet.length > 0 && (t.switchDomain = !t.switchDomain,
                        r.switched++,
                        n.switched = r.switched,
                        console.warn("change domain"),
                        t.once("speedMap", function(e) {
                            var i = t.domainSet[(t.domainSet.indexOf(e.current) + 1) % 2];
                            n.record("switch", {
                                target: e.current,
                                from: i,
                                targetSpeed: e[e.current],
                                fromSpeed: e[i]
                            })
                        }))
                    }),
                    r.mediaController.on("startFlushM3u8Task", function() {
                        r.addTask("flushLiveM3u8", !1)
                    }),
                    r
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "_getCurrentTime",
                    value: function() {
                        return this.startLoadPosition !== -1 / 0 ? this.startLoadPosition : this.mediaElement.currentTime
                    }
                }, {
                    key: "setStartLoad",
                    value: function(e) {
                        e > 0 && (this.startLoadPosition = e)
                    }
                }, {
                    key: "resetStartLoad",
                    value: function() {
                        this.startLoadPosition = -1 / 0
                    }
                }, {
                    key: "loadPlayList",
                    value: function(e) {
                        var t = this
                          , n = Array.isArray && Array.isArray(e);
                        n && (this.multiPlaylist = e.slice(1),
                        e = e.shift(),
                        0 !== this.multiPlaylist.length ? this.mediaController.setMultiM3u8(!0) : this.mediaController.setMultiM3u8(!1)),
                        this.enable(),
                        this.mediaController.hasState("playListLoaded") ? (this.addTask("checkBuffer", !1),
                        this.addTask("checkRealBuffer", !1),
                        this.addTask("doGapJumping", !1),
                        this.addTask("monitorVInfo", !1),
                        this.addTask("emitLevelChange", !1),
                        this.addTask("flushLiveM3u8", !1),
                        this.disableTask("checkBuffer"),
                        this.disableTask("checkRealBuffer"),
                        this.disableTask("monitorVInfo"),
                        this.disableTask("flushLiveM3u8"),
                        this.lastFind = null,
                        this.bufferHealth.reset(),
                        this.mediaController.reset(),
                        this.mediaController.nextState("reloadPlayList", e),
                        this.seekFlag = 2,
                        this.core.detector.dotChangeSource(),
                        this.mediaController.after("playListReloaded->idle").then(function() {
                            t.enableTask("checkBuffer", !0),
                            t.enableTask("checkRealBuffer", !0),
                            t.enableTask("monitorVInfo", !0),
                            t.enableTask("flushLiveM3u8", !0),
                            t.core.config.abrEnable && (t.lastLevelId = -1,
                            t.addTask("emitLevelChange", !0)),
                            n && t.addTask("checkM3u8PlayEnd", !1)
                        })) : (this._startTime = Date.now(),
                        this.mediaController.nextState("loadPlayList", e),
                        this.core.config.on("networkAgent", function(e) {
                            "p2p" == e ? t.addTask("notifyP2P", !0) : t.removeTask("notifyP2P")
                        }),
                        this.mediaController.after("idle").then(function() {
                            t.addTask("checkBuffer", !0),
                            t.addTask("checkRealBuffer", !0),
                            t.addTask("flushLiveM3u8", !1),
                            t.addTask("doGapJumping", !0),
                            t.addTask("monitorVInfo", !0),
                            n && t.addTask("checkM3u8PlayEnd", !1),
                            t.core.config.abrEnable && t.addTask("emitLevelChange", !0),
                            t._unmountVideoEvents(),
                            t._mountVideoEvents()
                        }),
                        this.mediaController.once("firstPlayloadLoadError", function() {
                            t.loadPlayList(t.multiPlaylist)
                        }))
                    }
                }, {
                    key: "selectUsedBuffered",
                    value: function() {
                        if (this.mediaController.isFmp4)
                            try {
                                var e = this.mediaController.sourceBuffers
                                  , t = e.video
                                  , n = e.audio
                                  , i = this.videoBufferInfo(t.buffered)
                                  , r = this.audioBufferInfo(n.buffered)
                                  , a = i.findRange(this._getCurrentTime())
                                  , o = r.findRange(this._getCurrentTime());
                                return a && o ? a[1] > o[1] ? i : r : i
                            } catch (e) {
                                return templateBufferInfo(this.mediaElement.buffered)
                            }
                        return templateBufferInfo(this.mediaElement.buffered)
                    }
                }, {
                    key: "checkRealBuffer",
                    value: function(e) {
                        var t = this;
                        if (this.mediaController.isLive && !this.mediaController.liveCanPlay)
                            return void e(50);
                        var n = this.core.config
                          , i = this.videoBufferInfo(this.mediaController.sourceBuffers.video.buffered).fillGap(n.maxBufferHole)
                          , r = this.audioBufferInfo(this.mediaController.sourceBuffers.audio.buffered).fillGap(n.maxBufferHole)
                          , a = r.getIndicator(this._getCurrentTime(), n.gapTolerance)
                          , o = i.getIndicator(this._getCurrentTime(), n.gapTolerance);
                        if (Math.abs(o.bufferEnd - a.bufferEnd) > this.mediaController.segmentDuration && (o.bufferEnd = Math.min(o.bufferEnd, a.bufferEnd),
                        a.bufferEnd = Math.min(o.bufferEnd, a.bufferEnd)),
                        Math.min(o.bufferLength, a.bufferLength) <= n.maxBufferLength) {
                            var s = this.mediaController.playList.getSegment(o.bufferEnd, a.bufferEnd, this.mediaElement.seeking ? null : this.mediaController.mediaBuffer && this.mediaController.mediaBuffer.lastSegment, this.core.config.maxFragLookupTolerance);
                            if (!s && this.mediaController.isLive && (s = this.mediaController.findFistSegmentLargerThanCurrentTime(o.bufferEnd)),
                            s) {
                                var l = this.mediaController.drainSegment(s);
                                if (l)
                                    return l.once("appended", function() {
                                        logger.log("checkRealBuffer", o.bufferEnd);
                                        var n = t.mediaController.slidePosition;
                                        t.mediaController.isLive && o.bufferEnd < n && (t.mediaElement.currentTime = Math.max(n, t._getCurrentTime()),
                                        logger.log("bufferEnd: ".concat(o.bufferEnd, " ,slidePosition: ").concat(n, " ,media seeking to "), t._getCurrentTime() + 1)),
                                        e(100)
                                    }),
                                    void l.once("error", function() {
                                        return e(100)
                                    })
                            }
                        }
                        if (this.mediaController.isInState("idle") && this.multiPlaylist.length && !this.mediaController.appendPlStatus) {
                            var u = this.multiPlaylist.shift();
                            this.mediaController.appendPlayList(u)
                        }
                        e(200)
                    }
                }, {
                    key: "emitLevelChange",
                    value: function(e) {
                        var t = this.mediaController.playList.getLevelIdOfUsedSegment(this._getCurrentTime());
                        if (t && this.lastLevelId !== t) {
                            var n = this.mediaController.getStreamTypeByLevelId(t);
                            logger.log("emit current level", n),
                            this.core.emit(CoreXEvents.LEVEL_CHANGED, n),
                            this.lastLevelId = t
                        }
                        e(1e3)
                    }
                }, {
                    key: "checkBuffer",
                    value: function(e) {
                        var t = this.mediaController.isLive
                          , n = this.core.config
                          , i = this.mediaController.flyBuffered
                          , r = this.mediaController.flyAudioBuffered;
                        if (0 === r.Length && (r = i),
                        !i || this.mediaController.isLive && this.lastFind && this.lastFind.state === SegmentState.LOADING)
                            return void e(300);
                        var a = this.videoBufferInfo(this.mediaController.sourceBuffers.video.buffered).fillGap(n.maxBufferHole).getIndicator(this._getCurrentTime(), n.gapTolerance)
                          , o = this.audioBufferInfo(this.mediaController.sourceBuffers.audio.buffered).fillGap(n.maxBufferHole).getIndicator(this._getCurrentTime(), n.gapTolerance);
                        Math.abs(a.bufferEnd - o.bufferEnd) > this.mediaController.segmentDuration && (a.bufferEnd = Math.min(o.bufferEnd, a.bufferEnd),
                        o.bufferEnd = Math.min(o.bufferEnd, a.bufferEnd));
                        var s = i.getIndicator(a.bufferEnd, n.gapTolerance)
                          , l = r.getIndicator(o.bufferEnd, n.gapTolerance);
                        t && a.bufferLength < n.maxBufferLength && a.bufferEnd < this.mediaController.slidePosition && (logger.log("bufferEnd:", a.bufferEnd, "slidePosition:", this.mediaController.slidePosition),
                        s = this.selectUsedBuffered().fillGap(n.maxBufferHole).getIndicator(this.mediaController.liveSyncPostion, n.gapTolerance),
                        logger.log("脱离直播点,sync position", this.mediaController.liveSyncPostion));
                        var u = t ? n.maxBufferLength : n.maxFlyBufferLength;
                        if (Math.min(s.bufferLength, l.bufferLength) < u) {
                            var d = this._findSegment(s, l);
                            if (d)
                                return logger.groupEnd(),
                                logger.group("%c".concat(formatTime(new Date)), LOG_BLUE_TAG, "segment:#", d.id, " with levelId ", d.levelId, " cc ", d.cc, d.brief(), "->", "".concat(s.bufferEnd, "[").concat(s.bufferLength, "]")),
                                d.state === SegmentState.LOADED && d.data ? (this.mediaController.flySourceBuffer.storeSegment(d),
                                this.lastFind = d,
                                void e(50)) : (n.abrEnable && this.mediaController.abrController.nextState("segmentLoading", d),
                                this.mediaController.nextState("segmentLoading", d),
                                this.lastFind = d,
                                d.once("loaded", function() {
                                    e(50)
                                }),
                                void d.once("error", function() {
                                    e(50)
                                }))
                        } else if (this.mediaElement.ended || this.mediaElement.paused)
                            return;
                        e(300)
                    }
                }, {
                    key: "flushLiveM3u8",
                    value: function(e) {
                        var t = this;
                        if (!this.mediaController.isLive)
                            return void this.disableTask("flushLiveM3u8");
                        logger.log("start flush m3u8");
                        var n = performance.now();
                        this.mediaController.flushM3u8(),
                        this.mediaController.once("m3u8Flushed", function(i) {
                            n = (performance.now() - n) / 1e3;
                            var r = 1e3 * t.mediaController.getLiveFlushInteval(n) / (i ? 1 : 2);
                            logger.log("live playlist, reload in ".concat(Math.round(r), " ms")),
                            e(r)
                        })
                    }
                }, {
                    key: "notifyP2P",
                    value: function(e) {
                        var t = this.core.config
                          , n = templateBufferInfo(this.mediaElement.buffered).fillGap(t.maxBufferHole)
                          , i = n.getIndicator(Math.max(this._getCurrentTime(), this.core.dataService.levelIndicator || 0), t.gapTolerance);
                        this.core.dataService.setRemainTime(i.bufferLength),
                        e(400)
                    }
                }, {
                    key: "doGapJumping",
                    value: function(e) {
                        var t, n = this.core.config.maxFragLookupTolerance, i = templateBufferInfo(this.mediaElement.buffered).toGap().findRange(this._getCurrentTime(), .35);
                        i && (t = i[1] - this._getCurrentTime()),
                        this.mediaElement.seeking && (n = 5),
                        i && t && t < n + .1 && (0 != i[0] || i[1] - i[0] > .08) && (this.mediaElement.currentTime = i[1] + .05,
                        logger.log("jumping", this._getCurrentTime())),
                        e(500)
                    }
                }, {
                    key: "_transparentGapJumping",
                    value: function() {
                        var e = this._getCurrentTime()
                          , t = templateBufferInfo(this.mediaElement.buffered).findRange(e);
                        t && e < t[1] - 1 && (1 !== this.mediaElement.playbackRate ? this.playbackRateCount && this.playbackRateCount > 20 ? (this.mediaElement.playbackRate = 1,
                        this.playbackRateCount = 0) : (this.playbackRateCount || (this.playbackRateCount = 0),
                        this.playbackRateCount++,
                        this.mediaElement.currentTime += .01) : this.mediaElement.currentTime += .01,
                        logger.log("jumping transparent hole", this._getCurrentTime()))
                    }
                }, {
                    key: "monitorVInfo",
                    value: function(e) {
                        var t = this.core.mediaMonitor.getInfo();
                        this.core.emit(CoreXEvents.VIDEO_INFO, t),
                        this.bufferHealth.setBufferLength(t.restBuffered, this.core.config.maxBufferLength),
                        e(500)
                    }
                }, {
                    key: "checkM3u8PlayEnd",
                    value: function(e) {}
                }, {
                    key: "_emitM3u8PlayState",
                    value: function(e, t) {
                        e = e || this.mediaController.playList.locateSegment(this._getCurrentTime() - .5) || {};
                        var n = e
                          , i = n.discontinuity
                          , r = n.id;
                        if (t || i && !this.lastDiscontinuity) {
                            var a = t ? e : this.mediaController.playList.getSegmentById(r - 1);
                            this.core.emit(CoreXEvents.M3U8_ENDED, {
                                url: a && a.baseUrl
                            })
                        }
                        this.lastDiscontinuity = e.discontinuity
                    }
                }, {
                    key: "_findSegment",
                    value: function(e, t) {
                        var n = this.mediaController.playList.getSegment(e.bufferEnd, t.bufferEnd, this.mediaElement.seeking ? null : this.mediaController.mediaBuffer && this.mediaController.mediaBuffer.lastSegment, this.core.config.maxFragLookupTolerance);
                        if (n) {
                            if (n.state === SegmentState.INIT || !(n.state !== SegmentState.LOADED || this.mediaController.flySourceBuffer && this.mediaController.flySourceBuffer.has(n)))
                                return n;
                            if (n.state == SegmentState.APPENDED && !n.isLast && n.reloadCount < 10)
                                return n.reloadCount++,
                                n.setState(SegmentState.INIT),
                                n
                        }
                        return !1
                    }
                }, {
                    key: "_checkEos",
                    value: function() {
                        var e = this._getCurrentTime()
                          , t = this.mediaController.playList.locateSegment(e);
                        t && t.state === SegmentState.APPENDED && t.isLast && this.mediaController.closeStream()
                    }
                }, {
                    key: "_mountVideoEvents",
                    value: function() {
                        var e = this
                          , t = this.core
                          , n = t.config
                          , i = t.detector;
                        this.onPlaying = function() {
                            clearTimeout(e.seekingTimer),
                            clearTimeout(e.lagTimer),
                            e._startTime > 0 && (i.setStartPlayTime(Date.now() - e._startTime),
                            delete e._startTime),
                            i.logChangeSource(),
                            logger.log("%c".concat(formatTime(new Date), "|").concat(e._getCurrentTime()), LOG_ORANGE_TAG, "playing"),
                            e.addTask("checkBuffer", !1),
                            e.addTask("checkRealBuffer", !1),
                            e.core.config.abrEnable && e.addTask("emitLevelChange", !1),
                            "p2p" == n.networkAgent && e.addTask("notifyP2P", !0),
                            i.collectActions(Action.PLAYING, e._getCurrentTime())
                        }
                        ,
                        this.onSeeking = function() {
                            clearTimeout(e.lagTimer),
                            clearTimeout(e.seekingTimer),
                            e.core.dataService.setLevelIndicator(0),
                            e.bufferHealth.reset(),
                            e.seekFlag = 2,
                            logger.log("%c".concat(formatTime(new Date), "|").concat(e._getCurrentTime()), LOG_ORANGE_TAG, "seeking"),
                            i.collectActions(Action.SEEK, e._getCurrentTime()),
                            i.dotSeek(e.mediaElement.buffered, e._getCurrentTime()),
                            e.disableTask("checkBuffer"),
                            e.disableTask("checkRealBuffer"),
                            e.seekingTimer = setTimeout(function() {
                                e.enableTask("checkBuffer"),
                                e.enableTask("checkRealBuffer"),
                                e.addTask("checkBuffer", !0),
                                e.addTask("checkRealBuffer", !0)
                            }, 100)
                        }
                        ,
                        this.onSeeked = function() {
                            clearTimeout(e.seekingTimer),
                            clearTimeout(e.lagTimer),
                            e.enableTask("checkBuffer"),
                            e.enableTask("checkRealBuffer"),
                            i.logSeek(),
                            logger.log("%c".concat(formatTime(new Date), "|").concat(e._getCurrentTime()), LOG_ORANGE_TAG, "seeked"),
                            e.addTask("checkBuffer", !1),
                            e.addTask("checkRealBuffer", !1),
                            e.addTask("doGapJumping", !1),
                            "p2p" == n.networkAgent && e.doTask("notifyP2P")
                        }
                        ,
                        this.onWaiting = function() {
                            clearTimeout(e.seekingTimer),
                            e.enableTask("checkBuffer"),
                            e.enableTask("checkRealBuffer"),
                            e.addTask("doGapJumping", !0),
                            e.t1 = Date.now(),
                            logger.log("%c".concat(formatTime(new Date), "|").concat(e._getCurrentTime()), LOG_ORANGE_TAG, "waiting", e.mediaElement.seeking, e.mediaElement.readyState),
                            e._checkEos();
                            var t = e.mediaElement.readyState;
                            clearTimeout(e.lagTimer),
                            e.lagTimer = setTimeout(function() {
                                i.collect(e.mediaElement, e.mediaController.playList);
                                var n = i.summarize();
                                logger.groupEnd(),
                                logger.warn("%c检测到卡顿", LOG_RED_TAG, n),
                                logger.group("-----------------------------"),
                                i.sendGoldLog(n, "lag", {
                                    state: t
                                }),
                                e.core.emit(CoreXEvents.WAITING_TIMEOUT, n)
                            }, 2 * n.maxSegmentLoadTimeout),
                            e.mediaElement.seeking || e._transparentGapJumping(),
                            e.addTask("checkBuffer", !0),
                            e.addTask("checkRealBuffer", !0),
                            i.collectActions(Action.WAITING, e._getCurrentTime())
                        }
                        ,
                        this.onPlay = function() {
                            logger.log("do play"),
                            e.addTask("checkBuffer", !1),
                            e.addTask("checkRealBuffer", !1),
                            e.addTask("checkM3u8PlayEnd", !1),
                            i.collectActions(Action.PLAY, e._getCurrentTime())
                        }
                        ,
                        this.onPause = function() {
                            logger.log("do pause"),
                            e.lastTimeUpdate = 0,
                            e.removeTask("notifyP2P"),
                            e.removeTask("checkM3u8PlayEnd"),
                            i.collectActions(Action.PAUSE, e._getCurrentTime())
                        }
                        ,
                        this.onEnded = function() {
                            clearTimeout(e.lagTimer),
                            clearTimeout(e.seekingTimer),
                            e.lastTimeUpdate = 0,
                            e.seekFlag = 0,
                            e.removeTask("doGapJumping"),
                            e.removeTask("checkBuffer"),
                            e.removeTask("checkRealBuffer"),
                            e.removeTask("notifyP2P"),
                            e.removeTask("monitorVInfo"),
                            e.removeTask("flushLiveM3u8"),
                            e.removeTask("checkM3u8PlayEnd"),
                            e.removeTask("emitLevelChange"),
                            i.collectActions(Action.ENDED, e._getCurrentTime())
                        }
                        ,
                        this.onError = function(t) {
                            logger.error(t),
                            clearTimeout(e.lagTimer),
                            e.core.config.h265 || e.mediaElement.error && 1 != e.mediaElement.error.code && e.core.fatalError(new MediaElementError(e.mediaElement.error))
                        }
                        ,
                        this.onCanDegradation = function(t) {
                            e.core.detector.record("degrade", {
                                fps: e.mediaElement.decodeRate,
                                playRate: e.mediaElement.playbackRate,
                                level: e.mediaElement.supportLevel,
                                cDms: window.cDms || 0
                            })
                        }
                        ,
                        this.onProgress = function() {
                            e.core.config.h265 && (void 0 === e.onProgress._count && (e.onProgress._count = 0),
                            ++e.onProgress._count > 12 && (e.onProgress._count = 0,
                            e.core.detector.record("decodeRate", {
                                fps: e.mediaElement.decodeRate,
                                playRate: e.mediaElement.playbackRate,
                                level: e.mediaElement.supportLevel,
                                cDms: window.cDms || 0
                            })))
                        }
                        ,
                        this.onLoadedMetadata = function() {
                            e.mediaElement.currentTime = e._getCurrentTime()
                        }
                        ,
                        this.onCanplay = function() {
                            e.resetStartLoad()
                        }
                        ,
                        this.mediaElement.addEventListener("canplay", this.onCanplay),
                        this.mediaElement.addEventListener("loadedmetadata", this.onLoadedMetadata),
                        this.mediaElement.addEventListener("playing", this.onPlaying),
                        this.mediaElement.addEventListener("seeking", this.onSeeking),
                        this.mediaElement.addEventListener("seeked", this.onSeeked),
                        this.mediaElement.addEventListener("waiting", this.onWaiting),
                        this.mediaElement.addEventListener("ended", this.onEnded),
                        this.mediaElement.addEventListener("error", this.onError),
                        this.mediaElement.addEventListener("pause", this.onPause),
                        this.mediaElement.addEventListener("play", this.onPlay),
                        this.mediaElement.addEventListener("canDegradation", this.onCanDegradation),
                        this.mediaElement.addEventListener("progress", this.onProgress)
                    }
                }, {
                    key: "_unmountVideoEvents",
                    value: function() {
                        this.mediaElement && (this.onPlaying && this.mediaElement.removeEventListener("playing", this.onPlaying),
                        this.onSeeking && this.mediaElement.removeEventListener("seeking", this.onSeeking),
                        this.onSeeked && this.mediaElement.removeEventListener("seeked", this.onSeeked),
                        this.onWaiting && this.mediaElement.removeEventListener("waiting", this.onWaiting),
                        this.onEnded && this.mediaElement.removeEventListener("ended", this.onEnded),
                        this.onError && this.mediaElement.removeEventListener("error", this.onError),
                        this.onPause && this.mediaElement.removeEventListener("pause", this.onPause),
                        this.onPlay && this.mediaElement.removeEventListener("play", this.onPlay),
                        this.onCanDegradation && this.mediaElement.removeEventListener("canDegradation", this.onCanDegradation),
                        this.onProgress && this.mediaElement.removeEventListener("progress", this.onProgress),
                        this.onLoadedMetadata && this.mediaElement.removeEventListener("loadedmetadata", this.onLoadedMetadata),
                        this.onCanplay && this.mediaElement.removeEventListener("canplay", this.onCanplay))
                    }
                }, {
                    key: "_reportLag",
                    value: function(e) {
                        var t = this.core.detector;
                        t.collect(this.mediaElement, this.mediaController && this.mediaController.playList);
                        var n = t.summarize();
                        t.sendGoldLog(n, "lag2", {
                            elapsed: e,
                            seekFlag: this.seekFlag,
                            interval: "".concat(this.lastTimeUpdate, "~").concat(this.lastTimeUpdate + e)
                        })
                    }
                }, {
                    key: "_needToAwaitPrevSegment",
                    value: function(e, t, n) {
                        if (e && e.state > SegmentState.INIT && e.state <= SegmentState.LOADED) {
                            if (e.id === t.id && e.levelId === t.levelId)
                                return n(500),
                                !0;
                            if (!this.core.config.queueLoad || !this.core.queueLoad.usage)
                                return e.state < SegmentState.LOADED && e.abort(AbortError.Invalid, this.core.dataService),
                                n(500),
                                !0
                        }
                    }
                }, {
                    key: "changeStream",
                    value: function(e, t, n) {
                        var i = this;
                        this.bufferHealth.reset(),
                        this.currentCondition && this.currentCondition[0] == e && this.currentCondition[1] == t || (this.currentCondition = [e, t],
                        this.disableTask("checkBuffer"),
                        this.disableTask("checkRealBuffer"),
                        this.lastFind = null,
                        this.mediaController.nextState("selectStream", e, t, n),
                        this.mediaController.after("playListReloaded->idle").then(function() {
                            i.enableTask("checkBuffer", !0),
                            i.enableTask("checkRealBuffer", !0)
                        }))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unmountVideoEvents(),
                        this.bufferHealth.reset(),
                        clearTimeout(this.seekingTimer),
                        clearTimeout(this.lagTimer),
                        this.stop(),
                        this.switched = 0,
                        this.core.detector.switched = 0,
                        this.core.config.off("networkAgent"),
                        this.seekFlag = 0,
                        this.lastTimeUpdate = 0,
                        this.mediaElement = null,
                        this.mediaController = null,
                        this.core.detector.reset(),
                        this.core = null
                    }
                }, {
                    key: "online",
                    value: function() {
                        this.enable(),
                        this.start()
                    }
                }, {
                    key: "offline",
                    value: function() {
                        clearTimeout(this.seekingTimer),
                        clearTimeout(this.lagTimer),
                        this.disable(),
                        this.stop()
                    }
                }, {
                    key: "abrCurrentStreamType",
                    get: function() {
                        return this.mediaController.getStreamTypeByLevelId(this.lastLevelId)
                    }
                }]),
                t
            }(Driver)
              , RENDER_LIST_MAP = [{
                prop: "playlist",
                cls: "vinfopl-master-slave"
            }, {
                prop: "videoFormat",
                cls: "vinfopl-video-format"
            }, {
                prop: "videoCodec",
                cls: "vinfopl-video-codec"
            }, {
                prop: "audioCodec",
                cls: "vinfopl-audio-codec"
            }, {
                prop: "networkAgent",
                cls: "vinfopl-networkAgent"
            }, {
                prop: "cdn",
                cls: "vinfopl-cdn"
            }, {
                prop: "schedule",
                cls: "vinfopl-schedule"
            }, {
                prop: "resolution",
                cls: "vinfopl-resolution"
            }, {
                prop: "videoWidth",
                cls: "vinfopl-width-height"
            }, {
                prop: "speedFormatted",
                cls: "vinfopl-downloadspeed"
            }, {
                prop: "maxSpeedFormatted",
                cls: "vinfopl-maxSpeed"
            }, {
                prop: "restBuffered",
                cls: "vinfopl-bufferQuality"
            }, {
                prop: "restFlyBuffered",
                cls: "vinfopl-flyBufferQuality"
            }, {
                prop: "decodedFrames",
                cls: "vinfopl-fps"
            }]
              , AVC_PROFILES = {
                100: "High",
                77: "Main",
                66: "Base"
            }
              , SPEED_LEVELS = {
                .8: 100,
                .6: 60,
                .4: 40,
                .2: 30,
                .1: 10
            }
              , dpr = window.devicePixelRatio || 1
              , DOWNLOAD_VISUAL_BLOCK_WIDTH = 10
              , DOWNLOAD_VISUAL_CTX_WIDTH = 150 * dpr
              , DOWNLOAD_VISUAL_CTX_HEIGHT = 14 * dpr
              , VideoInfoPlugin = function() {
                function e() {
                    classCallCheck(this, e),
                    this.lastVinfo = null,
                    this.graph = null,
                    this.ul = null,
                    this.clean()
                }
                return createClass(e, [{
                    key: "mountCore",
                    value: function(e, t) {
                        this.core = e,
                        this.container = t,
                        this.init()
                    }
                }, {
                    key: "init",
                    value: function() {
                        this.listenVInfo(),
                        this.bindEvent()
                    }
                }, {
                    key: "listenVInfo",
                    value: function() {
                        var e = this;
                        this.core.on("videoInfo", function(t) {
                            e.graph && "none" === e.graph.style.display || e.lastVinfo && JSON.stringify(t) === JSON.stringify(e.lastVinfo) || (e.lastVinfo = t,
                            e.renderVinfo())
                        })
                    }
                }, {
                    key: "bindEvent",
                    value: function() {
                        var e = this;
                        this.container.onclick = function() {
                            e.ul && (e.ul.style.display = "none")
                        }
                        ,
                        this.core.config.contextMenu && (this.container.oncontextmenu = function(t) {
                            var n = t.offsetX
                              , i = t.offsetY;
                            e.genCustomContextMenu(n, i),
                            t.preventDefault()
                        }
                        )
                    }
                }, {
                    key: "showGraph",
                    value: function() {
                        this.renderVideoInfoGraph()
                    }
                }, {
                    key: "genCustomContextMenu",
                    value: function(e, t) {
                        var n = this
                          , i = this.geneContextMenuHtml();
                        i.style.left = "".concat(e, "px"),
                        i.style.top = "".concat(t, "px"),
                        i.style.display = "block",
                        i.style.paddingLeft = "10px",
                        this.container.appendChild(i),
                        document.querySelector("body #vinfopl-menu-ul li").onclick = function(e) {
                            n.renderVideoInfoGraph(),
                            n.ul && (n.ul.style.display = "none"),
                            e.stopPropagation()
                        }
                    }
                }, {
                    key: "geneContextMenuHtml",
                    value: function() {
                        if (!this.ul) {
                            var e = document.createElement("ul");
                            e.id = "vinfopl-menu-ul",
                            e.style.width = "180px",
                            e.style.height = "100px",
                            e.style.background = "#000",
                            e.style.listStyle = "none",
                            e.style.padding = "10px",
                            e.style.position = "absolute",
                            e.style.display = "block",
                            e.style.cursor = "pointer",
                            e.style.opacity = "0.6",
                            e.innerHTML = '<li style="color:#eee;font-size:12px;">视频信息</li>',
                            this.ul = e
                        }
                        return this.ul
                    }
                }, {
                    key: "renderVideoInfoGraph",
                    value: function() {
                        var e, t = this;
                        if (e = document.querySelector("#vinfopl-vinfo-graph"))
                            e.style.display = "block";
                        else {
                            e = this.geneGraphWrapperHtml();
                            var n = this.container
                              , i = n.offsetLeft
                              , r = n.offsetTop;
                            e.style.top = "".concat(r + 10, "px"),
                            e.style.left = "".concat(i + 10, "px"),
                            e.style.display = "block",
                            this.container.appendChild(e),
                            e.addEventListener("click", function(n) {
                                "vinfopl-vinfo-graph-close" === n.target.className && (e.style.display = "none",
                                t.resetCvs()),
                                n.stopPropagation()
                            })
                        }
                        this.graph = e;
                        var a = document.querySelector(".vinfopl-vinfo-graph-detail");
                        a || (a = document.createElement("div"),
                        a.className = "vinfopl-vinfo-graph-detail",
                        e.appendChild(a)),
                        this.renderVinfo()
                    }
                }, {
                    key: "geneGraphWrapperHtml",
                    value: function() {
                        var e = document.createElement("div");
                        return e.id = "vinfopl-vinfo-graph",
                        e.style.position = "absolute",
                        e.style.width = "340px",
                        e.style.background = "rgba(0,0,0,0.7)",
                        e.style.color = "#FFF",
                        e.style.fontSize = "12px",
                        e.style.fontWeight = "lighter",
                        e.style.padding = "10px 0",
                        e.style.zIndex = 99999,
                        e.innerHTML = '<div class="vinfopl-vinfo-graph-close" style="position:absolute;right:20px;font-size: 20px;cursor:pointer;">x</div>',
                        e
                    }
                }, {
                    key: "renderVinfo",
                    value: function() {
                        if (this.graph) {
                            var e = document.querySelector(".vinfopl-vinfo-graph-detail");
                            if (e) {
                                if (this.lastVinfo) {
                                    var t = this.lastVinfo
                                      , n = t.playlist
                                      , i = t.videoFormat
                                      , r = void 0 === i ? "--" : i
                                      , a = t.networkAgent
                                      , o = t.cdn
                                      , s = void 0 === o ? "--" : o
                                      , l = t.schedule
                                      , u = void 0 === l ? "--" : l
                                      , d = t.audioCodec
                                      , c = void 0 === d ? "--" : d
                                      , h = t.audioSampleRate
                                      , p = void 0 === h ? "--" : h
                                      , f = t.videoCodec
                                      , m = void 0 === f ? "--" : f
                                      , y = t.profileIdc
                                      , g = void 0 === y ? "--" : y
                                      , v = t.levelIdc
                                      , _ = void 0 === v ? "--" : v
                                      , b = t.videoHeight
                                      , k = void 0 === b ? "--" : b
                                      , S = t.videoWidth
                                      , E = void 0 === S ? "--" : S
                                      , w = t.speedForamtted
                                      , x = t.maxSpeedFormatted
                                      , T = t.restBuffered
                                      , A = t.restFlyBuffered
                                      , L = t.maxBufferLength
                                      , C = t.maxFlyBufferLength
                                      , D = t.droppedFPS
                                      , P = void 0 === D ? "--" : D
                                      , R = t.droppedFrames
                                      , I = void 0 === R ? "--" : R
                                      , M = t.decodedFrames
                                      , O = void 0 === M ? "--" : M
                                      , N = "display: inline-block;text-align: right;width: 100px;"
                                      , B = window.PCDNDataManager && window.PCDNDataManager.getDownloadInfo && window.PCDNDataManager.getDownloadInfo() || {};
                                    B.cdnRate = Math.round(100 * B.CDN / B.total) || 0,
                                    B.p2pRate = Math.round(100 * B.P2P / B.total) || 0;
                                    var F = "";
                                    if (this.core.config.p2p && isFinite(B && B.total) && (F = '<li><span style="'.concat(N, '">   数据量： </span><span class="vinfopl-download" style="display:inline-block;vertical-align: top;">\n        <div style="color:#23c5fd;">Total: ').concat(formatByteUnit(B.total, Units.Byte), '</div>\n        <div style="color:#fdbe41;">CDN: ').concat(formatByteUnit(B.CDN, Units.Byte), "(").concat(B.cdnRate, '%)</div>\n        <div style="color:#3ce214;">P2P: ').concat(formatByteUnit(B.P2P, Units.Byte), "(").concat(B.p2pRate, "%)</div>\n        </span></li>")),
                                    e.innerHTML && "无信息" !== e.innerHTML)
                                        this.renderInfoLeastModified(this.lastVinfo, e),
                                        this.core.config.p2p && isFinite(B && B.total) && (document.querySelector(".vinfopl-download").innerHTML = '<div style="color:#23c5fd;">Total: '.concat(formatByteUnit(B.total, Units.Byte), '</div>                        \n<div style="color:#fdbe41;">CDN: ').concat(formatByteUnit(B.CDN, Units.Byte), "(").concat(B.cdnRate, '%)</div>  \n<div style="color:#3ce214;">P2P: ').concat(formatByteUnit(B.P2P, Units.Byte), "(").concat(B.p2pRate, "%)</div>"));
                                    else {
                                        var U = m;
                                        m.indexOf("avc") > -1 && (U += "(H.264 ".concat(AVC_PROFILES[g], " @L").concat((_ / 10).toFixed(1), ")")),
                                        e.innerHTML = '\n            <ul style="list-style:none;line-height:20px;padding:0">\n            <li><span style="'.concat(N, '">主从模式： </span><span class="vinfopl-master-slave">').concat(n, " [").concat(this.core.config.version, ']</span></li>\n            <li><span style="').concat(N, '">视频格式： </span><span class="vinfopl-video-format">').concat(r, '</span></li>\n            <li><span style="').concat(N, '">视频编码： </span><span class="vinfopl-video-codec">').concat(U, ' </span></li>\n            <li><span style="').concat(N, '">音频编码： </span><span class="vinfopl-audio-codec">').concat(this.aacFormate(c, p), '</span></li>\n            <li><span style="').concat(N, '">网络类型： </span><span class="vinfopl-networkAgent">').concat(a, '</span></li>\n            <li><span style="').concat(N, '">cdn： </span><span class="vinfopl-cdn">').concat(s, '</span></li>\n            <li style="display:').concat(u ? "block" : "none", '"><span style="').concat(N, '">302调度： </span><span class="vinfopl-schedule">').concat(u, '</span></li>\n            <li>\n              <span style="').concat(N, '">分辨率： </span><span class="vinfopl-resolution">').concat(window.outerWidth, " x ").concat(window.outerHeight, '</span>\n            </li>\n            <li style="display:').concat(E ? "block" : "none", '"><span style="').concat(N, '">视频宽高： </span><span class="vinfopl-width-height">').concat(E, " x ").concat(k, " @ ").concat(formatByteUnit(8 * this.core.config.bitRate, Units.BitRate), '</span></li>\n            <li>\n              <span style="').concat(N, '">下载速度： </span>\n              <canvas  class="vinfopl-vinfo-graph-detail-visual" style="display: inline-block;\n                width: 150px;\n                height: 14px;\n                vertical-align: middle;\n                margin-right: 5px;\n                background: #FFF;">\n              </canvas>\n              <span class="vinfopl-downloadspeed">').concat(w, '</span>\n            </li>\n            <li><span style="').concat(N, '">最大速度： </span><span class="vinfopl-maxSpeed">').concat(x, '</span></li>\n            <li><span style="').concat(N, '">缓冲质量： </span><span class="vinfopl-bufferQuality">').concat(T, "s / ").concat(L.toFixed(2), 's</span></li>\n            <li><span style="').concat(N, '">fly缓冲质量： </span><span class="vinfopl-flyBufferQuality">').concat(A, "s / ").concat(C.toFixed(2), 's</span></li>\n            <li><span style="').concat(N, '">   帧数： </span><span class="vinfopl-fps">').concat(I, "/").concat(O, " (drop ").concat(P, ')</span></li>\n            <li><span style="').concat(N, '">   drm： </span><span class="vinfopl-fps">').concat(this.isDrm(), "</span></li>\n            ").concat(F, "\n            ").concat(this.core.config.h265 ? '<li><span style="'.concat(N, '">   hevc： </span><span class="vinfopl-fps">true</span></li>') : "", "\n            </ul>\n            ")
                                    }
                                    return void this.speedVisual(this.lastVinfo)
                                }
                                e.innerHTML = "无信息"
                            }
                        }
                    }
                }, {
                    key: "isDrm",
                    value: function() {
                        return !this.core.config || "default" !== this.core.config.drmType
                    }
                }, {
                    key: "aacFormate",
                    value: function(e, t) {
                        if (!e)
                            return "--";
                        var n = e && 2 == e.split(".")[2] ? "LC" : "SBR"
                          , i = "".concat(e, " (AAC-").concat(n);
                        return t ? "".concat(i, " @").concat(t / 1e3, "Khz)") : "".concat(i, ")")
                    }
                }, {
                    key: "renderInfoLeastModified",
                    value: function() {
                        var e = this
                          , t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                          , n = arguments.length > 1 ? arguments[1] : void 0;
                        RENDER_LIST_MAP.forEach(function(i) {
                            var r, a = ".".concat(i.cls);
                            switch (i.prop) {
                            case "playlist":
                                r = "".concat(t.playlist, " [").concat(e.core.config.version, "]");
                                break;
                            case "videoCodec":
                                t.videoCodec ? (r = t.videoCodec,
                                r.indexOf("avc") >= 0 && (r += "(H.264 ".concat(AVC_PROFILES[t.profileIdc], " @L").concat((t.levelIdc / 10).toFixed(1), ")"))) : r = "--";
                                break;
                            case "audioCodec":
                                r = e.aacFormate(t.audioCodec, t.audioSampleRate);
                                break;
                            case "resolution":
                                r = "".concat(window.outerWidth, " x ").concat(window.outerHeight);
                                break;
                            case "videoWidth":
                                r = "".concat(t.videoWidth, " x ").concat(t.videoHeight, " @ ").concat(formatByteUnit(8 * e.core.config.bitRate, Units.BitRate)),
                                t.videoWidth || (r = void 0);
                                break;
                            case "restBuffered":
                                r = "".concat(t.restBuffered, "s / ").concat(t.maxBufferLength, "s");
                                break;
                            case "restFlyBuffered":
                                r = "".concat(t.restFlyBuffered, "s / ").concat(t.maxFlyBufferLength, "s");
                                break;
                            case "decodedFrames":
                                r = "".concat(t.droppedFrames || "--", "/").concat(t.decodedFrames || "--", " (drop ").concat(t.droppedFPS || "--", ")");
                                break;
                            default:
                                r = t[i.prop]
                            }
                            r ? (n.querySelector(a).innerHTML = r,
                            n.querySelector(a).parentNode.style.display = "block") : n.querySelector(a).parentNode.style.display = "none"
                        })
                    }
                }, {
                    key: "clean",
                    value: function() {
                        var e = document.querySelector("#vinfopl-menu-ul")
                          , t = document.querySelector("#vinfopl-vinfo-graph");
                        e && document.body.removeChild(e),
                        t && document.body.removeChild(t)
                    }
                }, {
                    key: "getCvsCtx",
                    value: function() {
                        if (this.ctx)
                            return this.ctx;
                        var e = document.querySelector(".vinfopl-vinfo-graph-detail-visual");
                        if (e)
                            return e.width = DOWNLOAD_VISUAL_CTX_WIDTH,
                            e.height = DOWNLOAD_VISUAL_CTX_HEIGHT,
                            this.ctx = e.getContext("2d"),
                            this.ctx
                    }
                }, {
                    key: "speedVisual",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                          , t = this.getCvsCtx();
                        if (t) {
                            var n = e.speed
                              , i = e.speedFormatted
                              , r = e.maxSpeed
                              , a = this.calcSpeedBlockXAxis();
                            if (this.renderTipsLine(t, a),
                            0 == parseFloat(i))
                                this.renderBlackBlock(t, a);
                            else {
                                var o = this.calcSpeedBlockYAxis(n, r);
                                this.renderSpeedBlock(t, a, o)
                            }
                        }
                    }
                }, {
                    key: "calcSpeedBlockXAxis",
                    value: function() {
                        return void 0 === this.xAxis ? this.xAxis = 0 : this.xAxis > DOWNLOAD_VISUAL_CTX_WIDTH - DOWNLOAD_VISUAL_BLOCK_WIDTH ? this.xAxis = 0 : this.xAxis += DOWNLOAD_VISUAL_BLOCK_WIDTH,
                        this.xAxis
                    }
                }, {
                    key: "calcSpeedBlockYAxis",
                    value: function(e, t) {
                        var n;
                        if (e > 0) {
                            var i = this.getSpeedLevel(e);
                            n = (t - e) / t * DOWNLOAD_VISUAL_CTX_HEIGHT,
                            n < 0 && (n = 0),
                            n += (100 - i) / 100 * DOWNLOAD_VISUAL_CTX_HEIGHT,
                            n = n > 25 ? 25 : n
                        } else
                            n = 0;
                        return n
                    }
                }, {
                    key: "getSpeedLevel",
                    value: function(e) {
                        for (var t = Object.keys(SPEED_LEVELS), n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (e >= parseFloat(i))
                                return SPEED_LEVELS[i]
                        }
                        return 5
                    }
                }, {
                    key: "renderSpeedBlock",
                    value: function(e, t, n) {
                        e.fillStyle = "white",
                        e.fillRect(t, 0, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT),
                        e.fillStyle = "rgba(30, 160, 146, 0.8)",
                        e.fillRect(t, n, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT)
                    }
                }, {
                    key: "renderBlackBlock",
                    value: function(e, t) {
                        e.fillStyle = "white",
                        e.fillRect(t, 0, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT)
                    }
                }, {
                    key: "renderTipsLine",
                    value: function(e, t) {
                        e.fillStyle = "rgba(0,0,0,0.6)",
                        e.fillRect(t + DOWNLOAD_VISUAL_BLOCK_WIDTH, 0, 3, DOWNLOAD_VISUAL_CTX_HEIGHT)
                    }
                }, {
                    key: "resetCvs",
                    value: function() {
                        this.ctx && (this.ctx.clearRect(0, 0, DOWNLOAD_VISUAL_CTX_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT),
                        this.xAxis = 0)
                    }
                }]),
                e
            }()
              , ContainerProbe = function() {
                function e() {
                    classCallCheck(this, e)
                }
                return createClass(e, null, [{
                    key: "tsProbe",
                    value: function(t) {
                        return !(e._syncOffset(new Uint8Array(t)) < 0)
                    }
                }, {
                    key: "fmp4Probe",
                    value: function(t) {
                        var n = new Uint8Array(t);
                        return e._findBox({
                            data: n,
                            start: 0,
                            end: Math.min(n.length, 16384)
                        }, ["moof"]).length > 0
                    }
                }, {
                    key: "_syncOffset",
                    value: function(e) {
                        for (var t = Math.min(1e3, e.length - 564), n = 0; n < t; ) {
                            if (71 === e[n] && 71 === e[n + 188] && 71 === e[n + 376])
                                return n;
                            n++
                        }
                        return -1
                    }
                }, {
                    key: "_findBox",
                    value: function(t, n) {
                        var i, r, a, o, s, l, u, d = [];
                        if (t.data ? (l = t.start,
                        o = t.end,
                        t = t.data) : (l = 0,
                        o = t.byteLength),
                        !n.length)
                            return null;
                        for (i = l; i < o; )
                            r = e._readUint32(t, i),
                            a = e._bin2str(t.subarray(i + 4, i + 8)),
                            u = r > 1 ? i + r : o,
                            a === n[0] && (1 === n.length ? d.push({
                                data: t,
                                start: i + 8,
                                end: u
                            }) : (s = e._findBox({
                                data: t,
                                start: i + 8,
                                end: u
                            }, n.slice(1)),
                            s.length && (d = d.concat(s)))),
                            i = u;
                        return d
                    }
                }, {
                    key: "_readUint32",
                    value: function(e, t) {
                        e.data && (t += e.start,
                        e = e.data);
                        var n = e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3];
                        return n < 0 ? 4294967296 + n : n
                    }
                }, {
                    key: "_bin2str",
                    value: function(e) {
                        return String.fromCharCode.apply(null, e)
                    }
                }, {
                    key: "parseInitSegment",
                    value: function(t) {
                        var n = [];
                        return e._findBox(t, ["moov", "trak"]).forEach(function(t) {
                            var i = e._findBox(t, ["tkhd"])[0];
                            if (i) {
                                var r = i.data[i.start]
                                  , a = 0 === r ? 12 : 20
                                  , o = e._readUint32(i, a)
                                  , s = e._findBox(t, ["mdia", "mdhd"])[0];
                                if (s) {
                                    r = s.data[s.start],
                                    a = 0 === r ? 12 : 20;
                                    var l = e._readUint32(s, a)
                                      , u = e._findBox(t, ["mdia", "hdlr"])[0];
                                    if (u) {
                                        var d = e._bin2str(u.data.subarray(u.start + 8, u.start + 12))
                                          , c = {
                                            soun: "audio",
                                            vide: "video"
                                        }[d];
                                        if (c) {
                                            var h = e._findBox(t, ["mdia", "minf", "stbl", "stsd"]);
                                            h.length && (h = h[0]),
                                            n[o] = {
                                                timescale: l,
                                                type: c
                                            },
                                            n[c] = {
                                                timescale: l,
                                                id: o
                                            }
                                        }
                                    }
                                }
                            }
                        }),
                        n
                    }
                }]),
                e
            }()
              , TsPipeLine = function(e) {
                function t(e) {
                    var n;
                    return classCallCheck(this, t),
                    n = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    n.worker = getWorker(),
                    n.bindTsWorkerEvent(),
                    n.worker.postMessage({
                        type: "INIT",
                        data: e
                    }),
                    n
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "resetInitSegment",
                    value: function() {
                        this.worker.postMessage({
                            type: "RESET_INIT_SEGMENT"
                        })
                    }
                }, {
                    key: "setDiscontinuity",
                    value: function(e) {
                        this.worker.postMessage({
                            type: "SET_DISCONTINUITY",
                            data: e
                        })
                    }
                }, {
                    key: "probe",
                    value: function(e) {
                        return ContainerProbe.tsProbe(e)
                    }
                }, {
                    key: "changeDecodeKey",
                    value: function(e) {
                        this.worker.postMessage({
                            type: "CHANGE_DECODE_KEY",
                            data: e
                        })
                    }
                }, {
                    key: "bindTsWorkerEvent",
                    value: function() {
                        var e = this;
                        this.onMessage = function(t) {
                            e.emit("SEGMENT_READY", t.data)
                        }
                        ,
                        this.worker.addEventListener("message", this.onMessage),
                        this.worker.onerror = function(t) {
                            e.worker.postMessage({
                                type: "CLEAN_WHEN_ERROR"
                            }),
                            e.emit("SEGMENT_ERROR", t.message)
                        }
                    }
                }, {
                    key: "setBaseMediaDecodeTime",
                    value: function(e) {
                        this.worker.postMessage({
                            type: "SET_BASEMEDIA_DECODE_TIME",
                            data: e
                        })
                    }
                }, {
                    key: "push",
                    value: function(e, t, n, i, r, a, o) {
                        this.worker.postMessage({
                            type: "BUFFER_DATA",
                            data: {
                                buffer: e,
                                encrypted: n,
                                continuous: i,
                                discontinuity: r,
                                timeOffset: a,
                                accurateTimeOffset: o
                            }
                        }, e instanceof ArrayBuffer ? [e] : [])
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.worker.removeEventListener("message", this.onMessage),
                        this.worker.terminate()
                    }
                }]),
                t
            }(EventBus)
              , Fmp4PipeLine = function(e) {
                function t() {
                    return classCallCheck(this, t),
                    possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "probe",
                    value: function(e) {
                        return ContainerProbe.fmp4Probe(e)
                    }
                }, {
                    key: "setBaseMediaDecodeTime",
                    value: function() {}
                }, {
                    key: "changeDecodeKey",
                    value: function() {}
                }, {
                    key: "resetInitSegment",
                    value: function() {}
                }, {
                    key: "setDiscontinuity",
                    value: function() {}
                }, {
                    key: "push",
                    value: function(e, t) {
                        this.emit("SEGMENT_READY", [{
                            type: "video",
                            data: e
                        }, {
                            type: "audio",
                            data: t
                        }])
                    }
                }, {
                    key: "destroy",
                    value: function() {}
                }]),
                t
            }(EventBus)
              , DataPipeLine = function(e) {
                function t(e, n) {
                    var i;
                    classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "DataPipeLine")),
                    i.core = n;
                    var r = {
                        decodeKey: e.decodeKey,
                        keepOriginalTimestamps: !1,
                        remux: !1
                    };
                    return i.muxConfig = {
                        decodeKey: e.decodeKey ? [] : null
                    },
                    i.pipeLines = [new TsPipeLine(r), new Fmp4PipeLine({
                        decodeKey: [35, 226, 167, 163, 15, 152, 162, 234, 254, 53, 169, 158]
                    })],
                    i.pipeLines.forEach(function(e) {
                        i.nextStateBy(e, "SEGMENT_READY", "ready").check("processing"),
                        e.on("SEGMENT_ERROR", function(e) {
                            var t = i.pendingSegment.shift()
                              , n = new SegmentError(SegmentError.WORKER_PARSING_ERROR,e);
                            n.bindSegment(t),
                            i.nextState("error", n, t)
                        })
                    }),
                    i.pendingSegment = [],
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "changeDecodeKey",
                    value: function(e) {
                        this.pipeLines.forEach(function(t) {
                            return t.changeDecodeKey(e)
                        })
                    }
                }, {
                    key: "resetLastSegment",
                    value: function() {
                        this.lastSegment = null
                    }
                }, {
                    key: "resetInitSegment",
                    value: function() {
                        this.pipeLines.forEach(function(e) {
                            return e.resetInitSegment()
                        })
                    }
                }, {
                    key: "onReady",
                    value: function(e) {
                        var t = this.pendingSegment.shift();
                        if (!t)
                            return void this.nextState("idle");
                        if (e.length > 0) {
                            if (e.forEach(function(e) {
                                t["".concat(e.type, "Data")] = e.data,
                                t["".concat(e.type, "Info")] = e.info
                            }),
                            this.muxConfig.decodeKey && (!t.videoData || 0 == t.videoData.byteLength))
                                return this.nextState("error", new DrmError(DrmError.YouKuDrmDecodeError,array2string(this.muxConfig.decodeKey)), t);
                            t.data = null,
                            t.clearError(),
                            t.emit("muxed", t),
                            this.lastSegment = t
                        } else
                            this.nextState("error", new SegmentError(SegmentError.FRAG_PARSING_ERROR,t.url).bindSegment(t), t);
                        this.pendingSegment.length > 0 ? this.nextState("processing") : this.nextState("idle")
                    }
                }, {
                    key: "onProcessing",
                    value: function() {
                        var e = this.pendingSegment[0]
                          , t = this.pipeLines.filter(function(t) {
                            return t.probe(e.data)
                        })[0];
                        if (t) {
                            var n = this.lastSegment && e.id === this.lastSegment.id + 1
                              , i = !(this.lastSegment && e.cc === this.lastSegment.cc)
                              , r = !(this.core.videoElement && this.core.videoElement.seeking || this.core.mediaController.playList.isLive);
                            (!this.lastSegment || this.lastSegment && this.lastSegment.levelId !== e.levelId) && t.resetInitSegment(),
                            t.push(e.data, e.audioData, void 0 === e.drm_notencrypt, n, i, e.start, r)
                        } else
                            this.nextState("error", new SegmentError(SegmentError.WORKER_PARSING_ERROR,"probe fail: 不支持的数据格式"), e)
                    }
                }, {
                    key: "onError",
                    value: function(e, t) {
                        t.setState(SegmentState.INIT),
                        t.emit("error", e)
                    }
                }, {
                    key: "onEnd",
                    value: function() {
                        this.lastSegment = null,
                        this.pendingSegment = [],
                        this.destroy(),
                        this.pipeLines.forEach(function(e) {
                            return e.destroy()
                        })
                    }
                }, {
                    key: "abortAllProcessingSegment",
                    value: function() {
                        this.pendingSegment = [],
                        this.nextState("idle")
                    }
                }, {
                    key: "getLogTags",
                    value: function() {
                        return ["%c".concat(formatTime(new Date)), LOG_BLUE_TAG]
                    }
                }, {
                    key: "push",
                    value: function(e) {
                        if (!this.pendingSegment.find(function(t) {
                            return t.id == e.id
                        }))
                            return this.pendingSegment.push(e),
                            this.nextState("processing"),
                            !0
                    }
                }]),
                t
            }(StateMachine)
              , defaultConfig = {
                version: "2.1.1",
                maxBufferLength: 60,
                maxFlyBufferLength: 130,
                networkAgent: "xhr",
                maxBufferSize: /(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent) ? 31457280 : 62914560,
                gapTolerance: .5,
                maxFragLookupTolerance: .5,
                maxBufferHole: .5,
                domainSet: [],
                resolutionToFilter: [],
                speedMap: {},
                headers: {},
                licenceRequestDataType: "formdata",
                switchedDomain: !1,
                maxFlushThreshold: 50,
                interval: 200,
                maxErrorRetryCount: 3,
                sessionId: Number("".concat(Math.random()).split(".")[1]).toString(20),
                decodeKey: null,
                p2p: !1,
                queueLoad: !1,
                manifestLoadingRetryDelay: 1e3,
                levelLoadingRetryDelay: 1e3,
                fragLoadingRetryDelay: 1e3,
                maxNetworkRetryCount: 5,
                maxSegmentLoadTimeout: 2e4,
                liveSegmentLoadTimeout: 3e4,
                maxM3u8LoadTimeout: 25e3,
                mediaRetryDelay: 1e3,
                liveCanPlayMinSegmentsCount: 1,
                liveMaxLatencyFactor: .9,
                liveFlushIntervalFactor: .7,
                abrEwmaFastLive: 1,
                abrEwmaSlowLive: 10,
                maxShiftTolerance: 1,
                p2pClientId: "",
                lagThreshold: 500,
                uid: "111",
                vid: "",
                keySystem: "com.widevine.alpha",
                defaultAutoLevel: 3,
                abrEnable: !1,
                abrEwmaFastVoD: 3,
                abrEwmaSlowVoD: 9,
                abrEwmaDefaultEstimate: 5e5,
                abrInitBandWidthFactor: .45,
                abrBandWidthFactor: .95,
                abrBandWidthUpFactor: .55,
                licenseServer: "https://pre-license-server.youku.com/ups/drm.json?drmType=widevine&token=5yII1wFs6w5q1B_tOYIteBz1oTmzqM-t6ur4z-Qdw8bkdRdnd2VFojr07NTnKKC_p-gzIkD90AtnRhfG6QaSMCWcum572Okc&vid=XMzk3MDY0ODQyMA==&utdid=&psid=593ad5a432c3f6546656b8a872b2d76b&ccode=0502&mac=&network=&brand=&osVer=&appVer=&clientIp=192.168.1.1&clientTs=1554947211",
                drmType: "default",
                logServer: "https://pcapp-data-collect.youku.com/pclog",
                contextMenu: !1,
                h265: !1
            }
              , Config = function(e) {
                function t() {
                    var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    classCallCheck(this, t),
                    e = possibleConstructorReturn(this, getPrototypeOf(t).call(this));
                    var i = n
                      , r = 0;
                    return Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "bitRate", {
                        get: function() {
                            return i.bitRate || 0
                        },
                        set: function(e) {
                            var t = i.bitRate;
                            e < 0 ? (i.bitRate = 0,
                            r = 0) : e > 0 && (i.bitRate = ((i.bitRate || 0) * r + e) / (r + 1),
                            r++),
                            this.emit("bitRate", i.bitRate, t)
                        }
                    }),
                    Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "maxBufferLength", {
                        get: function() {
                            var e = i.maxBufferLength || defaultConfig.maxBufferLength;
                            if (this.bitRate > 0) {
                                var t = this.maxBufferSize / this.bitRate;
                                e = Math.max(10, Math.min(e, t))
                            }
                            return /(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent) && (e = Math.min(e, 60)),
                            e
                        },
                        set: function(e) {
                            var t = i.maxBufferLength;
                            i.maxBufferLength = e,
                            this.emit("maxBufferLength", this.maxBufferLength, t)
                        }
                    }),
                    Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "isDrm", {
                        get: function() {
                            return "cenc" === i.drmType || "cbcs" === i.drmType
                        }
                    }),
                    Object.keys(defaultConfig).forEach(function(t) {
                        e.hasOwnProperty(t) || Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), t, {
                            get: function() {
                                return "decodeKey" === t ? [] : void 0 !== i[t] ? i[t] : defaultConfig[t]
                            },
                            set: function(e) {
                                var n = i[t];
                                n !== e && (i[t] = e,
                                this.emit(t, e, n))
                            }
                        })
                    }),
                    e
                }
                return inherits(t, e),
                t
            }(EventBus)
              , setConfig = function(e) {
                var t = Object.keys(e).filter(function(e) {
                    return !defaultConfig.hasOwnProperty(e)
                });
                return t.length > 0 && logger.warn("unknown config key:", t.join(",")),
                new Config(e)
            }
              , XHRAgent = function() {
                function e() {
                    classCallCheck(this, e)
                }
                return createClass(e, [{
                    key: "request",
                    value: function(e, t) {
                        var n = new XMLHttpRequest
                          , i = new IPromise(function() {
                            n.activeAbort = !0,
                            n.abort()
                        }
                        );
                        n.open(t.method || "GET", e, !0),
                        t.responseType && (n.responseType = t.responseType),
                        t.timeout && (n.timeout = t.timeout),
                        n.withCredentials = t.withCredentials,
                        n.onabort = function() {
                            n.activeAbort ? n.activeAbort = !1 : i.reject(new NetworkError(NetworkError.Abort,e))
                        }
                        ,
                        n.onload = function(r) {
                            var a = r.target
                              , o = a.response
                              , s = a.status;
                            s >= 200 && s <= 299 && 202 != s ? (n.responseURL && n.responseURL != e && t.urlChanged && t.urlChanged(n.responseURL),
                            i.resolve(o)) : i.reject(new NetworkError({
                                response: {
                                    code: s,
                                    url: e
                                },
                                code: 2e4 + s,
                                message: "请求{%1}时服务器返回出错",
                                severity: 401 == s || 403 == s ? ErrorSeverity.CRITICAL : ErrorSeverity.RECOVERABLE
                            }))
                        }
                        ,
                        n.onerror = function(t) {
                            i.reject(new NetworkError(NetworkError.HttpError,e))
                        }
                        ,
                        n.ontimeout = function() {
                            i.reject(new NetworkError(NetworkError.Timeout,e))
                        }
                        ,
                        n.onprogress = function(e) {
                            t.onProgress && t.onProgress(e)
                        }
                        ;
                        for (var r in t.headers)
                            if (t.headers.hasOwnProperty(r)) {
                                var a = "Authorization" === r ? r : r.toLowerCase();
                                n.setRequestHeader(a, t.headers[r])
                            }
                        return n.send(t.body),
                        i
                    }
                }]),
                e
            }()
              , XHRAgent$1 = new XHRAgent
              , LogService = function() {
                function e() {
                    classCallCheck(this, e)
                }
                return createClass(e, [{
                    key: "sendLog",
                    value: function(e, t) {
                        return XHRAgent$1.request(e, {
                            method: "POST",
                            body: "rbody=".concat(encodeURIComponent(JSON.stringify(t))),
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            }
                        })
                    }
                }, {
                    key: "sendGoldLog",
                    value: function(e) {
                        var t = "player-stat-".concat(Math.floor(1e4 * Math.random()))
                          , n = document.createElement("img");
                        n.src = "".concat(e),
                        n.className = t
                    }
                }]),
                e
            }()
              , LogService$1 = new LogService
              , Detector$1 = function() {
                function e(t, n) {
                    classCallCheck(this, e),
                    this.config = t,
                    this.mediaMonitor = n,
                    this.actions = [],
                    this.seekDot = null,
                    this.changeSourceDot = null,
                    this._recorded = {},
                    this._startPlayTime = 0
                }
                return createClass(e, [{
                    key: "setStartPlayTime",
                    value: function(e) {
                        this._startPlayTime || (this._startPlayTime = e)
                    }
                }, {
                    key: "collectActions",
                    value: function(e, t) {
                        var n = Date.now();
                        this.baseTs || (this.baseTs = n);
                        var i = this.actions[this.actions.length - 1]
                          , r = (n - this.baseTs).toString(36);
                        t = formatNum(t, 3),
                        i && e == i[0] && r == i[1] && t == i[2] ? i[3] = (i[3] || 0) + 1 : this.actions.push([e, r, t])
                    }
                }, {
                    key: "summarize",
                    value: function() {
                        return {
                            actions: this.actions,
                            indicator: this.indicator,
                            parties: this.parties
                        }
                    }
                }, {
                    key: "collect",
                    value: function(e, t) {
                        if (this.collectIndicator(e),
                        t) {
                            var n = t.locateSegment(e.currentTime);
                            this.collectSegments([n && t.getSegmentById(n.id - 1), n, n && t.getSegmentById(n.id + 1)])
                        }
                    }
                }, {
                    key: "collectIndicator",
                    value: function(e) {
                        if (e) {
                            var t = templateBufferInfo(e.buffered)
                              , n = t.getIndicator(e.currentTime, 0);
                            this.indicator = {
                                bufferInfo: t.snapshot(e.currentTime),
                                currentTime: e.currentTime,
                                bufferLength: Number(n.bufferLength).toFixed(4)
                            }
                        }
                    }
                }, {
                    key: "collectSegments",
                    value: function(e) {
                        this.parties = e.map(function(e) {
                            return e && e.serialize()
                        })
                    }
                }, {
                    key: "dotSeek",
                    value: function(e, t) {
                        templateBufferInfo(e).fillGap(this.config.maxBufferHole).indexOf(t) >= 0 || (this.changeSourceDot && (this.changeSourceDot.seek++,
                        void 0 == this.changeSourceDot.firstSeekTs ? this.changeSourceDot.firstSeekTs = Date.now() : this.changeSourceDot.reduce = Date.now() - this.changeSourceDot.firstSeekTs),
                        this.seekDot = {
                            ts: Date.now()
                        })
                    }
                }, {
                    key: "dotChangeSource",
                    value: function() {
                        delete this.seekDot,
                        this.changeSourceDot = {
                            ts: Date.now(),
                            seek: 0
                        }
                    }
                }, {
                    key: "logSeek",
                    value: function() {
                        this.seekDot && (this.loggedSeek || (this.loggedSeek = !0),
                        delete this.seekDot)
                    }
                }, {
                    key: "logChangeSource",
                    value: function() {
                        this.changeSourceDot && (this.loggedChangeSource || (this.loggedChangeSource = !0),
                        delete this.changeSourceDot)
                    }
                }, {
                    key: "getActionsByInterval",
                    value: function(e, t) {
                        this.actions.filter(function(n) {
                            return n.ts >= e && n.ts <= t
                        })
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this._recorded = {},
                        this._startPlayTime = 0
                    }
                }, {
                    key: "record",
                    value: function(e, t, n) {
                        var i = this.config;
                        if (n) {
                            if (this._recorded[e])
                                return;
                            this._recorded[e] = !0
                        }
                        t.t = Date.now(),
                        t.sp = this._startPlayTime,
                        t.playersid = i.sessionId,
                        t.isP2P = i.networkAgent,
                        t.version = i.version,
                        t.cna = i.uid,
                        t.vid = i.vid,
                        t.abr = i.abrEnable ? 1 : 0,
                        t.drmType = i.drmType,
                        t.type = e;
                        var r = Object.keys(t).map(function(e) {
                            return "".concat(e, "=").concat(encodeURIComponent(t[e]))
                        }).join("&");
                        try {
                            window.goldlog.record("/yt/youkuplayer.fdl.ykcore", "EXP", r, "GET")
                        } catch (e) {
                            LogService$1.sendGoldLog("//gm.mmstat.com/yt/youkuplayer.fdl.ykcore?".concat(r))
                        }
                    }
                }, {
                    key: "sendGoldLog",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                          , i = this.config
                          , r = this.mediaMonitor
                          , a = this.formatSummary(e);
                        a.t = Date.now(),
                        a.playersid = i.sessionId,
                        a.isP2P = i.networkAgent,
                        a.version = i.version,
                        a.cna = i.uid,
                        a.vid = i.vid,
                        a.drmType = i.drmType,
                        a.type = t,
                        a.h265 = i.h265,
                        a.videoHeight = r.segInfo && r.segInfo.height,
                        a.speed = formatNum(1024 * (r.downMonitor.getSpeed().speed || 0), 2),
                        a.maxSpeed = formatNum(1024 * (r.downMonitor.getMaxSpeed().maxSpeed || 0), 2),
                        a = objectSpread({}, a, n);
                        var o = Object.keys(objectSpread({}, a, n)).map(function(e) {
                            return "".concat(e, "=").concat(encodeURIComponent(a[e]))
                        }).join("&");
                        try {
                            window.goldlog.record("/yt/youkuplayer.fdl.ykcore", "EXP", o, "GET")
                        } catch (e) {
                            LogService$1.sendGoldLog("//gm.mmstat.com/yt/youkuplayer.fdl.ykcore?".concat(o))
                        }
                    }
                }, {
                    key: "collectSpeed",
                    value: function(e, t) {
                        if (!e)
                            return "";
                        for (var n = e.getSegments(), i = [], r = 0; r < n.length; r++) {
                            var a = n[r];
                            if (a.elapsed > 0 && a.size > 0) {
                                var o = 1e3 * a.size / a.elapsed
                                  , s = Math.round(o / 102400);
                                s !== i[i.length - 1] && i.push(s)
                            } else if (a.start > t + 2 * a.duration)
                                break
                        }
                        return base64ForUrl(resolveSamples(i).slice(-35).map(function(e) {
                            return String.fromCharCode(Math.min(e + 32, 126))
                        }).join(""))
                    }
                }, {
                    key: "formatSummary",
                    value: function(e) {
                        return {
                            sp: this._startPlayTime,
                            baseTs: this.baseTs,
                            actions: e.actions.slice(-50).map(function(e) {
                                return e.join("!")
                            }).join("-"),
                            bufferInfo: this.indicator.bufferInfo.map(function(e) {
                                return e.join("~")
                            }).join("!"),
                            currentTime: this.indicator.currentTime,
                            bufferLength: this.indicator.bufferLength,
                            parties: this.parties ? this.parties.join("-") : "",
                            cdn: this.mediaMonitor.cdn,
                            schedule: this.mediaMonitor.schedule || "",
                            switched: this.switched || this.config.switchDomain,
                            drop: this.mediaMonitor.checkFPS().droppedFPS || 0
                        }
                    }
                }, {
                    key: "sendLog",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                          , n = arguments.length > 2 ? arguments[2] : void 0
                          , i = this.config
                          , r = this.mediaMonitor
                          , a = this.formatSummary(t)
                          , o = browserDetect()
                          , s = o.name
                          , l = o.os
                          , u = o.version
                          , d = r.getInfo()
                          , c = d.audioCodec
                          , h = d.audioSampleRate
                          , p = d.videoCodec
                          , f = d.profileIdc
                          , m = d.levelIdc
                          , y = d.schedule
                          , g = d.videoHeight
                          , v = d.videoWidth
                          , _ = d.networkAgent
                          , b = d.restBuffered
                          , k = d.cdn
                          , S = "".concat(i.logServer, "?").concat(paramsSerialize({
                            logtype: "error",
                            cid: "corex",
                            ver: i.version,
                            mac: i.uid,
                            pid: i.vid,
                            drmType: i.drmType,
                            rid: e,
                            api: y,
                            apikey: _,
                            apitype: s,
                            subtype: u,
                            errcode: n,
                            os: l
                        }));
                        LogService$1.sendLog(S, objectSpread({}, a, {
                            error: t.error,
                            cdn: k,
                            videoInfo: {
                                audioCodec: c,
                                audioSampleRate: h,
                                videoCodec: p,
                                profileIdc: f,
                                levelIdc: m,
                                restBuffered: b,
                                video: {
                                    width: v,
                                    height: g
                                },
                                speed: r.downMonitor.getSpeed().speedFormatted,
                                maxSpeed: r.downMonitor.getMaxSpeed().maxSpeedFormatted
                            }
                        }))
                    }
                }]),
                e
            }()
              , MediaMonitor = function(e) {
                function t(e, n) {
                    var i;
                    return classCallCheck(this, t),
                    i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaMonitor")),
                    i.config = e,
                    i.core = n,
                    i.isVideoPlaybackQualityAvailable = !1,
                    i
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "mountSegment",
                    value: function(e) {
                        if (e) {
                            this.segInfo = e.videoInfo,
                            this.videoCodec = e.videoInfo ? generateVideoCodec(e.videoInfo) : this.playList.currentLevel.videoCodec,
                            this.profileIdc = e.videoInfo ? e.videoInfo.profileIdc : 66,
                            this.levelIdc = e.videoInfo && e.videoInfo.levelIdc;
                            var t = e.url.match(/(?:http|https):\/\/([^/]+)/);
                            this.cdn = t && t[1],
                            this.schedule = this.extractScheduleInfo(e.url),
                            this.audioCodec = e.audioInfo ? generateAudioCodec(e.audioInfo) : this.playList.currentLevel.audioCodec,
                            this.audioSampleRate = e.audioInfo ? e.audioInfo.samplerate : void 0
                        }
                    }
                }, {
                    key: "extractScheduleInfo",
                    value: function(e) {
                        var t, n = /https?:\/\/([^/]+)/.exec(e), i = n && n.length && n[1], r = getMatchedEntry(e, "xmlhttprequest");
                        if (r && r.name && (t = /https?:\/\/([^/]+)/.exec(r.name)[1]),
                        "function" == typeof performance.clearResourceTimings && performance.getEntries().length > 10 && performance.clearResourceTimings(),
                        i !== t)
                            return t
                    }
                }, {
                    key: "mountDownload",
                    value: function(e) {
                        this.downMonitor = e
                    }
                }, {
                    key: "mountBuffered",
                    value: function(e) {
                        this.bufferIndicator = e
                    }
                }, {
                    key: "mountMedia",
                    value: function(e) {
                        this.media = e,
                        "function" == typeof e.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0)
                    }
                }, {
                    key: "mountPlayList",
                    value: function(e) {
                        this.playList = e
                    }
                }, {
                    key: "mountFlyBuffer",
                    value: function(e) {
                        this.flySourceBuffer = e
                    }
                }, {
                    key: "checkFPS",
                    value: function() {
                        if (this.isVideoPlaybackQualityAvailable) {
                            var e = this.media.getVideoPlaybackQuality();
                            return this._checkFPS(e.totalVideoFrames, e.droppedVideoFrames)
                        }
                        return this._checkFPS(this.media ? this.media.webkitDecodedFrameCount : "", this.media ? this.media.webkitDroppedFrameCount : "")
                    }
                }, {
                    key: "_checkFPS",
                    value: function(e, t) {
                        return e ? {
                            droppedFrames: t,
                            decodedFrames: e,
                            droppedFPS: "".concat((100 * t / e).toFixed(2), "%")
                        } : {}
                    }
                }, {
                    key: "getVolume",
                    value: function() {
                        return this.media ? this.media.volume : ""
                    }
                }, {
                    key: "_getBuffered",
                    value: function(e, t) {
                        if (e) {
                            var n = e.getIndicator(t, this.config.gapTolerance);
                            return parseFloat(n.bufferLength.toFixed(2))
                        }
                        return 0
                    }
                }, {
                    key: "_getVideoBuffered",
                    value: function() {
                        var e;
                        try {
                            e = this.core.mediaController.mediaBuffer.videoSourceBuffer ? this.core.mediaController.mediaBuffer.videoSourceBuffer.buffered : this.core.videoElement.buffered
                        } catch (t) {
                            e = []
                        }
                        return e
                    }
                }, {
                    key: "restBuffered",
                    value: function() {
                        return this._getBuffered(templateBufferInfo(this._getVideoBuffered()).fillGap(.5), this.media.currentTime)
                    }
                }, {
                    key: "restFlyBuffered",
                    value: function() {
                        var e = this.restBuffered();
                        return this.flySourceBuffer ? this._getBuffered(this.flySourceBuffer.flyBuffered, this.media.currentTime + e) : 0
                    }
                }, {
                    key: "getInfo",
                    value: function() {
                        var e = this.config;
                        return objectSpread({}, this.downMonitor.getSpeed(), this.downMonitor.getMaxSpeed(), {
                            restBuffered: this.restBuffered(),
                            restFlyBuffered: this.restFlyBuffered(),
                            maxBufferLength: e.maxBufferLength,
                            maxFlyBufferLength: e.maxFlyBufferLength,
                            networkAgent: e.networkAgent
                        }, this.checkFPS(), {
                            volume: "".concat(parseFloat((100 * this.getVolume()).toFixed(2)), "%"),
                            playlist: this.playList && this.playList.plType,
                            videoFormat: this.playList && this.playList.isFmp4() ? "fmp4" : "ts",
                            videoWidth: this.segInfo && this.segInfo.width || this.media.videoWidth,
                            videoHeight: this.segInfo && this.segInfo.height || this.media.videoHeight,
                            cdn: this.cdn,
                            schedule: this.schedule,
                            audioCodec: this.audioCodec,
                            audioSampleRate: this.audioSampleRate,
                            videoCodec: this.videoCodec,
                            profileIdc: this.profileIdc,
                            levelIdc: this.levelIdc
                        })
                    }
                }]),
                t
            }(EventBus)
              , DownloadMonitor = function(e) {
                function t() {
                    var e;
                    return classCallCheck(this, t),
                    e = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    e.lastTime = 0,
                    e.lastLoaded = 0,
                    e.lastAvSpeed = 0,
                    e.checkRepeatSpeedTimes = 2,
                    e.speedPointList = [],
                    e.maxSpeedList = [],
                    e._loaded = 0,
                    e._total = 0,
                    e
                }
                return inherits(t, e),
                createClass(t, [{
                    key: "onRequestProgress",
                    value: function(e) {
                        this.speed = 0;
                        var t = e.loaded
                          , n = e.total;
                        this._loaded = t,
                        this._total = n;
                        var i;
                        this.lastTime && (i = (t - this.lastLoaded) / (performance.now() - this.lastTime),
                        i = isFinite(i) ? i : 0,
                        this.speedPointList.push(1e3 * i / 1024 / 1024)),
                        t === n ? (this.lastLoaded = 0,
                        this.lastTime = 0,
                        this.emit("segmentLoaded", {
                            total: n,
                            timestamp: performance.now()
                        })) : (this.lastLoaded = t,
                        this.lastTime = performance.now())
                    }
                }, {
                    key: "onLoadSpeed",
                    value: function(e) {
                        this.speedPointList.push(e / 1024 / 1024)
                    }
                }, {
                    key: "calcAverageSpeed",
                    value: function(e) {
                        var t = this.calcAverage(e);
                        if (t) {
                            var n = this.calcStandardDeviation(t, e);
                            if (n > .28)
                                return this.speedPointList = e.filter(function(e) {
                                    return Math.abs(e - t) < n
                                }),
                                this.calcAverageSpeed(this.speedPointList);
                            var i = 0;
                            this.speedPointList.forEach(function(e) {
                                e > i && (i = e)
                            }),
                            i && (this.maxSpeedList.push(i),
                            this.maxSpeedList.length > 30 && (this.maxSpeedList = this.maxSpeedList.splice(15)))
                        }
                        return t
                    }
                }, {
                    key: "calcAverageMaxSpeed",
                    value: function(e) {
                        return this.calcAverage(e)
                    }
                }, {
                    key: "calcAverage",
                    value: function(e) {
                        var t = e.length;
                        return t ? e.reduce(function(e, t) {
                            return e += t
                        }, 0) / t : 0
                    }
                }, {
                    key: "calcStandardDeviation",
                    value: function(e, t) {
                        var n = t.map(function(t) {
                            return (t - e) * (t - e)
                        }).reduce(function(e, t) {
                            return e += t
                        }, 0) / t.length;
                        return Math.sqrt(n)
                    }
                }, {
                    key: "getSpeed",
                    value: function() {
                        var e = this.speedPointList.length
                          , t = this.calcAverageSpeed(this.speedPointList);
                        return 0 !== this.lastAvSpeed && this.lastAvSpeed === t && (this.checkRepeatSpeedTimes -= 1),
                        this.lastAvSpeed = t,
                        0 === this.checkRepeatSpeedTimes ? (this.checkRepeatSpeedTimes = 2,
                        this.speedPointList = []) : this.speedPointList = this.speedPointList.slice(Math.floor(e / 2)),
                        {
                            speed: t,
                            speedFormatted: formatSpeed(t)
                        }
                    }
                }, {
                    key: "getMaxSpeed",
                    value: function() {
                        var e = this.calcAverageMaxSpeed(this.maxSpeedList);
                        return {
                            maxSpeed: e,
                            maxSpeedFormatted: formatSpeed(e)
                        }
                    }
                }, {
                    key: "loaded",
                    get: function() {
                        return this._loaded
                    }
                }, {
                    key: "total",
                    get: function() {
                        return this._total
                    }
                }]),
                t
            }(EventBus)
              , P2PAgent = function() {
                function e(t) {
                    classCallCheck(this, e),
                    this.pendingPromise = [],
                    this.config = t
                }
                return createClass(e, [{
                    key: "destroy",
                    value: function() {
                        this.dataManager && (this.dataManager.close(),
                        this.dataManager = null)
                    }
                }, {
                    key: "init",
                    value: function(e, t) {
                        var n = this
                          , i = this.config;
                        if ("function" == typeof window.PCDNDataManager && window.PCDNDataManager.isSupported()) {
                            i.networkAgent = "xhr",
                            this.destroy(),
                            this.dataManager = new window.PCDNDataManager({
                                clientId: i.p2pClientId,
                                timeout: i.maxSegmentLoadTimeout,
                                cna: i.uid,
                                retryTimes: 0
                            });
                            var r = e.filter(function(e) {
                                return -1 === e.url.indexOf("/ad/") && -1 === e.url.indexOf("ccode=0902") || (e.isWedge = !0),
                                !e.isWedge
                            }).map(function(e) {
                                return {
                                    url: e.url,
                                    duration: e.duration,
                                    filesize: e.filesize || 0
                                }
                            });
                            this.dataManager.setUrlInfo({
                                m3u8Url: t,
                                tsUrl: r
                            }),
                            this.dataManager.on(window.PCDNDataManager.Events.DATA, function(e) {
                                var t = e.fragdata.payload;
                                if (n.pendingPromise.length > 0 && e.frag.url === n.pendingPromise[0].url) {
                                    n.pendingPromise.shift().resolve(t)
                                }
                                n.pendingPromise.length > 0 && n.dataManager.requestTSData({
                                    url: n.pendingPromise[0].url
                                })
                            }),
                            this.dataManager.on(window.PCDNDataManager.Events.ERROR, function(e) {
                                var t = new NetworkError(NetworkError.HttpError);
                                if ("TimeoutError" === e.type ? t = new NetworkError(NetworkError.Timeout) : "ResponseError" === e.type && (t = new NetworkError({
                                    response: {
                                        code: e.code || 555,
                                        url: e.url
                                    },
                                    code: 21e3 + (e.code || 555),
                                    message: "请求{%1}时服务器返回出错"
                                })),
                                n.pendingPromise.length > 0 && e.url === n.pendingPromise[0].url) {
                                    n.pendingPromise.shift().reject(t)
                                }
                                n.pendingPromise.length > 0 && n.dataManager.requestTSData({
                                    url: n.pendingPromise[0].url
                                })
                            }),
                            this.dataManager.on("progress", function(e) {
                                n.onProgress(e)
                            }),
                            this.dataManager.on(window.PCDNDataManager.Events.READY, function(e) {
                                e ? (i.networkAgent = "degrade",
                                n.destroy()) : i.networkAgent = "p2p",
                                i.emit("record", {
                                    type: "p2p",
                                    params: {
                                        enable: !e
                                    },
                                    justOnce: !0
                                })
                            })
                        } else
                            i.emit("record", {
                                type: "p2p",
                                params: {
                                    enable: "function" != typeof window.PCDNDataManager ? -1 : -2
                                },
                                justOnce: !0
                            })
                    }
                }, {
                    key: "setRemainTime",
                    value: function(e) {
                        this.dataManager && this.dataManager.setPlayDuration(e)
                    }
                }, {
                    key: "request",
                    value: function(e, t) {
                        var n = this;
                        if (this.dataManager && "function" == typeof this.dataManager.switchDomain)
                            if (this.onProgress || (this.onProgress = t.onProgress),
                            e !== t.originUrl) {
                                var i = e.match(/(?:https?:\/\/)([^/]+)/);
                                this.dataManager.switchDomain(i && i[1])
                            } else
                                this.dataManager.switchDomain(null);
                        e = t.originUrl;
                        var r = new IPromise(function() {
                            r.aborted = !0,
                            n.pendingPromise = n.pendingPromise.filter(function(e) {
                                return e !== r
                            })
                        }
                        );
                        return r.url = e,
                        r.ts = Date.now(),
                        this.dataManager ? (this.pendingPromise.push(r),
                        this.pendingPromise = this.pendingPromise.filter(function(e) {
                            return Date.now() - e.ts < n.config.maxSegmentLoadTimeout
                        }),
                        1 == this.pendingPromise.length && this.dataManager.requestTSData({
                            url: e
                        })) : r.reject(new Error("no p2p sdk")),
                        r
                    }
                }]),
                e
            }()
              , SWITCH_HOST_LIST = ["valipl.cp31.ott.cibntv.net", "v6-valipl.cp31.ott.cibntv.net", "valipl-vip.cp31.ott.cibntv.net", "v6-valipl-vip.cp31.ott.cibntv.net"]
              , DataService = function() {
                function e(t, n) {
                    classCallCheck(this, e),
                    this.config = t,
                    this.onProgress = n,
                    this.p2pAgent = new P2PAgent(t),
                    this.maxRetryCount = this.config.maxNetworkRetryCount,
                    this.pendingSegmentReqeusts = {},
                    this.pendingPlaylistRequests = {},
                    this.speedMap = {}
                }
                return createClass(e, [{
                    key: "_switchM3u8Host",
                    value: function(e, t) {
                        var n = getDomain(e);
                        return -1 !== SWITCH_HOST_LIST.indexOf(n) ? replaceDomain(e, "v4-".concat(n.replace("v6-", ""))) : t
                    }
                }, {
                    key: "requestPlayList",
                    value: function(e, t, n) {
                        var i = this
                          , r = new IPromise
                          , a = e
                          , o = this.config
                          , s = o.manifestLoadingRetryDelay
                          , l = o.levelLoadingRetryDelay
                          , u = o.maxM3u8LoadTimeout
                          , d = 0
                          , c = "MANIFEST" === t ? s : l;
                        return this.pendingPlaylistRequests[a] = 0,
                        function t(o) {
                            if ((d = i.pendingPlaylistRequests[a] += 1) <= i.maxRetryCount) {
                                XHRAgent$1.request(e, {
                                    responseType: "text",
                                    timeout: u,
                                    headers: i.config.headers,
                                    urlChanged: n
                                }).then(function(e) {
                                    delete i.pendingPlaylistRequests[a],
                                    r.resolve(e)
                                }, function(n) {
                                    setTimeout(function() {
                                        e = i._switchM3u8Host(e, a),
                                        t(n)
                                    }, c)
                                })
                            } else
                                delete i.pendingPlaylistRequests[a],
                                r.reject(o)
                        }(),
                        r
                    }
                }, {
                    key: "abortAllPlaylistRequest",
                    value: function() {
                        var e = this;
                        Object.keys(this.pendingPlaylistRequests).forEach(function(t) {
                            e.pendingPlaylistRequests[t] = e.maxRetryCount
                        })
                    }
                }, {
                    key: "abortAllSegmentRequest",
                    value: function(e) {
                        var t = this;
                        Object.keys(this.pendingSegmentReqeusts).forEach(function(n) {
                            t.pendingSegmentReqeusts[n].abort(e),
                            delete t.pendingSegmentReqeusts[n]
                        })
                    }
                }, {
                    key: "abortSegment",
                    value: function(e, t) {
                        this.pendingSegmentReqeusts[e] && (this.pendingSegmentReqeusts[e].abort(t),
                        delete this.pendingSegmentReqeusts[e])
                    }
                }, {
                    key: "_switchDomain",
                    value: function(e, t) {
                        if (t.switchDomain && t.domainSet.length > 1) {
                            var n = t.domainSet.indexOf(getDomain(e));
                            if (-1 != n) {
                                var i = t.domainSet[(n + 1) % 2];
                                if (i)
                                    return replaceDomain(e, i)
                            }
                        }
                        return e
                    }
                }, {
                    key: "recordSpeed",
                    value: function(e, t) {
                        var n = this
                          , i = getDomain(e);
                        this.speedMap[i] || (this.speedMap[i] = []),
                        this.speedMap[i].push(t),
                        this.speedMap[i].filter(function(e) {
                            return e > 0
                        }).length >= 2 && 2 === Object.keys(this.speedMap).length && (this.config.speedMap = Object.keys(this.speedMap).reduce(function(e, t) {
                            var i = n.speedMap[t].reduce(function(e, t) {
                                return e + t
                            }, 0) / n.speedMap[t].length;
                            return e[t] = i || n.config.speedMap[t] / 2,
                            n.speedMap[t] = [],
                            e
                        }, {
                            current: i
                        }))
                    }
                }, {
                    key: "requestSegment",
                    value: function(e, t) {
                        var n = this
                          , i = this.config
                          , r = XHRAgent$1;
                        "p2p" !== i.networkAgent || t.isWedge || (r = this.p2pAgent);
                        var a = new IPromise
                          , o = 0;
                        return function t() {
                            var s = Date.now()
                              , l = n._switchDomain(e, i)
                              , u = r.request(l, {
                                responseType: "arraybuffer",
                                onProgress: n.onProgress,
                                originUrl: e,
                                headers: n.config.headers
                            });
                            u.then(function(e) {
                                delete n.pendingSegmentReqeusts[u.id],
                                n.recordSpeed(l, 1e3 * e.byteLength / (Date.now() - s)),
                                a.resolve(e)
                            }, function(e) {
                                delete n.pendingSegmentReqeusts[u.id],
                                n.recordSpeed(l, 0),
                                n.recordSpeed(l, 0),
                                o < i.maxNetworkRetryCount && !e.is(AbortError) ? (o++,
                                setTimeout(function() {
                                    return t()
                                }, n.config.fragLoadingRetryDelay)) : (o >= i.maxNetworkRetryCount && "p2p" === i.networkAgent && navigator.onLine && (i.networkAgent = "degrade",
                                n.p2pAgent.destroy(),
                                i.emit("record", {
                                    type: "p2p_degrade",
                                    params: {
                                        error: e.code || 0
                                    },
                                    justOnce: !0
                                })),
                                a.reject(e))
                            }),
                            n.pendingSegmentReqeusts[u.id] = u,
                            a.abortId = u.id
                        }(),
                        a
                    }
                }, {
                    key: "initP2P",
                    value: function(e, t) {
                        this.p2pAgent.init(e, t)
                    }
                }, {
                    key: "setLevelIndicator",
                    value: function(e) {
                        this.levelIndicator = e
                    }
                }, {
                    key: "setRemainTime",
                    value: function(e) {
                        this.p2pAgent.setRemainTime(e)
                    }
                }, {
                    key: "requestLicence",
                    value: function(e, t) {
                        var n, i = this, r = new IPromise, a = 0, o = t;
                        "formdata" === this.config.licenceRequestDataType ? (o = Object.keys(t).reduce(function(e, n, i) {
                            return "".concat(e + (i > 0 ? "&" : "") + n, "=").concat(t[n])
                        }, ""),
                        n = objectSpread({
                            "Content-Type": "application/x-www-form-urlencoded"
                        }, this.config.headers)) : (n = objectSpread({
                            "Content-Type": "application/json"
                        }, this.config.headers),
                        o = JSON.stringify(t));
                        return function t(s) {
                            a <= i.maxRetryCount ? (a++,
                            XHRAgent$1.request(e, {
                                method: "POST",
                                body: o,
                                responseType: "json",
                                headers: n
                            }).then(function(e) {
                                0 === e.states ? r.resolve(e) : setTimeout(function() {
                                    t(e)
                                }, 500)
                            }, function(e) {
                                setTimeout(function() {
                                    t(e)
                                }, 500)
                            })) : r.reject(s)
                        }(),
                        r
                    }
                }, {
                    key: "sendLog",
                    value: function(e, t) {
                        return XHRAgent$1.request(e, {
                            method: "POST",
                            body: "rbody=".concat(encodeURIComponent(JSON.stringify(t))),
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            }
                        })
                    }
                }]),
                e
            }();
            DataService.RequestType = {
                PLAY_LIST: 0,
                SEGMENT: 1,
                LICENSE: 2
            };
            var QueueLoad = function() {
                function e(t, n, i) {
                    classCallCheck(this, e),
                    this._media = t,
                    this._usage = !1,
                    this.config = n,
                    this.mediaMonitor = i,
                    this.startQueueLoad = this.startQueueLoad.bind(this),
                    this.bindEvent(t)
                }
                return createClass(e, [{
                    key: "bindEvent",
                    value: function(e) {
                        var t = this;
                        e.addEventListener("waiting", this.startQueueLoad),
                        e.addEventListener("seeked", function() {
                            t._usage = !1
                        }),
                        e.addEventListener("playing", function() {
                            t._usage = !1
                        })
                    }
                }, {
                    key: "startQueueLoad",
                    value: function() {
                        var e = this.mediaMonitor.restBuffered();
                        if (this.config.queueLoad && 0 !== e && e < 1 && this._media.currentTime >= 10)
                            return void (this._usage = !0);
                        this._usage = !1
                    }
                }, {
                    key: "usage",
                    get: function() {
                        return this._usage
                    }
                }]),
                e
            }()
              , VideoManager = function(e) {
                function t() {
                    var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return classCallCheck(this, t),
                    e = possibleConstructorReturn(this, getPrototypeOf(t).call(this)),
                    e.config = setConfig(n),
                    e.dataPipeLine = new DataPipeLine(n,assertThisInitialized(assertThisInitialized(e))),
                    e.mediaMonitor = new MediaMonitor(e.config,assertThisInitialized(assertThisInitialized(e))),
                    e.detector = new Detector$1(e.config,e.mediaMonitor),
                    e.downMonitor = new DownloadMonitor,
                    e.mediaMonitor.mountDownload(e.downMonitor),
                    e.dataService = new DataService(e.config,function() {
                        for (var t, n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                            i[r] = arguments[r];
                        (t = e.downMonitor.onRequestProgress).call.apply(t, [e.downMonitor].concat(i))
                    }
                    ),
                    e.config.on("decodeKey", function(t) {
                        e.dataPipeLine.changeDecodeKey(t)
                    }),
                    e.config.on("record", function(t) {
                        e.detector.record(t.type, t.params, t.justOnce)
                    }),
                    window.corex = assertThisInitialized(assertThisInitialized(e)),
                    e
                }
                return inherits(t, e),
                createClass(t, null, [{
                    key: "isSupported",
                    value: function() {
                        return isSupported()
                    }
                }, {
                    key: "Events",
                    get: function() {
                        return CoreXEvents
                    }
                }]),
                createClass(t, [{
                    key: "resume",
                    value: function() {
                        clearTimeout(this.offlineTimer),
                        this.mediaDriver && this.mediaDriver.online(),
                        this.mediaController && this.mediaController.nextState("idle")
                    }
                }, {
                    key: "fatalError",
                    value: function(e) {
                        var t = this;
                        e.fatal = !0,
                        this.detector.collectActions(Action.ERROR, e.code),
                        this.detector.collect(this.videoElement, this.mediaController && this.mediaController.playList);
                        var n = this.detector.summarize();
                        n.error = e.serialize(),
                        this.detector.sendGoldLog(n, "error", n.error),
                        clearTimeout(this.offlineTimer),
                        this.offlineTimer = setTimeout(function() {
                            t.mediaDriver && t.mediaDriver.offline()
                        }, 500),
                        this.emit(CoreXEvents.ERROR, CoreXEvents.ERROR, e)
                    }
                }, {
                    key: "init",
                    value: function() {
                        this.adaptFairplay() || (this.queueLoad = new QueueLoad(this.videoElement,this.config,this.mediaMonitor),
                        this.mediaController = new MediaController(this.videoElement,this),
                        this.mediaMonitor.mountMedia(this.videoElement),
                        this.mediaDriver = new MediaDriver(this.videoElement,this.mediaController,this),
                        this.url && this.loadSource(this.url))
                    }
                }, {
                    key: "_initFairplay",
                    value: function(e) {
                        var t = this;
                        this.videoElement.src = e,
                        this.fpDrmController || (this.fpDrmController = new FpDrmController(this.videoElement,this.dataService,this.config),
                        this.fpDrmController.on("error", function(e) {
                            t.fatalError(e)
                        }),
                        this.fpDrmController.init())
                    }
                }, {
                    key: "adaptFairplay",
                    value: function() {
                        if (this.config.isDrm && "safari" === browserDetect().name)
                            return !this.url || !this.videoElement || (this._initFairplay(this.url),
                            !0)
                    }
                }, {
                    key: "selectStream",
                    value: function(e) {
                        this.mediaDriver && this.mediaDriver.changeStream("streamtype", e)
                    }
                }, {
                    key: "collect",
                    value: function() {
                        if (this.videoElement) {
                            this.detector.collect(this.videoElement, this.mediaController && this.mediaController.playList);
                            var e = this.detector.summarize();
                            return this.detector.formatSummary(e)
                        }
                    }
                }, {
                    key: "collectSpeed",
                    value: function() {
                        return this.detector.collectSpeed(this.mediaController && this.mediaController.playList, this.videoElement && this.videoElement || 0)
                    }
                }, {
                    key: "attachMedia",
                    value: function(e) {
                        this.videoElement ? this.videoElement : (this.videoElement = e,
                        this.init())
                    }
                }, {
                    key: "detachMedia",
                    value: function() {}
                }, {
                    key: "loadSource",
                    value: function(e) {
                        if (this.config.abrEnable = !1,
                        this.mediaDriver) {
                            if (this.adaptFairplay())
                                return;
                            /^\s*#EXTM3U/.test(e) ? this.mediaDriver.loadPlayList({
                                source: e
                            }) : "string" == typeof e ? this.mediaDriver.loadPlayList({
                                url: e
                            }) : Array.isArray && Array.isArray(e) && this.mediaDriver.loadPlayList(e.map(function(e) {
                                return "string" == typeof e ? {
                                    url: e
                                } : e
                            })),
                            this.url = void 0
                        } else
                            this.url = e,
                            this.adaptFairplay()
                    }
                }, {
                    key: "abrEnable",
                    value: function(e) {
                        this.config.abrEnable = e
                    }
                }, {
                    key: "resolutionToFilter",
                    value: function(e) {
                        this.config.resolutionToFilter = e
                    }
                }, {
                    key: "startLoad",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
                        this.mediaDriver.setStartLoad(e)
                    }
                }, {
                    key: "setMaxAutoLevel",
                    value: function(e) {
                        this.mediaController.maxAutoLevel = e
                    }
                }, {
                    key: "setMinAutoLevel",
                    value: function(e) {
                        this.mediaController.minAutoLevel = e
                    }
                }, {
                    key: "setInitPlayAutoLevel",
                    value: function(e) {
                        this.mediaController.initPlayAutoLevel = e
                    }
                }, {
                    key: "getTotalDuration",
                    value: function() {
                        return this.mediaController && this.mediaController.playList ? this.mediaController.playList.getTotalDuration() : 0
                    }
                }, {
                    key: "getAbrCurrentStreamType",
                    value: function() {
                        return this.mediaDriver.abrCurrentStreamType
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.mediaDriver && this.mediaDriver.destroy(),
                        this.mediaController && this.mediaController.nextState("end"),
                        this.fpDrmController && this.fpDrmController.nextState("end")
                    }
                }, {
                    key: "destroyFully",
                    value: function() {
                        this.destroy(),
                        this.videoElement instanceof HTMLVideoElement ? this.videoElement.remove() : this.videoElement.canvas && this.videoElement.canvas.remove()
                    }
                }, {
                    key: "levels",
                    get: function() {
                        return this.mediaController._playList.levels
                    }
                }, {
                    key: "segmentDuration",
                    get: function() {
                        return this.mediaController.segmentDuration
                    }
                }, {
                    key: "drmSessionUpdateStatus",
                    get: function() {
                        return this.mediaController.drmController.sessionUpdateStatus
                    }
                }]),
                t
            }(EventBus);
            return VideoManager.VideoInfoPlugin = VideoInfoPlugin,
            VideoInfoPlugin.Events = CoreXEvents,
            VideoManager
        })
    }
    ).call(exports, __webpack_require__(142))
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.QRMath = {
        gexp: function(e) {
            for (; e < 0; )
                e += 255;
            for (; e >= 256; )
                e -= 255;
            return t.QRMath.EXP_TABLE[e]
        },
        glog: function(e) {
            if (e < 1)
                throw new Error("glog(" + e + ")");
            return t.QRMath.LOG_TABLE[e]
        },
        EXP_TABLE: new Array(256),
        LOG_TABLE: new Array(256)
    },
    function() {
        for (var e = 0; e < 8; e++)
            t.QRMath.EXP_TABLE[e] = 1 << e;
        for (var e = 8; e < 256; e++)
            t.QRMath.EXP_TABLE[e] = t.QRMath.EXP_TABLE[e - 4] ^ t.QRMath.EXP_TABLE[e - 5] ^ t.QRMath.EXP_TABLE[e - 6] ^ t.QRMath.EXP_TABLE[e - 8];
        for (var e = 0; e < 255; e++)
            t.QRMath.LOG_TABLE[t.QRMath.EXP_TABLE[e]] = e
    }()
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(99)
      , r = function() {
        function e(e, t) {
            if (void 0 === e.length)
                throw new Error(e.length + "/" + t);
            for (var n = 0; n < e.length && 0 === e[n]; )
                n++;
            this.num = new Array(e.length - n + t);
            for (var i = 0; i < e.length - n; i++)
                this.num[i] = e[i + n]
        }
        return e.prototype.get = function(e) {
            return this.num[e]
        }
        ,
        e.prototype.getLength = function() {
            return this.num.length
        }
        ,
        e.prototype.multiply = function(t) {
            for (var n = new Array(this.getLength() + t.getLength() - 1), r = 0; r < this.getLength(); r++)
                for (var a = 0; a < t.getLength(); a++)
                    n[r + a] ^= i.QRMath.gexp(i.QRMath.glog(this.get(r)) + i.QRMath.glog(t.get(a)));
            return new e(n,0)
        }
        ,
        e.prototype.mod = function(t) {
            var n = this.getLength()
              , r = t.getLength();
            if (n - r < 0)
                return this;
            for (var a = new Array(n), o = 0; o < n; o++)
                a[o] = this.get(o);
            for (; a.length >= r; ) {
                for (var s = i.QRMath.glog(a[0]) - i.QRMath.glog(t.get(0)), o = 0; o < t.getLength(); o++)
                    a[o] ^= i.QRMath.gexp(i.QRMath.glog(t.get(o)) + s);
                for (; 0 === a[0]; )
                    a.shift()
            }
            return new e(a,0)
        }
        ,
        e
    }();
    t.QRPolynomial = r
}
, function(e, t, n) {
    "use strict";
    function i(e, t, n) {
        if (t) {
            var i = o ? e.changedTouches[0].clientX : e.pageX
              , r = o ? e.changedTouches[0].clientY : e.clientY
              , a = i - n.x
              , s = r - n.y;
            return a <= n.minLeft && (a = n.minLeft),
            a >= n.maxLeft && (a = n.maxLeft),
            s <= n.minTop && (s = n.minTop),
            s >= n.maxTop && (s = n.maxTop),
            {
                left: a,
                top: s
            }
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.default = i;
    var r = n(39)
      , a = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(r)
      , o = a.default.isMobile
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '\n            <div class="h5-full-layer">\n              Hello!\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(21)
      , s = i(o)
      , l = n(20)
      , u = i(l);
    t.default = {
        init: function(e) {
            var t = e.id;
            this.componentsGroup || (this.componentsGroup = {}),
            this.componentsGroup[t] = {
                _video: e,
                _originalOptions: e.config || {}
            }
        },
        register: function(e, t, n) {
            var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
            this.componentsGroup && this.componentsGroup[e] || this.init({
                id: e
            }),
            this.componentsGroup[e]._components || (this.componentsGroup[e]._components = {});
            var r = this.componentsGroup[e]._components
              , o = this.componentsGroup[e]._originalOptions;
            i.video = this.componentsGroup[e]._video,
            i.name = t;
            var l = !0
              , d = !1
              , c = void 0;
            try {
                for (var h, p = (0,
                u.default)((0,
                s.default)(o)); !(l = (h = p.next()).done); l = !0) {
                    var f = h.value;
                    t.toLowerCase() === f.toLowerCase() && (i = (0,
                    a.default)({}, i, o[f]))
                }
            } catch (e) {
                d = !0,
                c = e
            } finally {
                try {
                    !l && p.return && p.return()
                } finally {
                    if (d)
                        throw c
                }
            }
            return i.disabled && "dashboard" !== t ? null : (r[t.toLowerCase()] = new n(i),
            r[t.toLowerCase()].func = n,
            r[t.toLowerCase()])
        },
        unRegister: function(e, t) {
            this.componentsGroup[e]._components[t].destroy(),
            this.componentsGroup[e]._components[t] = null
        },
        findComponent: function(e, t) {
            var n = t.toLowerCase();
            return this.componentsGroup[e]._components[n]
        },
        reRender: function(e) {
            var t = {}
              , n = this.componentsGroup[e]._components
              , i = !0
              , r = !1
              , a = void 0;
            try {
                for (var o, l = (0,
                u.default)((0,
                s.default)(n)); !(i = (o = l.next()).done); i = !0) {
                    var d = o.value;
                    t[d] = {
                        component: n[d].func,
                        options: n[d]._args
                    },
                    this.unRegister(d)
                }
            } catch (e) {
                r = !0,
                a = e
            } finally {
                try {
                    !i && l.return && l.return()
                } finally {
                    if (r)
                        throw a
                }
            }
            var c = !0
              , h = !1
              , p = void 0;
            try {
                for (var f, m = (0,
                u.default)((0,
                s.default)(t)); !(c = (f = m.next()).done); c = !0) {
                    var y = f.value;
                    this.register(e, y, t[y].component, t[y].options)
                }
            } catch (e) {
                h = !0,
                p = e
            } finally {
                try {
                    !c && m.return && m.return()
                } finally {
                    if (h)
                        throw p
                }
            }
        }
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r(e) {
        var t = e.container;
        f.default.init(e.video);
        var n = f.default.register(e.video.id, "layers", v.default, {
            container: t,
            attr: {
                role: "Layers"
            }
        });
        f.default.register(e.video.id, "dashboard", y.default, {
            container: t,
            attr: {
                role: "control"
            },
            autoHide: e.autoHide,
            controls: e.controls
        });
        var i = {
            getContainer: function() {
                return t
            },
            setTheme: function(e) {
                (0,
                E.addClass)(t, e)
            },
            removeTheme: function(e) {
                (0,
                E.removeClass)(t, e)
            },
            registerComponent: function(e, n, i) {
                i.container || (i.container = t),
                f.default.register(i.video.id, e, n, i)
            },
            unRegisterComponent: function(t) {
                f.default.unRegister(e.video.id, t)
            },
            getComponent: function(t) {
                return f.default.findComponent(e.video.id, t)
            },
            Component: S.default,
            switchLayer: function(e) {
                n.switch(e)
            },
            getLayer: function(e) {
                return n.getLayer(e)
            },
            appendLayer: function(e, t) {
                return n.append(e, t)
            },
            disableProgress: function() {
                var e = this.getComponent("progress");
                e.disableInput(),
                e.hideProgressPlayed()
            },
            enableProgress: function() {
                var e = this.getComponent("progress");
                e.enableInput(),
                e.showProgressPlay()
            },
            disablePlayButton: function() {
                this.getComponent("playIcon").disable()
            },
            enablePlayButton: function() {
                this.getComponent("playIcon").enable()
            },
            insertIcon: function(t, n, i, r) {
                var a = null;
                a = "left" === r ? f.default.findComponent(e.video.id, "dashboardleftgrid") : f.default.findComponent(e.video.id, "dashboardrightgrid"),
                a.insertIcon(t, n, i)
            },
            appendCss: function(e) {
                var t = document.createElement("style");
                t.type = "text/css",
                t.styleSheet ? t.styleSheet.cssText = e : t.appendChild(document.createTextNode(e)),
                document.getElementsByTagName("head")[0].appendChild(t)
            },
            setStyle: function(e, n) {
                if ("string" == typeof e)
                    return t.style[e] = n;
                if ("object" === (void 0 === e ? "undefined" : (0,
                h.default)(e))) {
                    var i = e
                      , r = !0
                      , a = !1
                      , o = void 0;
                    try {
                        for (var s, u = (0,
                        d.default)((0,
                        l.default)(i)); !(r = (s = u.next()).done); r = !0) {
                            var c = s.value;
                            t.style[c] = i[c]
                        }
                    } catch (e) {
                        a = !0,
                        o = e
                    } finally {
                        try {
                            !r && u.return && u.return()
                        } finally {
                            if (a)
                                throw o
                        }
                    }
                }
            },
            reRender: function() {
                f.default.reRender()
            }
        };
        if (e.ui) {
            var r = !0
              , a = !1
              , s = void 0;
            try {
                for (var u, c = (0,
                d.default)((0,
                l.default)(e.ui)); !(r = (u = c.next()).done); r = !0) {
                    var p = u.value
                      , m = i.getComponent(p);
                    m && "object" === (0,
                    h.default)(e.ui[p]) && m.setStyle(e.ui[p])
                }
            } catch (e) {
                a = !0,
                s = e
            } finally {
                try {
                    !r && c.return && c.return()
                } finally {
                    if (a)
                        throw s
                }
            }
        }
        return e.theme && i.setTheme(e.theme),
        "object" === (0,
        h.default)(e.layers) && (0,
        l.default)(e.layers).length > 0 && (0,
        l.default)(e.layers).forEach(function(t) {
            i.appendLayer(t, e.layers[t])
        }),
        Array.isArray(e.icons) && e.icons.forEach(function(e) {
            var t = e.component;
            i.insertIcon(e.name, t, e.args, e.parentControl)
        }),
        (0,
        o.default)(e.video, {
            ui: i
        })
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.Layer = t.Component = void 0;
    var a = n(10)
      , o = i(a)
      , s = n(21)
      , l = i(s)
      , u = n(20)
      , d = i(u)
      , c = n(18)
      , h = i(c)
      , p = n(103)
      , f = i(p)
      , m = n(165)
      , y = i(m)
      , g = n(169)
      , v = i(g)
      , _ = n(102)
      , b = i(_)
      , k = n(22)
      , S = i(k)
      , E = n(27);
    n(335),
    t.default = {
        install: function(e, t) {
            r({
                container: e,
                video: t,
                ui: t.config.ui,
                theme: t.config.theme,
                layers: t.config.layers,
                icons: t.config.icons,
                autoHide: t.config.autoHide,
                controls: t.config.controls
            })
        },
        componentsManager: f.default
    },
    t.Component = S.default,
    t.Layer = b.default
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    t.VIDEO_LIMITS = 3,
    t.VIDEO_CACHE_LIMITS = 2,
    t.VIDEO_DURATION_DIFF = 3,
    t.VIDEO_PLAY_TIME_PROPORTION = .9,
    t.VIDEO_MIN_DURATION = 40,
    t.PREPLAY_TIME = 8,
    t.CUSTOME_EVENTS = {
        segmentChange: "segment_change"
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(18)
      , s = i(o)
      , l = n(2)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(4)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(68)
      , _ = i(v)
      , b = n(27)
      , k = function(e) {
        function t(e) {
            (0,
            c.default)(this, t);
            var n = (0,
            m.default)(this, (t.__proto__ || (0,
            u.default)(t)).call(this, e));
            if (n._isPause = !0,
            n._curIndex = 0,
            n.currentTime = 0,
            n.isend = !1,
            !e.source)
                return (0,
                m.default)(n);
            n._source = n._processSource(e.source),
            n._totalNum = n._source.length;
            var i = n._countDuration(n._source);
            return n.duration = e.duration ? e.duration : i,
            n._source.length > 0 && (n.video.src = n._source[0].src),
            e.poster && (n.video.poster = e.poster),
            e.autoplay && (n._autoplay = !0,
            n.video.autoplay = n._autoplay,
            n.video.preload = !0,
            n._isPause = !1),
            n
        }
        return (0,
        g.default)(t, e),
        (0,
        p.default)(t, [{
            key: "seek",
            value: function(e) {
                this.isend = !1,
                1 === this._totalNum ? (e >= this.duration && (e = this.duration),
                this._setCurrentTime(e)) : this._multiSeek(e)
            }
        }, {
            key: "play",
            value: function() {
                var e = this;
                this._isPause = !1,
                this.video.src || (this.video.src = this._source[this._curIndex].src);
                var t = this.video.play();
                return t && t.catch(function(t) {
                    "object" === (void 0 === t ? "undefined" : (0,
                    s.default)(t)) && "AbortError" === t.name ? (e.emit("pause", t),
                    e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : (0,
                    s.default)(t)) && "NotAllowedError" === t.name && (e.emit("pause", t),
                    e.emit("notAllowedError", t))
                }),
                this.video.paused
            }
        }, {
            key: "pause",
            value: function() {
                return this._isPause = !0,
                this.video.pause(),
                this.video.paused
            }
        }, {
            key: "replay",
            value: function() {
                this.currentTime = 0,
                this._curIndex = 0,
                this.video.src = this._source[this._curIndex].src,
                this.video.play(),
                this._isPause = !1,
                this.isend = !1
            }
        }, {
            key: "setSource",
            value: function(e) {
                this.currentTime = 0,
                this._curIndex = 0,
                this.isend = !1,
                this._source = this._processSource(e.source),
                this._totalNum = this._source.length;
                var t = this._countDuration(this._source);
                this.duration = e.duration || t,
                this.video.pause(),
                this.args.seekTime = e.seekTime,
                this.video.src = this._source[this._curIndex].src,
                "number" == typeof this.args.seekTime && this.args.seekTime > .1 && this.seek(this.args.seekTime),
                this.currentTime = this.args.seekTime,
                e.autoplay && (this._autoplay = !0,
                this.video.autoplay = this._autoplay,
                this.video.preload = !0,
                this._isPause = !1)
            }
        }, {
            key: "_processSource",
            value: function(e) {
                var t = [];
                return e instanceof Array ? t = e : "string" == typeof e && t.push({
                    src: e,
                    seconds: 0
                }),
                t
            }
        }, {
            key: "_createVideo",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return this.args.useH265 && window.H265Player ? (0,
                b.createH265Player)(this._conatainer, (0,
                a.default)(e, {
                    conrtols: "true",
                    crossorigin: this.args.crossorigin
                })) : (0,
                b.createVideo)(this._conatainer, (0,
                a.default)(e, {
                    conrtols: "true",
                    crossorigin: this.args.crossorigin
                }))
            }
        }, {
            key: "_multiSeek",
            value: function(e) {
                if (e <= 0)
                    this._setCurrentTime(0);
                else {
                    var t = this._getIndexByTime(e);
                    t !== this._curIndex && (this.video.pause(),
                    this.video.src = this._source[t].src),
                    e >= this._source[t].endTime ? this._setCurrentTime(this._source[t].endTime) : this._setCurrentTime(e - this._source[t].startTime),
                    this._curIndex = t
                }
            }
        }, {
            key: "_getIndexByTime",
            value: function(e) {
                for (var t = this._source.length, n = 0, i = 0; t > n; ) {
                    if (i = parseInt((t + n) / 2),
                    e <= this._source[i].endTime && e >= this._source[i].startTime)
                        return i;
                    e > this._source[i].endTime ? n = i : t = i
                }
                return i
            }
        }, {
            key: "_countDuration",
            value: function(e) {
                for (var t = 0, n = 0, i = 0, r = e.length; i < r; i++)
                    t += e[i].seconds,
                    e[i].startTime = n,
                    n += e[i].seconds,
                    e[i].endTime = n;
                return t
            }
        }, {
            key: "setCurrentTime",
            value: function(e) {
                this._setCurrentTime(e)
            }
        }, {
            key: "getCurrentTime",
            value: function() {
                return 1 === this._totalNum || 0 === this._curIndex ? this.video.currentTime : this.video.currentTime + this._source[this._curIndex].startTime
            }
        }, {
            key: "tagErrorSrc",
            value: function(e) {
                e.setAttribute("data-orginal-src", "true")
            }
        }, {
            key: "_setCurrentTime",
            value: function(e) {
                try {
                    this.video.currentTime = e
                } catch (r) {
                    var t = !0
                      , n = this
                      , i = function i() {
                        t && (t = !1,
                        n.video.currentTime = e),
                        n.video.removeEventListener("canplay", i)
                    };
                    this.video.addEventListener("canplay", i)
                }
            }
        }, {
            key: "_onpause",
            value: function(e) {
                (this.video.paused || this._isPause) && (e.fromUser = this._isPause,
                this._isPause = !0,
                this.emit("pause", e))
            }
        }, {
            key: "_onplay",
            value: function(e) {
                this._isPause = !1,
                this.emit("play", e)
            }
        }, {
            key: "_oncanplay",
            value: function(e) {
                var t = this;
                if (!this._isPause && this.video.paused) {
                    var n = this.video.play();
                    n && n.catch(function(e) {
                        "object" === (void 0 === e ? "undefined" : (0,
                        s.default)(e)) && "AbortError" === e.name ? (t.emit("pause", e),
                        t.emit("notAllowedError", e)) : "object" === (void 0 === e ? "undefined" : (0,
                        s.default)(e)) && "NotAllowedError" === e.name && (t.emit("pause", e),
                        t.emit("notAllowedError", e))
                    })
                }
                this.emit("canplay", e)
            }
        }, {
            key: "_ondurationchange",
            value: function(e) {
                1 === this._totalNum && 0 === this.duration && (this.duration = this.video.duration,
                this._source[0].seconds = this.duration,
                this._source[0].endTime = this.duration),
                this.emit("durationchange", e)
            }
        }, {
            key: "_ontimeupdate",
            value: function(e) {
                1 === this._totalNum ? this.currentTime = this.video.currentTime : this.currentTime = this.video.currentTime + this._source[this._curIndex].startTime,
                e.currentTime = this.currentTime,
                this.emit("timeupdate", e)
            }
        }, {
            key: "_onended",
            value: function(e) {
                if (this._totalNum > 1)
                    this._multiEnded(e);
                else {
                    if (this.isend)
                        return;
                    this.isend = !0,
                    this.emit("ended", e)
                }
            }
        }, {
            key: "_multiEnded",
            value: function(e) {
                if (this._curIndex + 1 < this._totalNum)
                    this._curIndex++,
                    this.video.pause(),
                    this.video.src = this._source[this._curIndex].src,
                    this._setCurrentTime(0);
                else {
                    if (this.isend)
                        return;
                    this.isend = !0,
                    this.emit("ended", e)
                }
            }
        }]),
        t
    }(_.default);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(59)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = {
        MANIFEST_LOAD_ERROR: "manifestLoadError",
        MANIFEST_LOAD_TIMEOUT: "manifestLoadTimeOut",
        MANIFEST_PARSING_ERROR: "manifestParsingError",
        MANIFEST_EMPTY_ERROR: "manifestEmptyError",
        MANIFEST_INCOMPATIBLE_CODECS_ERROR: "manifestIncompatibleCodecsError",
        LEVEL_LOAD_ERROR: "levelLoadError",
        LEVEL_LOAD_TIMEOUT: "levelLoadTimeOut",
        LEVEL_SWITCH_ERROR: "levelSwitchError",
        AUDIO_TRACK_LOAD_ERROR: "audioTrackLoadError",
        AUDIO_TRACK_LOAD_TIMEOUT: "audioTrackLoadTimeOut",
        FRAG_LOAD_ERROR: "fragLoadError",
        FRAG_LOOP_LOADING_ERROR: "fragLoopLoadingError",
        FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
        FRAG_DECRYPT_ERROR: "fragDecryptError",
        FRAG_PARSING_ERROR: "fragParsingError",
        WORKER_PARSING_ERROR: "workerParsingError",
        REMUX_ALLOC_ERROR: "remuxAllocError",
        KEY_LOAD_ERROR: "keyLoadError",
        KEY_LOAD_TIMEOUT: "keyLoadTimeOut",
        BUFFER_ADD_CODEC_ERROR: "bufferAddCodecError",
        BUFFER_APPEND_ERROR: "bufferAppendError",
        BUFFER_APPENDING_ERROR: "bufferAppendingError",
        BUFFER_STALLED_ERROR: "bufferStalledError",
        BUFFER_FULL_ERROR: "bufferFullError",
        BUFFER_SEEK_OVER_HOLE: "bufferSeekOverHole",
        BUFFER_NUDGE_ON_STALL: "bufferNudgeOnStall",
        INTERNAL_EXCEPTION: "internalException",
        PIPELINE_DECODE_ERROR: "pipelineDecodeError",
        KEY_SYSTEM_NO_SUPPORT_DRM: "keySystemNoSupportDrm",
        KEY_SYSTEM_NO_ACCESS: "keySystemNoAccess",
        KEY_SYSTEM_GENE_REQUEST_ERROR: "keySystemGeneRequestError",
        KEY_SYSTEM_LICENSE_REQUEST_FAILED: "keySystemLicenseRequestFailed",
        KEY_SYSTEM_UPDATE_SESSION_ERROR: "keySystemUpdateSessionError",
        KEY_SYSTEM_SET_MEDIA_KEY_ERROR: "keySystemSetMediaKeyError",
        YOUKU_DRM_DECODE_ERROR: "youkuDrmDecodeError",
        KEY_SYSTEM_WAITING_FOR_KEY_ERROR: "keySystemWaitingForKeyError",
        DRM_FRAG_LOAD_ERROR: "drmFragLoadError"
    }
      , o = new r.default([[a.MANIFEST_LOAD_TIMEOUT, {
        code: "32408",
        type: 1
    }], [a.MANIFEST_INCOMPATIBLE_CODECS_ERROR, {
        code: "32501",
        type: 1
    }], [a.MANIFEST_PARSING_ERROR, {
        code: "32502",
        type: 1
    }], [a.MANIFEST_EMPTY_ERROR, {
        code: "32503",
        type: 1
    }], [a.MANIFEST_LOAD_ERROR, {
        code: "33",
        type: 1
    }], [a.LEVEL_LOAD_ERROR, {
        code: "34",
        type: 1
    }], [a.FRAG_DECRYPT_ERROR, {
        code: "35602",
        type: 2
    }], [a.FRAG_PARSING_ERROR, {
        code: "35603",
        type: 2
    }], [a.BUFFER_APPEND_ERROR, {
        code: "35604",
        type: 2
    }], [a.BUFFER_STALLED_ERROR, {
        code: "35605",
        type: 2
    }], [a.BUFFER_NUDGE_ON_STALL, {
        code: "35606",
        type: 2
    }], [a.INTERNAL_EXCEPTION, {
        code: "35607",
        type: 2
    }], [a.PIPELINE_DECODE_ERROR, {
        code: "35608",
        type: 2
    }], [a.WORKER_PARSING_ERROR, {
        code: "35609",
        type: 2
    }], [a.KEY_SYSTEM_NO_SUPPORT_DRM, {
        code: "35610",
        type: 4
    }], [a.KEY_SYSTEM_NO_ACCESS, {
        code: "35611",
        type: 4
    }], [a.KEY_SYSTEM_GENE_REQUEST_ERROR, {
        code: "35612",
        type: 4
    }], [a.KEY_SYSTEM_UPDATE_SESSION_ERROR, {
        code: "35614",
        type: 4
    }], [a.KEY_SYSTEM_SET_MEDIA_KEY_ERROR, {
        code: "35615",
        type: 4
    }], [a.YOUKU_DRM_DECODE_ERROR, {
        code: "35616",
        type: 5
    }], [a.KEY_SYSTEM_LICENSE_REQUEST_FAILED, {
        code: "35613",
        type: 5
    }], [a.KEY_SYSTEM_WAITING_FOR_KEY_ERROR, {
        code: "35617",
        type: 5
    }], [a.DRM_FRAG_LOAD_ERROR, {
        code: "35618",
        type: 6
    }], [a.FRAG_LOAD_ERROR, {
        code: "35",
        type: 3
    }], [a.FRAG_LOAD_TIMEOUT, {
        code: "35408",
        type: 3
    }], [a.FRAG_LOOP_LOADING_ERROR, {
        code: "35601",
        type: 3
    }]]);
    a.ERROR_MAP = o,
    t.default = a
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    t.MessageConfig = {
        "global.playerState": "global.playerState",
        "global.config": "global.config",
        "global.mediaData": "global.mediaData",
        "global.reset": "global.reset",
        "global.reload": "global.reload",
        "player.skipTime": "player.skipTime",
        "player.reload": "reload",
        "player.reset": "reset",
        "player.showInfo": "player.showinfo",
        "player.hideInfo": "player.hideInfo",
        "player.ready": "ready",
        "player.replay": "replay",
        "player.error": "player.error",
        "service.state": "service.state",
        eventLog: "sendEventLog"
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(19)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = {
        getString: function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : r.default.HINT
              , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
              , i = void 0;
            switch (this._strings = o,
            t) {
            case r.default.STATUS:
                i = this._strings.status.hasOwnProperty(e) ? String(this._strings.status[e]) : null;
                break;
            case r.default.WARNING:
                i = this._strings.warning.hasOwnProperty(e) ? String(this._strings.warning[e]) : null;
                break;
            case r.default.ERROR:
                i = this._strings.error.hasOwnProperty(e) ? String(this._strings.error[e]) : null;
                break;
            case r.default.HINT:
                this._strings.hint && (i = this._strings.hint.hasOwnProperty(e) ? String(this._strings.hint[e]) : null);
                break;
            case r.default.NOTE:
                this._strings.note && (i = this._strings.note.hasOwnProperty(e) ? String(this._strings.note[e]) : null)
            }
            return t !== r.default.HINT && t !== r.default.NOTE || i ? (i || (i = this._strings.error.E0000,
            n = [e]),
            n && (i = this._substitute(i, n)),
            i) : ""
        },
        _substitute: function(e) {
            var t = "";
            if (e) {
                t = e;
                for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)
                    i[r - 1] = arguments[r];
                var a = i.length
                  , o = [];
                1 === a && i[0]instanceof Array ? (o = i[0],
                a = o.length) : o = i;
                for (var s = 0; s < a; s++)
                    t = t.replace(new RegExp("\\{" + s + "\\}","g"), o[s])
            }
            return t
        }
    }
      , o = {
        error: {
            E0000: "非常抱歉，检测到未知错误，请尝试刷新或联系客服。"
        },
        hint: {
            H0003: '音量：<font class="emphasizes">{0}</font>',
            H0007: "设置成功",
            H0019: '已为你切换<font class="emphasizes"> {0}</font>语言字幕',
            H0020: '正在为您切换到<font class="emphasizes">{0}</font>,请稍候...',
            H0021: '正在切换到<b style="color:#C6A663;"> VIP HDR </b>视听体验,请稍候...',
            H0022: '正在为您切换到<font class="emphasizes"> {0}</font>...',
            H0023: '正在为您开启 <font color="#C6A663">轻享VIP</font> 专属1080P模式',
            H0024: '正在为您开启 <font color="#C6A663">VIP</font> 专属1080P模式'
        },
        note: {
            N0003: '已经为您跳过片头 <font data-val="opensetpanel" class="information-tip-link">设置</font>',
            N0005: '即将为您跳过片尾 <font data-val="opensetpanel" class="information-tip-link">设置</font>',
            N0022: '已经为您跳过片尾 <font data-val="opensetpanel" class="information-tip-link">设置</font>',
            N0007: '优酷记忆您上次播放到 {time} <font data-val="restart" class="information-tip-link">从头观看</font>',
            N0008: '优酷云记录您上次播放到 {time} <font data-val="restart" class="information-tip-link">从头观看</font>',
            N0019: '您可以试看{0}，订阅我就可以免费看完全部   <font data-val="subscribe" class="information-tip-link">+订阅</font>',
            N0023: '当前网络不稳定，建议切换至<b style="font-size:18px;color:#3895e2;" class="information-tip-link" data-val="autoquality"> 智能清晰度 </b>流畅观看',
            N0024q: '登录即可享受<font class="emphasizes"> 超清720P</font>专享清晰度<font data-val="login" class="information-tip-link login-720">立即登录</font>'
        }
    };
    t.default = a
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(6)
      , r = {
        uabModule: null,
        ckey: null,
        isLoadawsc: !1,
        timeStamp: 0,
        timer: null,
        timeOutTimer: null,
        ccode: "0502",
        init: function() {
            var e = this;
            0 === this.timeStamp && (this.timeStamp = (new Date).getTime()),
            this.timeOutTimer || this.uabModule || (this.timeOutTimer = window.setTimeout(function() {
                r.uabModule || r.sendLog(3e3),
                window.clearTimeout(r.timeOutTimer),
                r.timeOutTimer = null
            }, 3e3)),
            this.timer && (window.clearTimeout(this.timer),
            this.timer = null),
            this.isLoadawsc || window.AWSC || (0,
            i.loadfile)("//aeu.alicdn.com/js/awsc.js", "js"),
            this.isLoadawsc = !0,
            window.AWSC ? window.AWSC.use("uab", function(t, n) {
                if ("loaded" === t) {
                    var i = (new Date).getTime() - e.timeStamp;
                    e.timeStamp = 0,
                    e.uabModule = n,
                    e.ckey = e.uabModule.getUA(),
                    e.sendLog(i),
                    window.clearTimeout(e.timeOutTimer),
                    e.timeOutTimer = null
                }
            }) : this.timer = window.setTimeout(function() {
                r.init()
            }, 50)
        },
        sendLog: function(e) {
            e = e < 100 ? 100 : e < 1e3 ? 100 * parseInt(e / 100) : e > 3e3 ? 3e3 : 1e3 * parseInt(e / 1e3);
            try {
                window.goldlog.record("/yt/youkuplayer.fdl.playerckey", "EXP", "verison==0.5.85&ccode=" + this.ccode + "&millisecond=" + e, "GET")
            } catch (t) {
                (0,
                i.sendlog)("//gm.mmstat.com/yt/youkuplayer.fdl.playerckey?verison=0.5.85&ccode=" + this.ccode + "&millisecond=" + e + "&t=" + (new Date).getTime())
            }
        },
        getCkey: function() {
            return this.uabModule ? this.uabModule.getUA() : "DIl58SLFxFNndSV1GFNnMQVYkx1PP5tKe1siZu/86PR1u/Wh1Ptd+WOZsHHWxysSfAOhNJpdVWsdVJNsfJ8Sxd8WKVvNfAS8aS8fAOzYARzPyPc3JvtnPHjTdKfESTdnuTW6ZPvk2pNDh4uFzotgdMEFkzQ5wZVXl2Pf1/Y6hLK0OnCNxBj3+nb0v72gZ6b0td+WOZsHHWxysSo/0y9D2K42SaB8Y/+aD2K42SaB8Y/+ahU+WOZsHcrxysooUeND"
        }
    };
    t.default = r
}
, function(e, t, n) {
    "use strict";
    function i() {
        return "" + (r() || "x") + (a() || "xx") + (o() || "x") + (l() || "xx")
    }
    function r() {
        return /(windows)/.test(u) ? "1" : /(mac)/.test(u) ? "2" : /(linux)/.test(u) ? "3" : /(android)/.test(u) ? "4" : /(iphone)/.test(u) ? "5" : /(ipad)/.test(u) ? "6" : "0"
    }
    function a() {
        var e = r()
          , t = void 0;
        switch (e) {
        case "1":
            var n = u.replace(/^.*windows nt ([\d.]+);.*$/, "$1");
            t = {
                6.4: "A0",
                6.3: "63",
                6.2: "62",
                6.1: "61",
                "6.0": "60",
                5.2: "52",
                5.1: "51",
                "5.0": "50"
            }[n] || n;
            break;
        case "2":
            var i = u.indexOf("_") > -1 ? "_" : "."
              , a = u.replace(/^.*mac os x ([\d_|.]+).*$/, "$1").split(i)[1];
            t = a < 10 ? "0" + a : "" + a;
            break;
        case "3":
            t = "00";
            break;
        case "4":
            var o = /android [\d._]+/gi
              , s = u.match(o)
              , l = ("" + s).replace(/[^0-9|_.]/gi, "").replace(/_/gi, ".");
            t = l.split(".")[0].toString(16) + l.split(".")[1].toString(16);
            break;
        case "5":
            if (/cpu (?:iphone )?os (\d+_\d+)/.test(u)) {
                var d = RegExp.$1.replace("_", ".").split(".");
                t = d[0].toString(16) + d[1].toString(16)
            } else
                t = "02";
            break;
        case "6":
            if (/cpu os (\d+_\d+)/.test(u)) {
                var c = RegExp.$1.replace("_", ".").split(".");
                t = c[0].toString(16) + c[1].toString(16)
            } else
                t = "02"
        }
        return t
    }
    function o() {
        var e = void 0;
        return !/(msie) ([\w.]+)/.test(u) && !/trident.*(rv)(?::| )([\w.]+)/.test(u) || /(opera)/.test(u) ? /(edge)/.test(u) ? (d = RegExp.$1,
        e = "2") : /(chrome)\/([\w.]+)/.test(u) ? (d = RegExp.$1,
        e = "3") : /(webkit)[ \/]([\w.]+).*(version)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(u) || /(version)(applewebkit)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(u) ? (d = RegExp.$1,
        e = "4") : e = /(firefox)/.test(u) ? "5" : /(opera)/.test(u) ? "6" : /(qqbrowser)/.test(u) ? "7" : /(uc)/.test(u) || /(ubrowser)/.test(u) ? "8" : /(metasr)/.test(u) || /(sogou)/.test(u) || /(se 2.x)/.test(u) ? "9" : "0" : (d = RegExp.$1,
        e = "1"),
        e
    }
    function s() {
        var e = new RegExp("version/([0-9]+).")
          , t = u.match(e);
        t ? "1" === o() && (e = new RegExp(d + ":| ([0-9]+)."),
        t = u.match(e)) : (e = new RegExp(d + "/([0-9]+)."),
        t = u.match(e));
        var n = t ? parseInt(t[1], 10) : 0;
        return n = n < 10 ? "0" + n : "" + n
    }
    function l() {
        var e = void 0;
        switch (o()) {
        case "1":
        case "2":
        case "3":
        case "4":
            e = s()
        }
        return e
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.getEnvironment = i;
    var u = navigator.userAgent.toLowerCase()
      , d = "";
    window.getEnvironment = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(66)
      , s = i(o)
      , l = n(23)
      , u = {
        loadMtopData: function(e, t, n, i) {
            if (s.default.config.prefix = l.MTOP_ENV,
            s.default.config.subDomain = "",
            s.default.config.mainDomain = "youku.com",
            i)
                for (var r in i)
                    s.default.config[r] = i[r];
            var o = {
                api: e,
                v: "1.0",
                appKey: l.APPKEY,
                ecode: 0,
                data: (0,
                a.default)(t)
            }
              , u = n || 5e3;
            return o.timeout = u,
            s.default.request(o)
        }
    };
    t.default = u
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(120)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = n(33)
      , o = {
        isSupportM3u8: function() {
            var e = document.createElement("video")
              , t = ["application/x-mpegURL", "audio/mpegurl", "vnd.apple.mpegURL", "application/vnd.apple.mpegURL"]
              , n = !1;
            if (e && "function" == typeof e.canPlayType)
                for (var i = 0, r = t.length; i < r; i++)
                    if (e.canPlayType(t[i])) {
                        n = !0;
                        break
                    }
            return n
        },
        isSupportChromeHls: function() {
            window.MediaSource = window.MediaSource || window.WebKitMediaSource;
            var e = new RegExp("(.*.(youku|tudou).com|.*.youku.alibaba.net)$")
              , t = e.test(location.hostname)
              , n = window.MediaSource && "function" == typeof window.MediaSource.isTypeSupported && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
            return t && !a.Browser.isSafari && n
        },
        isSupportSafariHls: function() {
            return a.Browser.isMac && a.Browser.isSafari && this.compareVersion(a.Browser.version, "7") >= 0
        },
        isSupportMP4: function() {
            var e = document.createElement("video");
            if ("function" == typeof e.canPlayType) {
                if ("probably" === e.canPlayType('video/mp4; codecs="mp4v.20.8"'))
                    return !0;
                if ("probably" === e.canPlayType('video/mp4; codecs="avc1.42E01E"') || "probably" === e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))
                    return !0
            }
            return !1
        },
        compareVersion: function(e, t) {
            e = String(e).split("."),
            t = String(t).split(".");
            try {
                for (var n = 0, i = Math.max(e.length, t.length); n < i; n++) {
                    var r = isFinite(e[n]) && Number(e[n]) || 0
                      , a = isFinite(t[n]) && Number(t[n]) || 0;
                    if (r < a)
                        return -1;
                    if (r > a)
                        return 1
                }
            } catch (e) {
                return -1
            }
            return 0
        },
        isSupportSVG: function() {
            return !(!document.implementation || "function" == typeof document.implementation.hasFeature) && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")
        },
        isSupportMute: function() {
            return !a.Browser.isIOS && !a.Browser.isMobile
        },
        canUseHTML5Player: function() {
            return !(a.Browser.isIE && this.compareVersion(a.Browser.version, "9.0") < 0 || !this.isSupportMP4())
        },
        checkVideoSupport: function() {
            return !!document.createElement("video").canPlayType
        },
        isSupportFairplay: function() {
            return a.Browser.isSafari && parseInt(a.Browser.version) >= 11 && window.WebKitMediaKeys && window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0", "video/mp4")
        },
        isXp: function() {
            var e = navigator.userAgent
              , t = e.match(/\(([^\)]+)/);
            return !(!t || !t[1]) && "WindowsNT5.1" === (t = t[1].replace(/\s+/g, ""))
        },
        whiteList: function() {
            return !this.isXp() && (!a.Browser.isChrome || this.compareVersion(a.Browser.version, "62") >= 0)
        },
        widevineSupportCheck: function() {
            return navigator.requestMediaKeySystemAccess && this.whiteList() ? navigator.requestMediaKeySystemAccess("com.widevine.alpha", [{
                initDataTypes: [],
                videoCapabilities: [{
                    contentType: 'video/mp4; codecs="avc1.64001e"',
                    robustness: "SW_SECURE_CRYPTO"
                }],
                audioCapabilities: [{
                    contentType: 'audio/mp4; codecs="mp4a.40.2"',
                    robustness: "SW_SECURE_CRYPTO"
                }]
            }]).then(function() {
                return !0
            }).catch(function() {
                return !1
            }) : r.default.resolve(!1)
        }
    };
    t.default = o
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.PcPlayer = t.PlayerEvents = void 0;
    var r = n(2)
      , a = i(r)
      , o = n(10)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(233)
      , m = i(f)
      , y = n(5)
      , g = i(y)
      , v = n(98)
      , _ = i(v);
    n(143);
    var b = function(e) {
        function t(e) {
            return (0,
            u.default)(this, t),
            e.layers = (0,
            s.default)({}, m.default.layers, e.layers),
            Array.isArray(e.icons) || (e.icons = []),
            e.icons = e.icons.concat(m.default.icons),
            e.hlsCore = _.default,
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        t
    }(g.default)
      , k = y.Events;
    window.HLS = _.default,
    t.PlayerEvents = k,
    t.PcPlayer = b
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    t.defaultSettings = {
        quality: "320p",
        skip: !0,
        continuePlay: !0,
        language: "",
        volume: "",
        muted: !1
    },
    t.LSKEY = "YK_PSL_SETTINGS"
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(156)
      , g = i(y)
      , v = n(5)
      , _ = n(45)
      , b = i(_)
      , k = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.isFee = !0,
            n._video.global && n._video.global.ups ? (n._initVipMod(n._video.global),
            !n._video.global.ups.videoData.typeData.fee && !n._video.global.ups.videoData.typeData.channel_vip || !n._video.global.ups.trialData && !n._video.global.ups.errorData ? (n.isFee = !1,
            (0,
            c.default)(n)) : (n.reload = !0,
            n.trialEnd = function() {
                n.isFee && (n.isEnd = !0,
                n._vipMod.showPop())
            }
            ,
            n.playSceneChange = function(e) {
                n.isFee && ("mini" === e.playScene ? (n.hide(),
                n._vipMod.hideToast()) : n.isEnd && n._video.global.ups.trialData && "mini" !== n._video.global.config.playScene && (n.show(n._video.global),
                n._vipMod.showToast()))
            }
            ,
            n._playCallback = function() {
                n._vipMod || n._initVipMod(n._video.global),
                n.isEnd && n._vipMod.hidePop(),
                n._vipMod.showToast(),
                n.isEnd = !1
            }
            ,
            n.isFee ? (n._video.ykplayer.on(b.default.onTrialEnd, n.trialEnd),
            n._video.ykplayer.on("global.config", n.playSceneChange),
            n._video.ykplayer.on("play", n._playCallback),
            n) : (0,
            c.default)(n))) : (0,
            c.default)(n)
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initEmit",
            value: function() {}
        }, {
            key: "_initVipMod",
            value: function(e) {
                var t = e.ups && e.ups.videoData ? e.ups.videoData.encodeid : e.mediaData.mediaId;
                try {
                    if (this._vipMod = new g.default({
                        container: this._el,
                        video_id: t,
                        channel: "v",
                        show_id: this._video.global.ups.showData && this._video.global.ups.showData.encodeid,
                        container_sid_id: "bpmodule-playpage-fee"
                    }),
                    !this.isFee)
                        return;
                    this._video.global.ups.trialData && "mini" !== this._video.global.config.playScene && this.show(this._video.global),
                    !0 === this.reload && this._vipMod.showToast()
                } catch (e) {
                    console.log(e)
                }
            }
        }, {
            key: "show",
            value: function() {
                this.isFee && (this._el.style.display = "block",
                this._vipMod || this._initVipMod(this._video.global))
            }
        }, {
            key: "showPop",
            value: function() {
                this.isFee && (this._el.style.display = "block",
                this.reload = !1,
                this._vipMod || this._initVipMod(this._video.global),
                this._vipMod.showPop())
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none"
            }
        }, {
            key: "destroy",
            value: function() {
                this.playSceneChange && this.isFee && (this._video.ykplayer.fire(b.default.onTrialEnd, this.trialEnd),
                this._video.ykplayer.fire("global.config", this.playSceneChange),
                this._video.ykplayer.fire("play", this._playCallback)),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '<div class="vip_info" style="display:none;z-index:90">\n        </div>'
            }
        }]),
        t
    }(v.Layer);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(6)
      , y = n(8)
      , g = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initDom",
            value: function() {
                this._el && 0 === this._el.children.length && (this._el.innerHTML = "\n             <div class=\"note_panel\">\n                    <div class=\"note_title\">订阅我，精彩内容给你好看！</div>\n                    <div class=\"note_subscribe\">\n                        <img class='note_uploader' src=''>\n                        <span class='note_fans'>粉丝</span>\n                        <div class='note_btnsubscribe'>＋订 阅</div>\n                    </div>\n                </div>",
                this._title = this.find(".note_title"),
                this._uploader = this.find(".note_uploader"),
                this._fans = this.find(".note_fans"),
                this._btn = this.find(".note_btnsubscribe"),
                this._addEvent(),
                this.setContent())
            }
        }, {
            key: "setContent",
            value: function() {
                var e = "订阅我，精彩内容给你好看！"
                  , t = "//r1.ykimg.com/0130391F4555CF153FE1A7085A56E48AA349B3-0ED5-7B26-9AA8-8D8DD6A85DEE"
                  , n = "0";
                this._video.global && this._video.global.ups && (this._playlistData = this._video.global.ups,
                this._playlistData.trialData && this._playlistData.trialData.note && (e = this._playlistData.trialData.note),
                this._playlistData.uploaderData && (this._playlistData.uploaderData.avatar && (t = this._playlistData.uploaderData.avatar.middle),
                this._playlistData.uploaderData.fan_count && (n = this._getNum(this._playlistData.uploaderData.fan_count)))),
                this._title.innerHTML = (0,
                m.htmlEncodeAll)(e),
                this._uploader.setAttribute("src", t),
                this._fans.innerHTML = n + "粉丝"
            }
        }, {
            key: "show",
            value: function() {
                this.initDom(),
                this._el.style.display = "block"
            }
        }, {
            key: "_addEvent",
            value: function() {
                this._btn.addEventListener("click", this._subscribeHandler.bind(this), !1),
                this._uploader.addEventListener("click", this._uploaderHandler.bind(this), !1)
            }
        }, {
            key: "_subscribeHandler",
            value: function() {
                this._video.ykplayer.emit(y.NetStatusCommandCode.SUBSCRIBE),
                this.hide()
            }
        }, {
            key: "_uploaderHandler",
            value: function() {
                this._playlistData.uploaderData.homepage && this._video.ykplayer.openNewTab(this._playlistData.uploaderData.homepage, "_blank")
            }
        }, {
            key: "_getNum",
            value: function(e) {
                var t = e.toString()
                  , n = t.length;
                return n < 4 ? t : 4 === n ? t.charAt(0) + "," + t.slice(1, 4) : n > 4 && n < 9 ? (e / 1e4).toFixed(1) + "万" : n >= 9 ? (e / 1e8).toFixed(1) + "亿" : t
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="note_info subscribe-layer" style="display:none">\n            </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = g
}
, function(e, t, n) {
    e.exports = {
        default: n(264),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(270),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(275),
        __esModule: !0
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(26).f
      , r = n(60)
      , a = n(87)
      , o = n(31)
      , s = n(75)
      , l = n(50)
      , u = n(81)
      , d = n(130)
      , c = n(139)
      , h = n(24)
      , p = n(82).fastKey
      , f = n(92)
      , m = h ? "_s" : "size"
      , y = function(e, t) {
        var n, i = p(t);
        if ("F" !== i)
            return e._i[i];
        for (n = e._f; n; n = n.n)
            if (n.k == t)
                return n
    };
    e.exports = {
        getConstructor: function(e, t, n, u) {
            var d = e(function(e, i) {
                s(e, d, t, "_i"),
                e._t = t,
                e._i = r(null),
                e._f = void 0,
                e._l = void 0,
                e[m] = 0,
                void 0 != i && l(i, n, e[u], e)
            });
            return a(d.prototype, {
                clear: function() {
                    for (var e = f(this, t), n = e._i, i = e._f; i; i = i.n)
                        i.r = !0,
                        i.p && (i.p = i.p.n = void 0),
                        delete n[i.i];
                    e._f = e._l = void 0,
                    e[m] = 0
                },
                delete: function(e) {
                    var n = f(this, t)
                      , i = y(n, e);
                    if (i) {
                        var r = i.n
                          , a = i.p;
                        delete n._i[i.i],
                        i.r = !0,
                        a && (a.n = r),
                        r && (r.p = a),
                        n._f == i && (n._f = r),
                        n._l == i && (n._l = a),
                        n[m]--
                    }
                    return !!i
                },
                forEach: function(e) {
                    f(this, t);
                    for (var n, i = o(e, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f; )
                        for (i(n.v, n.k, this); n && n.r; )
                            n = n.p
                },
                has: function(e) {
                    return !!y(f(this, t), e)
                }
            }),
            h && i(d.prototype, "size", {
                get: function() {
                    return f(this, t)[m]
                }
            }),
            d
        },
        def: function(e, t, n) {
            var i, r, a = y(e, t);
            return a ? a.v = n : (e._l = a = {
                i: r = p(t, !0),
                k: t,
                v: n,
                p: i = e._l,
                n: void 0,
                r: !1
            },
            e._f || (e._f = a),
            i && (i.n = a),
            e[m]++,
            "F" !== r && (e._i[r] = a)),
            e
        },
        getEntry: y,
        setStrong: function(e, t, n) {
            u(e, t, function(e, n) {
                this._t = f(e, t),
                this._k = n,
                this._l = void 0
            }, function() {
                for (var e = this, t = e._k, n = e._l; n && n.r; )
                    n = n.p;
                return e._t && (e._l = n = n ? n.n : e._t._f) ? "keys" == t ? d(0, n.k) : "values" == t ? d(0, n.v) : d(0, [n.k, n.v]) : (e._t = void 0,
                d(1))
            }, n ? "entries" : "values", !n, !0),
            c(t)
        }
    }
}
, function(e, t, n) {
    var i = n(76)
      , r = n(280);
    e.exports = function(e) {
        return function() {
            if (i(this) != e)
                throw TypeError(e + "#toJSON isn't generic");
            return r(this)
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(15)
      , r = n(13)
      , a = n(82)
      , o = n(35)
      , s = n(32)
      , l = n(87)
      , u = n(50)
      , d = n(75)
      , c = n(25)
      , h = n(55)
      , p = n(26).f
      , f = n(282)(0)
      , m = n(24);
    e.exports = function(e, t, n, y, g, v) {
        var _ = i[e]
          , b = _
          , k = g ? "set" : "add"
          , S = b && b.prototype
          , E = {};
        return m && "function" == typeof b && (v || S.forEach && !o(function() {
            (new b).entries().next()
        })) ? (b = t(function(t, n) {
            d(t, b, e, "_c"),
            t._c = new _,
            void 0 != n && u(n, g, t[k], t)
        }),
        f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","), function(e) {
            var t = "add" == e || "set" == e;
            e in S && (!v || "clear" != e) && s(b.prototype, e, function(n, i) {
                if (d(this, b, e),
                !t && v && !c(n))
                    return "get" == e && void 0;
                var r = this._c[e](0 === n ? 0 : n, i);
                return t ? this : r
            })
        }),
        v || p(b.prototype, "size", {
            get: function() {
                return this._c.size
            }
        })) : (b = y.getConstructor(t, e, g, k),
        l(b.prototype, n),
        a.NEED = !0),
        h(b, e),
        E[e] = b,
        r(r.G + r.W + r.F, E),
        v || y.setStrong(b, e, g),
        b
    }
}
, function(e, t, n) {
    var i = n(15).document;
    e.exports = i && i.documentElement
}
, function(e, t, n) {
    e.exports = !n(24) && !n(35)(function() {
        return 7 != Object.defineProperty(n(78)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, n) {
    var i = n(51)
      , r = n(16)("iterator")
      , a = Array.prototype;
    e.exports = function(e) {
        return void 0 !== e && (i.Array === e || a[r] === e)
    }
}
, function(e, t, n) {
    var i = n(49);
    e.exports = Array.isArray || function(e) {
        return "Array" == i(e)
    }
}
, function(e, t, n) {
    var i = n(30);
    e.exports = function(e, t, n, r) {
        try {
            return r ? t(i(n)[0], n[1]) : t(n)
        } catch (t) {
            var a = e.return;
            throw void 0 !== a && i(a.call(e)),
            t
        }
    }
}
, function(e, t, n) {
    var i = n(16)("iterator")
      , r = !1;
    try {
        var a = [7][i]();
        a.return = function() {
            r = !0
        }
        ,
        Array.from(a, function() {
            throw 2
        })
    } catch (e) {}
    e.exports = function(e, t) {
        if (!t && !r)
            return !1;
        var n = !1;
        try {
            var a = [7]
              , o = a[i]();
            o.next = function() {
                return {
                    done: n = !0
                }
            }
            ,
            a[i] = function() {
                return o
            }
            ,
            e(a)
        } catch (e) {}
        return n
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            value: t,
            done: !!e
        }
    }
}
, function(e, t, n) {
    var i = n(133)
      , r = n(79).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function(e) {
        return i(e, r)
    }
}
, function(e, t, n) {
    var i = n(36)
      , r = n(38)
      , a = n(88)("IE_PROTO")
      , o = Object.prototype;
    e.exports = Object.getPrototypeOf || function(e) {
        return e = r(e),
        i(e, a) ? e[a] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? o : null
    }
}
, function(e, t, n) {
    var i = n(36)
      , r = n(37)
      , a = n(281)(!1)
      , o = n(88)("IE_PROTO");
    e.exports = function(e, t) {
        var n, s = r(e), l = 0, u = [];
        for (n in s)
            n != o && i(s, n) && u.push(n);
        for (; t.length > l; )
            i(s, n = t[l++]) && (~a(u, n) || u.push(n));
        return u
    }
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return {
                e: !1,
                v: e()
            }
        } catch (e) {
            return {
                e: !0,
                v: e
            }
        }
    }
}
, function(e, t, n) {
    var i = n(30)
      , r = n(25)
      , a = n(83);
    e.exports = function(e, t) {
        if (i(e),
        r(t) && t.constructor === e)
            return t;
        var n = a.f(e);
        return (0,
        n.resolve)(t),
        n.promise
    }
}
, function(e, t, n) {
    e.exports = n(32)
}
, function(e, t, n) {
    "use strict";
    var i = n(13)
      , r = n(48)
      , a = n(31)
      , o = n(50);
    e.exports = function(e) {
        i(i.S, e, {
            from: function(e) {
                var t, n, i, s, l = arguments[1];
                return r(this),
                t = void 0 !== l,
                t && r(l),
                void 0 == e ? new this : (n = [],
                t ? (i = 0,
                s = a(l, arguments[2], 2),
                o(e, !1, function(e) {
                    n.push(s(e, i++))
                })) : o(e, !1, n.push, n),
                new this(n))
            }
        })
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(13);
    e.exports = function(e) {
        i(i.S, e, {
            of: function() {
                for (var e = arguments.length, t = new Array(e); e--; )
                    t[e] = arguments[e];
                return new this(t)
            }
        })
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(15)
      , r = n(7)
      , a = n(26)
      , o = n(24)
      , s = n(16)("species");
    e.exports = function(e) {
        var t = "function" == typeof r[e] ? r[e] : i[e];
        o && t && !t[s] && a.f(t, s, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(e, t, n) {
    var i = n(30)
      , r = n(48)
      , a = n(16)("species");
    e.exports = function(e, t) {
        var n, o = i(e).constructor;
        return void 0 === o || void 0 == (n = i(o)[a]) ? t : r(n)
    }
}
, function(e, t, n) {
    var i, r, a, o = n(31), s = n(287), l = n(124), u = n(78), d = n(15), c = d.process, h = d.setImmediate, p = d.clearImmediate, f = d.MessageChannel, m = d.Dispatch, y = 0, g = {}, v = function() {
        var e = +this;
        if (g.hasOwnProperty(e)) {
            var t = g[e];
            delete g[e],
            t()
        }
    }, _ = function(e) {
        v.call(e.data)
    };
    h && p || (h = function(e) {
        for (var t = [], n = 1; arguments.length > n; )
            t.push(arguments[n++]);
        return g[++y] = function() {
            s("function" == typeof e ? e : Function(e), t)
        }
        ,
        i(y),
        y
    }
    ,
    p = function(e) {
        delete g[e]
    }
    ,
    "process" == n(49)(c) ? i = function(e) {
        c.nextTick(o(v, e, 1))
    }
    : m && m.now ? i = function(e) {
        m.now(o(v, e, 1))
    }
    : f ? (r = new f,
    a = r.port2,
    r.port1.onmessage = _,
    i = o(a.postMessage, a, 1)) : d.addEventListener && "function" == typeof postMessage && !d.importScripts ? (i = function(e) {
        d.postMessage(e + "", "*")
    }
    ,
    d.addEventListener("message", _, !1)) : i = "onreadystatechange"in u("script") ? function(e) {
        l.appendChild(u("script")).onreadystatechange = function() {
            l.removeChild(this),
            v.call(e)
        }
    }
    : function(e) {
        setTimeout(o(v, e, 1), 0)
    }
    ),
    e.exports = {
        set: h,
        clear: p
    }
}
, function(e, t) {
    function n() {
        throw new Error("setTimeout has not been defined")
    }
    function i() {
        throw new Error("clearTimeout has not been defined")
    }
    function r(e) {
        if (d === setTimeout)
            return setTimeout(e, 0);
        if ((d === n || !d) && setTimeout)
            return d = setTimeout,
            setTimeout(e, 0);
        try {
            return d(e, 0)
        } catch (t) {
            try {
                return d.call(null, e, 0)
            } catch (t) {
                return d.call(this, e, 0)
            }
        }
    }
    function a(e) {
        if (c === clearTimeout)
            return clearTimeout(e);
        if ((c === i || !c) && clearTimeout)
            return c = clearTimeout,
            clearTimeout(e);
        try {
            return c(e)
        } catch (t) {
            try {
                return c.call(null, e)
            } catch (t) {
                return c.call(this, e)
            }
        }
    }
    function o() {
        m && p && (m = !1,
        p.length ? f = p.concat(f) : y = -1,
        f.length && s())
    }
    function s() {
        if (!m) {
            var e = r(o);
            m = !0;
            for (var t = f.length; t; ) {
                for (p = f,
                f = []; ++y < t; )
                    p && p[y].run();
                y = -1,
                t = f.length
            }
            p = null,
            m = !1,
            a(e)
        }
    }
    function l(e, t) {
        this.fun = e,
        this.array = t
    }
    function u() {}
    var d, c, h = e.exports = {};
    !function() {
        try {
            d = "function" == typeof setTimeout ? setTimeout : n
        } catch (e) {
            d = n
        }
        try {
            c = "function" == typeof clearTimeout ? clearTimeout : i
        } catch (e) {
            c = i
        }
    }();
    var p, f = [], m = !1, y = -1;
    h.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
        f.push(new l(e,t)),
        1 !== f.length || m || r(s)
    }
    ,
    l.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    h.title = "browser",
    h.browser = !0,
    h.env = {},
    h.argv = [],
    h.version = "",
    h.versions = {},
    h.on = u,
    h.addListener = u,
    h.once = u,
    h.off = u,
    h.removeListener = u,
    h.removeAllListeners = u,
    h.emit = u,
    h.prependListener = u,
    h.prependOnceListener = u,
    h.listeners = function(e) {
        return []
    }
    ,
    h.binding = function(e) {
        throw new Error("process.binding is not supported")
    }
    ,
    h.cwd = function() {
        return "/"
    }
    ,
    h.chdir = function(e) {
        throw new Error("process.chdir is not supported")
    }
    ,
    h.umask = function() {
        return 0
    }
}
, function(e, t, n) {
    var i = n(321);
    "string" == typeof i && (i = [[e.i, i, ""]]);
    var r = {};
    r.transform = void 0;
    n(97)(i, r);
    i.locals && (e.exports = i.locals)
}
, function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0,
        eval)("this")
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(203)
      , u = i(l)
      , d = n(45)
      , c = i(d)
      , h = n(9);
    i(n(110)).default.init();
    var p = function() {
        function e(t, n) {
            (0,
            a.default)(this, e),
            this._manage = new u.default(t,n)
        }
        return (0,
        s.default)(e, [{
            key: "getDotsInfo",
            value: function() {
                return this._manage.global.dots
            }
        }, {
            key: "play",
            value: function() {
                this._manage.play()
            }
        }, {
            key: "pause",
            value: function() {
                this._manage.pause()
            }
        }, {
            key: "playByVid",
            value: function(e) {
                this._manage.playByVid(e)
            }
        }, {
            key: "seek",
            value: function(e) {
                this._manage.seek(e)
            }
        }, {
            key: "backPlay",
            value: function() {
                this._manage.backPlay()
            }
        }, {
            key: "forwardPlay",
            value: function() {
                this._manage.forwardPlay()
            }
        }, {
            key: "getCurrentTime",
            value: function() {
                return this._manage.global.currentTime
            }
        }, {
            key: "getDuration",
            value: function() {
                return this._manage.global.config.duration
            }
        }, {
            key: "getConfig",
            value: function() {
                return this._manage.global.config
            }
        }, {
            key: "getData",
            value: function() {
                return this._manage.global.ups ? this._manage.global.ups : null
            }
        }, {
            key: "getPlayerInfo",
            value: function() {
                return this._manage.global.getCurrentPlayerData()
            }
        }, {
            key: "setPlayerLoop",
            value: function(e) {
                this._manage.global.config = {
                    loop: e
                }
            }
        }, {
            key: "setPlayerConfig",
            value: function(e) {
                this._manage.global.config = e
            }
        }, {
            key: "setMiniWin",
            value: function(e) {
                (0,
                h.addClass)(this._manage.container, "yk-video-fixed"),
                (0,
                h.setStyle)(this._manage.container, e || {}),
                this._manage.global.config = {
                    playScene: "mini",
                    isBlockNote: !0
                }
            }
        }, {
            key: "revertMiniWin",
            value: function() {
                (0,
                h.removeClass)(this._manage.container, "yk-video-fixed"),
                (0,
                h.setStyle)(this._manage.container, {}),
                this._manage.global.config = {
                    playScene: "normal",
                    isBlockNote: !0
                }
            }
        }, {
            key: "getBulletStatus",
            value: function() {
                return this._manage.getBulletStatus()
            }
        }, {
            key: "changeBulletStatus",
            value: function(e) {
                this._manage.changeBulletStatus(e)
            }
        }, {
            key: "getProcessState",
            value: function() {
                return this._manage.global.getProcessState()
            }
        }, {
            key: "on",
            value: function(e, t) {
                if (!c.default[e])
                    return !1;
                this._manage.on(c.default[e], t)
            }
        }, {
            key: "getPlayerState",
            value: function() {
                return this._manage.global.playerState
            }
        }, {
            key: "getPlayerConfig",
            value: function() {
                return this._manage.global.config
            }
        }, {
            key: "getPlayerMediadata",
            value: function() {
                return this._manage.global.mediaData
            }
        }, {
            key: "exitFullscreen",
            value: function() {
                this._manage.exitFullscreen()
            }
        }, {
            key: "enterFullscreen",
            value: function() {
                this._manage.fullScreen()
            }
        }, {
            key: "holdDashboard",
            value: function() {
                this._manage.holdDashboard()
            }
        }, {
            key: "releaseDashboard",
            value: function() {
                this._manage.releaseDashboard()
            }
        }, {
            key: "reload",
            value: function() {
                this._manage.reload()
            }
        }, {
            key: "setPlayList",
            value: function(e) {
                this._manage.setPlayList(e)
            }
        }, {
            key: "setPlayHeadSkin",
            value: function(e) {
                if (e && e.url) {
                    var t = this._manage.container.getElementsByClassName("js-thumb");
                    if (!(t.length > 0))
                        return !1;
                    t = t[0];
                    var n = document.createElement("img");
                    n.onload = function() {
                        var i = n.width
                          , r = n.height;
                        (0,
                        h.addClass)(t, "yk-custom-thumb"),
                        t.style.backgroundImage = " url(" + e.url + ")",
                        t.style.backgroundImage = " url(" + e.url + ")",
                        t.style.backgroundSize = i + "px " + r + "px",
                        t.style.width = i + "px",
                        t.style.height = r + "px",
                        t.style.top = "-" + i / 2 + "px",
                        n = null
                    }
                    ,
                    n.src = e.url
                }
            }
        }]),
        e
    }();
    p.Events = c.default,
    p.Manage = u.default,
    t.default = p
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function")
    }
    var r = function() {
        function e(e, t) {
            var n = []
              , i = !0
              , r = !1
              , a = void 0;
            try {
                for (var o, s = e[Symbol.iterator](); !(i = (o = s.next()).done) && (n.push(o.value),
                !t || n.length !== t); i = !0)
                    ;
            } catch (e) {
                r = !0,
                a = e
            } finally {
                try {
                    !i && s.return && s.return()
                } finally {
                    if (r)
                        throw a
                }
            }
            return n
        }
        return function(t, n) {
            if (Array.isArray(t))
                return t;
            if (Symbol.iterator in Object(t))
                return e(t, n);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }()
      , a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e
    }
      , o = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, i.key, i)
            }
        }
        return function(t, n, i) {
            return n && e(t.prototype, n),
            i && e(t, i),
            t
        }
    }();
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var s = new RegExp("^([a-z0-9-]+:)?[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#;]*)?(?:[?]([^#]*))?([#][^?]*)?$","i")
      , l = function() {
        function e(t) {
            i(this, e),
            this._params = {},
            this._hash = "",
            t && this.assign(t.toString())
        }
        return o(e, [{
            key: "assign",
            value: function(e) {
                e = e || "";
                var t = e.match(s);
                if (!t)
                    throw new Error("Parse Error");
                this.protocol = t[1] || ("object" === ("undefined" == typeof location ? "undefined" : a(location)) ? location.protocol : ""),
                this.username = t[2] || "",
                this.password = t[3] || "",
                this.hostname = t[4],
                this.port = t[5] || "",
                this.pathname = t[6] || "/",
                this.search = t[7] || "",
                this.hash = t[8] || "",
                this.origin = this.protocol + "//" + this.host
            }
        }, {
            key: "toString",
            value: function() {
                var e = this.protocol + "//";
                return this.username && (e += this.username,
                this.password && (e += ":" + this.password),
                e += "@"),
                e += this.hostname,
                this.port && "80" !== this.port && (e += ":" + this.port),
                this.pathname && (e += this.pathname),
                this.search && (e += this.search),
                this.hash && (e += this.hash),
                e
            }
        }, {
            key: "params",
            get: function() {
                return this._params
            },
            set: function(e) {
                if (e && "object" === (void 0 === e ? "undefined" : a(e)) && !(e instanceof Date) && !(e instanceof RegExp) && !(e instanceof Array) && !(e instanceof String) && !(e instanceof Number) && !(e instanceof Boolean)) {
                    for (var t in this._params)
                        delete this._params[t];
                    for (var t in e)
                        this._params[t] = e[t]
                }
            }
        }, {
            key: "search",
            get: function() {
                var e = [];
                for (var t in this._params)
                    if (void 0 !== this._params[t])
                        if ("" !== this._params[t])
                            try {
                                e.push(encodeURIComponent(t) + "=" + encodeURIComponent(this._params[t]))
                            } catch (n) {
                                e.push(t + "=" + this._params[t])
                            }
                        else
                            try {
                                e.push(encodeURIComponent(t))
                            } catch (n) {
                                e.push(t)
                            }
                return e.length ? "?" + e.join("&") : ""
            },
            set: function(e) {
                if ("string" == typeof e || e instanceof String) {
                    e = e.toString(),
                    0 === e.indexOf("?") && (e = e.substr(1));
                    var t = e.split("&");
                    for (var n in this._params)
                        delete this._params[n];
                    for (var i = 0; i < t.length; i++) {
                        var a = t[i].split("=")
                          , o = r(a, 2)
                          , s = o[0]
                          , l = o[1];
                        if (void 0 !== l && (l = l.toString()),
                        s)
                            try {
                                this._params[decodeURIComponent(s)] = decodeURIComponent(l)
                            } catch (e) {
                                this._params[s] = l
                            }
                    }
                }
            }
        }, {
            key: "hash",
            get: function() {
                return this._hash
            },
            set: function(e) {
                ("string" == typeof e || e instanceof String) && (e = e.toString(),
                e && e.indexOf("#") < 0 && (e = "#" + e),
                this._hash = e || "")
            }
        }, {
            key: "host",
            get: function() {
                return this.hostname + (this.port ? ":" + this.port : "")
            },
            set: function(e) {
                if ("string" == typeof e || e instanceof String) {
                    e = e.toString();
                    var t = e.match(/([^:/?#]+)(?:[:]([0-9]+))?/);
                    t && (this.hostname = t[1],
                    this.port = t[2] || "")
                }
            }
        }]),
        e
    }();
    t.default = l
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(67)
      , r = n(148)
      , a = n(100)
      , o = n(149)
      , s = n(151)
      , l = function() {
        function e(e, t, n) {
            void 0 === t && (t = i.EQRErrorCorrectLevel.H),
            this.typeNumber = -1,
            this.padding = n,
            this.errorCorrectLevel = t,
            this.modules = null,
            this.rsBlocks = null,
            this.moduleCount = 0,
            this.totalDataCount = -1,
            this.data = e,
            this.utf8bytes = s.encodeUTF8(e),
            this.make()
        }
        return e.prototype.getModuleCount = function() {
            return this.moduleCount
        }
        ,
        e.prototype.make = function() {
            this.getRightType(),
            this.dataCache = this.createData(),
            this.createQrcode()
        }
        ,
        e.prototype.getRightType = function() {
            for (var e = 1; e < 41; e++) {
                var t = i.EQRErrorCorrectNumberLevel[this.errorCorrectLevel]
                  , n = i.RS_BLOCK_TABLE[4 * (e - 1) + t];
                if (void 0 === n)
                    throw new Error("bad rs block @ typeNumber:" + e + "/errorCorrectLevel:" + this.errorCorrectLevel);
                for (var r = n.length / 3, a = 0, o = 0; o < r; o++) {
                    var s = n[3 * o + 0];
                    a += n[3 * o + 2] * s
                }
                var l = e > 9 ? 2 : 1;
                if (this.utf8bytes.length + l < a || 40 === e) {
                    this.typeNumber = e,
                    this.rsBlock = n,
                    this.totalDataCount = a;
                    break
                }
            }
        }
        ,
        e.prototype.createData = function() {
            var t = new r.QRBitBuffer
              , n = this.typeNumber > 9 ? 16 : 8;
            t.put(4, 4),
            t.put(this.utf8bytes.length, n);
            for (var i = 0, a = this.utf8bytes.length; i < a; i++)
                t.put(this.utf8bytes[i], 8);
            for (t.length + 4 <= 8 * this.totalDataCount && t.put(0, 4); t.length % 8 != 0; )
                t.putBit(!1);
            for (; ; ) {
                if (t.length >= 8 * this.totalDataCount)
                    break;
                if (t.put(e.PAD0, 8),
                t.length >= 8 * this.totalDataCount)
                    break;
                t.put(e.PAD1, 8)
            }
            return this.createBytes(t)
        }
        ,
        e.prototype.createBytes = function(e) {
            for (var t = 0, n = 0, i = 0, r = this.rsBlock.length / 3, s = new Array, l = 0; l < r; l++)
                for (var u = this.rsBlock[3 * l + 0], d = this.rsBlock[3 * l + 1], c = this.rsBlock[3 * l + 2], h = 0; h < u; h++)
                    s.push([c, d]);
            for (var p = new Array(s.length), f = new Array(s.length), m = 0; m < s.length; m++) {
                var y = s[m][0]
                  , g = s[m][1] - y;
                n = Math.max(n, y),
                i = Math.max(i, g),
                p[m] = new Array(y);
                for (var l = 0; l < p[m].length; l++)
                    p[m][l] = 255 & e.buffer[l + t];
                t += y;
                var v = o.QRUtil.getErrorCorrectPolynomial(g)
                  , _ = new a.QRPolynomial(p[m],v.getLength() - 1)
                  , b = _.mod(v);
                f[m] = new Array(v.getLength() - 1);
                for (var l = 0; l < f[m].length; l++) {
                    var k = l + b.getLength() - f[m].length;
                    f[m][l] = k >= 0 ? b.get(k) : 0
                }
            }
            for (var S = new Array(this.totalDataCount), E = 0, l = 0; l < n; l++)
                for (var m = 0; m < s.length; m++)
                    l < p[m].length && (S[E++] = p[m][l]);
            for (var l = 0; l < i; l++)
                for (var m = 0; m < s.length; m++)
                    l < f[m].length && (S[E++] = f[m][l]);
            return S
        }
        ,
        e.prototype.createQrcode = function() {
            for (var e = 0, t = 0, n = null, i = 0; i < 8; i++) {
                this.makeImpl(i);
                var r = o.QRUtil.getLostPoint(this);
                (0 === i || e > r) && (e = r,
                t = i,
                n = this.modules)
            }
            this.modules = n,
            this.setupTypeInfo(!1, t),
            this.typeNumber >= 7 && this.setupTypeNumber(!1),
            this.createPaddingQrcode()
        }
        ,
        e.prototype.createPaddingQrcode = function() {
            var e = this.typeNumber
              , t = this.padding;
            if (0 === t)
                return this.paddingModuleCount = this.moduleCount,
                void (this.paddingModules = this.modules);
            (void 0 === t || t < 0) && (t = 2,
            e > 4 && e <= 10 && (t = 3),
            e > 10 && e <= 40 && (t = 4)),
            t = +t,
            this.padding = t,
            this.paddingModuleCount = 4 * this.typeNumber + 17 + 2 * t,
            this.paddingModules = new Array(this.paddingModuleCount);
            for (var n = 0; n < this.paddingModuleCount; n++)
                this.paddingModules[n] = new Array(this.paddingModuleCount);
            for (var n = 0; n < this.paddingModuleCount; n++)
                for (var i = this.paddingModules[n], r = 0; r < this.paddingModuleCount; r++)
                    (n < t || r < t || this.paddingModuleCount - n <= t || this.paddingModuleCount - r <= t) && (i[r] = !1);
            for (var n = 0; n < this.moduleCount; n++)
                for (var i = this.paddingModules[n + t], r = 0; r < this.moduleCount; r++)
                    i[r + t] = this.modules[n][r]
        }
        ,
        e.prototype.makeImpl = function(e) {
            this.moduleCount = 4 * this.typeNumber + 17,
            this.modules = new Array(this.moduleCount);
            for (var t = 0; t < this.moduleCount; t++)
                this.modules[t] = new Array(this.moduleCount);
            this.setupPositionProbePattern(0, 0),
            this.setupPositionProbePattern(this.moduleCount - 7, 0),
            this.setupPositionProbePattern(0, this.moduleCount - 7),
            this.setupPositionAdjustPattern(),
            this.setupTimingPattern(),
            this.setupTypeInfo(!0, e),
            this.typeNumber >= 7 && this.setupTypeNumber(!0),
            this.mapData(this.dataCache, e)
        }
        ,
        e.prototype.setupPositionProbePattern = function(e, t) {
            for (var n = -1; n <= 7; n++)
                if (!(e + n <= -1 || this.moduleCount <= e + n))
                    for (var i = -1; i <= 7; i++)
                        t + i <= -1 || this.moduleCount <= t + i || (this.modules[e + n][t + i] = 0 <= n && n <= 6 && (0 === i || 6 === i) || 0 <= i && i <= 6 && (0 === n || 6 === n) || 2 <= n && n <= 4 && 2 <= i && i <= 4)
        }
        ,
        e.prototype.setupTimingPattern = function() {
            for (var e = 8; e < this.moduleCount - 8; e++)
                null == this.modules[e][6] && (this.modules[e][6] = e % 2 == 0,
                null == this.modules[6][e] && (this.modules[6][e] = e % 2 == 0))
        }
        ,
        e.prototype.setupPositionAdjustPattern = function() {
            for (var e = o.QRUtil.getPatternPosition(this.typeNumber), t = 0; t < e.length; t++)
                for (var n = 0; n < e.length; n++) {
                    var i = e[t]
                      , r = e[n];
                    if (null == this.modules[i][r])
                        for (var a = -2; a <= 2; a++)
                            for (var s = -2; s <= 2; s++)
                                this.modules[i + a][r + s] = -2 === a || 2 === a || -2 === s || 2 === s || 0 === a && 0 === s
                }
        }
        ,
        e.prototype.setupTypeNumber = function(e) {
            for (var t = o.QRUtil.getBCHTypeNumber(this.typeNumber), n = 0; n < 18; n++) {
                var i = !e && 1 == (t >> n & 1);
                this.modules[Math.floor(n / 3)][n % 3 + this.moduleCount - 8 - 3] = i,
                this.modules[n % 3 + this.moduleCount - 8 - 3][Math.floor(n / 3)] = i
            }
        }
        ,
        e.prototype.setupTypeInfo = function(e, t) {
            for (var n = i.EQRErrorCorrectNumberLevel[this.errorCorrectLevel], r = [1, 0, 3, 2][n] << 3 | t, a = o.QRUtil.getBCHTypeInfo(r), s = 0; s < 15; s++) {
                var l = !e && 1 == (a >> s & 1);
                s < 6 ? this.modules[s][8] = l : s < 8 ? this.modules[s + 1][8] = l : this.modules[this.moduleCount - 15 + s][8] = l,
                l = !e && 1 == (a >> s & 1),
                s < 8 ? this.modules[8][this.moduleCount - s - 1] = l : s < 9 ? this.modules[8][15 - s - 1 + 1] = l : this.modules[8][15 - s - 1] = l
            }
            this.modules[this.moduleCount - 8][8] = !e
        }
        ,
        e.prototype.mapData = function(e, t) {
            for (var n = -1, i = this.moduleCount - 1, r = 7, a = 0, s = this.moduleCount - 1; s > 0; s -= 2)
                for (6 === s && s--; ; ) {
                    for (var l = 0; l < 2; l++)
                        if (null == this.modules[i][s - l]) {
                            var u = !1;
                            a < e.length && (u = 1 == (e[a] >>> r & 1));
                            var d = o.QRUtil.getMask(t, i, s - l);
                            d && (u = !u),
                            this.modules[i][s - l] = u,
                            r--,
                            -1 === r && (a++,
                            r = 7)
                        }
                    if ((i += n) < 0 || this.moduleCount <= i) {
                        i -= n,
                        n = -n;
                        break
                    }
                }
        }
        ,
        e.PAD0 = 236,
        e.PAD1 = 17,
        e
    }();
    t.QRAlgorithm = l
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = function() {
        function e() {
            this.buffer = [],
            this.buffer = new Array,
            this.length = 0
        }
        return e.prototype.get = function(e) {
            var t = Math.floor(e / 8);
            return this.buffer[t] >>> 7 - e % 8 & 1
        }
        ,
        e.prototype.put = function(e, t) {
            for (var n = 0; n < t; n++)
                this.putBit(e >>> t - n - 1 & 1)
        }
        ,
        e.prototype.putBit = function(e) {
            var t = Math.floor(this.length / 8);
            this.buffer.length <= t && this.buffer.push(0),
            e && (this.buffer[t] |= 128 >>> this.length % 8),
            this.length++
        }
        ,
        e
    }();
    t.QRBitBuffer = i
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(67)
      , r = n(99)
      , a = n(100);
    t.QRUtil = {
        G15: 1335,
        G15_MASK: 21522,
        G18: 7973,
        getBCHDigit: function(e) {
            for (var t = 0; 0 !== e; )
                t++,
                e >>>= 1;
            return t
        },
        getBCHTypeInfo: function(e) {
            for (var t = e << 10; this.getBCHDigit(t) - this.getBCHDigit(this.G15) >= 0; )
                t ^= this.G15 << this.getBCHDigit(t) - this.getBCHDigit(this.G15);
            return (e << 10 | t) ^ this.G15_MASK
        },
        getBCHTypeNumber: function(e) {
            for (var t = e << 12; this.getBCHDigit(t) - this.getBCHDigit(this.G18) >= 0; )
                t ^= this.G18 << this.getBCHDigit(t) - this.getBCHDigit(this.G18);
            return e << 12 | t
        },
        getErrorCorrectPolynomial: function(e) {
            for (var t = new a.QRPolynomial([1],0), n = 0; n < e; n++)
                t = t.multiply(new a.QRPolynomial([1, r.QRMath.gexp(n)],0));
            return t
        },
        getLostPoint: function(e) {
            for (var t = e.getModuleCount(), n = 0, i = 0, r = 0; r < t; r++)
                for (var a = 0, o = e.modules[r][0], s = 0; s < t; s++) {
                    var l = e.modules[r][s];
                    if (s < t - 6 && l && !e.modules[r][s + 1] && e.modules[r][s + 2] && e.modules[r][s + 3] && e.modules[r][s + 4] && !e.modules[r][s + 5] && e.modules[r][s + 6] && (s < t - 10 ? e.modules[r][s + 7] && e.modules[r][s + 8] && e.modules[r][s + 9] && e.modules[r][s + 10] && (n += 40) : s > 3 && e.modules[r][s - 1] && e.modules[r][s - 2] && e.modules[r][s - 3] && e.modules[r][s - 4] && (n += 40)),
                    r < t - 1 && s < t - 1) {
                        var u = 0;
                        l && u++,
                        e.modules[r + 1][s] && u++,
                        e.modules[r][s + 1] && u++,
                        e.modules[r + 1][s + 1] && u++,
                        0 !== u && 4 !== u || (n += 3)
                    }
                    o !== l ? a++ : (o = l,
                    a >= 5 && (n += 3 + a - 5),
                    a = 1),
                    l && i++
                }
            for (var s = 0; s < t; s++)
                for (var a = 0, o = e.modules[0][s], r = 0; r < t; r++) {
                    var l = e.modules[r][s];
                    r < t - 6 && l && !e.modules[r + 1][s] && e.modules[r + 2][s] && e.modules[r + 3][s] && e.modules[r + 4][s] && !e.modules[r + 5][s] && e.modules[r + 6][s] && (r < t - 10 ? e.modules[r + 7][s] && e.modules[r + 8][s] && e.modules[r + 9][s] && e.modules[r + 10][s] && (n += 40) : r > 3 && e.modules[r - 1][s] && e.modules[r - 2][s] && e.modules[r - 3][s] && e.modules[r - 4][s] && (n += 40)),
                    o !== l ? a++ : (o = l,
                    a >= 5 && (n += 3 + a - 5),
                    a = 1)
                }
            return n += Math.abs(100 * i / t / t - 50) / 5 * 10
        },
        getMask: function(e, t, n) {
            switch (e) {
            case i.EQRMaskPattern.PATTERN000:
                return (t + n) % 2 == 0;
            case i.EQRMaskPattern.PATTERN001:
                return t % 2 == 0;
            case i.EQRMaskPattern.PATTERN010:
                return n % 3 == 0;
            case i.EQRMaskPattern.PATTERN011:
                return (t + n) % 3 == 0;
            case i.EQRMaskPattern.PATTERN100:
                return (Math.floor(t / 2) + Math.floor(n / 3)) % 2 == 0;
            case i.EQRMaskPattern.PATTERN101:
                return t * n % 2 + t * n % 3 == 0;
            case i.EQRMaskPattern.PATTERN110:
                return (t * n % 2 + t * n % 3) % 2 == 0;
            case i.EQRMaskPattern.PATTERN111:
                return (t * n % 3 + (t + n) % 2) % 2 == 0;
            default:
                throw new Error("bad maskPattern:" + e)
            }
        },
        getPatternPosition: function(e) {
            return i.PATTERN_POSITION_TABLE[e - 1]
        }
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i, r, a = function() {
        function e(e, t) {
            i = "object" == typeof navigator ? navigator.userAgent || navigator.swuserAgent : "",
            r = !!i.match(/AlipayClient\/(\d+\.\d+\.\d+(\.\d+)?)/),
            this.methodName = e,
            this.bizType = t
        }
        return e.prototype.reportData = function(e) {
            var t = e.width
              , n = e.height
              , i = e.strCode
              , a = e.ecLevel
              , o = e.padding
              , s = e.haslogo
              , l = e.forceNoPadding
              , u = e.mapVersionWidth;
            try {
                if (!i)
                    return;
                var d = this.stringify({
                    ecLevel: a,
                    forceNoPadding: l,
                    haslogo: s,
                    height: n,
                    methodName: this.methodName,
                    padding: o,
                    strCode: i,
                    width: t
                });
                if (!r)
                    return;
                var c = {
                    actionId: "exposure",
                    bizType: "OnsitePay",
                    logLevel: 2,
                    param1: "QR_CODE",
                    param2: this.bizType,
                    param3: u,
                    param4: d,
                    seedId: "GenerateCodeImage",
                    spmId: "a166.b_activity_fd_137002109.ca22000409.da1000192",
                    type: "behavior"
                };
                "undefined" != typeof my && "function" == typeof my.call && my.call("remoteLog", c),
                this.ready(function() {
                    window.AlipayJSBridge.call("remoteLog", c)
                })
            } catch (e) {}
        }
        ,
        e.prototype.ready = function(e) {
            window.AlipayJSBridge ? e(null) : document.addEventListener("AlipayJSBridgeReady", e, !1)
        }
        ,
        e.prototype.stringify = function(e) {
            if (!e)
                return "";
            var t = [];
            return Object.keys(e).forEach(function(n) {
                e.hasOwnProperty(n) && e[n] && t.push(n + "=" + e[n])
            }),
            t.join("^")
        }
        ,
        e
    }();
    t.Report = a
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        for (var t = encodeURIComponent(e), n = [], i = 0; i < t.length; i++) {
            var r = t.charAt(i);
            if ("%" === r) {
                var a = t.charAt(i + 1) + t.charAt(i + 2)
                  , o = parseInt(a, 16);
                n.push(o),
                i += 2
            } else
                n.push(r.charCodeAt(0))
        }
        return n
    }
    function r(e) {
        for (var t = "", n = 0; n < e.length; n++)
            t += "%" + e[n].toString(16);
        return decodeURIComponent(t)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.encodeUTF8 = i,
    t.decodeUTF8 = r
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        var t = e.code
          , n = e.avatar
          , i = e.padding
          , a = e.width
          , o = void 0 === a ? 200 : a
          , s = e.bizType
          , l = void 0 === s ? "COMMON_ANT_CODE" : s
          , u = e.correctLevel
          , d = void 0 === u ? r.EQRErrorCorrectLevel.H : u
          , c = document.createElement("canvas");
        c.width = o,
        c.height = o;
        for (var h = c.getContext("2d"), p = new r.QRAlgorithm(t,d,i), f = p.padding ? p.paddingModules : p.modules, m = p.padding ? p.paddingModuleCount : p.moduleCount, y = +(o / m).toPrecision(4), g = +(o / m).toPrecision(4), v = 0; v < m; v++)
            for (var _ = 0; _ < m; _++) {
                var b = Math.ceil((_ + 1) * y) - Math.floor(_ * y)
                  , k = Math.ceil((v + 1) * y) - Math.floor(v * y);
                h.fillStyle = f[v][_] ? "#000000" : "#ffffff",
                h.fillRect(Math.round(_ * y), Math.round(v * g), b, k)
            }
        if (n) {
            var S = new Image;
            S.src = n,
            S.onload = function(e) {
                var t = 4 / 23 * o
                  , n = +((o - t) / 2).toFixed(2)
                  , i = +((o - t) / 2).toFixed(2);
                h.drawImage(S, n, i, t, t)
            }
        }
        try {
            new r.Report("generateQRCode4Browser",l).reportData({
                ecLevel: d,
                forceNoPadding: 0 === i,
                haslogo: !!n,
                height: o,
                mapVersionWidth: m,
                padding: p.padding,
                strCode: t,
                width: o
            })
        } catch (e) {}
        return c
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(34);
    t.generateQRCode4Browser = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        for (var t = e.ctx, n = e.code, i = e.avatar, a = e.padding, o = e.width, s = void 0 === o ? 200 : o, l = e.bizType, u = void 0 === l ? "COMMON_ANT_CODE" : l, d = e.correctLevel, c = void 0 === d ? r.EQRErrorCorrectLevel.H : d, h = new r.QRAlgorithm(n,c,a), p = h.padding ? h.paddingModules : h.modules, f = h.padding ? h.paddingModuleCount : h.moduleCount, m = +(s / f).toPrecision(4), y = +(s / f).toPrecision(4), g = 0, v = 0; v < f; v++)
            for (var _ = 0; _ < f; _++) {
                var b = Math.ceil((_ + 1) * m) - Math.floor(_ * m)
                  , k = Math.ceil((v + 1) * m) - Math.floor(v * m);
                t.setFillStyle(p[v][_] ? "#000000" : "#ffffff"),
                t.fillRect(Math.round(_ * m), Math.round(v * y), b, k),
                g++,
                g > 500 && (g = 0,
                t.draw(!0))
            }
        if (t.draw(!0),
        i) {
            var S = 4 / 23 * s
              , E = +((s - S) / 2).toFixed(2)
              , w = +((s - S) / 2).toFixed(2);
            t.drawImage(i, E, w, S, S),
            t.draw(!0)
        }
        try {
            new r.Report("generateQRCode4MiniProgram",u).reportData({
                ecLevel: c,
                forceNoPadding: 0 === a,
                haslogo: !!i,
                height: s,
                mapVersionWidth: f,
                padding: h.padding,
                strCode: n,
                width: s
            })
        } catch (e) {}
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(34);
    t.generateQRCode4MiniProgram = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        for (var t = e.canvas, n = e.code, i = e.avatar, a = e.padding, o = e.width, s = void 0 === o ? 200 : o, l = e.bizType, u = void 0 === l ? "COMMON_ANT_CODE" : l, d = e.correctLevel, c = void 0 === d ? r.EQRErrorCorrectLevel.H : d, h = t.createCanvas, p = t.loadImage, f = h(s, s), m = f.getContext("2d"), y = new r.QRAlgorithm(n,c,a), g = y.padding ? y.paddingModules : y.modules, v = y.padding ? y.paddingModuleCount : y.moduleCount, _ = +(s / v).toPrecision(4), b = +(s / v).toPrecision(4), k = 0; k < v; k++)
            for (var S = 0; S < v; S++) {
                var E = Math.ceil((S + 1) * _) - Math.floor(S * _)
                  , w = Math.ceil((k + 1) * _) - Math.floor(k * _);
                m.fillStyle = g[k][S] ? "#000000" : "#ffffff",
                m.fillRect(Math.round(S * _), Math.round(k * b), E, w)
            }
        try {
            new r.Report("generateQRCode4MiniProgram",u).reportData({
                ecLevel: c,
                forceNoPadding: 0 === a,
                haslogo: !!i,
                height: s,
                mapVersionWidth: v,
                padding: y.padding,
                strCode: n,
                width: s
            })
        } catch (e) {}
        return i ? p(i).then(function(e) {
            var t = 4 / 23 * s
              , n = +((s - t) / 2).toFixed(2)
              , i = +((s - t) / 2).toFixed(2);
            return m.drawImage(e, n, i, t, t),
            f.toDataURL()
        }) : Promise.resolve(f.toDataURL())
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(34);
    t.generateQRCode4NodeJS = i
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        p && p.length > 0 && (p.forEach(function(n, i) {
            delete p[i],
            n.fn && n.fn(e, t)
        }),
        p = [])
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
      , a = document
      , o = "rgv587_flag"
      , s = {
        loadJS: function(e, t, n) {
            var i, r = [];
            if ("string" == typeof t)
                r.push(t);
            else
                for (i in t)
                    t.hasOwnProperty(i) && r.push(i + "=" + encodeURIComponent(t[i]));
            e = e + (-1 == e.indexOf("?") ? "?" : "&") + r.join("&");
            var o = a.getElementsByTagName("script")[0]
              , s = a.createElement("script");
            if (s.async = 1,
            s.src = e,
            n) {
                var l = !1;
                s.onload = s.onreadystatechange = function() {
                    l || s.readyState && !/loaded|complete/.test(s.readyState) || (s.onload = s.onreadystatechange = null,
                    l = !0,
                    n())
                }
            }
            o.parentNode.insertBefore(s, o)
        },
        checkResult: function(e) {
            if (e) {
                var t = e.ret;
                "object" === (void 0 === t ? "undefined" : r(t)) && (t = JSON.stringify(t)),
                (e && "sm" === e[o] || "sm" === e[o + "0"]) && (t = "RGV587_ERROR::SM"),
                e && "true" === e.assist_flag && (t = "RGV587_ERROR::SM");
                var n = "";
                t && (t.indexOf("RGV587_ERROR::SM") > -1 ? n = "antiCreep" : t.indexOf("FAIL_SYS_USER_VALIDATE") > -1 ? n = "antiFlood" : (t.indexOf("FAIL_SYS_TRAFFIC_LIMIT::流量限制") > -1 || t.indexOf("FAIL_SYS_FLOWLIMIT") > -1) && (n = "limit"));
                var i = "antiCreep" === n;
                return {
                    pass: !n,
                    interceptType: n,
                    isAntiFlood: "antiFlood" === n,
                    isAntiCreep: i,
                    immediate: i && "sm" !== e[o + "0"]
                }
            }
            return {
                pass: !0
            }
        },
        addEvent: function(e, t, n) {
            t.addEventListener ? t.addEventListener(e, n, !1) : t.attachEvent("on" + e, n)
        },
        removeEvent: function(e, t, n) {
            t.removeEventListener ? t.addEventListener(e, n, !1) : t.detachEvent("on" + e, n)
        },
        getDomainURI: function(e) {
            var t = /(https|http):\/\/([^\/]+)\//i
              , n = e.match(t);
            return n ? n[0] : ""
        }
    }
      , l = s
      , u = {}
      , d = {};
    u.on = function(e, t) {
        return (d[e] || (d[e] = [])).push(t),
        u
    }
    ,
    u.off = function(e, t) {
        if (!e && !t)
            return d = {},
            u;
        var n = d[e];
        if (n)
            if (t)
                for (var i = n.length - 1; i >= 0; i--)
                    n[i] === t && n.splice(i, 1);
            else
                delete d[e];
        return u
    }
    ,
    u.fire = function(e, t) {
        var n = d[e];
        if (n) {
            n = n.slice();
            for (var i = 0, r = n.length; i < r; i++)
                n[i](t)
        }
        return u
    }
    ;
    var c = u
      , h = {
        limit: function(e, t) {
            var n = document.createElement("div")
              , i = {
                mask: "width: 100%;height: 100%;background-color: rgba(0, 0, 0, .7);position: fixed;top: 0;left: 0;",
                alert: "width: 60%;max-width: 350px;position: fixed;top: 40%;left: 0;right: 0;margin: auto;padding: 10px;box-sizing: border-box;background: #fcfcfc;border-radius: 4px;text-align: center;color: #666;",
                close: "color: #108ee9;border-top: 1px solid #ccc;margin-top: 10px;padding-top: 10px;"
            };
            n.innerHTML = '<div style="' + i.mask + '" id="mask"></div><div style="' + i.alert + '"id="alert"><div>' + e.ret + '</div><div id="sufei-dialog-close" style="' + i.close + '">关闭</div></div>',
            document.body.appendChild(n);
            var r = document.getElementById("sufei-dialog-close");
            l.addEvent("click", r, function() {
                n.style.display = "none",
                t && t(!1, {})
            })
        },
        antiFlood: function(e) {
            e.AntiFloodReferer ? location.href = e.data.url.replace(/(http_referer=).+/, "$1" + e.AntiFloodReferer) : location.href = e.data.url
        },
        antiCreep: function(e, t) {
            var n = function() {
                var n = window.__sufeiCaller__
                  , i = {
                    data: "",
                    url: ""
                };
                n.check(e, i).then(function() {
                    console.log("sufei.check")
                });
                var r = !1;
                n.on("event:resendRequest@sufei-caller", function(e) {
                    r = !0,
                    t && t(!1, e)
                }),
                n.on("event:dialogHide@sufei", function(e) {
                    r || t && t(!1, e || {})
                })
            };
            if (window.__sufeiCaller__)
                return void n(window.__sufeiCaller__);
            "undefined" == typeof sufei && (sufei = {}),
            window.__sufeiSeed__ = sufei,
            l.loadJS("https://g.alicdn.com/sd/sufei/0.3.112/app/common/sufei-caller.js", {}, function() {
                window.__sufeiCaller__ = sufei,
                window.__sufeiCaller__.dialogWrapper = window.__sufeiSeed__.dialogWrapper,
                window.sufei = __sufeiSeed__,
                n()
            })
        }
    }
      , p = [];
    c.on("event:triggerFn@sufei", i);
    var f = function(e, t) {
        e.url = e.url || e.data && e.data.url || "";
        var n = l.checkResult(e);
        n.pass ? t(!0, e) : (p.push({
            result: e,
            fn: t
        }),
        1 === p.length && h[n.interceptType] && h[n.interceptType].call(this, e, function(e, t) {
            i(e, t)
        }))
    };
    window.sufei = {
        check: f
    };
    var m = {
        check: f
    };
    t.default = m
}
, function(e, t, n) {
    !function(t, n) {
        e.exports = n()
    }("undefined" != typeof self && self, function() {
        return function(e) {
            function t(i) {
                if (n[i])
                    return n[i].exports;
                var r = n[i] = {
                    i: i,
                    l: !1,
                    exports: {}
                };
                return e[i].call(r.exports, r, r.exports, t),
                r.l = !0,
                r.exports
            }
            var n = {};
            return t.m = e,
            t.c = n,
            t.d = function(e, n, i) {
                t.o(e, n) || Object.defineProperty(e, n, {
                    configurable: !1,
                    enumerable: !0,
                    get: i
                })
            }
            ,
            t.n = function(e) {
                var n = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return t.d(n, "a", n),
                n
            }
            ,
            t.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            t.p = "/dist/",
            t(t.s = 0)
        }([function(e, t, n) {
            "use strict";
            function i(e, t) {
                var n = "url(https://account.youku.com/static-resources/images/stylize/youku_bg.jpg) no-repeat right bottom"
                  , i = "#333"
                  , r = (new Date).getHours();
                return (r >= 18 || r <= 8) && (n = "url(https://account.youku.com/static-resources/images/stylize/yknight.jpg) no-repeat right bottom",
                i = "#fff"),
                new getLoginFrame({
                    loginOrLogout: "login",
                    callbackURL: "",
                    mode: "popup",
                    template: "tempA",
                    buid: "youku",
                    pid: !window.youku_vip_pay_env || "local" !== window.youku_vip_pay_env && "daily" !== window.youku_vip_pay_env ? "20160607PLF000287" : "20160919PLF001101",
                    themes: ["35b5ff", "c0e8f6"],
                    bgThemes: n,
                    fontColor: i,
                    linkColor: i,
                    padding: [30, 30, 30, 410],
                    loginModel: ["mobile", "normal"],
                    regModel: ["mobile", "email"],
                    isQRlogin: !0,
                    isThirdPartLogin: !0,
                    regShowType: "in",
                    regRules: ["用户协议", "http://mapp.youku.com/service/agreement", "http://mapp.youku.com/service/copyright"],
                    qrMsg: "请使用优酷APP扫码登录",
                    qrBu: ["ykt", 80, "false"],
                    size: "normal",
                    loginSuccess: function() {
                        t();
                        var e = document.getElementById("YT-loginFramePop");
                        e && e.parentNode.removeChild(e);
                        var n = document.getElementById("YT-loginFrameshade");
                        n && n.parentNode.removeChild(n)
                    },
                    closeCallback: function() {
                        var e = document.getElementsByClassName("YT-loginFrame-popbox")
                          , t = e.length;
                        if (t > 1) {
                            var n = e[t - 1];
                            n.parentNode.removeChild(n)
                        }
                        var i = document.getElementById("closeFrame");
                        i && (i.style.display = "none")
                    }
                })
            }
            function r(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function a(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function o(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = {
                TAG: "util",
                jsopInfo: {},
                KEYARR: [19, 1, 4, 7, 30, 14, 28, 8, 24, 17, 6, 35, 34, 16, 9, 10, 13, 22, 32, 29, 31, 21, 18, 3, 2, 23, 25, 27, 11, 20, 5, 15, 12, 0, 33, 26],
                protocol: "http:",
                addEventListenerHander: function(e, t, n) {
                    e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent ? e.attachEvent("on" + t, n) : e["on" + t] = n
                },
                removeEventListenerHander: function(e, t, n) {
                    e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent ? e.detachEvent("on" + t, n) : e["on" + t] = null
                },
                getById: function(e, t) {
                    return t && t instanceof HTMLElement ? t.getElementById(e) : document.getElementById(e)
                },
                deleteEleById: function(e) {
                    var t = document.getElementById(e);
                    t.parentNode.removeChild(t)
                },
                emptyEleById: function(e) {
                    document.getElementById(e) && (document.getElementById(e).innerHTML = "")
                },
                getByClass: function(e, t) {
                    return t && t instanceof HTMLElement ? t.getElementsByClassName(e) : document.getElementsByClassName(e)
                },
                get: function(e, t) {
                    if (t = t || document,
                    0 === e.indexOf(".")) {
                        var n = e.substr(1, e.length - 1);
                        return t.getElementsByClassName(n)
                    }
                    var i = e;
                    return 0 === e.indexOf("#") && (i = e.substr(1, e.length - 1)),
                    t.getElementById(i)
                },
                hasClass: function(e, t) {
                    return t = t || "",
                    0 != t.replace(/\s/g, "").length && new RegExp(" " + t + " ").test(" " + e.className + " ")
                },
                addClass: function(e, t) {
                    e && !this.hasClass(e, t) && (e.className = "" == e.className ? t : e.className + " " + t)
                },
                removeClass: function(e, t) {
                    if (e && this.hasClass(e, t)) {
                        for (var n = " " + e.className.replace(/[\t\r\n]/g, "") + " "; n.indexOf(" " + t + " ") >= 0; )
                            n = n.replace(" " + t + " ", " ");
                        e.className = n.replace(/^\s+|\s+$/g, "")
                    }
                },
                getScreenState: function() {
                    var e = window.orientation;
                    switch (e) {
                    case 90:
                    case -90:
                        e = 0;
                        break;
                    default:
                        e = 1
                    }
                    return e
                },
                urlParameter: function(e) {
                    var t = [];
                    for (var n in e)
                        t.push(n + "=" + e[n]);
                    return t.join("&")
                },
                toJSON: function(e) {
                    var t = [];
                    for (var n in e)
                        t.push('"' + n + '":"' + e[n] + '"');
                    return "{" + t.join(",") + "}"
                },
                getURlKey: function(e, t) {
                    var n = t.split("?");
                    if (n.length > 1) {
                        n = n[1].split("&");
                        for (var i = n.length, r = 0; r < i; r++) {
                            var a = n[r].split("=");
                            if (a.length > 1 && a[0] === e)
                                return a[1]
                        }
                    }
                    return null
                },
                loadfile: function(e, t, n) {
                    var i = null;
                    "js" == t ? (i = document.createElement("script"),
                    i.setAttribute("type", "text/javascript"),
                    i.setAttribute("id", n),
                    i.setAttribute("src", e)) : "css" == t && (i = document.createElement("link"),
                    i.setAttribute("rel", "stylesheet"),
                    i.setAttribute("id", n),
                    i.setAttribute("type", "text/css"),
                    i.setAttribute("href", e)),
                    void 0 !== i && null === document.getElementById(n) && document.getElementsByTagName("head")[0].appendChild(i)
                },
                loadCssCode: function(e, t) {
                    var n = document.createElement("style");
                    n.type = "text/css",
                    n.rel = "stylesheet",
                    n.id = t || "defaultid";
                    try {
                        n.appendChild(document.createTextNode(e))
                    } catch (t) {
                        n.styleSheet.cssText = e
                    }
                    var i = document.getElementsByTagName("head")[0];
                    null === document.getElementById(n.id) && i.appendChild(n)
                },
                getJsonp: function(e, t, n, i, r) {
                    var a = e
                      , o = (new Date).getTime() + Math.round(100 * Math.random())
                      , s = "_stId" + o
                      , l = document.createElement("script")
                      , u = "json" + o
                      , d = this;
                    l.type = "text/javascript",
                    l.onerror = l.onbort = function() {
                        d[s] && (clearTimeout(d[s]),
                        d[s] = null,
                        n && n(),
                        document.getElementsByTagName("head")[0].removeChild(l))
                    }
                    ;
                    var c = r || 15e3;
                    d[s] = setTimeout(function(e) {
                        d[e] && (clearTimeout(d[e]),
                        d[e] = null,
                        i && i(),
                        document.getElementsByTagName("head")[0].removeChild(l))
                    }(s), c),
                    window[u] = function(e) {
                        d[s] && (clearTimeout(d[s]),
                        d[s] = null,
                        document.getElementsByTagName("head")[0].removeChild(l),
                        t(e))
                    }
                    ,
                    a += "&callback=" + u,
                    l.src = a,
                    document.getElementsByTagName("head")[0].appendChild(l)
                },
                loadJsWithCb: function(e, t) {
                    var n = document.getElementsByTagName("head")[0]
                      , i = document.createElement("script");
                    i.type = "text/javascript",
                    i.onload = i.onreadystatechange = function() {
                        this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (t && t(),
                        i.onload = i.onreadystatechange = null)
                    }
                    ,
                    i.onerror = function() {
                        i.onload = null
                    }
                    ,
                    i.src = e,
                    n.appendChild(i)
                },
                translate: function(e, t) {
                    for (var n = [], i = 0; i < e.length; i++) {
                        var r = 0;
                        r = e[i] >= "a" && e[i] <= "z" ? e[i].charCodeAt(0) - "a".charCodeAt(0) : e[i] - "0" + 26;
                        for (var a = 0; a < 36; a++)
                            if (t[a] == r) {
                                r = a;
                                break
                            }
                        n[i] = r > 25 ? r - 26 : String.fromCharCode(r + 97)
                    }
                    return n.join("")
                },
                decode64: function(e) {
                    if (!e)
                        return "";
                    e = e.toString();
                    var t = void 0
                      , n = void 0
                      , i = void 0
                      , r = void 0
                      , a = void 0
                      , o = void 0
                      , s = void 0
                      , l = new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);
                    for (o = e.length,
                    a = 0,
                    s = ""; a < o; ) {
                        do {
                            t = l[255 & e.charCodeAt(a++)]
                        } while (a < o && -1 == t);
                        if (-1 == t)
                            break;
                        do {
                            n = l[255 & e.charCodeAt(a++)]
                        } while (a < o && -1 == n);
                        if (-1 == n)
                            break;
                        s += String.fromCharCode(t << 2 | (48 & n) >> 4);
                        do {
                            if (61 == (i = 255 & e.charCodeAt(a++)))
                                return s;
                            i = l[i]
                        } while (a < o && -1 == i);
                        if (-1 == i)
                            break;
                        s += String.fromCharCode((15 & n) << 4 | (60 & i) >> 2);
                        do {
                            if (61 == (r = 255 & e.charCodeAt(a++)))
                                return s;
                            r = l[r]
                        } while (a < o && -1 == r);
                        if (-1 == r)
                            break;
                        s += String.fromCharCode((3 & i) << 6 | r)
                    }
                    return s
                },
                encode64: function(e) {
                    if (!e)
                        return "";
                    e = e.toString();
                    var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
                      , n = void 0
                      , i = void 0
                      , r = void 0
                      , a = void 0
                      , o = void 0
                      , s = void 0;
                    for (r = e.length,
                    i = 0,
                    n = ""; i < r; ) {
                        if (a = 255 & e.charCodeAt(i++),
                        i == r) {
                            n += t.charAt(a >> 2),
                            n += t.charAt((3 & a) << 4),
                            n += "==";
                            break
                        }
                        if (o = e.charCodeAt(i++),
                        i == r) {
                            n += t.charAt(a >> 2),
                            n += t.charAt((3 & a) << 4 | (240 & o) >> 4),
                            n += t.charAt((15 & o) << 2),
                            n += "=";
                            break
                        }
                        s = e.charCodeAt(i++),
                        n += t.charAt(a >> 2),
                        n += t.charAt((3 & a) << 4 | (240 & o) >> 4),
                        n += t.charAt((15 & o) << 2 | (192 & s) >> 6),
                        n += t.charAt(63 & s)
                    }
                    return n
                },
                rc4: function(e, t) {
                    for (var n = [], i = 0, r = void 0, a = "", o = 0; o < 256; o++)
                        n[o] = o;
                    for (o = 0; o < 256; o++)
                        i = (i + n[o] + e.charCodeAt(o % e.length)) % 256,
                        r = n[o],
                        n[o] = n[i],
                        n[i] = r;
                    o = 0,
                    i = 0;
                    for (var s = 0; s < t.length; s++)
                        o = (o + 1) % 256,
                        i = (i + n[o]) % 256,
                        r = n[o],
                        n[o] = n[i],
                        n[i] = r,
                        a += String.fromCharCode(t.charCodeAt(s) ^ n[(n[o] + n[i]) % 256]);
                    return a
                },
                mergeObject: function(e, t) {
                    for (var n in e)
                        t[n] = e[n];
                    return t
                },
                htmlEncodeAll: function(e) {
                    return null == e ? "" : e.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
                },
                show: function(e, t) {
                    if (t = t || "block",
                    e instanceof Array)
                        for (var n = 0, i = e.length; n < i; n++) {
                            var r = e[n];
                            r && r instanceof HTMLElement && (r.style.display = t)
                        }
                    e && e instanceof HTMLElement && (e.style.display = t)
                },
                hide: function(e) {
                    if (e instanceof Array)
                        for (var t = 0, n = e.length; t < n; t++) {
                            var i = e[t];
                            i && i instanceof HTMLElement && (i.style.display = "none")
                        }
                    e && e instanceof HTMLElement && (e.style.display = "none")
                },
                createElement: function(e, t, n, i) {
                    i = i || "div";
                    var r = document.createElement(i);
                    return e && (r.className = e),
                    t && (r.id = t),
                    n && (r.innerHTML = n),
                    r
                },
                getTimeModel: function(e) {
                    var t = void 0
                      , n = void 0
                      , i = void 0
                      , r = [];
                    return t = Math.floor(e / 3600),
                    e %= 3600,
                    n = Math.floor(e / 60),
                    i = parseInt(e % 60),
                    t > 0 && r.push(t),
                    n > 9 ? r.push(n) : r.push("0" + n),
                    i > 9 ? r.push(i) : r.push("0" + i),
                    r.join(":")
                },
                checkBind: function() {
                    Function.prototype.bind || (Function.prototype.bind = function(e) {
                        if ("function" != typeof this)
                            throw new TypeError("What is trying to be bound is not callable");
                        var t = Array.prototype.slice.call(arguments, 1)
                          , n = this
                          , i = function() {};
                        return fBound = function() {
                            return n.apply(this instanceof i ? this : e, t.concat(Array.prototype.slice.call(arguments)))
                        }
                        ,
                        i.prototype = this.prototype,
                        fBound.prototype = new i,
                        fBound
                    }
                    )
                },
                checkProtocol: function() {
                    var e = "";
                    e = document.location && document.location.protocol ? document.location.protocol : document.location && document.location.href && document.location.href.indexOf("https:") > -1 ? "https:" : "http:",
                    this.protocol = e
                },
                getCna: function() {
                    return this.cna ? this.cna : this.cookie.getCookie("cna") ? (this.cna = this.cookie.getCookie("cna"),
                    this.cna) : window.goldlog && window.goldlog.Etag ? (this.cna = window.goldlog.Etag,
                    this.cna) : (this.loadfile("https://log.mmstat.com/eg.js", "js"),
                    null)
                },
                checkOldVersionIku: function() {
                    var e = navigator.userAgent.toLowerCase()
                      , t = e.match(/IKU\/(\d+\.\d+\.\d+)/i);
                    if (t && t[1]) {
                        for (var n = "", i = t[1].split("."), r = 0; r < i.length; r++)
                            n += i[r];
                        return parseInt(n) < 752
                    }
                    return !1
                },
                getSDKEnvironment: function() {
                    if (window.envTag)
                        return window.envTag;
                    var e = navigator.userAgent.toLowerCase()
                      , t = e.match("iku") || e.match("uosyouku")
                      , n = t && e.match("windows") ? 1 : t && e.match("youku") ? 2 : 3;
                    window.location.href.indexOf("/guide");
                    return "YoukuOfficial" == window.pid ? "1.0.2" : 1 == n ? "2.0.1" : 2 == n ? "3.0.1" : "1.0.1"
                }
            };
            s.checkBind(),
            s.checkProtocol();
            var l = s
              , u = {
                login: function(e, t) {
                    i(e, t).buildLoginDom();
                    var n = document.getElementById("closeFrame");
                    n && (n.style.display = "block")
                }
            }
              , d = u
              , c = "/yt/youku.pcweb.control"
              , h = {
                EXP: {
                    value: c,
                    param_1: "EXP",
                    param_2: "",
                    param_3: "GET"
                },
                CLK: {
                    value: c,
                    param_1: "CLK",
                    param_2: "",
                    param_3: "GET"
                }
            }
              , p = function() {
                function e() {
                    r(this, e),
                    this.goldlogs = h,
                    this.a_b = ""
                }
                return e.prototype.log = function(e, t) {
                    var n = null;
                    try {
                        n = this.goldlogs[e],
                        window.goldlog && window.goldlog.record && window.goldlog.record(n.value, n.param_1, t || n.param_2, n.param_3)
                    } catch (e) {
                        console.log("error occuer")
                    }
                }
                ,
                e.prototype.getSpm = function(e) {
                    var t = {
                        spmc: "",
                        spmd: ""
                    }
                      , n = "";
                    try {
                        if (e && e.params && e.params.spm) {
                            var i = e.params.spm.split(".");
                            4 == i.length && (t.spmc = "" + i[2],
                            t.spmd = "d_" + i[3])
                        }
                    } catch (e) {}
                    try {
                        e && e.params && e.params.scm && (n = e.params.scm)
                    } catch (e) {}
                    return {
                        _spm: t,
                        _scm: n
                    }
                }
                ,
                e.prototype.getABForPage = function() {
                    if (!this.a_b) {
                        var e = ""
                          , t = "";
                        try {
                            e = document.getElementsByTagName("meta")["data-spm"].getAttribute("content")
                        } catch (e) {}
                        try {
                            t = document.getElementsByTagName("body")[0].getAttribute("data-spm")
                        } catch (e) {}
                        this.a_b = (e || "-") + "." + (t || "-")
                    }
                    return this.a_b
                }
                ,
                e.prototype.expose = function(e, t, n, i) {
                    var r = "en_spm=" + e + "&en_scm=" + t + "&en_vid=" + n + "&en_sid=" + i;
                    this.log("EXP", r)
                }
                ,
                e
            }()
              , f = p
              , m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
              , y = function() {
                function e(t) {
                    a(this, e),
                    this.container_id = t.container_id,
                    this.container = document.getElementById(this.container_id),
                    this.domain = t.domain,
                    this.vipPaymentURL = t.vipPaymentURL + "&place=111",
                    this.channel = t.channel,
                    this.loadCashier = t.loadCashier,
                    this.container && this.show(),
                    !this.container && this.count(0, 1e3),
                    this.trialLog = new f,
                    this.vid = t.video_id,
                    this.sid = t.showId,
                    this.spm_ab = this.trialLog.getABForPage()
                }
                return e.prototype.show = function() {
                    !document.getElementById("vip_player_payment_side_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_side_style"),
                    this.initBox(),
                    this.getPayInfo()
                }
                ,
                e.prototype.count = function(e, t) {
                    var n = this;
                    e > 3 || setTimeout(function() {
                        var t = document.getElementById(n.container_id);
                        t ? (n.container = t,
                        n.show()) : n.count(e + 1, 500)
                    }, t)
                }
                ,
                e.prototype.getPayInfo = function(e) {
                    var t = this;
                    l.getJsonp(this.vipPaymentURL, function(n) {
                        if (e && "function" == typeof e)
                            e(n);
                        else {
                            if (2e4 != n.code)
                                return;
                            var i = n.result && n.result.model && n.result.model.playerAttrs && n.result.model.playerAttrs.pay_scenes || {};
                            i.scenes && t.render(i.scenes)
                        }
                    }, function(e) {})
                }
                ,
                e.prototype.render = function(e) {
                    var t = void 0;
                    if (e.forEach(function(e) {
                        t = "pc_player_rightside" === e.scene ? e.components : t
                    }),
                    t) {
                        var n = {}
                          , i = []
                          , r = []
                          , a = !1
                          , o = this
                          , s = "";
                        t.forEach(function(e) {
                            "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && !i.length && i.push(e)
                        }),
                        i.forEach(function(e) {
                            var t = e.text
                              , n = e.action
                              , i = n.mode
                              , l = n.params && n.params.products && n.params.products.join(",")
                              , u = o.trialLog.getSpm(n)
                              , d = u._spm
                              , c = u._scm;
                            !s && (s = d.spmc);
                            var h = ""
                              , p = "default"
                              , f = "";
                            1 == i ? (p = "vip.trade.order.render.cibn" === n.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === n.pageKey || "vip.trade.order.render.psport_sports" === n.pageKey ? "psport" : "default",
                            f = "psport" === p ? n.pageKey.split("psport_")[1] : f) : 2 == i ? (h = "consumeticket_event_side",
                            o.showid = n.params.show_id,
                            o.code = n.params.code,
                            a = !0,
                            o.consumeticketText = n.params) : 3 == i || 6 == i ? p = "vod" : 4 == i && (p = "vippkg"),
                            "h5cashier" == n.type && !l && (e.attribute || "-").indexOf("pptv") > -1 && (p = "psport");
                            var y = n.params && n.params.crmParams;
                            y = y && "string" == typeof y ? encodeURIComponent(y) : "";
                            var g = n.params && n.params.promotions;
                            g = g && "object" === (void 0 === g ? "undefined" : m(g)) ? encodeURIComponent(JSON.stringify(g)) : "";
                            var v = n.params && n.params.activity_code || ""
                              , _ = n.params && n.params.orderRender_Params
                              , b = ""
                              , k = "";
                            try {
                                _ && "string" == typeof _ && (_ = JSON.parse(_),
                                _ && _.productIDArray && (b = encodeURIComponent(JSON.stringify(_.productIDArray))),
                                _ && _.activity_code && (k = _.activity_code))
                            } catch (e) {
                                throw new Error("sidrender parse error")
                            }
                            var S = e.superscript ? "<em>" + e.superscript + "</em>" : ""
                              , E = '<a href="JavaScript:;" class="' + (h || "youku_vip_pay_btn") + ' vip_limit_btn youku_vip_trial_side" data-type="' + p + '" data-subbiz="' + f + '" data-products="' + (l || "") + '" data-product_params="' + b + '" data-tag="' + o.channel + '_pc_trial_sid" data-spm=' + d.spmd + ' data-scm="' + c + '" data-vid="' + o.vid + '" data-sid="' + o.sid + '" data-crm_params="' + y + '" data-acode="' + (k || v) + '" data-promotions="' + g + '">' + t + S + "</a>";
                            !a && o.trialLog.expose(o.spm_ab + "." + s + "." + d.spmd, c, o.vid, o.sid),
                            r.push(E)
                        }),
                        n.button = r.join(""),
                        n.spmc = s,
                        o.container_main.innerHTML = this.tplSide(n),
                        a && l.addEventListenerHander(l.getByClass("consumeticket_event_side", this.container)[0], "click", function() {
                            o.runConsumeticket(o)
                        });
                        for (var u = document.getElementsByClassName("youku_vip_trial_side"), d = 0; d < u.length; d++)
                            !function(e) {
                                l.addEventListenerHander(u[e], "click", function() {
                                    var t = u[e].getAttribute("data-spm-anchor-id")
                                      , n = u[e].getAttribute("data-scm")
                                      , i = "en_spm=" + t + "&en_scm=" + n + "&en_vid=" + o.vid + "&en_sid=" + o.sid;
                                    o.trialLog.log("CLK", i)
                                })
                            }(d);
                        o.loadCashier(100)
                    }
                }
                ,
                e.prototype.render_error = function(e) {}
                ,
                e.prototype.tplSide = function(e) {
                    return '<div class="vip_limit_content_sid" id="vip_limit_content_sid" data-spm=' + e.spmc + ">\n            " + e.button + "\n            <p>" + e.subtitle + "</p>\n        </div>"
                }
                ,
                e.prototype.getStyle = function() {
                    return ".vip_limit_box_side{\n            text-align: center;\n            position: relative;\n            margin-top: 14px;\n            padding: 0 20px 0 20px;\n            font-family: PingFangSC-Regular;\n        }\n        .vip_limit_box_side .vip_limit_btn{\n            display: block;\n            width: 100%;\n            position: relative;\n            border-radius: 15px;\n            font-size: 14px;\n            line-height: 30px;\n            color: #5B3301;\n            text-align: center;\n            background: #E1B271;\n            background: linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -ms-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -webkit-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -moz-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -o-linear-gradient(to right, #FCE5AA, #E1B271);\n            border-radius: 15px;\n        }\n        .vip_limit_box_side .vip_limit_btn em{\n            position: absolute;\n            left: 100%;\n            top: -14px;\n            transform: translate( -66%, 0 );\n            background-image: linear-gradient(-135deg, #d52525 0%, #f35b5b 15%, #fb444c 100%);\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n            padding: 0 10px;\n            border-radius: 15px 0px 15px 0px;\n            color: #fff;\n            white-space: nowrap;\n            font-style: normal;\n        }\n        .vip_limit_box_side p{\n            padding: 10px;\n            text-align: center;\n            font-size: 12px;\n            color: #999;\n            line-height: 18px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            max-width: 100%;\n        }\n        .vip_limit_tips_side{\n            position: absolute;\n            top: 0;\n            right: 10px;\n            bottom: 0;\n            left: 10px;\n            background: rgba(0, 0, 0, 0.9);\n            z-index: 1001;\n        }\n        .vip_limit_tips_side p{\n            color: #ddd;\n            padding: 6px 10px;\n        }\n        .vip_limit_tips_side .vip_limit_btn{\n            width: 32%;\n            margin: 0 auto;\n            line-height: 30px;\n        }"
                }
                ,
                e.prototype.initBox = function() {
                    this.container.innerHTML = '<div class="vip_limit_box_side" id="vip_limit_box_side"></div>',
                    this.container_main = document.getElementById("vip_limit_box_side")
                }
                ,
                e.prototype.runConsumeticket = function(e) {
                    var t = document.createElement("div");
                    t.id = "vip_limit_tips_side",
                    t.className = "vip_limit_tips_side";
                    var n = "https://" + e.domain + "/api/ticket_exchange?code=" + e.code + "&showId=" + e.showid + "&channel=pc@yk";
                    l.getJsonp(n, function(n) {
                        if (!(n.result || {}).success) {
                            var i = n.result.message || "网络错误，请稍后重试";
                            return t.innerHTML = "<p>" + i + '</p>\n                    <a href="JavaScript:;" class="vip_limit_btn" id="sid_goback">返回</a>\n                </div>',
                            void document.getElementById("sid_goback").addEventListener("click", function(e) {
                                l.deleteEleById("vip_limit_tips_side")
                            })
                        }
                        t.innerHTML = '<p>用券成功，请刷新页面观看！</p>\n                <a href="JavaScript:;" class="vip_limit_btn" id="sid_reload">刷新</a>\n            </div>',
                        e.container_main.appendChild(t),
                        document.getElementById("sid_reload").addEventListener("click", function(e) {
                            window.location.reload()
                        })
                    }, function(e) {})
                }
                ,
                e
            }()
              , g = y
              , v = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
              , _ = function() {
                return window.youku_vip_pay_env && "local" === window.youku_vip_pay_env ? "pc-loc.pay.youku.com:7001" : window.youku_vip_pay_env && "daily" === window.youku_vip_pay_env ? "pc.pay.youku.com" : window.youku_vip_pay_env && "pre" === window.youku_vip_pay_env ? "paypre.vip.youku.com" : (window.youku_vip_pay_env && window.youku_vip_pay_env,
                "pc.pay.youku.com")
            }()
              , b = function() {
                function e(t) {
                    o(this, e),
                    this.envTag = l.getSDKEnvironment(),
                    this.container = t.container,
                    this.container_sid_id = t.container_sid_id,
                    this.payment_data = t.payment_data || null,
                    this.domain = t.domain || _,
                    this.pay_info_ext = t.pay_info_ext || "",
                    this.vipPaymentURL = ("local" === window.youku_vip_pay_env ? "http://" : "https://") + this.domain + "/api/pay_info?source=3&device=2&version=7.3.0&videoId=" + t.video_id + "&showId=" + (t.showId || "") + (this.pay_info_ext && "&upsAttributes=" + this.pay_info_ext || "") + "&channel=" + ("3.0.1" == this.envTag ? "mac@yk" : "pc@yk"),
                    this.reload = t.reload,
                    this.video_id = t.video_id,
                    this.showId = t.show_id || "",
                    this.channel = t.channel,
                    this.superscript = t.superscript,
                    this.ytid = t.ytid,
                    this.trial_times = t.trial_times,
                    this.trial_playing_callback = t.trial_playing_callback,
                    this.trial_end_callback = t.trial_end_callback,
                    this.isLogin = t.ytid,
                    this.trialLog = new f,
                    this.spm_ab = this.trialLog.getABForPage(),
                    l.getByClass("vip_info")[0] && (l.getByClass("vip_info")[0].style.display = "block");
                    try {
                        this.container_sid_id && this.invokeSid()
                    } catch (e) {}
                }
                return e.prototype.show = function() {
                    this.showPop()
                }
                ,
                e.prototype.showPop = function() {
                    !document.getElementById("vip_player_payment_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_style"),
                    !document.getElementById("vip_limit_box") && this.initBox(),
                    this.payment_data && this.render(this.payment_data, "trial_end"),
                    this.payment_data || this.getPayInfo("", "trial_end"),
                    this.loadCashier()
                }
                ,
                e.prototype.hide = function() {
                    this.hidePop()
                }
                ,
                e.prototype.hidePop = function() {
                    l.removeClass(document.getElementById("vip_limit_box"), "status_pop"),
                    l.emptyEleById("vip_player_payment_pop"),
                    l.addClass(document.getElementById("vip_player_payment_pop"), "none")
                }
                ,
                e.prototype.showToast = function() {
                    !document.getElementById("vip_player_payment_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_style"),
                    !document.getElementById("vip_limit_box") && this.initBox(),
                    this.payment_data && this.render(this.payment_data, "trial_playing"),
                    this.payment_data || this.getPayInfo("", "trial_playing"),
                    this.loadCashier()
                }
                ,
                e.prototype.hideToast = function() {
                    l.removeClass(document.getElementById("vip_limit_box"), "status_toast"),
                    l.emptyEleById("vip_player_payment_toast"),
                    l.addClass(document.getElementById("vip_player_payment_toast"), "none")
                }
                ,
                e.prototype.runReload = function() {
                    this.hidePop(),
                    (window.H5player || window.player || {
                        seek: function() {}
                    }).seek(0)
                }
                ,
                e.prototype.loadLoginFrame = function() {
                    var e = this;
                    window.getLoginFrame ? e.loginAPI = d : l.loadJsWithCb("https://g.alicdn.com/static-es6/login/public/load.js", function() {
                        getLoginFrame && (e.loginAPI = d)
                    })
                }
                ,
                e.prototype.loadCashier = function(e) {
                    var t = this;
                    setTimeout(function() {
                        var e = "pc.pay.youku.com" == t.domain ? "https://g.alicdn.com/youkuvip_fe/vip-public-assets/pay/pay.js" : "https://g-assets.prepub.taobao.net/youkuvip_fe/vip-public-assets/pay/pay.js";
                        window.isPayJSLoad || l.loadJsWithCb(e, function() {})
                    }, e || 350)
                }
                ,
                e.prototype.initLoginFrame = function() {
                    var e = this
                      , t = "https://" + e.domain + "/api/get_login_state?_=pc.pay";
                    l.getJsonp(t, function(t) {
                        2e4 == t.code ? (l.deleteEleById("vip_limit_login"),
                        window.location.reload()) : e.invokeLoginFrame()
                    }, function() {
                        e.invokeLoginFrame()
                    })
                }
                ,
                e.prototype.invokeLoginFrame = function() {
                    var e = this;
                    "2.0.1" == e.envTag ? window.external.execute("iku", "iku://|buildin|vip|do-login|web|-||") : "1.0.2" == e.envTag || "3.0.1" == e.envTag ? window.external && window.external.execute ? window.external.execute("iku", "iku://|buildin|vip|do-login|web|-||") : window.webkit.messageHandlers.openLoginDialog.postMessage({
                        body: ""
                    }) : "v" === e.channel && window.Login && window.Login.login ? window.Login.login(null, function() {
                        window.location.reload()
                    }) : e.loginAPI.login(!0, function() {
                        window.location.reload()
                    })
                }
                ,
                e.prototype.destroy = function() {
                    this.hidePop(),
                    this.hideToast(),
                    l.deleteEleById("vip_limit_box"),
                    this.payment_data = null
                }
                ,
                e.prototype.update = function(e) {
                    this.payment_data = null,
                    "pop" === e ? (this.hidePop(),
                    this.showPop()) : "toast" === e ? (this.hideToast(),
                    this.showToast()) : (this.destroy(),
                    this.showPop(),
                    this.showToast())
                }
                ,
                e.prototype.getPayInfo = function(e, t) {
                    var n = this;
                    l.getJsonp(this.vipPaymentURL, function(i) {
                        if (e && "function" == typeof e)
                            e(i);
                        else {
                            if (2e4 != i.code)
                                return;
                            n.payment_data = i.result && i.result.model && i.result.model.playerAttrs && i.result.model.playerAttrs.pay_scenes && i.result.model.playerAttrs.pay_scenes.scenes || [],
                            n.isLogin = i.result && i.result.isLogin,
                            n.render(n.payment_data, t, !0)
                        }
                    }, function(e) {})
                }
                ,
                e.prototype.render_trial_playing = function(e) {
                    var t = this
                      , n = {}
                      , i = []
                      , r = []
                      , a = !1
                      , o = this
                      , s = ""
                      , u = !1;
                    e.forEach(function(e) {
                        "title" === e.code && (n.icon = e.icon ? '<b><img src="' + e.icon + '"></b>' : ""),
                        "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && i.push(e)
                    }),
                    i.forEach(function(e) {
                        var t = e.text
                          , n = e.action
                          , i = n.mode
                          , l = n.params && n.params.products && n.params.products.join(",")
                          , d = o.trialLog.getSpm(n)
                          , c = d._spm
                          , h = d._scm;
                        !s && (s = c.spmc);
                        var p = ""
                          , f = "default"
                          , m = ""
                          , y = "";
                        1 == i ? (f = "vip.trade.order.render.cibn" === n.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === n.pageKey || "vip.trade.order.render.psport_sports" === n.pageKey ? "psport" : "default",
                        m = "psport" === f ? n.pageKey.split("psport_")[1] : m) : 2 == i ? (p = "consumeticket_event",
                        o.showid = n.params.show_id,
                        o.code = n.params.code,
                        a = !0,
                        o.consumeticketText = n.params) : 3 == i || 6 == i ? f = "vod" : 4 == i && (f = "vippkg"),
                        "h5cashier" == n.type && !l && (e.attribute || "-").indexOf("pptv") > -1 && (f = "psport"),
                        n && "showErrMsg" === n.type && (u = !0,
                        y = "deny_buy_vod_playing");
                        var g = n.params && n.params.crmParams;
                        g = g && "string" == typeof g ? encodeURIComponent(g) : "";
                        var _ = n.params && n.params.promotions;
                        _ = _ && "object" === (void 0 === _ ? "undefined" : v(_)) ? encodeURIComponent(JSON.stringify(_)) : "";
                        var b = n.params && n.params.activity_code || ""
                          , k = n.params && n.params.orderRender_Params
                          , S = ""
                          , E = "";
                        try {
                            k && "string" == typeof k && (k = JSON.parse(k),
                            k && k.productIDArray && (S = encodeURIComponent(JSON.stringify(k.productIDArray))),
                            k && k.activity_code && (E = k.activity_code))
                        } catch (e) {
                            throw new Error("render_trial_playing parse error")
                        }
                        var w = "";
                        w = y ? '<a href="JavaScript:;" class="' + y + ' youku_vip_trial_playing" data-type="' + f + '" data-subbiz="' + m + '" data-product_params="' + S + '" data-products="' + (l || "") + '" data-tag="' + o.channel + '_pc_trial_playing" data-spm=' + c.spmd + ' data-scm="' + h + '" data-vid="' + o.video_id + '" data-sid="' + o.showId + '" data-dialog-title="' + (n.params && n.params.dialog_title || "") + '" data-dialog_desc1="' + (n.params && n.params.dialog_desc1 || "") + '" data-dialog_desc2="' + (n.params && n.params.dialog_desc2 || "") + '" data-dialog_desc3="' + (n.params && n.params.dialog_desc3 || "") + '" data-crm_params="' + g + '" data-acode="' + (E || b) + '" data-promotions="' + _ + '" data-mode="' + i + '" data-pagekey="' + n.pageKey + '">' + t + "</a>" : '<a href="JavaScript:;" class="' + (p || "youku_vip_pay_btn") + ' youku_vip_trial_playing" data-type="' + f + '" data-subbiz="' + m + '" data-product_params="' + S + '" data-products="' + (l || "") + '" data-tag="' + o.channel + '_pc_trial_playing" data-spm=' + c.spmd + ' data-scm="' + h + '" data-vid="' + o.video_id + '" data-sid="' + o.showId + '" data-crm_params="' + g + '" data-acode="' + (E || b) + '" data-promotions="' + _ + '"  data-mode="' + i + '" data-pagekey="' + n.pageKey + '">' + t + "</a>",
                        !a && o.trialLog.expose(o.spm_ab + "." + s + "." + c.spmd, h, o.video_id, o.showId),
                        r.push(w)
                    }),
                    n.href = r.join("或"),
                    n.spmc = s,
                    document.getElementById("vip_player_payment_toast").innerHTML = this.tplToast(n),
                    document.getElementById("toast_close") && l.addEventListenerHander(document.getElementById("toast_close"), "click", function() {
                        t.hideToast()
                    });
                    for (var d = document.getElementsByClassName("youku_vip_trial_playing"), c = 0; c < d.length; c++)
                        !function(e) {
                            l.addEventListenerHander(d[e], "click", function() {
                                var t = d[e].getAttribute("data-spm-anchor-id")
                                  , n = d[e].getAttribute("data-scm")
                                  , i = "en_spm=" + t + "&en_scm=" + n + "&en_vid=" + o.video_id + "&en_sid=" + o.showId;
                                o.trialLog.log("CLK", i)
                            })
                        }(c);
                    a && l.getByClass("consumeticket_event", this.container)[0] && l.addEventListenerHander(l.getByClass("consumeticket_event", this.container)[0], "click", function() {
                        o.consumeticketConfim(o)
                    }),
                    u && l.getByClass("deny_buy_vod_playing") && l.addEventListenerHander(l.getByClass("deny_buy_vod_playing")[0], "click", function(e) {
                        var n = e.srcElement || e.target
                          , i = t.getDialogData(n);
                        t.renderDialog(i)
                    }),
                    u && l.getByClass("deny_buy_vod_playing") && l.addEventListenerHander(l.getByClass("deny_buy_vod_playing")[0], "click", function(e) {
                        var n = e.srcElement || e.target
                          , i = t.getDialogData(n);
                        t.renderDialog(i)
                    }),
                    l.addClass(document.getElementById("vip_limit_box"), "status_toast"),
                    l.removeClass(document.getElementById("vip_player_payment_toast"), "none")
                }
                ,
                e.prototype.render_trial_end = function(e) {
                    var t = this
                      , n = {}
                      , i = []
                      , r = []
                      , a = []
                      , o = !1
                      , s = this
                      , u = "";
                    n.vipState = "none",
                    n.vipType = "优酷VIP";
                    var d = !1;
                    e.forEach(function(e) {
                        "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && i.push(e)
                    }),
                    i.forEach(function(e) {
                        var t = e.text
                          , i = e.action
                          , l = i.mode
                          , c = i.params && i.params.products && i.params.products.join(",")
                          , h = ""
                          , p = "default"
                          , f = ""
                          , m = s.trialLog.getSpm(i)
                          , y = m._spm
                          , g = m._scm;
                        !u && (u = y.spmc);
                        var _ = "";
                        1 == l ? (p = "vip.trade.order.render.cibn" === i.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === i.pageKey || "vip.trade.order.render.psport_sports" === i.pageKey ? "psport" : "default",
                        f = "psport" === p ? i.pageKey.split("psport_")[1] : f,
                        (e.attribute || "-").indexOf("pptv") > -1 || "psport" === p ? (!s.isLogin && a.push("已是体育会员"),
                        n.vipState = "vip_auth_sport",
                        n.vipType = "体育会员") : (!s.isLogin && a.push("已是优酷VIP"),
                        n.vipState = "vip_auth_youku")) : 2 == l ? (h = "consumeticket_pop",
                        s.showid = i.params.show_id,
                        s.code = i.params.code,
                        o = !0,
                        !s.isLogin && a.push("有券"),
                        s.consumeticketText = i.params) : 3 == l || 6 == l ? (p = "vod",
                        !s.isLogin && -1 == a.join("").indexOf("已购买") && a.push("已购买")) : 4 == l && (p = "vippkg",
                        !s.isLogin && -1 == a.join("").indexOf("已购买") && a.push("已购买")),
                        "h5cashier" == i.type && !c && (e.attribute || "-").indexOf("pptv") > -1 && (p = "psport"),
                        i && "showErrMsg" === i.type && (d = !0,
                        _ = "deny_buy_vod_end");
                        var b = e.superscript ? "<em>" + e.superscript + "</em>" : ""
                          , k = ""
                          , S = i.params && i.params.crmParams;
                        S = S && "string" == typeof S ? encodeURIComponent(S) : "";
                        var E = i.params && i.params.promotions;
                        E = E && "object" === (void 0 === E ? "undefined" : v(E)) ? encodeURIComponent(JSON.stringify(E)) : "";
                        var w = i.params && i.params.activity_code || ""
                          , x = i.params && i.params.orderRender_Params
                          , T = ""
                          , A = "";
                        try {
                            x && "string" == typeof x && (x = JSON.parse(x),
                            x && x.productIDArray && (T = encodeURIComponent(JSON.stringify(x.productIDArray))),
                            x && x.activity_code && (A = x.activity_code))
                        } catch (e) {
                            throw new Error("render_trial_end parse error")
                        }
                        k = _ ? '<a href="JavaScript:;" class="vip_limit_btn ' + _ + ' youku_vip_trial_end" data-type="' + p + '" data-subbiz="' + f + '" data-product_params="' + T + '" data-products="' + (c || "") + '" data-dialog-title="' + (i.params && i.params.dialog_title || "") + '" data-dialog_desc1="' + (i.params && i.params.dialog_desc1 || "") + '" data-dialog_desc2="' + (i.params && i.params.dialog_desc2 || "") + '" data-dialog_desc3="' + (i.params && i.params.dialog_desc3 || "") + '" data-tag="' + s.channel + '_pc_trial_end" data-spm=' + y.spmd + ' data-scm="' + g + '" data-vid="' + s.video_id + '" data-sid="' + s.showId + '" data-crm_params="' + S + '" data-acode="' + (A || w) + '" data-promotions="' + E + '" data-mode="' + l + '" data-pagekey="' + i.pageKey + '">' + t + b + "</a>" : '<a href="JavaScript:;" class="vip_limit_btn ' + (h || "youku_vip_pay_btn") + ' youku_vip_trial_end" data-type="' + p + '" data-subbiz="' + f + '" data-product_params="' + T + '" data-products="' + (c || "") + '" data-tag="' + s.channel + '_pc_trial_end" data-spm=' + y.spmd + ' data-scm="' + g + '" data-vid="' + s.video_id + '" data-sid="' + s.showId + '" data-crm_params="' + S + '" data-acode="' + (A || w) + '" data-promotions="' + E + '" data-mode="' + l + '" data-pagekey="' + i.pageKey + '">' + t + b + "</a>",
                        !o && s.trialLog.expose(s.spm_ab + "." + u + "." + y.spmd, g, s.video_id, s.showId),
                        r.push(k)
                    }),
                    n.login_text = a.join("或"),
                    n.spmc = u,
                    n.button = r.join(""),
                    n.loginState = this.isLogin ? "" : '<span href="JavaScript:;" id="vip_limit_login" class="vip_limit_login">' + n.login_text + ' , <a href="JavaScript:;" class="J-login" id="pay_user_login">登录观看</a>></span>',
                    n.reloadState = this.reload ? '<a href="JavaScript:;" class="vip_limit_reload" id="vip_limit_reload">重新试看</a>' : "",
                    document.getElementById("vip_player_payment_pop").innerHTML = this.tplPop(n),
                    o && l.addEventListenerHander(l.getByClass("consumeticket_pop")[0], "click", function() {
                        s.consumeticketConfim(s)
                    }),
                    d && l.getByClass("deny_buy_vod_end") && l.addEventListenerHander(l.getByClass("deny_buy_vod_end")[0], "click", function(e) {
                        var n = e.srcElement || e.target;
                        n && "EM" === n.tagName && (n = n.parentNode);
                        var i = t.getDialogData(n);
                        t.renderDialog(i)
                    }),
                    n.reloadState && l.addEventListenerHander(l.getById("vip_limit_reload"), "click", function() {
                        t.runReload()
                    });
                    for (var c = document.getElementsByClassName("youku_vip_trial_end"), h = 0; h < c.length; h++)
                        !function(e) {
                            l.addEventListenerHander(c[e], "click", function(t) {
                                var n = c[e].getAttribute("data-spm-anchor-id")
                                  , i = c[e].getAttribute("data-scm")
                                  , r = "en_spm=" + n + "&en_scm=" + i + "&en_vid=" + s.video_id + "&en_sid=" + s.showId;
                                s.trialLog.log("CLK", r)
                            })
                        }(h);
                    !this.isLogin && this.loadLoginFrame(),
                    !this.isLogin && l.addEventListenerHander(l.getById("pay_user_login"), "click", function() {
                        t.initLoginFrame()
                    }),
                    l.addClass(document.getElementById("vip_limit_box"), "status_pop"),
                    l.removeClass(document.getElementById("vip_player_payment_pop"), "none")
                }
                ,
                e.prototype.render_error = function(e) {}
                ,
                e.prototype.getDialogData = function(e) {
                    var t = {
                        title: "温馨提示",
                        textHtml: "",
                        btn1: "我知道了"
                    };
                    if (e && e instanceof HTMLElement) {
                        var n = e.getAttribute("data-dialog-title") || ""
                          , i = e.getAttribute("data-dialog_desc1") || ""
                          , r = e.getAttribute("data-dialog_desc2") || ""
                          , a = e.getAttribute("data-dialog_desc3") || "";
                        n && (t.title = n),
                        i && (t.textHtml = i),
                        r && (t.btn1 = r),
                        a && (t.btn2 = a)
                    }
                    return t
                }
                ,
                e.prototype.tplDialog = function(e) {
                    var t = "";
                    return e.btn1 && (t = '<div class="cccrb_leave one_btn_style vip_pp_cancel_btn">' + e.btn1 + "</div>"),
                    e.btn1 && e.btn2 && (t = '<div class="cccrb_close vip_pp_cancel_btn">' + e.btn1 + '</div><div class="cccrb_leave vip_pp_confirm_btn">' + e.btn2 + "</div>"),
                    '<div class="vip_pp_dialog">\n                    <div class="vip_pp_cccr_box">\n                        <div class="cccrb_title">' + e.title + '</div>\n                        <div class="cccrb_desc_wrapper">\n                            <div class="cccrb_desc">' + e.textHtml + "</div>\n                        </div>\n                        " + t + '\n                    </div>\n                </div>\n                <div class="vip_pp_cccr_box_layer"></div>'
                }
                ,
                e.prototype.renderDialog = function(e) {
                    var t = document.getElementById("vip_player_payment_dialog");
                    if (t && t instanceof HTMLElement) {
                        var n = l.getById("vip_pp_dialog_id");
                        if (n)
                            return;
                        n = l.createElement("", "vip_pp_dialog_id", this.tplDialog(e)),
                        t.appendChild(n),
                        l.removeClass(t, "none");
                        var i = l.getByClass("vip_pp_cancel_btn", n)[0]
                          , r = l.getByClass("vip_pp_confirm_btn", n)[0];
                        i && l.addEventListenerHander(i, "click", function() {
                            l.deleteEleById("vip_pp_dialog_id"),
                            l.addClass(t, "none"),
                            l.removeClass(document.getElementById("vip_limit_box"), "status_dialog")
                        }),
                        r && l.addEventListenerHander(r, "click", function() {
                            l.deleteEleById("vip_pp_dialog_id"),
                            l.addClass(t, "none"),
                            l.removeClass(document.getElementById("vip_limit_box"), "status_dialog")
                        }),
                        l.addClass(document.getElementById("vip_limit_box"), "status_dialog")
                    }
                }
                ,
                e.prototype.render = function(e, t, n) {
                    if (!e || !e.length)
                        return void this.initBox();
                    var i = this;
                    e.forEach(function(e) {
                        e.scene === t && i["render_" + t](e.components)
                    })
                }
                ,
                e.prototype.tplPop = function(e) {
                    return this.trial_end_callback && this.trial_end_callback(e, this.trial_times, this.ytid, this.video_id, this, l) || '<div class="vip_limit_content" id="vip_limit_content" data-spm=' + e.spmc + ">\n            <h6>" + e.title + "</h6>\n            <p>" + e.subtitle + '</p>\n            <div class="vip_limit_button_box">' + e.button + '</div>\n            <div class="vip_limit_auth ' + e.vipState + '">\n                <p><span></span><strong>开通' + e.vipType + '尊享以下权限</strong><span></span></p>\n                <ul>\n                    <li><b class="s1"></b><span>免费大片</span></li>\n                    <li><b class="s2"></b><span>广告特权</span></li>\n                    <li><b class="s3"></b><span>1080P</span></li>\n                    <li><b class="s4"></b><span>抢先看剧</span></li>\n                    <li class="vip_icon_sport"><b class="s5"></b><span>专享比赛</span></li>\n                    <li class="vip_icon_sport"><b class="s6"></b><span>广告特权</span></li>\n                    <li class="vip_icon_sport"><b class="s7"></b><span>多端共享</span></li>\n                    <li class="vip_icon_sport"><b class="s8"></b><span>1080高清</span></li>\n                </ul>\n            </div>\n        </div>\n        <div class="vip_limit_bottom">\n            ' + e.reloadState + "\n            " + e.loginState + "\n        </div>"
                }
                ,
                e.prototype.tplToast = function(e) {
                    return this.trial_playing_callback && this.trial_playing_callback(e, this.trial_times, this.ytid, this.video_id, this, l) || '<div id="toast_content" data-spm=' + e.spmc + '><p id="toast_text" class="toast_text">' + e.icon + (e.title ? e.title + "," : "") + e.href + '<span class="toast_close" id="toast_close">×</span></p></div>'
                }
                ,
                e.prototype.getStyle = function() {
                    return ".vip_limit_box{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 0;\n            padding-bottom: 52px;\n            z-index: 999;\n            display: flex;\n            flex-direction: column;\n        }\n        .vip_limit_box.status_toast{\n            height: 30px;\n            background: rgba(0, 0, 0, 0);\n        }\n        .vip_limit_box.status_pop,.vip_limit_box.status_dialog{\n            height: 100%;\n            box-sizing: border-box;\n            background: rgba(0, 0, 0, 0.8);\n        }\n        .vip_limit_box::before{\n                flex: 1;\n                content: '';\n                width: 100%;\n        }\n        .vip_limit_box .none{\n            display: none;\n        }\n        .vip_player_payment_pop{\n            flex: 9999;\n            width: 100%;\n            position: relative;\n        }\n        .vip_limit_content{\n            position: absolute;\n            position: static\\9;\n            position: static\\0;\n            left: 50%;\n            top: 50%;\n            transform: translate( -50%, -50% );\n            text-align: center;\n            padding-top: 52px;\n        }\n        .vip_limit_content h6, .vip_limit_content p{\n            font-size: 18px;\n            line-height: 36px;\n            color: #fff;\n            text-align: center;\n        }\n        .vip_limit_content p{\n            font-size: 14px;\n            line-height: 36px;\n            color: #999;\n        }\n        .vip_limit_button_box{\n            text-align: center;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n        .vip_limit_content .vip_limit_btn{\n            display: inline-block;\n            min-width: 100px;\n            position: relative;\n            background: #f60;\n            padding: 0 35px;\n            margin: 14px 5px 25px 5px;\n            border-radius: 38px;\n            font-size: 18px;\n            line-height: 38px;\n            color: #5B3301;\n            text-align: center;\n            background: #E1B271;\n            background: linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -ms-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -webkit-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -moz-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -o-linear-gradient(to right, #FCE5AA, #E1B271);\n        }\n        .vip_limit_content .vip_limit_btn em{\n            position: absolute;\n            left: 100%;\n            top: -14px;\n            transform: translate( -100%, 0 );\n            background-image: linear-gradient(-135deg, #d52525 0%, #f35b5b 15%, #fb444c 100%);\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n            padding: 0 10px;\n            border-radius: 15px 0px 15px 0px;\n            color: #fff;\n            white-space: nowrap;\n            font-style: normal;\n        }\n        .vip_limit_bottom{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            height: 36px;\n            width: 100%;\n            line-height: 36px;\n            color: #acacac;\n        }\n        .vip_limit_auth.none{\n            display: none;\n        }\n        .vip_limit_auth p strong{\n            display: inline-block;\n            padding: 0 10px;\n            font-weight: normal;\n        }\n        .vip_limit_auth p span{\n            position: relative;\n            top: -5px;\n            display: inline-block;\n            width: 60px;\n            border-top: 1px solid #acacac;\n        }\n        .vip_limit_auth ul{\n            display: block;\n            width: 360px;\n            height: 60px;\n            margin: 10px auto 0;\n        }\n        .vip_limit_auth li{\n            float: left;\n            width: 90px;\n            height: 60px;\n            line-height: 28px;\n            color: #fff;\n            text-align: center;\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        .vip_limit_auth li b{\n            display: block;\n            margin: 0 auto;\n            width: 36px;\n            height: 32px;\n            //background-image: url(//img.alicdn.com/tfs/TB1YSEtbXzqK1RjSZFzXXXjrpXa-36-450.png);\n            background-position: center 0;\n            background-repeat: no-repeat;\n        }\n        .vip_limit_auth li b.s1{\n            background-image: url(https://img.alicdn.com/tfs/TB1xetRbrr1gK0jSZFDXXb9yVXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s2{\n            //background-position: center -50px;\n            background-image: url(https://img.alicdn.com/tfs/TB1H.FRbAL0gK0jSZFAXXcA9pXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s3{\n            //background-position: center -100px;\n            background-image: url(https://img.alicdn.com/tfs/TB1734RbBv0gK0jSZKbXXbK2FXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s4{\n            //background-position: center -150px;\n            background-image: url(https://img.alicdn.com/tfs/TB18g4RbBv0gK0jSZKbXXbK2FXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s5{\n            //background-position: center -250px;\n            background-image: url(https://img.alicdn.com/tfs/TB1gOtPbpP7gK0jSZFjXXc5aXXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s6{\n            //background-position: center -300px;\n            background-image: url(https://img.alicdn.com/tfs/TB1RfRRbxn1gK0jSZKPXXXvUXXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s7{\n            //background-position: center -350px;\n            background-image: url(https://img.alicdn.com/tfs/TB1el0QbCf2gK0jSZFPXXXsopXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s8{\n            //background-position: center -400px;\n            background-image: url(https://img.alicdn.com/tfs/TB1W58QbxD1gK0jSZFsXXbldVXa-36-36.svg);\n        }\n        .vip_limit_auth .vip_icon_sport{\n            display: none;\n        }\n        .vip_auth_sport li{\n            display: none;\n        }\n        .vip_auth_sport .vip_icon_sport{\n            display: block;\n        }\n        .vip_limit_reload{\n            float: left;\n            margin: 0 0 0 20px;\n            padding-left: 26px;\n            background-image: url(//img.alicdn.com/tfs/TB1YSEtbXzqK1RjSZFzXXXjrpXa-36-450.png);\n            background-repeat: no-repeat;\n            background-position: 0 -200px;\n            opacity: 0.6;\n            color: #fff;\n        }\n        .vip_limit_reload:hover{\n            opacity: 1;\n            color: #fff;\n        }\n        .vip_limit_login{\n            float: right;\n            margin: 0 20px 0 0;\n        }\n        .vip_limit_login a, .vip_limit_login a:link{\n            color: #FD6700;\n            padding-right: 5px;\n        }\n        .vip_limit_login a:hover{\n            color: #cf5500;\n        }\n        .vip_limit_toast{\n            position: absolute;\n            height:30px;\n            width: 100%;\n            bottom: 46px;\n            left: 0;\n        }\n        .vip_player_payment_toast{\n            height:30px;\n            width: 100%;\n            line-height: 30px;\n            color: #fff;\n            font-size: 14px;\n            padding: 0 10px;\n            box-sizing: border-box;\n            position: relative;\n            text-align: left;\n        }\n        .vip_player_payment_toast a, .vip_player_payment_toast a:link, .vip_player_payment_toast a:visited{\n            color: #08c;\n        }\n        .vip_player_payment_toast a:hover{\n            color: #2692ff;\n        }\n        .vip_player_payment_toast .toast_content, .vip_player_payment_toast p{\n            width: 100%;\n            height: 30px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            text-align: left;\n        }\n        .vip_player_payment_toast p{\n            display: inline-block;\n            width: auto;\n        }\n        .vip_player_payment_toast .toast_text{\n            background: #333;\n            border-radius: 15px;\n            padding: 0 12px;\n            height: 26px;\n            margin-top: 2px;\n            line-height: 26px;\n        }\n        .vip_player_payment_toast .toast_text a, .vip_player_payment_toast .toast_text a:link{\n            color: #FD6700;\n            padding: 0 5px;\n        }\n\n        .vip_player_payment_toast .toast_text a:hover{\n            color: #cf5500;\n        }\n        .vip_player_payment_toast .toast_text b{\n            float: left;\n            width: 22px;\n            height: 22px;\n            margin: 2px 5px 0 0;\n            border-radius: 50%;\n            overflow: hidden;\n            background: #000;\n        }\n        .vip_player_payment_toast .toast_text img{\n            display: block;\n            margin: 2px auto 0;\n            width: 18px;\n            height: 18px;\n        }\n        .vip_player_payment_toast .toast_close{\n            font-size: 20px;\n            cursor: pointer;\n            padding: 0 5px;\n        }\n        .ykplayer-dashboard-hidden .vip_limit_box{\n            padding-bottom: 0;\n        }\n        .ykplayer-dashboard-hidden .vip_limit_content{\n            padding-top: 0;\n        }\n        .vip_limit_confim{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.9);\n            z-index: 1001;\n        }\n        .vip_limit_consumetick{\n            min-width: 94%;\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate( -50%, -50% );\n            text-align: center;\n        }\n        .consumeticket_title{\n            font-size: 18px;\n            line-height: 40px;\n            padding: 20px;\n        }\n        .consumeticket_desc{\n            padding: 0 20px 20px;\n        }\n        .consumeticket_btn{\n            text-align: center;\n        }\n        .consumeticket_btn .vip_limit_btn{\n            display: inline-block;\n            min-width: 100px;\n            position: relative;\n            background: #f60;\n            padding: 0 35px;\n            margin: 14px 5px 25px 5px;\n            border-radius: 38px;\n            font-size: 18px;\n            line-height: 38px;\n            color: #623A0C;\n            text-align: center;\n            background-image: linear-gradient(-135deg, #FBE8A8 0%, #F8E7AC 15%, #E2C078 100%);\n        }\n        .vip_limit_confim .vip_confim_close{\n            position: absolute;\n            right: 30px;\n            top: 30px;\n            font-size: 24px;\n            line-height: 26px;\n            cursor: pointer;\n        }\n        .vip_player_payment_dialog{\n            position: absolute;\n            width: 100%;\n            height: 100%;\n        }\n        .vip_pp_dialog {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 320px;\n            height: 200px;\n            transform: translate(-50%, -50%);\n            z-index: 12;\n        }\n        .vip_pp_cccr_box{\n            width: 320px;\n            height: 200px;\n            border-radius: 8px;\n            background: #fff;\n            background-image: url('https://gw.alicdn.com/tfs/TB1xTXewLb2gK0jSZK9XXaEgFXa-692-398.png');\n            background-size: 346px 200px;\n            background-position: 0 0;\n            background-repeat: no-repeat;\n            overflow: hidden;\n            \n        }\n        .vip_pp_cccr_box .cccrb_title{\n            margin-top: 30px;\n            width: 100%;\n            height: 24px;\n            line-height: 24px;\n            font-size: 17px;\n            color: #000000;\n            letter-spacing: 0;\n            text-align: center;\n        }\n    \n        .vip_pp_cccr_box .cccrb_desc_wrapper{\n            position: relative;\n            margin: 17px auto 0;\n            width: 290px;\n            height: 40px;\n            \n        }\n        .vip_pp_cccr_box .cccrb_desc_wrapper .cccrb_desc{\n            position: absolute;\n            display: block;\n            top: 50%;\n            width: 290px;\n            transform: translate(0, -50%);\n            line-height: 20px;\n            font-size: 14px;\n            color: #DE8B5E;\n            letter-spacing: 0;\n            text-align: left;\n        }\n        .vip_pp_cccr_box .cccrb_close,\n        .vip_pp_cccr_box .cccrb_leave{\n            position: absolute;\n            bottom: 24px;\n            width: 112px;\n            height: 40px;\n            line-height: 40px;\n            font-size: 14px;\n            text-align: center;\n            border-radius: 20px;\n            cursor: pointer;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            padding: 0 10px;\n        }\n        .vip_pp_cccr_box .cccrb_close{\n            left: 17px;\n            color: #000;\n            background: #EBEBEB;\n        }\n        .vip_pp_cccr_box .cccrb_close:hover{\n            background:#F2F2F2;\n        }\n        .vip_pp_cccr_box .cccrb_leave{\n            right: 17px;\n            color: #732F06;\n            background: #FCE1C6;\n            background-image: linear-gradient(135deg, rgba(238,172,137,1.00) 0%, #FCE1C6 100%);\n        }\n        .vip_pp_cccr_box .cccrb_leave:hover{\n            background: #FBE6D1;\n            background-image: linear-gradient(135deg, #F2C1A7 0%, #FBE6D1 100%);\n        }\n        .vip_pp_cccr_box_layer{\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            top: 0;\n            background-color: rgba(0,0,0,0.12);\n            z-index: 11;\n        }\n        .vip_pp_cccr_box .one_btn_style{\n            width: 240px;\n            left: 50%;\n            right: auto;\n            margin-left: -120px;\n        }"
                }
                ,
                e.prototype.initBox = function() {
                    this.container.innerHTML = '<div class="vip_limit_box" id="vip_limit_box">\n            <div class="vip_player_payment_pop none" id="vip_player_payment_pop"></div>\n            <div class="vip_player_payment_toast none" id="vip_player_payment_toast"></div>\n            <div class="vip_player_payment_dialog none" id="vip_player_payment_dialog"></div>\n        </div>'
                }
                ,
                e.prototype.consumeticketConfim = function(e) {
                    var t = document.createElement("div");
                    t.id = "vip_limit_confim",
                    t.className = "vip_limit_confim",
                    t.innerHTML = '<span class="vip_confim_close" id="vip_confim_close">×</span>\n            <div class="vip_limit_consumetick" id="vip_limit_consumetick">\n                <p class="consumeticket_title">' + e.consumeticketText.dialog_title + '</p>\n                <p class="consumeticket_desc">' + (e.consumeticketText.dialog_desc1 || "") + "," + (e.consumeticketText.dialog_desc2 || "") + "," + (e.consumeticketText.dialog_desc3 || "") + '</p>\n                <div class="consumeticket_btn">\n                    <a href="JavaScript:;" class="vip_limit_btn" id="vip_consumeticket_entry">确定</a>\n                </div>\n                </p>\n            </div>',
                    e.container.appendChild(t),
                    document.getElementById("vip_consumeticket_entry").addEventListener("click", function() {
                        e.runConsumeticket(e)
                    }),
                    document.getElementById("vip_confim_close").addEventListener("click", function(t) {
                        e.is_consumeticket_done && window.location.reload(),
                        l.deleteEleById("vip_limit_confim")
                    })
                }
                ,
                e.prototype.consumeVodConfim = function(e) {
                    var t = document.createElement("div");
                    t.id = "vip_limit_confim",
                    t.className = "vip_limit_confim",
                    t.innerHTML = '<span class="vip_confim_close" id="vip_confim_close">×</span>\n            <div class="vip_limit_consumetick" id="vip_limit_consumetick">\n                <p class="consumeticket_title">' + e.consumeticketText.dialog_title + '</p>\n                <p class="consumeticket_desc">' + (e.consumeticketText.dialog_desc1 || "") + "," + (e.consumeticketText.dialog_desc2 || "") + "," + (e.consumeticketText.dialog_desc3 || "") + '</p>\n                <div class="consumeticket_btn">\n                    <a href="JavaScript:;" class="vip_limit_btn" id="vip_confim_close2">确定</a>\n                </div>\n                </p>\n            </div>',
                    e.container.appendChild(t),
                    document.getElementById("vip_confim_close2").addEventListener("click", function() {
                        e.is_consumeticket_done && window.location.reload(),
                        l.deleteEleById("vip_limit_confim")
                    }),
                    document.getElementById("vip_confim_close").addEventListener("click", function(t) {
                        e.is_consumeticket_done && window.location.reload(),
                        l.deleteEleById("vip_limit_confim")
                    })
                }
                ,
                e.prototype.runConsumeticket = function(e) {
                    var t = "https://" + e.domain + "/api/ticket_exchange?code=" + e.code + "&showId=" + e.showid + "&channel=pc@yk";
                    l.getJsonp(t, function(t) {
                        if (!(t.result || {}).success) {
                            var n = t.result.message || "网络错误，请稍后重试";
                            return void (l.getByClass("consumeticket_title")[0].innerHTML = n)
                        }
                        e.is_consumeticket_done = !0,
                        l.getByClass("consumeticket_title")[0].innerHTML = "用券成功，请刷新页面观看！",
                        l.getByClass("consumeticket_desc")[0].innerHTML = "",
                        l.getByClass("consumeticket_btn")[0].innerHTML = '<a href="JavaScript:;" class="vip_limit_btn" id="vip_consumeticket_reload">刷新</a>',
                        document.getElementById("vip_consumeticket_reload").addEventListener("click", function(t) {
                            "2.0.1" == e.envTag ? window.external.execute("iku", "youku://payguide/payret=success&type=ticket") : "1.0.2" == e.envTag || "3.0.1" == e.envTag ? window.external && window.external.execute ? window.external.execute("iku", "youku://payguide/payret=success&type=ticket") : window.webkit.messageHandlers.didUseTicketSuccess.postMessage({
                                body: ""
                            }) : window.location.reload()
                        })
                    }, function(e) {})
                }
                ,
                e.prototype.invokeSid = function() {
                    new g({
                        container_id: this.container_sid_id,
                        channel: this.channel,
                        domain: this.domain,
                        showId: this.showId,
                        video_id: this.video_id,
                        vipPaymentURL: this.vipPaymentURL,
                        loadCashier: this.loadCashier,
                        pay_info_ext: this.pay_info_ext
                    })
                }
                ,
                e
            }();
            t.default = b
        }
        ]).default
    })
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(21)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(43)
      , c = i(d)
      , h = n(57)
      , p = i(h)
      , f = n(23)
      , m = function() {
        function e(t, n) {
            (0,
            s.default)(this, e),
            this._global = n,
            this.reset(t)
        }
        return (0,
        u.default)(e, [{
            key: "reset",
            value: function(e) {
                this._mediaId = "",
                this._title = "",
                this._poster = "",
                this._id = "",
                this._originWidth = "",
                this._originHeight = "",
                this._exclusive = !1,
                this._language = "",
                this._quality = "auto",
                this._multiQuality = [],
                this._autoLevel = "",
                this._qualityLanguageMap = [],
                e.hasOwnProperty("vid") && (this._mediaId = e.vid),
                e.hasOwnProperty("title") && (this._title = e.title),
                e.hasOwnProperty("poster") && (this._poster = e.poster),
                e.hasOwnProperty("width") && (this._originWidth = e.width),
                e.hasOwnProperty("height") && (this._originHeight = e.height);
                var t = p.default.getPersonInfo();
                e.hasOwnProperty("defaultQuality") ? this._quality = e.defaultQuality : t && t.quality && (this._quality = t.quality),
                e.hasOwnProperty("language") && (this._language = c.default.langToCode(e.language))
            }
        }, {
            key: "_getPerQuality",
            value: function(e) {
                var t = this
                  , n = ["1080p_hdr", "1080p_frame"];
                if (-1 === this.qualityList.indexOf(e) && n.indexOf(e) > -1) {
                    var i = n.filter(function(e) {
                        return t.qualityList.indexOf(e) > -1
                    });
                    if (i.length > 0)
                        return i[0]
                }
                for (var r = (0,
                a.default)(f.ORDER), o = r.indexOf(e), s = r.length; o < s; o++)
                    if (this.qualityList.indexOf(r[o]) > -1)
                        return r[o];
                return this.qualityList[0]
            }
        }, {
            key: "dispatchPropertyChangeEvent",
            value: function(e) {
                this._global.emit("Mediadata." + e + ".Change", this["_" + e])
            }
        }, {
            key: "id",
            get: function() {
                return this._id
            },
            set: function(e) {
                this._id = e
            }
        }, {
            key: "mediaId",
            get: function() {
                return this._mediaId
            },
            set: function(e) {
                this._mediaId = e
            }
        }, {
            key: "title",
            get: function() {
                return this._title
            },
            set: function(e) {
                this._title = e
            }
        }, {
            key: "poster",
            get: function() {
                return this._poster
            },
            set: function(e) {
                this._poster = e.indexOf("http:") > -1 ? e.replace("http:", "") : e
            }
        }, {
            key: "exclusive",
            get: function() {
                return this._exclusive
            },
            set: function(e) {
                this._exclusive = e
            }
        }, {
            key: "originWidth",
            get: function() {
                return this._originWidth
            },
            set: function(e) {
                this._originWidth = e
            }
        }, {
            key: "originHeight",
            get: function() {
                return this._originHeight
            },
            set: function(e) {
                this._originHeight = e
            }
        }, {
            key: "qualityLanguageMap",
            set: function(e) {
                if (this._qualityLanguageMap = e,
                this.dispatchPropertyChangeEvent("qualityLanguageMap"),
                this._language) {
                    for (var t = 0, n = 0, i = this._qualityLanguageMap.length; n < i; n++)
                        if (this._qualityLanguageMap[n].langCode === this._language) {
                            t = n;
                            break
                        }
                    this._language = this._qualityLanguageMap[t].langCode,
                    this.multiQuality = this._qualityLanguageMap[t].quality
                }
            },
            get: function() {
                return this._qualityLanguageMap
            }
        }, {
            key: "language",
            get: function() {
                return this._language
            },
            set: function(e) {
                if (this._language !== e)
                    for (var t = 0, n = this._qualityLanguageMap.length; t < n; t++)
                        if (this._qualityLanguageMap[t].langCode === e) {
                            this.multiQuality = this._qualityLanguageMap[t].quality,
                            this._language = e,
                            this.dispatchPropertyChangeEvent("language");
                            break
                        }
            }
        }, {
            key: "multiQuality",
            get: function() {
                return this._multiQuality
            },
            set: function(e) {
                this._multiQuality = e;
                for (var t = -1, n = 0, i = this._multiQuality.length; n < i; n++)
                    if (this._multiQuality[n].code === this._quality && this._multiQuality[n].isUse) {
                        t = n;
                        break
                    }
                this.quality = -1 === t ? this._getPerQuality(this._quality) : this._multiQuality[t].code,
                this.dispatchPropertyChangeEvent("multiQuality")
            }
        }, {
            key: "quality",
            get: function() {
                return this._quality
            },
            set: function(e) {
                if (this._quality !== e) {
                    for (var t = -1, n = 0, i = this._multiQuality.length; n < i; n++)
                        if (this._multiQuality[n].code === e && this._multiQuality[n].isUse) {
                            t = n;
                            break
                        }
                    this._quality = -1 === t ? this._getPerQuality(e) : this._multiQuality[t].code,
                    this.dispatchPropertyChangeEvent("quality")
                }
            }
        }, {
            key: "qualityList",
            get: function() {
                var e = [];
                return this._multiQuality.forEach(function(t) {
                    t.isUse && e.push(t.code)
                }),
                e
            }
        }, {
            key: "qualitysCode",
            get: function() {
                var e = [];
                return this._multiQuality.forEach(function(t) {
                    e.push(t.code)
                }),
                e
            }
        }, {
            key: "autoLevel",
            get: function() {
                return this._autoLevel
            },
            set: function(e) {
                this._autoLevel = e,
                this.dispatchPropertyChangeEvent("autoLevel")
            }
        }]),
        e
    }();
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = function() {
        function e(t, n) {
            (0,
            a.default)(this, e),
            this._global = n,
            this._nextVideo = null,
            this._programList = [],
            t.hasOwnProperty("programList") && t.programList.length > 0 && (this._programList = t.programList)
        }
        return (0,
        s.default)(e, [{
            key: "resetNextVideo",
            value: function(e) {
                if (this._programList)
                    for (var t = 0, n = this._programList.length; t < n; t++) {
                        var i = parseInt(this._programList[t].vid) === parseInt(e)
                          , r = this._programList[t].encodevid === e;
                        if ((i || r) && t + 1 < n) {
                            this.nextVideo = this._programList[t + 1];
                            break
                        }
                    }
            }
        }, {
            key: "reset",
            value: function() {
                this._nextVideo = null,
                this._programList = []
            }
        }, {
            key: "dispatchPropertyChangeEvent",
            value: function(e) {
                this._global.emit("Programdata." + e + ".Change", this["_" + e])
            }
        }, {
            key: "programList",
            get: function() {
                return this._programList
            },
            set: function(e) {
                this._programList = e,
                this.dispatchPropertyChangeEvent("programList")
            }
        }, {
            key: "nextVideo",
            set: function(e) {
                this._nextVideo = e,
                this.dispatchPropertyChangeEvent("nextVideo")
            },
            get: function() {
                return this._nextVideo
            }
        }, {
            key: "nextVid",
            get: function() {
                return this._nextVideo && this._nextVideo.encodevid
            }
        }]),
        e
    }();
    t.default = l
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(57)
      , u = i(l)
      , d = function() {
        function e(t, n) {
            (0,
            a.default)(this, e),
            this._global = n,
            this.reset(t),
            this._addEvent()
        }
        return (0,
        s.default)(e, [{
            key: "_addEvent",
            value: function() {
                this._global.on("Mediadata.language.Change", this._onLanguageChange.bind(this)),
                this._global.on("Mediadata.qualityLanguageMap.Change", this._onLanguageChange.bind(this))
            }
        }, {
            key: "_onLanguageChange",
            value: function() {
                var e = this
                  , t = this._global.mediaData.qualityLanguageMap.filter(function(t) {
                    return t.langCode === e._global.mediaData.language
                });
                t[0] && (this.vid = t[0].vid)
            }
        }, {
            key: "reset",
            value: function(e) {
                this._subtitle = "default",
                this._multiSubtitle = [],
                this._currentVidSubtitle = [],
                this._vid = "",
                this._enabled = !1,
                this._onLanguageChange();
                var t = u.default.getPersonInfo();
                e.hasOwnProperty("subtitle") ? this._subtitle = e.subtitle : t && t.subtitle && (this._subtitle = t.subtitle)
            }
        }, {
            key: "filtrate",
            value: function(e) {
                var t = [];
                if (e._subtitle)
                    for (var n = 0; n < e._subtitle.length; n++) {
                        var i = e._subtitle[n]
                          , r = {};
                        r.note = "VIP",
                        r.action = "click",
                        r.isUse = !!i.url,
                        i.url ? (r.url = i.url.replace(/^https?:/, "https:"),
                        e._vipData && e._vipData.subtitle || (r.note = "限免")) : r.action = "vip",
                        r.language = i.subtitle_lang,
                        !r.language || "default" !== r.language && "chs" !== r.language || (r.note = ""),
                        r.vid = i.vid || "",
                        r.subtitleCodes = i.subtitle_info_code,
                        r.name = i.subtitle_info && i.subtitle_info.join("+"),
                        r.label = "字幕",
                        t.push(r)
                    }
                this.multiSubtitle = t
            }
        }, {
            key: "hasSubtitle",
            value: function(e) {
                return this._currentVidSubtitle.filter(function(t) {
                    return t.language === e
                }).length > 0
            }
        }, {
            key: "_getPerSubtitle",
            value: function() {
                var e = this
                  , t = "";
                return ["default", "chs"].every(function(n) {
                    return !e.hasSubtitle(n) || (t = n,
                    !1)
                }),
                t || (t = this.subtitleList[0] && this.subtitleList[0].language),
                t
            }
        }, {
            key: "dispatchPropertyChangeEvent",
            value: function(e) {
                this._global.emit("SubtitleData." + e + ".Change", this["_" + e])
            }
        }, {
            key: "vid",
            set: function(e) {
                this._vid = e,
                this.dispatchPropertyChangeEvent("vid");
                var t = this._multiSubtitle;
                e && (t = this._multiSubtitle.filter(function(t) {
                    return t.vid === e
                })),
                this.currentVidSubtitle = t
            }
        }, {
            key: "currentVidSubtitle",
            set: function(e) {
                this._currentVidSubtitle = e,
                this.dispatchPropertyChangeEvent("currentVidSubtitle");
                for (var t = -1, n = 0, i = this._currentVidSubtitle.length; n < i; n++)
                    if (this._currentVidSubtitle[n].language === this._subtitle && this._currentVidSubtitle[n].isUse) {
                        t = n;
                        break
                    }
                this.subtitle = -1 === t ? this._getPerSubtitle() : this._currentVidSubtitle[t].language
            },
            get: function() {
                return this._currentVidSubtitle
            }
        }, {
            key: "enabled",
            set: function(e) {
                this._enabled = !!e,
                this.dispatchPropertyChangeEvent("enabled")
            },
            get: function() {
                return this._enabled
            }
        }, {
            key: "subtitle",
            get: function() {
                return this._subtitle
            },
            set: function(e) {
                if (this._subtitle !== e) {
                    for (var t = -1, n = 0, i = this._currentVidSubtitle.length; n < i; n++)
                        if (this._currentVidSubtitle[n].language === e && this._currentVidSubtitle[n].isUse) {
                            t = n;
                            break
                        }
                    this._subtitle = -1 === t ? this._getPerSubtitle() : this._currentVidSubtitle[t].language,
                    this.dispatchPropertyChangeEvent("subtitle")
                }
            }
        }, {
            key: "currentSubtitle",
            get: function() {
                var e = this;
                return this._currentVidSubtitle.filter(function(t) {
                    return t.language === e._subtitle
                })[0]
            }
        }, {
            key: "multiSubtitle",
            set: function(e) {
                var t = this;
                this._multiSubtitle = e;
                var n = this._multiSubtitle;
                this._vid && (n = this._multiSubtitle.filter(function(e) {
                    return e.vid === t._vid
                })),
                this.currentVidSubtitle = n,
                this.dispatchPropertyChangeEvent("multiSubtitle")
            }
        }, {
            key: "subtitleList",
            get: function() {
                var e = [];
                return this._currentVidSubtitle.forEach(function(t) {
                    t.isUse && e.push(t.code)
                }),
                e
            }
        }]),
        e
    }();
    t.default = d
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(21)
      , a = i(r)
      , o = n(10)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(104)
      , p = i(h)
      , f = n(39)
      , m = i(f)
      , y = function() {
        function e(t) {
            (0,
            u.default)(this, e),
            this.config = t,
            this.hlsconfig = this.config.hlsconfig,
            this._component = this.config.component || {},
            this._container = this.config.container,
            this._type = this.config.type,
            this._decoder = this.config.decoder,
            this._UI = p.default,
            this.hlsCore = this.config.hlsCore;
            var n = new Date;
            this.randomNum = n.getTime();
            var i = {
                autoStartLoad: !0,
                startPosition: -1,
                capLevelToPlayerSize: !1,
                debug: !1,
                maxBufferLength: 108e3
            };
            this.hlsconfig = (0,
            s.default)(i, this.hlsconfig)
        }
        return (0,
        c.default)(e, [{
            key: "shardRouter",
            value: function() {
                return Array.isArray(this.config.source) && this.config.source.length > 1 ? m.default.isMobile ? this.controlType = "single" : this.controlType = "multi" : "xhr" === this.config.controlType ? this.controlType = "xhr" : this.controlType = "single",
                this.controlType
            }
        }, {
            key: "decodeRouter",
            value: function(e) {
                this._player = e,
                this._decoder && "m3u8" === this._type && this.loadExtend(e.hls)
            }
        }, {
            key: "loadExtend",
            value: function(e) {
                var t = this
                  , n = this.hlsCore;
                n && (Array.isArray(this.config.source) && this.config.source.length > 0 && "multi" === this.config.controlType || (this.hls = e || new n(this.hlsconfig),
                this.video = this._player._videoCore.video,
                Array.isArray(this.config.source) ? this.hls.loadSource(this.config.source[0].src) : this.hls.loadSource(this.config.source),
                this.hls.attachMedia(this.video),
                this.getHlsCallback(this.hls)),
                this.hls.on("hlsManifestLoaded", function(e, n) {
                    var i = n.levels;
                    0 === i.length && t._player._videoCore.emit("emptySourceList", {
                        source: n.string,
                        targetDuration: n.targetDuration,
                        list: i,
                        url: n.url
                    })
                }))
            }
        }, {
            key: "getHlsCallback",
            value: function(e) {
                var t = this;
                this.hlsCore && (e.on(this.hlsCore.Events.FRAG_BUFFERED, function(e, n) {
                    t._player.emit("hlsbuffered", n)
                }),
                e.on(this.hlsCore.Events.ERROR, function(e, n) {
                    t._player.emit("hlsError", n)
                }))
            }
        }, {
            key: "register",
            value: function(e) {
                var t = {
                    mustUI: ""
                }
                  , n = (0,
                s.default)(t, this._component)
                  , i = (0,
                a.default)(n).sort();
                this._player = e;
                for (var r in i) {
                    var o = i[r]
                      , l = n[o];
                    this.registerComponent(o, l)
                }
            }
        }, {
            key: "registerComponent",
            value: function(e, t) {
                if ("" !== t && !t)
                    return !1;
                t && "boolean" != typeof t ? (this._player.id = "component" + this.randomNum,
                t.install(this._container, this._player)) : this.switchComponent(e)
            }
        }, {
            key: "destroy",
            value: function() {
                var e = this._UI.componentsManager.componentsGroup[this._player.id];
                for (var t in e._components)
                    e._components[t].destroy && e._components[t].destroy()
            }
        }, {
            key: "switchComponent",
            value: function(e) {
                switch (e) {
                case "mustUI":
                    this._player.id = "component" + this.randomNum,
                    this._UI.install(this._container, this._player)
                }
            }
        }]),
        e
    }();
    t.default = y
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(69)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = {};
    a.fullscreen = "fullscreen";
    for (var o in r.default)
        a[o] = o;
    t.default = a
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(163)
      , u = i(l)
      , d = n(160)
      , c = i(d)
      , h = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this.config = t,
            this.manage = new c.default(this.config),
            this.config.controlType = this.config.controlType || this.manage.shardRouter(),
            this.control = new u.default(this.config),
            this.init(),
            this.ui = this.control.ui
        }
        return (0,
        s.default)(e, [{
            key: "init",
            value: function() {
                this.routerPlayer(),
                this.register()
            }
        }, {
            key: "routerPlayer",
            value: function() {
                this.manage.decodeRouter(this.control)
            }
        }, {
            key: "register",
            value: function() {
                this.manage.register(this.control)
            }
        }]),
        e
    }();
    t.default = h
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(39)
      , u = i(l)
      , d = n(69)
      , c = i(d)
      , h = n(174)
      , p = i(h)
      , f = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this.config = t,
            this.hlsCore = t.hlsCore,
            this.hlsCore && (this.hls = new this.hlsCore(this.config.hlsconfig)),
            this._container = this.config.container,
            this._videoCore = new p.default(this.config),
            this._attachPlayerEvents()
        }
        return (0,
        s.default)(e, [{
            key: "emit",
            value: function(e, t) {
                this._videoCore.emit(e, t)
            }
        }, {
            key: "on",
            value: function(e, t) {
                this._videoCore.on(e, t)
            }
        }, {
            key: "fire",
            value: function(e, t) {
                this._videoCore.fire(e, t)
            }
        }, {
            key: "fireAll",
            value: function() {
                this._videoCore.fireAll()
            }
        }, {
            key: "_attachPlayerEvents",
            value: function() {
                var e = this;
                if (this._videoCore && c.default) {
                    for (var t in c.default)
                        !function(t) {
                            e._videoCore.on(t, function() {
                                e._setCallBack(t)
                            })
                        }(t)
                }
            }
        }, {
            key: "getPlaying",
            value: function() {
                return !this._videoCore.video.paused
            }
        }, {
            key: "_setCallBack",
            value: function(e) {
                this.config && this.config.events && this.config.events["" + e] && this.config.events["" + e]()
            }
        }, {
            key: "play",
            value: function() {
                return this._videoCore.play()
            }
        }, {
            key: "loadSource",
            value: function(e) {
                return this._videoCore.loadSource(e)
            }
        }, {
            key: "pause",
            value: function() {
                return this._videoCore.pause()
            }
        }, {
            key: "replay",
            value: function() {
                var e = this.config.hlsconfig && this.config.hlsconfig.isDrm;
                this.config.useH265 || this.config.decoder && "m3u8" === this.config.type && !u.default.isSafari || u.default.isSafari && e ? (this._videoCore.video.currentTime = 0,
                this.hls.loadSource(this.config.source[0].source || this.config.source),
                this.hls.attachMedia(this._videoCore.video),
                this._videoCore.play()) : this._videoCore.replay()
            }
        }, {
            key: "seek",
            value: function(e) {
                this._videoCore.seek(e)
            }
        }, {
            key: "forwardVideo",
            value: function(e) {
                var t = e || 10
                  , n = this._videoCore.getCurrentTime();
                this._videoCore.seek(parseInt(n) + t)
            }
        }, {
            key: "backVideo",
            value: function(e) {
                var t = e || 10
                  , n = this._videoCore.getCurrentTime();
                this._videoCore.seek(n - t)
            }
        }, {
            key: "setVolume",
            value: function(e) {
                return this._videoCore.setVolume(e)
            }
        }, {
            key: "setMuted",
            value: function(e) {
                return this._videoCore.setMuted(e)
            }
        }, {
            key: "setRate",
            value: function(e) {
                this._videoCore.setRate(e)
            }
        }, {
            key: "getDuration",
            value: function() {
                return this._videoCore.getDuration()
            }
        }, {
            key: "getVolume",
            value: function() {
                return this._videoCore.getVolume()
            }
        }, {
            key: "getCurrentTime",
            value: function() {
                return this._videoCore.getCurrentTime()
            }
        }, {
            key: "getBufferTime",
            value: function() {
                return this._videoCore.getBufferTime()
            }
        }, {
            key: "changeSource",
            value: function(e, t, n) {
                var i = {}
                  , r = ""
                  , a = "";
                2 === arguments.length ? (i = {
                    source: e,
                    duration: t
                },
                r = e,
                a = n || this.config.type) : (i = arguments[0],
                r = i.source[0].src || i.source.src,
                a = i.type || this.config.type),
                this.config.decoder && "m3u8" === a ? (this.hls.loadSource(r),
                i.seekTime > 0 && this.hls.startLoad(i.seekTime),
                this.hls.attachMedia(this._videoCore.video)) : this._videoCore.setSource(i)
            }
        }, {
            key: "skipTime",
            value: function(e) {
                this._videoCore.seek(e)
            }
        }, {
            key: "insertPlay",
            value: function(e) {
                this._videoCore.setSource(e),
                this._videoCore.play()
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                this._videoCore.setSize(e, t)
            }
        }, {
            key: "screenStatus",
            value: function() {
                return document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen || !1
            }
        }, {
            key: "fullScreen",
            value: function() {
                if (this._container.style.position = "fixed",
                this._container.style.width = "100%",
                this._container.style.height = "100%",
                this._containerDefaultClassName = this._container.className,
                this._container.className += " fullscreen",
                this._container.requestFullscreen)
                    this._container.requestFullscreen();
                else if (this._container.webkitRequestFullscreen)
                    this._container.webkitRequestFullscreen();
                else if (this._container.mozRequestFullScreen)
                    this._container.mozRequestFullScreen();
                else if (this._container.msRequestFullscreen)
                    this._container.msRequestFullscreen();
                else if (window.ActiveXObject) {
                    var e = new window.ActiveXObject("WScript.Shell");
                    e.SendKeys("{F11}")
                } else
                    console.log("浏览器不支持全屏");
                this.emit("fullscreen", !0)
            }
        }, {
            key: "exitFullscreen",
            value: function() {
                this._container.removeAttribute("style"),
                this._container.className = this._containerDefaultClassName,
                document.exitFullscreen ? document.exitFullscreen().catch(function() {}) : document.msExitFullscreen ? document.msExitFullscreen().catch(function() {}) : document.mozCancelFullScreen ? document.mozCancelFullScreen().catch(function() {}) : document.webkitExitFullscreen && document.webkitExitFullscreen().catch(function() {}),
                this.emit("fullscreen", !1)
            }
        }, {
            key: "getAttribute",
            value: function(e) {
                return this._videoCore.getAttribute(e)
            }
        }, {
            key: "load",
            value: function() {
                this._videoCore.load()
            }
        }, {
            key: "end",
            value: function() {
                this._videoCore.end()
            }
        }, {
            key: "tagErrorSrc",
            value: function(e) {
                return this._videoCore.tagErrorSrc(e)
            }
        }, {
            key: "destroy",
            value: function() {
                this._videoCore.destroy(),
                this.hls && this.hls.destroy()
            }
        }]),
        e
    }();
    t.default = f
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = n(168)
      , g = i(y)
      , v = n(172)
      , _ = i(v)
      , b = n(173)
      , k = i(b)
      , S = n(166)
      , E = i(S)
      , w = n(167)
      , x = i(w)
      , T = function(e) {
        function t() {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).apply(this, arguments))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "children",
            value: function() {
                return {
                    PlayIcon: g.default,
                    TimeSpan: _.default
                }
            }
        }, {
            key: "insertComponent",
            value: function(e, t) {
                return this._registerComponent(name, e, {
                    index: t
                })
            }
        }, {
            key: "insertIcon",
            value: function(e, t, n) {
                this._registerComponent(e, t, n)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-left-grid">\n            </div>\n        '
            }
        }]),
        t
    }(m.default)
      , A = function(e) {
        function t() {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).apply(this, arguments))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "children",
            value: function() {
                return this._video.config.hasOwnProperty("supportFullscreen") && !1 === this._video.config.supportFullscreen ? {
                    Volume: k.default
                } : {
                    Volume: k.default,
                    FullscreenIcon: E.default,
                    HalfFullscreenIcon: x.default
                }
            }
        }, {
            key: "insertIcon",
            value: function(e, t, n) {
                this._registerComponent(e, t, n)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-right-grid">\n            </div>\n        '
            }
        }]),
        t
    }(m.default)
      , L = function(e) {
        function t() {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).apply(this, arguments))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "children",
            value: function() {
                return {}
            }
        }, {
            key: "insertIcon",
            value: function(e, t, n) {
                this._registerComponent(e, t, n)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-center-grid">\n            </div>\n        '
            }
        }]),
        t
    }(m.default)
      , C = function(e) {
        function t() {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).apply(this, arguments))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "children",
            value: function() {
                return {
                    DashboardLeftGrid: T,
                    DashboardCenterGrid: L,
                    DashboardRightGrid: A
                }
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="h5-control-wrap">\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = C
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(22)
      , g = i(y)
      , v = n(164)
      , _ = i(v)
      , b = n(171)
      , k = i(b)
      , S = n(27)
      , E = {
        x: null,
        y: null
    }
      , w = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            if (!1 === e.controls) {
                var i;
                return i = n.hide(),
                (0,
                c.default)(n, i)
            }
            return n._eventsMap = {},
            n.isForceHide = !1,
            e.autoHide && n.bindAutoHide(),
            e.isForceHide && (n.isForceHide = e.isForceHide,
            n.hide()),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setMoseOver",
            value: function(e) {
                this.args.autoHide = e
            }
        }, {
            key: "_onMousemove",
            value: function(e) {
                return e.pageX === E.x && e.pageY === E.y ? (E.x = e.pageX,
                void (E.y = e.pageY)) : (E.x = e.pageX,
                E.y = e.pageY,
                this.isForceHide ? void 0 : (0,
                S.isDescendant)(this._el, e.target) ? this.show(!0) : void this.show(2500))
            }
        }, {
            key: "_onMouseleave",
            value: function() {
                var e = this;
                "number" == typeof this._args.autoHide && this._args.autoHide > 0 ? (window.clearTimeout(this._hideTimeout),
                this._hideTimeout = window.setTimeout(function() {
                    e.hide()
                }, this._args.autoHide)) : this.hide()
            }
        }, {
            key: "_onMouseover",
            value: function() {
                this.isForceHide || this.show(!0)
            }
        }, {
            key: "bindAutoHide",
            value: function() {
                this._eventsMap.mousemove = this._onMousemove.bind(this),
                this._eventsMap.mouseleave = this._onMouseleave.bind(this),
                this._eventsMap.mouseover = this._onMouseover.bind(this),
                this._parent.addEventListener("mousemove", this._eventsMap.mousemove),
                this._parent.addEventListener("mouseleave", this._eventsMap.mouseleave),
                this._parent.addEventListener("mouseover", this._eventsMap.mouseover, !0)
            }
        }, {
            key: "show",
            value: function() {
                var e = this
                  , t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                window.clearTimeout(this._hideTimeout),
                this._el.style.display = "",
                "function" == typeof this._args.show && this._args.show(),
                !0 !== t && "number" == typeof this._args.autoHide && this._args.autoHide > 0 && (this._hideTimeout = window.setTimeout(function() {
                    e.hide()
                }, this._args.autoHide + t))
            }
        }, {
            key: "focusHide",
            value: function() {
                this.isForceHide = !0
            }
        }, {
            key: "removeFocusHide",
            value: function() {
                this.isForceHide = !1
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none",
                "function" == typeof this._args.hide && this._args.hide()
            }
        }, {
            key: "children",
            value: function() {
                return {
                    Progress: k.default,
                    Control: _.default
                }
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="h5player-dashboard">\n            </div>\n        '
            }
        }, {
            key: "destroy",
            value: function() {
                this._parent.removeEventListener("mousemove", this._eventsMap.mousemove),
                this._parent.removeEventListener("mouseleave", this._eventsMap.mouseleave),
                this._parent.removeEventListener("mouseover", this._eventsMap.mouseover),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }]),
        t
    }(g.default);
    t.default = w
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.bind("click", function() {
                if (navigator.userAgent.indexOf("iPad") > 0 && !document.documentElement.webkitRequestFullScreen)
                    return void n._video._videoCore.video.webkitEnterFullScreen();
                n.hide(),
                e.onFullscreen && "function" == typeof e.onFullscreen ? e.onFullscreen() : n._video.fullScreen()
            }),
            n.on("fullscreen", function(e) {
                e ? n.hide() : n.show()
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '\n            <div data-tip="全屏" class="control-icon control-fullscreen-icon">\n                <span class="iconfont icon-fullscreen"></span>\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = function(e) {
        function t(e) {
            function n() {
                var t = function() {
                    r.hide(),
                    r._args.exitFullscreenComplete && "function" == typeof r._args.exitFullscreenComplete ? e.exitFullscreenComplete() : r._video.exitFullscreen()
                };
                !1 === document.webkitIsFullScreen ? t() : !1 === document.mozFullScreen ? t() : !1 === document.msFullscreenElement ? t() : !1 === document.fullscreen && t()
            }
            (0,
            s.default)(this, t);
            var i = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            i.bind("click", function() {
                i.hide(),
                e.onHalfFullscreen && "function" == typeof e.onHalfFullscreen ? e.onHalfFullscreen() : i._video.exitFullscreen()
            }),
            i.on("fullscreen", function(e) {
                e ? i.show() : i.hide()
            });
            var r = i;
            return document.addEventListener("webkitfullscreenchange", n, !1),
            document.addEventListener("mozfullscreenchange", n, !1),
            document.addEventListener("fullscreenchange", n, !1),
            document.addEventListener("MSFullscreenChange", n, !1),
            i
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "isShow",
            value: function() {
                return "" === this._el.style.display
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div data-tip="退出全屏" class="control-icon control-halfscreen-icon" style="display:none;">\n                <span class="iconfont icon-exit-fullscreen"></span>\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = n(27)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.on("play", function() {
                n.isEnded = !1,
                n.changePauseState()
            }),
            n.on("pause", function() {
                n.changePlayState()
            }),
            n.on("ended", function() {
                n.isEnded = !0,
                n.changePlayState()
            }),
            n.bind("click", function() {
                if (n._el.className.indexOf("control-pause-icon") > -1)
                    return (0,
                    y.removeClass)(n._el, "control-pause-icon"),
                    void n._video.pause();
                (0,
                y.addClass)(n._el, "control-pause-icon"),
                n.isEnded ? n._video.replay() : n._video.play()
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "changePauseState",
            value: function() {
                this._stateTimeout && window.clearTimeout(this._stateTimeout),
                (0,
                y.addClass)(this._el, "control-pause-icon"),
                this._el.setAttribute("data-tip", "暂停")
            }
        }, {
            key: "changePlayState",
            value: function() {
                var e = this;
                this._stateTimeout && window.clearTimeout(this._stateTimeout),
                this._stateTimeout = window.setTimeout(function() {
                    (0,
                    y.removeClass)(e._el, "control-pause-icon"),
                    e._el.setAttribute("data-tip", "播放")
                }, 250)
            }
        }, {
            key: "disable",
            value: function() {
                this._el.setAttribute("disabled", "disabled")
            }
        }, {
            key: "enable",
            value: function() {
                this._el.disabled = !1
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div data-tip="播放" class="control-icon control-play-icon">\n                <span class="iconfont icon-play"></span>\n                <span class="iconfont icon-pause"></span>\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(18)
      , a = i(r)
      , o = n(20)
      , s = i(o)
      , l = n(2)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(4)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(22)
      , _ = i(v)
      , b = n(170)
      , k = i(b)
      , S = function(e) {
        function t(e) {
            return (0,
            c.default)(this, t),
            (0,
            m.default)(this, (t.__proto__ || (0,
            u.default)(t)).call(this, e))
        }
        return (0,
        g.default)(t, e),
        (0,
        p.default)(t, [{
            key: "switch",
            value: function(e) {
                this.hideAllLayer();
                var t = !0
                  , n = !1
                  , i = void 0;
                try {
                    for (var r, a = (0,
                    s.default)(this._children); !(t = (r = a.next()).done); t = !0) {
                        var o = r.value;
                        o.name === e && o.show()
                    }
                } catch (e) {
                    n = !0,
                    i = e
                } finally {
                    try {
                        !t && a.return && a.return()
                    } finally {
                        if (n)
                            throw i
                    }
                }
            }
        }, {
            key: "hideAllLayer",
            value: function() {
                var e = !0
                  , t = !1
                  , n = void 0;
                try {
                    for (var i, r = (0,
                    s.default)(this._children); !(e = (i = r.next()).done); e = !0) {
                        i.value.hide()
                    }
                } catch (e) {
                    t = !0,
                    n = e
                } finally {
                    try {
                        !e && r.return && r.return()
                    } finally {
                        if (t)
                            throw n
                    }
                }
            }
        }, {
            key: "append",
            value: function(e, t) {
                if ("object" === (void 0 === t ? "undefined" : (0,
                a.default)(t)) && t.html) {
                    var n = this._registerComponent(e, function(e) {
                        function n() {
                            return (0,
                            c.default)(this, n),
                            (0,
                            m.default)(this, (n.__proto__ || (0,
                            u.default)(n)).apply(this, arguments))
                        }
                        return (0,
                        g.default)(n, e),
                        (0,
                        p.default)(n, [{
                            key: "render",
                            value: function() {
                                return t.html
                            }
                        }]),
                        n
                    }(_.default));
                    return this._children.push(n),
                    n
                }
                if ("function" == typeof t) {
                    var i = this._registerComponent(e, t);
                    "Component" === (0,
                    u.default)(i.constructor).name && this._children.push(i)
                }
            }
        }, {
            key: "getLayer",
            value: function(e) {
                var t = !0
                  , n = !1
                  , i = void 0;
                try {
                    for (var r, a = (0,
                    s.default)(this._children); !(t = (r = a.next()).done); t = !0) {
                        var o = r.value;
                        if (o.name === e)
                            return o
                    }
                } catch (e) {
                    n = !0,
                    i = e
                } finally {
                    try {
                        !t && a.return && a.return()
                    } finally {
                        if (n)
                            throw i
                    }
                }
            }
        }, {
            key: "childrens",
            value: function() {
                return {
                    ErrorLayer: k.default
                }
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="h5-layer-conatiner">\n            </div>\n        '
            }
        }]),
        t
    }(_.default);
    t.default = S
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(102)
      , m = i(f)
      , y = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '\n          <div class="h5-layer">\n              <div class="spv_error_tit">出了点小状况，正在为您搬运视频...</div>\n          </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = n(27)
      , g = n(101)
      , v = i(g)
      , _ = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            n.input = n.find(".input-range-container"),
            n.progressPlayed = n.find(".progress-played"),
            n.progressLoaded = n.find(".progress-loaded"),
            n.thumb = n.find(".js-thumb"),
            n.minVal = 0,
            e.maxSeekTime && e.maxSeekTime > 0 && n.setMaxActiveProgress(e.maxSeekTime),
            n.on("timeupdate", function() {
                if (!n._dragEl) {
                    var e = n._video.getCurrentTime()
                      , t = n._video.getDuration();
                    n.setProgressPlayedPercent(e / t * 100),
                    n.setRangeValue((e / t * 100).toFixed(1))
                }
            }),
            n.on("ended", function() {
                n.setProgressPlayedPercent(100),
                n.setRangeValue(100)
            });
            var i = n._video.getDuration();
            n.on("progress", function() {
                var e = n._video.getBufferTime();
                e > 0 && n.setProgressLoadedPercent(e / i * 100)
            });
            var r = Date.now();
            return n.on("loadstart", function() {
                var e = Date.now() - r;
                n.setProgressLoadedPercent(e / i * 100)
            }),
            Array.isArray(e.highlights) && n.setHightLights(e.highlights),
            n.bind(".progress-hightlights", "click", function(e) {
                var t = 0
                  , i = 0;
                e.delegateTarget.dataset ? (t = parseFloat(e.delegateTarget.dataset.time),
                i = parseFloat(e.delegateTarget.dataset.percent)) : (t = parseFloat(e.delegateTarget.getAttribute("data-time")),
                i = parseFloat(e.delegateTarget.getAttribute("data-percent"))),
                t > 0 && i > 0 && (n.setProgressPlayedPercent(i),
                n._video.seek(t))
            }),
            n.input.addEventListener("click", function(e) {
                var t = (0,
                y.getElementOffsets)(e.currentTarget);
                n.checkFullScreen() && (t.left = 0);
                var i = e.currentTarget.getBoundingClientRect()
                  , r = e.pageX - i.left
                  , a = n.input.offsetWidth
                  , o = r / a * 100;
                n.setRangeValue(o),
                n.onRangeChange(o)
            }),
            n.thumb.addEventListener(y.isMobile ? "touchstart" : "mousedown", function(e) {
                n.initDrag(e)
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "htmlEncodeAll",
            value: function(e) {
                return null === e ? "" : e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
            }
        }, {
            key: "checkFullScreen",
            value: function() {
                return this._video._container.className.indexOf("fullscreen") >= 0
            }
        }, {
            key: "initDrag",
            value: function(e) {
                e.preventDefault();
                var t = this;
                this._dragEl = this.thumb;
                var n = this.input.offsetWidth
                  , i = getComputedStyle(this._dragEl, null).marginLeft;
                i && (i = parseFloat(i));
                var r = {
                    x: (y.isMobile ? e.touches[0].clientX : e.pageX) - this._dragEl.offsetLeft + i,
                    y: (y.isMobile ? e.touches[0].clientX : e.clientY) - this._dragEl.offsetTop,
                    maxLeft: n
                };
                this.checkFullScreen() && (r.x = e.pageX - this._dragEl.offsetLeft);
                var a = function(e) {
                    var i = (0,
                    v.default)(e, t._dragEl, r);
                    if (i) {
                        var a = i.left
                          , o = a / n * 100;
                        t.setRangeValue(o),
                        t.onRangeChange(o)
                    }
                }
                  , o = function e() {
                    if (t._dragEl = null,
                    y.isMobile)
                        return document.removeEventListener("touchmove", a, !1),
                        void document.removeEventListener("touchend", e, !1);
                    document.removeEventListener("mousemove", a, !1),
                    document.removeEventListener("mouseup", e, !1)
                };
                if (y.isMobile)
                    return document.addEventListener("touchmove", a, !1),
                    void document.addEventListener("touchend", o, !1);
                document.addEventListener("mousemove", a, !1),
                document.addEventListener("mouseup", o, !1)
            }
        }, {
            key: "onRangeChange",
            value: function(e) {
                if (!this._args.disabled) {
                    this.maxVal && e > this.maxVal && (e = this.maxVal),
                    void 0 !== this.minVal && e < this.minVal && (e = this.minVal),
                    this.setProgressPlayedPercent(e);
                    var t = this._video.getDuration();
                    this._video.seek(t * e / 100)
                }
            }
        }, {
            key: "setProgressPlayedPercent",
            value: function(e) {
                this.progressPlayed.style.width = e + "%"
            }
        }, {
            key: "setRangeValue",
            value: function(e) {
                this.maxVal && e > this.maxVal && (e = this.maxVal),
                void 0 !== this.minVal && e < this.minVal && (e = this.minVal),
                this.input.setAttribute("data-val", e),
                this.thumb.style.left = e + "%"
            }
        }, {
            key: "setProgressLoadedPercent",
            value: function(e) {
                this.progressLoaded.style.width = e + "%"
            }
        }, {
            key: "hideProgressPlayed",
            value: function() {
                (0,
                y.hide)(this.progressPlayed),
                (0,
                y.hide)(this.progressLoaded),
                (0,
                y.hide)(this.input)
            }
        }, {
            key: "showProgressPlay",
            value: function() {
                (0,
                y.show)(this.progressPlayed),
                (0,
                y.show)(this.progressLoaded),
                (0,
                y.show)(this.input)
            }
        }, {
            key: "disableInput",
            value: function() {
                this.input.disabled = !0,
                (0,
                y.hide)(this.input)
            }
        }, {
            key: "enableInput",
            value: function() {
                this.input.disabled = !1,
                (0,
                y.show)(this.input)
            }
        }, {
            key: "setMaxActiveProgress",
            value: function(e) {
                var t = this._video.getDuration()
                  , n = e / t;
                this.maxVal = 100 * n
            }
        }, {
            key: "setHightLights",
            value: function(e) {
                var t = this
                  , n = function(e, n, i, r, a) {
                    var o = '<span class="progress-hightlights';
                    return r && (o += " " + r),
                    e < 8 ? o += " left" : e > 92 && (o += " right"),
                    o += '"',
                    o += ' data-time="' + n + '" data-percent="' + e + '" style="left: ' + e + "%;",
                    a && (o += "background-color: " + a + ";"),
                    o += '">',
                    i && (o += '<span class="progress-hightlights-tips">' + t.htmlEncodeAll(i) + "</span>"),
                    o += "</span>"
                }
                  , i = "";
                e.forEach(function(e) {
                    var r = e.time
                      , a = e.tips
                      , o = t._video.getDuration()
                      , s = r / o * 100;
                    s && a && (i += n(s, r, a, e.class, e.color))
                }),
                this.find(".progress-container").insertAdjacentHTML("beforeend", i)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="h5player-progress">\n                <div class="progress-hover-container">\n                    <div class="progress-container">\n                        <div class="input-range-container progress-input-range">\n                            <div class="input-range-thumb js-thumb"></div>\n                        </div>\n                        <div class="progress-loaded"></div>\n                        <div class="progress-played"></div>\n                    </div>\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = _
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = n(27)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.duration = n._video.getDuration(),
            n.setTotalTime(n.duration),
            n.on("timeupdate", function() {
                var e = (0,
                y.secondsToTime)(n._video.getCurrentTime())
                  , t = n._video.getDuration();
                t !== n.duration && (n.duration = t,
                n.setTotalTime(t)),
                n.setTime(e)
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setTime",
            value: function(e) {
                this.find(".control-time-current").innerText = this.setFourFormate(e)
            }
        }, {
            key: "setTotalTime",
            value: function(e) {
                var t = (0,
                y.secondsToTime)(e);
                t.length > 5 && "00" === t.substr(0, 2) && (this.formate = 4),
                this.find(".control-time-duration").innerText = this.setFourFormate(t)
            }
        }, {
            key: "setFourFormate",
            value: function(e) {
                return 4 === this.formate ? e.replace("00:", "") : e
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-time">\n                <span class="control-time-current">00:00</span>\n                <span class="control-time-split"> / </span>\n                <span class="control-time-duration">00:00</span>\n            </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(22)
      , m = i(f)
      , y = n(27)
      , g = n(101)
      , v = i(g)
      , _ = n(39)
      , b = i(_)
      , k = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            n.input = n.find(".input-range-container"),
            n.volumeCurrent = n.find(".control-volume-current"),
            n.thumb = n.find(".js-thumb");
            var i = n._video.getVolume();
            return n.setVolume(i),
            n.setRangeValue(i),
            n.setVolumeTip(i),
            n.hideVolumeTip(),
            n.index = 0,
            n.on("volumechange", function(e, t) {
                if (t.muted)
                    return n.setVolume(0),
                    n.setRangeValue(0),
                    void n.setVolumeTip(0);
                var i = t.volume;
                n.setVolume(i),
                n.setRangeValue(i),
                n.setVolumeTip(i)
            }),
            n.bind("click", function(e) {
                var t = e.target;
                ("DIV" !== t.tagName && "INPUT" !== t.tagName || -1 !== t.className.indexOf("control-volume-icon")) && (n.showVolumeSlide(),
                -1 !== n._el.className.indexOf("muted-icon") ? n.setMuted(!1) : n.setMuted(!0))
            }),
            n.bind("mouseenter", function() {
                n.showVolumeSlide(),
                n.showVolumeTip()
            }),
            n.bind("mouseleave", function() {
                n.removeVolumeSlide(),
                n.hideVolumeTip()
            }),
            n.input.addEventListener("click", function(e) {
                var t = (0,
                y.getElementOffsets)(e.currentTarget)
                  , i = document.getElementsByClassName("mini-play-box")[0]
                  , r = 0;
                if (r = i ? e.clientY : e.pageY,
                b.default.isSafari) {
                    var a = void 0;
                    a = i ? document.getElementById("player") : document.getElementById("ykPlayer");
                    var o = document.getElementsByClassName("youku-film-player")[0]
                      , s = 0;
                    if (o && o.classList.contains("fullscreen") && a && (s = a.offsetTop),
                    r >= t.top - s) {
                        var l = r - (t.top - s)
                          , u = n.input.offsetHeight
                          , d = 1 - l / u;
                        d >= 0 && d <= 1 && (n.setVolume(d, !0),
                        n.setVolumeTip(d),
                        n.setRangeValue(d))
                    }
                } else if (r >= t.top) {
                    var c = r - t.top
                      , h = n.input.offsetHeight
                      , p = 1 - c / h;
                    p >= 0 && p <= 1 && (n.setVolume(p, !0),
                    n.setRangeValue(p),
                    n.setVolumeTip(p))
                }
            }),
            n.thumb.addEventListener(y.isMobile ? "touchstart" : "mousedown", function(e) {
                n.initDrag(e)
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initDrag",
            value: function(e) {
                e.preventDefault();
                var t = this;
                this._dragEl = this.thumb;
                var n = this.input.offsetHeight
                  , i = {
                    x: (y.isMobile ? e.touches[0].clientX : e.clientX) - this._dragEl.offsetLeft,
                    y: (y.isMobile ? e.touches[0].clientX : e.clientY) - this._dragEl.offsetTop,
                    maxTop: n
                }
                  , r = function(e) {
                    var r = (0,
                    v.default)(e, t._dragEl, i);
                    if (r && r.top >= 0) {
                        var a = r.top
                          , o = 1 - a / n;
                        t.setRangeValue(o),
                        t.setVolume(o, !0),
                        t.setVolumeTip(o)
                    } else
                        r && r.top < 0 && (t.setRangeValue(1),
                        t.setVolume(1, !0),
                        t.setVolumeTip(1))
                }
                  , a = function e(n) {
                    if (r(n),
                    t._dragEl = null,
                    y.isMobile)
                        return document.removeEventListener("touchmove", r, !1),
                        void document.removeEventListener("touchend", e, !1);
                    document.removeEventListener("mouseenter", r, !1),
                    document.removeEventListener("mouseup", e, !1)
                };
                if (y.isMobile)
                    return document.addEventListener("touchmove", r, !1),
                    void document.addEventListener("touchend", a, !1);
                document.addEventListener("mousemove", r, !1),
                document.addEventListener("mouseup", a, !1)
            }
        }, {
            key: "showVolumeSlide",
            value: function() {
                -1 === this._el.className.indexOf("slide-show") && (0,
                y.addClass)(this._el, "slide-show")
            }
        }, {
            key: "removeVolumeSlide",
            value: function() {
                -1 !== this._el.className.indexOf("slide-show") && (0,
                y.removeClass)(this._el, "slide-show")
            }
        }, {
            key: "setCurrentVolume",
            value: function(e) {
                this.currentVolume = e,
                this.setVolume(0)
            }
        }, {
            key: "setRangeValue",
            value: function(e) {
                this.input.setAttribute("data-val", e),
                this.thumb.style.bottom = 100 * e + "%"
            }
        }, {
            key: "getRaneValue",
            value: function() {
                return this.input.value
            }
        }, {
            key: "setVolume",
            value: function(e, t) {
                this.currentVolume || (this.currentVolume = this.getRaneValue()),
                e < .001 && (this.setRangeValue(0),
                (0,
                y.addClass)(this._el, "muted-icon")),
                e > 0 && (0,
                y.removeClass)(this._el, "muted-icon"),
                this.volumeCurrent.style.height = 100 * e + "%",
                t && (this._video.setVolume(e),
                this.currentVolume = this.getRaneValue())
            }
        }, {
            key: "setMuted",
            value: function(e) {
                this._video.setMuted(e),
                e ? (0,
                y.addClass)(this._el, "muted-icon") : (0,
                y.removeClass)(this._el, "muted-icon")
            }
        }, {
            key: "revertVolume",
            value: function() {
                var e = this.currentVolume || .5;
                this.setRangeValue(e),
                this.setVolume(e, 1)
            }
        }, {
            key: "setVolumeTip",
            value: function(e) {
                e = Math.floor(100 * e),
                document.getElementById("volume-tip").innerHTML = e + "%"
            }
        }, {
            key: "showVolumeTip",
            value: function() {
                document.getElementById("volume-tip").style.visibility = "visible"
            }
        }, {
            key: "hideVolumeTip",
            value: function() {
                document.getElementById("volume-tip").style.visibility = "hidden"
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="control-icon control-volume-icon">\n            <span class="iconfont icon-volume"></span>\n            <span class="iconfont icon-mute"></span>\n            <div class="control-volume-box">\n                <div class="control-volume-slider">\n                    <div class="input-range-container">\n                        <div class="input-range-thumb js-thumb"></div>\n                    </div>\n                    <div class="control-volume-current" style="height:50%;"></div>\n                </div>\n            </div>\n            <div class="volume-tip" id="volume-tip" style="visibility:none"></div>\n          </div>\n        '
            }
        }]),
        t
    }(m.default);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r(e) {
        return e.source instanceof Array && "multi" === e.controlType ? (console.log("MultiVideo"),
        new o.default(e)) : "xhr" !== e.controlType ? new l.default(e) : void console.log("Xhr Video")
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = n(175)
      , o = i(a)
      , s = n(106)
      , l = i(s);
    t.default = r
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(18)
      , a = i(r)
      , o = n(10)
      , s = i(o)
      , l = n(2)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(4)
      , m = i(f)
      , y = n(11)
      , g = i(y)
      , v = n(3)
      , _ = i(v)
      , b = n(27)
      , k = n(105)
      , S = n(68)
      , E = i(S)
      , w = k.VIDEO_LIMITS
      , x = function(e) {
        function t(e) {
            (0,
            c.default)(this, t);
            var n = (0,
            m.default)(this, (t.__proto__ || (0,
            u.default)(t)).call(this, e));
            return w = e.videoLimits || w,
            n.config = e,
            n._flyVideoEles = null,
            n._segments = null,
            n._currentSegmentIndex = -1,
            n._nextPreloading = !1,
            n._totalDuration = e.duration || 0,
            n._seekTimer = null,
            n._geneSegments(e.source),
            n._createFlyViedeoEles(w, e.videoAttr),
            n._seekTo(0, !0),
            n.setMuted(e.muted),
            n
        }
        return (0,
        _.default)(t, e),
        (0,
        p.default)(t, [{
            key: "_setNextPreLoadState",
            value: function(e) {
                this._nextPreloading = e
            }
        }, {
            key: "getBufferTime",
            value: function() {
                var e = (0,
                g.default)(t.prototype.__proto__ || (0,
                u.default)(t.prototype), "getBufferTime", this).call(this)
                  , n = this._segments[this._currentSegmentIndex];
                return e + (n && n.start || 0)
            }
        }, {
            key: "getDuration",
            value: function() {
                return this.totalDuration
            }
        }, {
            key: "init",
            value: function() {}
        }, {
            key: "_geneSegments",
            value: function(e) {
                var t = void 0
                  , n = void 0
                  , i = 0;
                this._segments = e.slice();
                for (var r = 0; r < this._segments.length; r++)
                    t = this._segments[r],
                    n = this._segments[r - 1],
                    t.seconds && (t.seconds = parseFloat(t.seconds),
                    i += t.seconds,
                    t.start = n ? n.end : 0,
                    t.end = t.start + t.seconds);
                this._totalDuration = i || this._totalDuration
            }
        }, {
            key: "_createFlyViedeoEles",
            value: function(e) {
                var t = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  , i = this.config
                  , r = i.crossorigin
                  , a = i.container;
                this._flyVideoEles = new Array(e).fill(0).map(function() {
                    var e = (0,
                    s.default)(n, {
                        crossorigin: r,
                        autoplay: !1,
                        muted: !1
                    });
                    e.style = {
                        width: "100%",
                        height: "100%",
                        backgroundColor: "rgb(0,0,0)",
                        display: "none"
                    };
                    var i = (0,
                    b.createVideo)(a, e);
                    return t._registerEvents(i),
                    i
                })
            }
        }, {
            key: "_seekTo",
            value: function(e, t) {
                var n = this;
                this._seekTimer && clearTimeout(this._seekTimer);
                var i = this._findSegment(e);
                if (i) {
                    var r = e - i.start
                      , a = i.no % w;
                    if (this._currentSegmentIndex !== i.no) {
                        var o = !1
                          , s = t || !1
                          , l = 1
                          , u = 1;
                        -1 !== this._currentSegmentIndex && (o = this.video.muted,
                        l = this.video.playbackRate,
                        u = this.video.volume,
                        s = this.video.paused),
                        this._emitSegmentChange(this._currentSegmentIndex, i.no),
                        this._currentSegmentIndex = i.no;
                        var d = this._enableFlyVideo(a, i.src);
                        this._disabledFlyVideos(),
                        d.muted = o,
                        d.playbackRate = l,
                        d.volume = u,
                        s || this.play()
                    }
                    !function e() {
                        n.video.readyState > 1 ? n.video.currentTime = r : n._seekTimer = setTimeout(e, 30)
                    }(),
                    this._preloadNext((e - i.start) / i.seconds)
                }
            }
        }, {
            key: "_emitSegmentChange",
            value: function(e, t) {
                this.emit(k.CUSTOME_EVENTS.segmentChange, {
                    lastSeg: {
                        index: e,
                        segment: this._segments[e]
                    },
                    currentSeg: {
                        index: t,
                        segment: this._segments[t]
                    }
                })
            }
        }, {
            key: "_findSegment",
            value: function(e) {
                return this._segments.filter(function(t) {
                    return t.start <= e && t.end > e
                })[0]
            }
        }, {
            key: "_enableFlyVideo",
            value: function(e, t) {
                var n = this._selectFlyVideo(e, t);
                return n.style.display = "block",
                n
            }
        }, {
            key: "_disabledFlyVideos",
            value: function() {
                var e = this;
                this._flyVideoEles.forEach(function(t) {
                    t !== e.video && (t.style.display = "none",
                    t.muted = !0,
                    t.autoplay = !1,
                    t.pause())
                })
            }
        }, {
            key: "_selectFlyVideo",
            value: function(e, t) {
                var n = this._flyVideoEles[e]
                  , i = n.getAttribute("src");
                return i && i === t || (n.setAttribute("src", t),
                n.load()),
                n
            }
        }, {
            key: "_preloadNext",
            value: function(e) {
                if (e < k.VIDEO_PLAY_TIME_PROPORTION)
                    return void this._setNextPreLoadState(!1);
                if (!this._nextPreloading) {
                    this._setNextPreLoadState(!0);
                    var t = this._currentSegmentIndex + 1;
                    if (!(t >= this._segments.length)) {
                        var n = this._selectFlyVideo(t % w, this._segments[t].src);
                        n.muted = !0,
                        n.autoplay = !0
                    }
                }
            }
        }, {
            key: "_onpause",
            value: function(e) {
                e.event.target === this.video && this.emit("pause", e)
            }
        }, {
            key: "_onended",
            value: function(e) {
                var t = this._segments[this._currentSegmentIndex]
                  , n = this.video.currentTime;
                this._currentSegmentIndex >= this._segments.length - 1 ? (this.video.pause(),
                this.emit("ended", e)) : t.seconds - n < .5 && (this._seekTo(t.end + .1),
                this._play())
            }
        }, {
            key: "_play",
            value: function() {
                var e = this;
                if (this.video.paused) {
                    if (this.video.readyState < 1)
                        return void setTimeout(function() {
                            return e._play()
                        }, 30);
                    var t = this.video.play();
                    t && t.catch(function(t) {
                        "object" === (void 0 === t ? "undefined" : (0,
                        a.default)(t)) && "AbortError" === t.name ? (e.emit("pause", t),
                        e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : (0,
                        a.default)(t)) && "NotAllowedError" === t.name && (e.emit("pause", t),
                        e.emit("notAllowedError", t))
                    })
                }
                return this.video.paused
            }
        }, {
            key: "_ontimeupdate",
            value: function(e) {
                var t = this._segments[this._currentSegmentIndex];
                e.currentTime = this.currentTime = t.start + this.video.currentTime,
                this.emit("timeupdate", e);
                var n = this._segments[this._currentSegmentIndex];
                this._preloadNext(this.video.currentTime / n.seconds)
            }
        }, {
            key: "_onerror",
            value: function(e) {
                var t = e.event.target
                  , n = t.getAttribute("src")
                  , i = this._segments.filter(function(e) {
                    return e.src === n
                })[0];
                if (i && (e.sourceIndex = i.no),
                "none" === t.style.display)
                    return e.error = t.error,
                    e.networkState = t.networkState,
                    e.url = t.src,
                    e.video = t,
                    this.emit("video_seg_error", e);
                e.error = this.video.error,
                e.networkState = this.video.networkState,
                e.url = this.video.src,
                e.duration = this.video.duration,
                e.currentTime = this.video.currentTime,
                this.emit("error", e)
            }
        }, {
            key: "play",
            value: function() {
                this._play()
            }
        }, {
            key: "replay",
            value: function() {
                this._seekTo(0),
                this._play()
            }
        }, {
            key: "seek",
            value: function(e) {
                e - this._totalDuration > 0 && (e = this._totalDuration - .1),
                this._seekTo(e)
            }
        }, {
            key: "setStyle",
            value: function(e, t) {
                this._videoElments.forEach(function(n) {
                    n.style[e] = t
                })
            }
        }, {
            key: "setAttribute",
            value: function(e, t) {
                this._videoElments.forEach(function(n) {
                    n[e] = t
                })
            }
        }, {
            key: "setVolume",
            value: function(e) {
                e > 1 && (e = 1),
                e > 0 ? (this.video.volume = e,
                this.video.muted = !1) : (this.video.volume = 0,
                this.video.muted = !0)
            }
        }, {
            key: "setSource",
            value: function(e) {
                var t = e.source
                  , n = e.duration
                  , i = e.seekTime;
                this._totalDuration = n;
                var r = this.getCurrentTime();
                this._geneSegments(t),
                this.reset(),
                this._seekTo(i > 0 ? i : r)
            }
        }, {
            key: "end",
            value: function() {
                this._seekTo(this._totalDuration - .1)
            }
        }, {
            key: "reset",
            value: function() {
                this._currentSegmentIndex = -1,
                this._nextPreloading = !1
            }
        }, {
            key: "destroy",
            value: function() {
                var e = this;
                this.reset(),
                this._flyVideoEles.forEach(function(t) {
                    e.removeAllEvents(t)
                }),
                this.fireAll()
            }
        }, {
            key: "video",
            get: function() {
                if (this._flyVideoEles.length)
                    return this._flyVideoEles[this._currentSegmentIndex % w]
            }
        }, {
            key: "totalDuration",
            get: function() {
                return this._totalDuration
            }
        }]),
        t
    }(E.default);
    t.default = x
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(18)
      , a = i(r)
      , o = n(20)
      , s = i(o)
      , l = n(10)
      , u = i(l)
      , d = n(2)
      , c = i(d)
      , h = n(0)
      , p = i(h)
      , f = n(1)
      , m = i(f)
      , y = n(4)
      , g = i(y)
      , v = n(3)
      , _ = i(v)
      , b = n(68)
      , k = i(b)
      , S = n(27)
      , E = n(105)
      , w = n(39)
      , x = i(w)
      , T = E.VIDEO_LIMITS
      , A = E.VIDEO_CACHE_LIMITS
      , L = function(e) {
        function t(e) {
            (0,
            p.default)(this, t);
            var n = (0,
            g.default)(this, (t.__proto__ || (0,
            c.default)(t)).call(this, e));
            return n.videoInfo.duration = e.duration,
            n.args.videoIndex = 0,
            n._queueCallback = {},
            n.duration = n._getTotalTime(),
            n
        }
        return (0,
        _.default)(t, e),
        (0,
        m.default)(t, [{
            key: "_checkVideo",
            value: function() {
                return this.args.videoList = [],
                Array.isArray(this.args.source) && this.args.source.length > 0 ? this.args.videoList = this.args.source : "string" == typeof this.args.source && (this.args.videoList = [this.args.source]),
                this.args.videoList
            }
        }, {
            key: "_createVideo",
            value: function() {
                var e = this
                  , t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (this.args.videoLimits && this.args.videoLimits > 1 && (T = this.args.videoLimits),
                this.args.videoCacheLimits && this.args.videoCacheLimits > 1 && this.args.videoCacheLimits < T && (A = this.args.videoCacheLimits),
                this._checkVideo(),
                this._videoElments = [],
                0 === this.args.videoList.length && (this.args.videoList = Array(T).join(".").split(".")),
                this.args.videoList.forEach(function(n, i) {
                    if (!(i >= T)) {
                        var r = (0,
                        u.default)(t, {
                            src: n.src ? n.src : n,
                            "data-orginal-src": n.src ? n.src : n,
                            "data-vm-index": "v" + i,
                            crossorigin: e.args.crossorigin
                        });
                        r.style = {
                            width: "100%",
                            height: "100%",
                            backgroundColor: "rgb(0,0,0)"
                        },
                        0 !== i ? (r.style.display = "none",
                        r.src = "") : r.autoplay = !0 === e.args.autoplay,
                        i > A && (r.autoplay = !1,
                        r.src = null),
                        "hidden" === e.args.videoVisiblity && (r.style.display = "none"),
                        e.args.muted && (r.muted = !0);
                        var a = (0,
                        S.createVideo)(e._conatainer, r);
                        i > 0 && i <= A && (a.registerEvent = 1,
                        e._registerEvents(a)),
                        e._videoElments.push(a)
                    }
                }),
                0 !== this._videoElments.length)
                    return this._videoElments[0].registerEvent = 1,
                    this.args.autoplay && (this._isPlaying = !0),
                    this._videoElments[0]
            }
        }, {
            key: "_getTotalTime",
            value: function() {
                var e = 0;
                try {
                    var t = !0
                      , n = !1
                      , i = void 0;
                    try {
                        for (var r, a = (0,
                        s.default)(this.args.videoList); !(t = (r = a.next()).done); t = !0) {
                            var o = r.value;
                            (0,
                            S.isObject)(o) && (e += parseFloat(o.seconds))
                        }
                    } catch (e) {
                        n = !0,
                        i = e
                    } finally {
                        try {
                            !t && a.return && a.return()
                        } finally {
                            if (n)
                                throw i
                        }
                    }
                } catch (t) {
                    this.args.duration && (e = this.args.duration)
                }
                return e
            }
        }, {
            key: "_nextVideo",
            value: function() {
                var e = this.args.videoIndex + 1;
                return this._setVideo(e, !1)
            }
        }, {
            key: "_setNextPreloadVideo",
            value: function() {
                var e = this.args.videoIndex + A;
                if (e >= this.args.videoList.length)
                    return void (e %= this.args.videoList.length);
                this.video.src = this.args.videoList[e].source,
                this.load()
            }
        }, {
            key: "_arrangePreloadVideo",
            value: function(e) {
                var t = this
                  , n = function(n) {
                    var i = (e + n) % t._videoElments.length
                      , r = t.args.videoList[t.args.videoIndex + n]
                      , a = t._videoElments[i]
                      , o = t._getSrc(r);
                    a.autoplay && a.removeAttribute("autoplay"),
                    a.registerEvent || (t._registerEvents(a),
                    a.registerEvent = 1);
                    var s = a.getAttribute("data-orginal-src");
                    s !== o ? (a.src = o,
                    a.setAttribute("data-orginal-src", o),
                    a.setAttribute("data-canplay", "none"),
                    a.load()) : a.src || (a.src = s,
                    a.setAttribute("data-canplay", "none"),
                    a.load())
                };
                if (this.args.videoIndex + 1 < this.args.videoList.length)
                    n(1);
                else
                    for (var i = 1; i < this.args.videoList.length - this.args.videoIndex; i++)
                        n(i)
            }
        }, {
            key: "_releaseVideo",
            value: function(e) {
                var t = this._videoElments.length - 1 - e
                  , n = this._videoElments[t];
                n && (n.src = "")
            }
        }, {
            key: "_setVideo",
            value: function(e, t, n) {
                if (e !== this.args.videoIndex || n) {
                    if (e === this.args.videoList.length)
                        return "ended";
                    this.args.videoIndex !== e && this.emit(E.CUSTOME_EVENTS.segmentChange, {
                        lastSeg: {
                            index: this.args.videoIndex,
                            segment: this.args.videoList[this.args.videoIndex]
                        },
                        currentSeg: {
                            index: e,
                            segment: this.args.videoList[e]
                        }
                    }),
                    this.args.videoIndex = e;
                    var i = this.args.videoIndex % this._videoElments.length;
                    this.hide(),
                    t && !this.video.paused && this.video.pause(),
                    this.video = this._videoElments[i],
                    this.show();
                    var r = this.args.videoList[this.args.videoIndex]
                      , a = this._getSrc(r);
                    a && r.errorTag && (a = (0,
                    S.repalceUrlQuery)(a));
                    this.video.getAttribute("data-orginal-src") === a && this.video.src || (this._setVideoSrc(this.video, a),
                    this.video.setAttribute("data-canplay", "none")),
                    this.video.registerEvent || (this._registerEvents(),
                    this.video.registerEvent = 1),
                    this._isPlaying && ((x.default.isIE || x.default.isSafari) && this._isSeek || (this._currentTime(0),
                    this.play()))
                }
            }
        }, {
            key: "_getSrc",
            value: function(e) {
                return e.src ? e.src : e
            }
        }, {
            key: "end",
            value: function() {
                var e = this.video.duration;
                this.args.videoIndex = this.args.videoList.length - 1,
                this._currentTime(e - .1)
            }
        }, {
            key: "_onended",
            value: function(e) {
                var t = this.getCurrentTime()
                  , n = this.getDuration();
                "ended" === this._nextVideo() && t - n > -E.VIDEO_DURATION_DIFF && this.emit("ended", e)
            }
        }, {
            key: "_setVideoSrc",
            value: function(e, t) {
                e.src = t,
                e.setAttribute("data-orginal-src", t)
            }
        }, {
            key: "show",
            value: function() {
                this.video.style.display = "block"
            }
        }, {
            key: "hide",
            value: function() {
                this.video.style.display = "none"
            }
        }, {
            key: "play",
            value: function() {
                var e = this;
                if (this.video.paused) {
                    var t = this.video.play();
                    t && t.catch(function(t) {
                        "object" === (void 0 === t ? "undefined" : (0,
                        a.default)(t)) && "AbortError" === t.name ? (e.emit("pause", t),
                        e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : (0,
                        a.default)(t)) && "NotAllowedError" === t.name && (e.emit("pause", t),
                        e.emit("notAllowedError", t))
                    }),
                    this._isPlaying = !0
                }
                return this.video.paused
            }
        }, {
            key: "pause",
            value: function() {
                return this.video.pause(),
                this._isPlaying = !1,
                this.video.paused
            }
        }, {
            key: "_batchSetVideoElementsAttr",
            value: function(e, t) {
                this._videoElments[e].setAttribute("data-orginal-src", t),
                0 !== e ? this._videoElments[e].style.display = "none" : (this._videoElments[e].style.display = "block",
                this._videoElments[e].setAttribute("src", t)),
                this._videoElments[e].preload = "none",
                this._videoElments[e].autoplay = !1
            }
        }, {
            key: "setSource",
            value: function(e) {
                var t = this
                  , n = this.args.source
                  , i = e.source;
                if (this.args.source = i,
                this.args.duration = e.duration,
                this.args.seekTime = e.seekTime,
                this._checkVideo(),
                this.video.pause(),
                i.length < T)
                    i.length > n.length ? this.args.videoList.forEach(function(e, i) {
                        if (i > n.length - 1 && n.length + i + 1 <= T) {
                            var r = {
                                src: e.src ? e.src : e,
                                "data-orginal-src": e.src ? e.src : e,
                                crossorigin: t.args.crossorigin
                            };
                            return r.style = {
                                display: "none",
                                width: "100%",
                                height: "100%",
                                backgroundColor: "rgb(0,0,0)"
                            },
                            t._videoElments.push((0,
                            S.createVideo)(t._conatainer, r))
                        }
                        if (i <= n.length - 1) {
                            var a = t._getSrc(e);
                            t._videoElments[i].src = a,
                            t._videoElments[i].setAttribute("data-orginal-src", a)
                        }
                    }) : (this._videoElments.forEach(function(e) {
                        e.style.display = "none"
                    }),
                    this.args.videoList.forEach(function(e, n) {
                        var i = t._getSrc(e);
                        t._batchSetVideoElementsAttr(n, i)
                    }));
                else {
                    if ("number" == typeof this.args.seekTime && this.args.seekTime > .1)
                        return void this.seek(this.args.seekTime, !0);
                    this.args.videoList.map(function(e, n) {
                        if (n >= t._videoElments.length)
                            return null;
                        var i = e.src ? e.src : e;
                        return 0 === n ? t._batchSetVideoElementsAttr(n, i) : (t._videoElments[n].setAttribute("data-src", i),
                        t._videoElments[n].src = ""),
                        t._videoElments[n]
                    })
                }
                this.args.videoIndex = 0,
                this.video = this._videoElments[0],
                this.video.paused && this.video.play()
            }
        }, {
            key: "seek",
            value: function(e, t) {
                e - this._getTotalTime() > 2 && this.end();
                var n = this._findVideoViaTime(e);
                if (n) {
                    var i = this.video.paused;
                    this._isSeek = !0,
                    this._setVideo(n.index, !i, t),
                    this._currentTime(n.timeDiff)
                }
            }
        }, {
            key: "setCurrentTime",
            value: function(e) {
                this._currentTime(e)
            }
        }, {
            key: "_currentTime",
            value: function(e) {
                var t = this;
                this._isSeek = !1,
                this._preloadNextSegmentFlag = !1;
                var n = this.video.duration;
                if (x.default.isIE || x.default.isSafari) {
                    if (e < .001)
                        return this.show(),
                        this.play(),
                        void (n && (this.video.currentTime = 0));
                    if ("play" !== this.video.getAttribute("data-canplay")) {
                        var i = this.video.getAttribute("data-vm-index");
                        this._queueCallback[i] = function() {
                            t.play(),
                            n && (t.video.currentTime = e),
                            t.show()
                        }
                    } else
                        n && (this.video.currentTime = e),
                        this.play(),
                        this.show()
                } else
                    try {
                        this.video.currentTime = e
                    } catch (t) {
                        console.log(t);
                        var r = !0
                          , a = this
                          , o = function t() {
                            r && (r = !1,
                            a.video.currentTime = e),
                            a.video.removeEventListener("canplay", t)
                        };
                        this.video.addEventListener("canplay", o)
                    }
            }
        }, {
            key: "_onpause",
            value: function(e) {
                this._isPlaying || this.emit("pause", e)
            }
        }, {
            key: "_findVideoViaTime",
            value: function(e) {
                var t = 0
                  , n = !0
                  , i = !1
                  , r = void 0;
                try {
                    for (var a, o = (0,
                    s.default)(this.args.videoList); !(n = (a = o.next()).done); n = !0) {
                        var l = a.value;
                        if (t += parseFloat(l.seconds),
                        e < t)
                            return {
                                index: this.args.videoList.indexOf(l),
                                source: l,
                                timeDiff: l.seconds - (t - e)
                            }
                    }
                } catch (e) {
                    i = !0,
                    r = e
                } finally {
                    try {
                        !n && o.return && o.return()
                    } finally {
                        if (i)
                            throw r
                    }
                }
                return null
            }
        }, {
            key: "_findVideoListIndex",
            value: function(e) {
                for (var t = 0; t < this.args.videoList.length; t++) {
                    var n = this.args.videoList[t];
                    if (e === (n.src ? n.src : n))
                        return t
                }
            }
        }, {
            key: "getCurrentTime",
            value: function() {
                for (var e = 0, t = 0; t < this.args.videoIndex; t++)
                    e += 1 * this.args.videoList[t].seconds;
                return 1 * this.video.currentTime + e
            }
        }, {
            key: "getBufferTime",
            value: function() {
                var e = this._getTotalTime()
                  , t = this.video
                  , n = 0;
                if (e > 0)
                    for (var i = 0; i < t.buffered.length; i++)
                        if (t.buffered.start(t.buffered.length - 1 - i) < t.currentTime) {
                            var r = t.buffered.end(t.buffered.length - 1 - i);
                            n = r;
                            break
                        }
                for (var a = 0, o = 0; o < this.args.videoIndex; o++)
                    a += 1 * this.args.videoList[o].seconds;
                return n + a
            }
        }, {
            key: "getPlayVideoBufferTime",
            value: function() {
                var e = this._getTotalTime()
                  , t = this.video
                  , n = 0;
                if (e > 0)
                    for (var i = 0; i < t.buffered.length; i++)
                        if (t.buffered.start(t.buffered.length - 1 - i) < t.currentTime) {
                            var r = t.buffered.end(t.buffered.length - 1 - i);
                            n = r;
                            break
                        }
                return n
            }
        }, {
            key: "setRate",
            value: function(e) {
                return this._videoElments.forEach(function(t) {
                    t.defaultPlaybackRate = e,
                    t.playbackRate = e
                }),
                this.rate = e,
                this.video.playbackRate
            }
        }, {
            key: "replay",
            value: function() {
                this._setVideo(0),
                this.show(),
                this._currentTime(0),
                this.video.play()
            }
        }, {
            key: "getPlayingState",
            value: function() {
                return this._isPlaying
            }
        }, {
            key: "getDuration",
            value: function() {
                return this.args && this.args.duration ? this.args.duration : parseInt(this._getTotalTime())
            }
        }, {
            key: "setAttribute",
            value: function(e, t) {
                this._videoElments.forEach(function(n) {
                    n[e] = t
                })
            }
        }, {
            key: "setMuted",
            value: function(e) {
                return this.setAttribute("muted", e),
                this.video.muted
            }
        }, {
            key: "setVolume",
            value: function(e) {
                return e > 1 && (e = 1),
                e > 0 ? (this.video.muted && this.setMuted(!1),
                this.setAttribute("volume", e)) : this.setAttribute("volume", 0),
                this.video.volume
            }
        }, {
            key: "setStyle",
            value: function(e, t) {
                this._videoElments.forEach(function(n) {
                    n.style[e] = t
                })
            }
        }, {
            key: "_ontimeupdate",
            value: function(e) {
                this.currentTime = this.getCurrentTime(),
                e.videoInfo.duration && (e.currentTime = this.currentTime),
                this.emit("timeupdate", e),
                !this._preloadNextSegmentFlag && this._checkPreloadStrategy() && (this._preloadNextSegmentFlag = !0,
                this._arrangePreloadVideo(this.args.videoIndex),
                this.emit("timeupdate", e))
            }
        }, {
            key: "_checkPreloadStrategy",
            value: function() {
                var e = this.video.currentTime
                  , t = this.video.duration;
                return t < E.VIDEO_MIN_DURATION || e / t > E.VIDEO_PLAY_TIME_PROPORTION
            }
        }, {
            key: "_onloadedmetadata",
            value: function(e) {
                e.event && (e.event.target.setAttribute("data-canplay", "play"),
                this._runQueueCallback())
            }
        }, {
            key: "_runQueueCallback",
            value: function() {
                var e = this.video.getAttribute("data-vm-index")
                  , t = this._queueCallback[e];
                "function" == typeof t && (t(),
                this._queueCallback[e] = null)
            }
        }, {
            key: "tagErrorSrc",
            value: function(e) {
                var t = e.getAttribute("data-orginal-src");
                this.args.videoList.forEach(function(e) {
                    e.src === t && (e.errorTag = !0)
                })
            }
        }, {
            key: "_onerror",
            value: function(e) {
                var t = e.event.target
                  , n = t.getAttribute("data-orginal-src");
                if (e.sourceIndex = this._findVideoListIndex(n),
                "none" === t.style.display)
                    return e.error = t.error,
                    e.networkState = t.networkState,
                    e.url = t.src,
                    e.video = t,
                    e.videoEleIndex = t.getAttribute("data-vm-index"),
                    this.emit("video_seg_error", e);
                e.error = this.video.error,
                e.networkState = this.video.networkState,
                e.url = this.video.src,
                e.duration = this.video.duration,
                e.currentTime = this.video.currentTime,
                e.isPlaying = this.isPlaying,
                this.emit("error", e)
            }
        }, {
            key: "onNextSeq",
            value: function() {
                this.emit("nextVideo", this.args.videoList[this.args.videoIndex])
            }
        }, {
            key: "_onvolumechange",
            value: function(e) {
                e.event.target === this.video && (e.volume = this.video.volume,
                this.emit("volumechange", e))
            }
        }, {
            key: "_onratechange",
            value: function(e) {
                e.event.target === this.video && (e.playbackRate = this.video.playbackRate,
                this.emit("ratechange", e))
            }
        }]),
        t
    }(k.default);
    t.default = L
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        FRONT: "frontad",
        END: "endad",
        CONTENT: "contentad",
        STAND: "standard",
        PAUSE: "pausead",
        CUT: "bfad",
        PREVIOUSLY: "previouslyad"
    }
      , r = {
        PLAY: "adplay",
        PLAYING: "adplaying",
        PAUSE: "adpause",
        READY: "adready",
        END: "adended",
        ERROR: "aderror",
        WAITING: "adwaiting",
        SABORT: "safariabort",
        SERVICEERROR: "adserviceerror",
        SERVICELOADING: "adserviceloading",
        SERVICESTART: "adservicestart",
        SERVICEEND: "adserviceend",
        CUTPLAYING: "cutplaying"
    }
      , a = {
        ADPLUGIN_STATE_CHANGE: "adplugin.statechange",
        SERVICE_STATE: "service.success",
        SERVICE_ERROR: "service.error"
    };
    t.ADType = i,
    t.ADState = r,
    t.ADEvents = a
}
, function(e, t, n) {
    "use strict";
    var i = n(145)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = n(6);
    (0,
    a.canUseH265Maybe)() && (0,
    a.loadfile)("//g.alicdn.com/corex/h265Player/0.1.9/h265-core.min.js", "js"),
    (0,
    a.loadfile)("//g.alicdn.com/player/ykplayer/0.5.81/done_aes-secret_.js", "js"),
    "function" != typeof window.PCDNDataManager && (0,
    a.loadfile)("//g.alicdn.com/html5p2p/vod_update/datamanager.min.js", "js"),
    (0,
    a.loadfile)("//g.alicdn.com/corex/xass/index.browser.min.js", "js"),
    e.exports = r.default
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(41)
      , a = i(r)
      , o = n(40)
      , s = i(o)
      , l = n(29)
      , u = i(l)
      , d = n(119)
      , c = i(d)
      , h = n(0)
      , p = i(h)
      , f = n(1)
      , m = i(f)
      , y = n(70)
      , g = i(y)
      , v = n(108)
      , _ = n(57)
      , b = i(_)
      , k = n(23)
      , S = n(184)
      , E = i(S)
      , w = n(157)
      , x = i(w)
      , T = n(158)
      , A = i(T)
      , L = n(159)
      , C = i(L)
      , D = n(6)
      , P = 3
      , R = function() {
        function e(t, n) {
            (0,
            p.default)(this, e),
            this.emitter = n,
            this.version = "2.1.69",
            this.R1 = null;
            var i = (0,
            D.getParamFromUrl)(location.href);
            this.isP2P = "0" === i.p2p || window.PCDNDataManager && !window.PCDNDataManager.isSupported() ? 0 : 1,
            t.hasOwnProperty("p2p") && (this.isP2P = t.p2p),
            this.enableSwitch = 1,
            this.staticM3u8 = !0,
            this.enableAutoLevel = 1,
            this.enableSubtitle = !0,
            this.enableQueLoad = 1,
            this._playerState = {
                state: g.default.INIT,
                volume: 1,
                muted: !1,
                fullscreen: !1,
                webFullscreen: !1
            },
            this.tempdata = {},
            this._config = {},
            this.cycleData = {
                hadSkipHead: !1,
                hadSkipTail: !1,
                tailTip: !1,
                hadStartPlay: !1,
                tryCount: P,
                isFront: !1,
                seekTime: 0,
                isUserPause: !1
            },
            this.ups = null,
            this.currentTime = 0,
            this._actCurrentTime = 0,
            this._recordTime = 0,
            this.bufferTime = 0,
            this.scale = 1,
            this.waitingInfo = {
                state: "init",
                timer: null
            },
            this.errorInfo = {
                hlsError: !1,
                hlsErrorCount: 0,
                timer: null,
                isError: !1
            },
            this.reloadCount = 0,
            t && this.init(t),
            this.mediaData = new x.default(t,this),
            this.programData = new A.default(t,this),
            this.subtitleData = new C.default(t,this),
            this.firstPlay = !0,
            this.hasShow720Pop = !1,
            this.playerConfig = {
                videocount: 3,
                step: {
                    step1: 5,
                    step2: 10,
                    step3: 15
                }
            },
            this._defineSetterAndGetter(this, "playerState", "object"),
            this._defineSetterAndGetter(this, "config", "object"),
            Object.defineProperty(this, "actCurrentTime", {
                set: function(e) {
                    this._actCurrentTime = e,
                    Math.abs(this._recordTime - this._actCurrentTime) > 5 && 0 !== this._actCurrentTime && (this._recordTime = this._actCurrentTime,
                    b.default.setItem({
                        vid: this.mediaData.mediaId,
                        time: e
                    }))
                },
                get: function() {
                    return this._actCurrentTime
                }
            }),
            this._defineSetterAndGetter(this, "bufferTime"),
            this.dots = [],
            this.processState = "init",
            this.miniPosition = null
        }
        return (0,
        m.default)(e, [{
            key: "init",
            value: function(e) {
                if (this.initConfig)
                    for (var t in e)
                        this.initConfig[t] = e[t];
                else
                    this.initConfig = e;
                var n = !1;
                this.initConfig.hasOwnProperty("hotPreview") && 1 === parseInt(this.initConfig.hotPreview) && (n = !0);
                var i = /Tesla\//.test(navigator.userAgent);
                this._config = {
                    playersid: (new Date).getTime() + E.default.rand("") + E.default.randomString(10),
                    ccode: this.initConfig.ccode || "0502",
                    isTudou: "050F" === this.initConfig.ccode,
                    autoplay: void 0 === this.initConfig.autoplay || this.initConfig.autoplay,
                    continuePlay: this.initConfig.continuePlay,
                    isInnerPlay: this.initConfig.isInnerPlay,
                    simpleMode: this.initConfig.simpleMode || !1,
                    UOSMode: this.initConfig.UOSMode || !1,
                    TeslaEnv: i,
                    loop: this.initConfig.loop || !1,
                    rate: this.initConfig.rate || 1,
                    hasWatermark: void 0 === this.initConfig.hasWatermark || this.initConfig.hasWatermark,
                    watermark: this.initConfig.watermark,
                    isShowRelatedVideo: void 0 === this.initConfig.isShowRelatedVideo || this.initConfig.isShowRelatedVideo,
                    width: this.initConfig.width,
                    height: this.initConfig.height,
                    screenWidth: 0,
                    screenHeight: 0,
                    skip: this.initConfig.skip,
                    openPlaylog: !this.initConfig.hasOwnProperty("playRecord") || this.initConfig.playRecord,
                    duration: 0,
                    headPosition: -1,
                    tailPosition: -1,
                    playRecord: 0,
                    seekRate: this.initConfig.seekRate || 5,
                    supportType: "default",
                    defaultSupportType: "default",
                    danmu: 0,
                    reload: 0,
                    hotPreview: n,
                    playScene: null,
                    inPicture: !1
                },
                this.adConfig = {};
                var r = b.default.getPersonInfo()
                  , a = b.default.getSessionInfo();
                r && (void 0 === this.initConfig.skip && (this._config.skip = r.skip),
                a && a.rate && (this._config.rate = a.rate),
                void 0 === this.initConfig.continuePlay && (this._config.continuePlay = r.continuePlay),
                this._config.playScene = this.initConfig.playScene || "normal",
                this._config.simpleMode && (this.initConfig.enableFullscreenScroll = !1))
            }
        }, {
            key: "defineProperty",
            value: function(e, t, n) {
                this["_" + e] = t,
                this._defineSetterAndGetter(this, e, n)
            }
        }, {
            key: "_defineSetterAndGetter",
            value: function(e, t, n) {
                "object" === n ? (0,
                c.default)(e, t, {
                    set: function(e) {
                        var n = {};
                        for (var i in e)
                            this["_" + t][i] !== e[i] && (this["_" + t][i] = e[i],
                            n[i] = e[i]);
                        "{}" !== (0,
                        u.default)(n) && this.emit("global." + t, n)
                    },
                    get: function() {
                        return this["_" + t]
                    }
                }) : (0,
                c.default)(e, t, {
                    set: function(e) {
                        this["_" + t] = e,
                        this.emit("global." + t, this["_" + t])
                    },
                    get: function() {
                        return this["_" + t]
                    }
                })
            }
        }, {
            key: "deal",
            value: function() {
                function e(e) {
                    return t.apply(this, arguments)
                }
                var t = (0,
                s.default)(a.default.mark(function e(t) {
                    var n, i, r;
                    return a.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (this.ups && this.ups.videoData) {
                                    e.next = 2;
                                    break
                                }
                                return e.abrupt("return");
                            case 2:
                                if (this.subtitleData.filtrate(this.ups),
                                this.mediaData.id = this.ups.videoData.id,
                                this.mediaData.exclusive = !(!this.ups.showData || !this.ups.showData.exclusive),
                                this.mediaData.title || (this.mediaData.title = this.ups.videoData.title),
                                this.mediaData.poster || (this.mediaData.poster = this.ups.videoData.logo),
                                !this.ups.errorData) {
                                    e.next = 9;
                                    break
                                }
                                return e.abrupt("return");
                            case 9:
                                this.programData && this.programData.resetNextVideo(this.mediaData.id),
                                n = "mp4" === this._config.supportType || t ? k.MSESTREAM : [],
                                this.mediaData.qualityLanguageMap = this.ups.getLanguageData(n),
                                !this.initConfig.language && (0,
                                D.getPreferSetting)(this.ups.attachId) && (this.mediaData.language = (0,
                                D.getPreferSetting)(this.ups.attachId)),
                                !this.mediaData.language && this.ups.networkData.language && (this.mediaData.language = this.ups.networkData.language),
                                this.mediaData.language || (this.mediaData.language = this.mediaData.qualityLanguageMap[0].langCode),
                                i = this.ups.getStreamByQuality(this.mediaData.language, this.mediaData.quality, 1),
                                i.audio_lang !== this.mediaData.language && (this.mediaData.language = i.audio_lang),
                                this.mediaData.quality !== k.STREAM_TYPE_MAP[i.stream_type] && (this.mediaData.quality = k.STREAM_TYPE_MAP[i.stream_type]),
                                this.ups.dvdinfo && (this._config.headPosition = Math.round(this.ups.dvdinfo.headPostion / 1e3) || -1,
                                this._config.tailPosition = Math.round(this.ups.dvdinfo.tailPostion / 1e3) || -1),
                                this._config.duration = i ? i.milliseconds_video / 1e3 : this.ups.videoData.seconds,
                                this._config.seekRate = this.initSeekRate(this._config.duration),
                                i && (this.setWidthAndHeigth(i.width, i.height),
                                !1 !== this._config.hasWatermark && (r = i.stream_ext && i.stream_ext.hls_logo ? i.stream_ext.hls_logo : i.logo,
                                this._config.hasWatermark = "none" === r),
                                this._config.watermark = ""),
                                this.ups.trialData && this.ups.trialData.time > 0 && (this._config.isShowRelatedVideo = !1),
                                this.service.playlog && (this._config.playRecord = this.getCurrectTime(this.service.playlog.data),
                                (Math.abs(this._config.playRecord - this._config.duration) < 15 || this._config.playRecord < 10) && (this._config.playRecord = 0));
                            case 24:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "setWidthAndHeigth",
            value: function(e, t) {
                this.mediaData.originWidth = e,
                this.mediaData.originHeight = t,
                this.config.width / this.config.height > e / t ? (e = parseInt(e / t * this.config.height),
                t = this.config.height) : (t = this.config.width / (e / t),
                e = this.config.width),
                this.config = {
                    screenHeight: t,
                    screenWidth: e,
                    isBlockNote: !0
                }
            }
        }, {
            key: "getStartTime",
            value: function() {
                var e = "none"
                  , t = 0;
                this.initConfig.firsttime && this.initConfig.firsttime > 0 ? (this.config.playRecord = t = this.getCurrectTime(parseInt(this.initConfig.firsttime)),
                e = "playlog") : (this.config.skip || this.config.openPlaylog ? this.config.skip && !this.config.openPlaylog ? e = "skip" : !this.config.skip && this.config.openPlaylog ? this.config.duration > 600 && !this.ups.trialData && (e = "playlog") : e = this.config.playRecord < this.config.headPosition ? "skip" : "playlog" : e = "none",
                "playlog" === e && (t = this.config.playRecord),
                "skip" === e && (t = this.config.headPosition)),
                t < 0 && (e = "none",
                t = 0),
                t > this.config.duration && (t = this.config.duration - 10);
                var n = this.getAccTime(t);
                return (0,
                D.printLog)("获取开始时间 类型：" + e + " , 开始时间： " + t),
                this.tempdata.headPosition = this.config.headPosition,
                this.tempdata.startdata = {
                    type: e,
                    time: t,
                    accTime: n
                },
                {
                    type: e,
                    time: t,
                    accTime: n
                }
            }
        }, {
            key: "resetConfig",
            value: function(e) {
                e && this.init(e),
                this.initConfig.firsttime && delete this.initConfig.firsttime,
                this.mediaData && this.mediaData.reset(this.initConfig),
                this.programData && this.programData.resetNextVideo(this.mediaData.mediaId)
            }
        }, {
            key: "resetTryCount",
            value: function() {
                this.cycleData.tryCount = P
            }
        }, {
            key: "initSeekRate",
            value: function(e) {
                if (this.initConfig.seekRate)
                    return this.initConfig.seekRate;
                this.playerConfig.step.step1;
                return e <= 60 ? parseInt(this.playerConfig.step.step1) : e > 60 && e < 180 ? parseInt(this.playerConfig.step.step2) : parseInt(this.playerConfig.step.step3, 10)
            }
        }, {
            key: "reset",
            value: function() {
                this.deal(),
                this._playerState.state === g.default.RESETING ? (this.cycleData = {
                    hadSkipHead: !1,
                    hadSkipTail: !1,
                    tailTip: !1,
                    hadStartPlay: !1,
                    tryCount: P,
                    isFront: !1,
                    seekTime: 0,
                    isUserPause: !1
                },
                this.errorInfo = {
                    hlsError: !1,
                    timer: null,
                    hlsErrorCount: 0,
                    isError: !1
                },
                this.scale = 1,
                this.currentTime = 0,
                this.bufferTime = 0,
                this.firstPlay = !0,
                this.emitter.emit(v.MessageConfig["global.reset"])) : this.emitter.emit(v.MessageConfig["global.reload"])
            }
        }, {
            key: "replay",
            value: function() {
                this.cycleData.hadSkipHead = !1,
                this.cycleData.hadSkipTail = !1,
                this.cycleData.tailTip = !1,
                this.currentTime = 0
            }
        }, {
            key: "changeProcessState",
            value: function(e) {
                this.processState = e
            }
        }, {
            key: "getProcessState",
            value: function() {
                return this.processState
            }
        }, {
            key: "on",
            value: function(e, t) {
                this.emitter.addListener(e, t)
            }
        }, {
            key: "emit",
            value: function(e) {
                for (var t, n = arguments.length, i = Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)
                    i[r - 1] = arguments[r];
                (t = this.emitter).emit.apply(t, [e].concat(i))
            }
        }, {
            key: "off",
            value: function(e, t) {
                this.emitter.removeListener(e, t)
            }
        }, {
            key: "getFirstPlayInfo",
            value: function() {
                if (this.ups && this.ups.videoData) {
                    var e = {}
                      , t = this.ups.videoData;
                    return e.next = this._config.continuePlay,
                    e.vid = t.id,
                    e.vidEncoded = t.encodeid,
                    e.loop = this._config.loop,
                    e.isFullScreen = this._playerState.fullscreen || this._playerState.webFullscreen,
                    e.isInnerPlay = this.initConfig.isInnerPlay,
                    e.Fid = this.initConfig.Fid,
                    e.Ob = this.initConfig.Ob,
                    e.Pt = parseInt(this.initConfig.Pt),
                    e
                }
            }
        }, {
            key: "getNextInfo",
            value: function() {
                var e = this.programData.nextVideo;
                if (e) {
                    var t = {};
                    return t.vid = e && e.vid,
                    t.vidEncoded = e && e.encodevid,
                    t.isFullScreen = this._playerState.fullscreen || this._playerState.webFullscreen,
                    t.isInnerPlay = this.initConfig.isInnerPlay,
                    t.loop = this._config.loop,
                    t.showId = e && e.showId,
                    t.Fid = this.initConfig.Fid,
                    t.Ob = this.initConfig.Ob,
                    t.Pt = parseInt(this.initConfig.Pt) + 1,
                    t
                }
            }
        }, {
            key: "getCurrentPlayerData",
            value: function() {
                var e = {
                    time: this.currentTime,
                    load: this.bufferTime,
                    allTime: this.config.duration,
                    bytesLoaded: "",
                    bytesTotal: "",
                    quality: this.mediaData.quality,
                    vid: this.ups.videoData.id,
                    vidEncoded: this.ups.videoData.encodeid
                }
                  , t = this.ups.getStreamByQuality(this.mediaData.language, this.mediaData.quality, 1).size;
                return e.bytesLoaded = t / this._config.duration * this.bufferTime,
                e.bytesTotal = t,
                e
            }
        }, {
            key: "getAdPoints",
            value: function() {
                if (!this.ups || !this.ups.dvdinfo || !this.ups.dvdinfo.insertPoints)
                    return null;
                for (var e = void 0 !== this.initConfig.adext && "" !== this.initConfig.adext && null !== this.initConfig.adext, t = this.ups.dvdinfo.insertPoints, n = [], i = 0, r = t.length; i < r; i++)
                    if ("story" === t[i].ctype || e && "standard" === t[i].ctype) {
                        var a = {};
                        a.time = parseInt(t[i].start) / 1e3,
                        a.tips = t[i].title || "standard",
                        "standard" === t[i].ctype && (a.color = "#ff9800"),
                        n.push(a)
                    }
                return n
            }
        }, {
            key: "getPoints",
            value: function() {
                var e = this.getAdPoints()
                  , t = [];
                if (e && e.length > 0)
                    for (var n = 0, i = e.length; n < i; n++) {
                        for (var r = e[n], a = 0, o = this.dots.length; a < o; a++)
                            r.time >= this.dots[a].start && (r.time = r.time - this.dots[a].seconds);
                        t.push(r)
                    }
                return t
            }
        }, {
            key: "setCurrentTime",
            value: function(e) {
                this.currentTime = e,
                this.actCurrentTime = this.getAccTime(e)
            }
        }, {
            key: "getAccTime",
            value: function(e) {
                var t = e;
                if (this.dots && this.dots.length > 0) {
                    var n = this.dots.length;
                    if (n > 0)
                        if (e < this.dots[0].start)
                            t = e;
                        else if (e > this.dots[n - 1].end) {
                            var i = this.dots[n - 1];
                            t = e - i.accTime - i.seconds
                        } else
                            for (var r = 0; r < n - 1; r++) {
                                if (e >= this.dots[r].start && e <= this.dots[r].end) {
                                    t = e - (e - this.dots[r].start) - this.dots[r].accTime;
                                    break
                                }
                                if (e > this.dots[r].end && e < this.dots[r + 1].start) {
                                    t = e - this.dots[r].accTime - this.dots[r].seconds;
                                    break
                                }
                            }
                }
                return t
            }
        }, {
            key: "getCurrectTime",
            value: function(e) {
                if (!this.dots || this.dots.length < 0)
                    return e;
                if (e)
                    for (var t = 0, n = this.dots.length; t < n; t++)
                        e > this.dots[t].start && (e += this.dots[t].seconds);
                return e
            }
        }, {
            key: "setBufferTime",
            value: function(e) {
                this.bufferTime = e
            }
        }, {
            key: "setWaitingType",
            value: function(e) {
                var t = this;
                this.waitingInfo.timer && (window.clearTimeout(this.waitingInfo.timer),
                this.waitingInfo.timer = null),
                this.waitingInfo.waitingType = e,
                this.waitingInfo.timer = window.setTimeout(function() {
                    "seek" !== t.waitingInfo.waitingType && "changesource" !== t.waitingInfo.waitingType || (t.waitingInfo.state = "timeout"),
                    t.waitingInfo.waitingType = "play",
                    window.clearTimeout(t.waitingInfo.timer),
                    t.waitingInfo.timer = null
                }, 6e3)
            }
        }, {
            key: "getWaitingType",
            value: function() {
                return this.waitingInfo.waitingType
            }
        }, {
            key: "setDots",
            value: function(e) {
                this.dots = e,
                this.dots.length > 0 && this.service.playlog && (this._config.playRecord = this.getCurrectTime(this.service.playlog.data),
                (Math.abs(this._config.playRecord - this._config.duration) < 15 || this._config.playRecord < 10) && (this._config.playRecord = 0))
            }
        }, {
            key: "getPreViewData",
            value: function() {
                var e = {}
                  , t = this.ups.previewData;
                return t && t.thumb && t.thumb.map(function(e, n) {
                    return e = e.replace("http://", "//"),
                    t[n] = e,
                    e
                }),
                t ? (this.dots.length > 0 ? e.dot = this.dots : e.dot = [],
                e.preview = t) : (t = {
                    thumb: []
                },
                e.preview = t),
                e.highlights = this.getPoints(),
                e.duration = this._config.duration,
                e.title = this.mediaData.title,
                e
            }
        }, {
            key: "setPlayList",
            value: function(e) {
                e && (e.list && (this.programData.programList = e.list),
                e.next ? this.programData.nextVideo = e.next : this.programData.resetNextVideo(this.mediaData.id))
            }
        }, {
            key: "changeDammu",
            value: function(e) {
                this._config.danmu = e,
                window.cDms = e
            }
        }]),
        e
    }();
    t.default = R
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(146)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i)
      , a = n(33)
      , o = {
        pageUrl: location.href
    }
      , s = new r.default("//m.taobao.com");
    o.domain = s.host,
    o.protocol = s.protocol,
    o.refer = document.referrer,
    o.Browser = a.Browser,
    o.screen = {
        width: "",
        height: ""
    },
    window.HttpURL = r.default,
    t.default = o
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        encode64: function(e) {
            if (!e)
                return "";
            e = e.toString();
            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
              , n = void 0
              , i = void 0
              , r = void 0
              , a = void 0
              , o = void 0
              , s = e.length;
            for (i = 0,
            n = ""; i < s; ) {
                if (r = 255 & e.charCodeAt(i++),
                i === s) {
                    n += t.charAt(r >> 2),
                    n += t.charAt((3 & r) << 4),
                    n += "==";
                    break
                }
                if (a = e.charCodeAt(i++),
                i === s) {
                    n += t.charAt(r >> 2),
                    n += t.charAt((3 & r) << 4 | (240 & a) >> 4),
                    n += t.charAt((15 & a) << 2),
                    n += "=";
                    break
                }
                o = e.charCodeAt(i++),
                n += t.charAt(r >> 2),
                n += t.charAt((3 & r) << 4 | (240 & a) >> 4),
                n += t.charAt((15 & a) << 2 | (192 & o) >> 6),
                n += t.charAt(63 & o)
            }
            return n
        },
        decode64: function(e) {
            if (!e)
                return "";
            e = e.toString();
            var t = void 0
              , n = void 0
              , i = void 0
              , r = void 0
              , a = void 0
              , o = void 0
              , s = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1]
              , l = e.length;
            for (a = 0,
            o = ""; a < l; ) {
                do {
                    t = s[255 & e.charCodeAt(a++)]
                } while (a < l && -1 === t);
                if (-1 === t)
                    break;
                do {
                    n = s[255 & e.charCodeAt(a++)]
                } while (a < l && -1 === n);
                if (-1 === n)
                    break;
                o += String.fromCharCode(t << 2 | (48 & n) >> 4);
                do {
                    if (61 === (i = 255 & e.charCodeAt(a++)))
                        return o;
                    i = s[i]
                } while (a < l && -1 === i);
                if (-1 === i)
                    break;
                o += String.fromCharCode((15 & n) << 4 | (60 & i) >> 2);
                do {
                    if (61 === (r = 255 & e.charCodeAt(a++)))
                        return o;
                    r = s[r]
                } while (a < l && -1 === r);
                if (-1 === r)
                    break;
                o += String.fromCharCode((3 & i) << 6 | r)
            }
            return o
        }
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (e.url) {
            var t = e.data || {}
              , n = (0,
            o.formatParams)(t)
              , i = e.url;
            i += (-1 === i.indexOf("?") ? "?" : "&") + n,
            document.domain = "youku.com";
            fetch(i, {
                credentials: "include"
            }).then(function(t) {
                return t.ok && t.status >= 200 && t.status < 300 ? t.json() : void (e.fail && e.fail({
                    code: t.status,
                    message: "error",
                    url: i
                }))
            }).catch(function(t) {
                e.fail && e.fail({
                    code: "408",
                    message: t.message,
                    url: i
                })
            }).then(function(t) {
                t && e.success && e.success(t)
            })
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.FetchLoader = i,
    n(341);
    var r = n(330)
      , a = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(r)
      , o = n(44);
    window.Promise || (window.Promise = a.default)
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.Iku = void 0;
    var i = n(71)
      , r = function(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }(i);
    t.Iku = {
        httpGet: function(e) {
            var t = void 0;
            try {
                t = window.XDomainRequest ? new XDomainRequest : new XMLHttpRequest,
                t.open("GET", e, !1)
            } catch (n) {
                try {
                    t = new window.ActiveXObject("Msxml2.XMLHTTP"),
                    t.open("GET", e, !1)
                } catch (n) {
                    try {
                        t = new window.ActiveXObject("Microsoft.XMLHTTP"),
                        t.open("GET", e, !1)
                    } catch (e) {
                        return ""
                    }
                }
            }
            try {
                return t.send(null),
                t.responseText
            } catch (e) {
                return console.log(e),
                ""
            }
        },
        ikuNewExecute: function(e, t) {
            e += t,
            e += "|";
            var n = "ok"
              , i = (new Date).getTime()
              , r = this.httpGet("http://127.0.0.1:61078/check_iku");
            if ("iku" === r) {
                var a = "http://127.0.0.1:61078/?command=" + e + "|" + i;
                n = this.httpGet(a)
            } else if ("iku" === (r = this.httpGet("http://127.0.0.1:61079/check_iku"))) {
                var o = "http://127.0.0.1:61079/?command=" + e + "|" + i;
                n = this.httpGet(o)
            } else
                n = "//pcapp-update.youku.com/channelinstall/",
                t ? n += t : n = "";
            return n
        },
        ikuExecuteFrompc: function(e) {
            var t = this
              , n = !0
              , i = e.callback ? e.callback : "";
            return e.action && e.sid ? (setTimeout(function() {
                var n = 0
                  , a = e.secne ? e.secne : ""
                  , o = ""
                  , s = r.default.cookie("ykss") ? r.default.cookie("ykss") : ""
                  , l = e.sid
                  , u = "//v.youku.com/v_show/id_" + l + ".html";
                switch (e.action) {
                case "video":
                    o = "iku://|video|" + u + "|quality=mp4|ykss=" + s;
                    break;
                case "show":
                    o = "iku://|vshow|download|" + l + "|quality=mp4|ykss=" + s;
                    break;
                case "play":
                    o = "iku://|play|web|videoid|playerror|" + l + "|ykss=" + s;
                    break;
                case "adddesktop":
                    o = "iku://|vshow|shortcut|" + l + "|quality=mp4|ykss=" + s
                }
                var d = t.ikuNewExecute(o, a);
                return "ok" !== d ? function(e) {
                    n = -1;
                    var t = "//pcapp-update.youku.com/pc/index?tp=v&ori=ykplay&id=" + l;
                    t += "&q=mp4";
                    var i = "";
                    i = void 0 === e || !1 === e || "" === e || -1 === e.indexOf("//pcapp-update.youku.com") ? t : e;
                    var r = document.createElement("iframe");
                    r.width = 0,
                    r.height = 0,
                    r.src = i,
                    document.body.appendChild(r),
                    setTimeout(function() {
                        document.body.removeChild(r)
                    }, 1e4)
                }(d) : function() {
                    n = 1
                }(),
                "function" != typeof i ? n : (i(n),
                null)
            }, 200),
            null) : (n = !1,
            "function" == typeof i && i(n),
            n)
        }
    }
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        MRG32k3a: function() {
            var e = this;
            return function(t) {
                var n = 4294967087
                  , i = 4294944443
                  , r = 12345
                  , a = 12345
                  , o = 123
                  , s = 12345
                  , l = 12345
                  , u = 123;
                0 === t.length && (t = [+new Date]);
                for (var d = e.Mash(), c = 0; c < t.length; c++)
                    r += 4294967296 * d(t[c]),
                    a += 4294967296 * d(t[c]),
                    o += 4294967296 * d(t[c]),
                    s += 4294967296 * d(t[c]),
                    l += 4294967296 * d(t[c]),
                    u += 4294967296 * d(t[c]);
                r %= n,
                a %= n,
                o %= n,
                s %= i,
                l %= i,
                u %= i,
                d = null;
                var h = function() {
                    var e = 4294967087
                      , t = 4294944443
                      , n = void 0
                      , i = void 0
                      , d = void 0;
                    return i = 1403580 * a - 810728 * r,
                    n = i / e | 0,
                    i -= n * e,
                    i < 0 && (i += e),
                    r = a,
                    a = o,
                    o = i,
                    d = 527612 * u - 1370589 * s,
                    n = d / t | 0,
                    d -= n * t,
                    d < 0 && (d += t),
                    s = l,
                    l = u,
                    u = d,
                    i <= d ? i - d + e : i - d
                }
                  , p = function() {
                    return 2.3283064365386963e-10 * h()
                };
                return p.uint32 = h,
                p.fract53 = function() {
                    return p() + 1.1102230246251565e-16 * (2097151 & h())
                }
                ,
                p.version = "MRG32k3a 0.9",
                p.args = t,
                p
            }(Array.prototype.slice.call(arguments))
        },
        rand: function(e, t) {
            t = void 0 === t ? "" : t;
            var n = this.MRG32k3a(e || 0, location.href, Date.now());
            return t + (+new Date).toString(32) + parseInt(1e5 * n()).toString(32)
        },
        randomString: function(e) {
            var t = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
            e = e || 3,
            e = isNaN(e) ? 3 : e;
            for (var n = t.length, i = ""; e >= 0; )
                i += t[Math.floor(Math.random() * n)],
                e--;
            return i
        },
        Mash: function() {
            var e = 4022871197
              , t = function(t) {
                t = t.toString();
                for (var n = 0; n < t.length; n++) {
                    e += t.charCodeAt(n);
                    var i = .02519603282416938 * e;
                    e = i >>> 0,
                    i -= e,
                    i *= e,
                    e = i >>> 0,
                    i -= e,
                    e += 4294967296 * i
                }
                return 2.3283064365386963e-10 * (e >>> 0)
            };
            return t.version = "Mash 0.9",
            t
        },
        S: function(e) {
            function t(e, t) {
                return e << t | e >>> 32 - t
            }
            function n(e) {
                var t = ""
                  , n = void 0
                  , i = void 0;
                for (n = 7; n >= 0; n--)
                    i = e >>> 4 * n & 15,
                    t += i.toString(16);
                return t
            }
            var i = void 0
              , r = void 0
              , a = void 0
              , o = new Array(80)
              , s = 1732584193
              , l = 4023233417
              , u = 2562383102
              , d = 271733878
              , c = 3285377520
              , h = void 0
              , p = void 0
              , f = void 0
              , m = void 0
              , y = void 0
              , g = void 0;
            e = function(e) {
                e = e.replace(/\r\n/g, "\n");
                for (var t = "", n = 0; n < e.length; n++) {
                    var i = e.charCodeAt(n);
                    i < 128 ? t += String.fromCharCode(i) : i > 127 && i < 2048 ? (t += String.fromCharCode(i >> 6 | 192),
                    t += String.fromCharCode(63 & i | 128)) : (t += String.fromCharCode(i >> 12 | 224),
                    t += String.fromCharCode(i >> 6 & 63 | 128),
                    t += String.fromCharCode(63 & i | 128))
                }
                return t
            }(e);
            var v = e.length
              , _ = [];
            for (r = 0; r < v - 3; r += 4)
                a = e.charCodeAt(r) << 24 | e.charCodeAt(r + 1) << 16 | e.charCodeAt(r + 2) << 8 | e.charCodeAt(r + 3),
                _.push(a);
            switch (v % 4) {
            case 0:
                r = 2147483648;
                break;
            case 1:
                r = e.charCodeAt(v - 1) << 24 | 8388608;
                break;
            case 2:
                r = e.charCodeAt(v - 2) << 24 | e.charCodeAt(v - 1) << 16 | 32768;
                break;
            case 3:
                r = e.charCodeAt(v - 3) << 24 | e.charCodeAt(v - 2) << 16 | e.charCodeAt(v - 1) << 8 | 128
            }
            for (_.push(r); _.length % 16 != 14; )
                _.push(0);
            for (_.push(v >>> 29),
            _.push(v << 3 & 4294967295),
            i = 0; i < _.length; i += 16) {
                for (r = 0; r < 16; r++)
                    o[r] = _[i + r];
                for (r = 16; r <= 79; r++)
                    o[r] = t(o[r - 3] ^ o[r - 8] ^ o[r - 14] ^ o[r - 16], 1);
                for (h = s,
                p = l,
                f = u,
                m = d,
                y = c,
                r = 0; r <= 19; r++)
                    g = t(h, 5) + (p & f | ~p & m) + y + o[r] + 1518500249 & 4294967295,
                    y = m,
                    m = f,
                    f = t(p, 30),
                    p = h,
                    h = g;
                for (r = 20; r <= 39; r++)
                    g = t(h, 5) + (p ^ f ^ m) + y + o[r] + 1859775393 & 4294967295,
                    y = m,
                    m = f,
                    f = t(p, 30),
                    p = h,
                    h = g;
                for (r = 40; r <= 59; r++)
                    g = t(h, 5) + (p & f | p & m | f & m) + y + o[r] + 2400959708 & 4294967295,
                    y = m,
                    m = f,
                    f = t(p, 30),
                    p = h,
                    h = g;
                for (r = 60; r <= 79; r++)
                    g = t(h, 5) + (p ^ f ^ m) + y + o[r] + 3395469782 & 4294967295,
                    y = m,
                    m = f,
                    f = t(p, 30),
                    p = h,
                    h = g;
                s = s + h & 4294967295,
                l = l + p & 4294967295,
                u = u + f & 4294967295,
                d = d + m & 4294967295,
                c = c + y & 4294967295
            }
            return g = n(s) + n(l) + n(u) + n(d) + n(c),
            g.toLowerCase()
        }
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(65)
      , m = function(e) {
        function t(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0
              , i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            (0,
            s.default)(this, t);
            var r = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this));
            return r.listeners = {},
            r.milliseconds = 0,
            r.interval = e,
            r.repeat = r.repeatTracker = n,
            r.useTimeout = i,
            r.timeoutDelay = Math.round(e / 20),
            r.timer,
            r
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "getCurrentCount",
            value: function() {
                return this.repeat - this.repeatTracker
            }
        }, {
            key: "getInterval",
            value: function() {
                return this.interval
            }
        }, {
            key: "getMilliseconds",
            value: function() {
                return this.milliseconds
            }
        }, {
            key: "getRepeatCount",
            value: function() {
                return this.repeat
            }
        }, {
            key: "getRunning",
            value: function() {
                return void 0 !== this.timer
            }
        }, {
            key: "addEventListener",
            value: function(e, t) {
                this.addListener(e, t)
            }
        }, {
            key: "requestFrame",
            value: function(e) {
                this.useTimeout ? this.timeoutId = setTimeout(e, this.timeoutDelay) : window.requestAnimationFrame(e)
            }
        }, {
            key: "animationFrame",
            value: function() {
                var e = this;
                if (void 0 !== this.timer)
                    if (this.repeatTracker > 0) {
                        var t = (new Date).getTime() - this.timer;
                        t >= this.interval && (this.milliseconds += this.interval,
                        this.timer = (new Date).getTime() - (t - this.interval),
                        this.repeatTracker--,
                        this.update()),
                        this.requestFrame(function() {
                            e.animationFrame()
                        })
                    } else
                        this.complete()
            }
        }, {
            key: "complete",
            value: function() {
                this.pause(),
                this.emit(t.TIMER_COMPLETE, {
                    timer: this,
                    timeRemaining: this.repeatTracker
                })
            }
        }, {
            key: "pause",
            value: function() {
                this.useTimeout && clearTimeout(this.timeoutId),
                this.timer = void 0
            }
        }, {
            key: "reset",
            value: function() {
                this.milliseconds = 0,
                this.repeatTracker = this.repeat,
                this.emit(t.TIMER_RESET, {
                    timer: this,
                    timeRemaining: this.repeatTracker,
                    running: this.getRunning()
                })
            }
        }, {
            key: "removeEventListener",
            value: function(e, t) {
                this.removeListener(e, t)
            }
        }, {
            key: "start",
            value: function() {
                var e = this;
                void 0 === this.timer && (this.timer = (new Date).getTime(),
                this.requestFrame(function() {
                    e.animationFrame()
                }))
            }
        }, {
            key: "update",
            value: function() {
                this.emit(t.TIMER, {
                    timer: this,
                    timeRemaining: this.repeatTracker
                })
            }
        }]),
        t
    }(f.EventEmitter);
    m.TIMER = "timer",
    m.TIMER_COMPLETE = "timer-complete",
    m.TIMER_RESET = "timer-reset",
    t.default = m
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = n(6)
      , r = "VIDEO_CORE_AB"
      , a = {
        uaList: [{
            name: "chrome",
            version: "*",
            core: "hls"
        }],
        exchangeTime: 1728e5,
        cancelAB: !1
    }
      , o = (0,
    i.getUaVersion)()
      , s = o.appname
      , l = o.version
      , u = {
        init: function(e, t, n) {
            if (this.config = t || a,
            this.canHls = n,
            this.config.cancelAB || !this.canHls)
                return e;
            var o = (0,
            i.getLocalData)(r);
            return e = "hls",
            o ? this.isNeedChange(o) ? e = this.exchangeType(o.type) : e : (this.initLocalData(),
            e)
        },
        isNeedChange: function(e) {
            return (new Date).getTime() - e.startTime > a.exchangeTime
        },
        exchangeType: function(e) {
            return this.initLocalData(e),
            e
        },
        checkVersionList: function(e) {
            var t = "mp4";
            return Array.isArray(this.config.uaList) && this.config.uaList.forEach(function(n) {
                n.name === e && (t = n.core)
            }),
            t
        },
        initLocalData: function(e) {
            var t = {
                type: e,
                startTime: (new Date).getTime(),
                appname: s,
                version: l
            };
            (0,
            i.setLocalData)(r, t)
        },
        checkABWork: function() {
            return (0,
            i.getLocalData)(r)
        }
    };
    t.default = u
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            t && t.xhrSetup && (this.xhrSetup = t.xhrSetup)
        }
        return (0,
        s.default)(e, [{
            key: "destroy",
            value: function() {
                this.abort(),
                this.loader = null
            }
        }, {
            key: "abort",
            value: function() {
                var e = this.loader;
                e && 4 !== e.readyState && (this.stats.aborted = !0,
                e.abort()),
                window.clearTimeout(this.requestTimeout),
                this.requestTimeout = null,
                window.clearTimeout(this.retryTimeout),
                this.retryTimeout = null
            }
        }, {
            key: "load",
            value: function(e, t, n) {
                this.context = e,
                this.config = t,
                this.callbacks = n,
                this.stats = {
                    trequest: performance.now(),
                    retry: 0
                },
                this.retryDelay = t.retryDelay,
                this.loadInternal()
            }
        }, {
            key: "loadInternal",
            value: function() {
                var e = this.context
                  , t = void 0;
                t = "undefined" != typeof XDomainRequest ? this.loader = new XDomainRequest : this.loader = new XMLHttpRequest;
                var n = this.stats;
                n.tfirst = 0,
                n.loaded = 0;
                var i = this.xhrSetup;
                try {
                    if (i)
                        try {
                            i(t, e.url)
                        } catch (n) {
                            t.open("GET", e.url, !0),
                            i(t, e.url)
                        }
                    t.readyState || t.open("GET", e.url, !0)
                } catch (n) {
                    return void this.callbacks.onError({
                        code: t.status,
                        text: n.message
                    }, e, t)
                }
                e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)),
                t.onreadystatechange = this.readystatechange.bind(this),
                t.onprogress = this.loadprogress.bind(this),
                t.responseType = e.responseType,
                this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), this.config.timeout),
                t.send()
            }
        }, {
            key: "readystatechange",
            value: function(e) {
                var t = e.currentTarget
                  , n = t.readyState
                  , i = this.stats
                  , r = this.context
                  , a = this.config;
                if (!i.aborted && n >= 2)
                    if (window.clearTimeout(this.requestTimeout),
                    0 === i.tfirst && (i.tfirst = Math.max(performance.now(), i.trequest)),
                    4 === n) {
                        var o = t.status;
                        if (o >= 200 && o < 300) {
                            i.tload = Math.max(i.tfirst, performance.now());
                            var s = void 0
                              , l = void 0;
                            "arraybuffer" === r.responseType ? (s = t.response,
                            l = s.byteLength) : (s = t.responseText,
                            l = s.length),
                            i.loaded = i.total = l;
                            var u = {
                                url: t.responseURL,
                                data: s
                            };
                            this.callbacks.onSuccess(u, i, r, t)
                        } else
                            i.retry >= a.maxRetry || o >= 400 && o < 499 ? this.callbacks.onError({
                                code: o,
                                text: t.statusText
                            }, r, t) : (this.destroy(),
                            this.retryTimeout = window.setTimeout(this.loadInternal.bind(this), this.retryDelay),
                            this.retryDelay = Math.min(2 * this.retryDelay, a.maxRetryDelay),
                            i.retry++)
                    } else
                        this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), a.timeout)
            }
        }, {
            key: "loadtimeout",
            value: function() {
                this.callbacks.onTimeout(this.stats, this.context, null)
            }
        }, {
            key: "loadprogress",
            value: function(e) {
                var t = e.currentTarget
                  , n = this.stats;
                n.loaded = e.loaded,
                e.lengthComputable && (n.total = e.total);
                var i = this.callbacks.onProgress;
                i && i(n, this.context, null, t)
            }
        }]),
        e
    }();
    t.default = l
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(59)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(11)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(58)
      , _ = i(v)
      , b = n(199)
      , k = i(b)
      , S = n(198)
      , E = i(S)
      , w = n(192)
      , x = i(w)
      , T = n(193)
      , A = i(T)
      , L = n(189)
      , C = i(L)
      , D = n(194)
      , P = i(D)
      , R = n(196)
      , I = i(R)
      , M = n(197)
      , O = i(M)
      , N = n(190)
      , B = i(N)
      , F = n(195)
      , U = i(F)
      , j = n(14)
      , V = i(j)
      , H = n(19)
      , q = i(H)
      , z = n(8)
      , Y = i(z)
      , G = n(72)
      , K = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this));
            return n._global = e,
            n._initialize(),
            n._global && (n._global.on(G.ADEvents.ADPLUGIN_STATE_CHANGE, function(e) {
                switch (e.state) {
                case G.ADState.SERVICESTART:
                    n.onNetStatus({
                        level: q.default.STATUS,
                        code: V.default.AD_GET,
                        data: e
                    });
                    break;
                case G.ADState.SERVICEEND:
                    n.onNetStatus({
                        level: q.default.STATUS,
                        code: V.default.AD_RETURN,
                        data: e
                    });
                    break;
                case G.ADState.SERVICEERROR:
                    n.onNetStatus({
                        level: q.default.STATUS,
                        code: V.default.AD_SHOW_FAILED,
                        data: e
                    });
                    break;
                case G.ADState.PLAY:
                case G.ADState.PLAYING:
                    n.onNetStatus({
                        level: q.default.STATUS,
                        code: V.default.AD_SHOW_START,
                        data: e
                    });
                    break;
                case G.ADState.END:
                    n.onNetStatus({
                        level: q.default.STATUS,
                        code: V.default.AD_SHOW_COMPLETE,
                        data: e
                    })
                }
            }),
            n._global.on("timeupdate", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_IS_PLAYING
                })
            }),
            n._global.on("playing", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_BEGIN_PLAYING
                })
            }),
            n._global.on("pause", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_IS_PAUSED
                })
            }),
            n._global.on("play", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_REAL_START
                })
            }),
            n._global.on("waiting", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_BUFFER_EMPTY
                })
            }),
            n._global.on("replay", function() {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.REPLAY
                })
            }),
            n._global.on("seek", function() {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.SEEK
                })
            }),
            n._global.on("ended", function() {
                n.onNetStatus({
                    level: q.default.STATUS,
                    code: V.default.PLAYER_PLAY_END
                })
            }),
            n._global.on("global.reset", function() {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.RESTART
                })
            }),
            n._global.on("global.reload", function() {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.RELOAD
                })
            }),
            n._global.on(Y.default.SEND_EVENT_LOG, function(e) {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.SEND_EVENT_LOG,
                    data: e
                })
            }),
            n._global.on(Y.default.SEND_SUBTITLE_LOG, function(e) {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.SEND_SUBTITLE_LOG,
                    data: e
                })
            }),
            n._global.on(Y.default.SEND_BUSINESS_LOG, function(e) {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.SEND_BUSINESS_LOG,
                    data: e
                })
            }),
            n._global.on(Y.default.SEND_AD_LOG, function(e) {
                n.onNetStatus({
                    level: q.default.COMMAND,
                    code: Y.default.SEND_AD_LOG,
                    data: e
                })
            })),
            n
        }
        return (0,
        g.default)(t, e),
        (0,
        c.default)(t, [{
            key: "put",
            value: function(e) {
                e && this._loggers.set(e.id, e)
            }
        }, {
            key: "remove",
            value: function(e) {
                e && this._loggers.has(e.id) && this._loggers.delete(e.id)
            }
        }, {
            key: "onNetStatus",
            value: function(e) {
                var t = this;
                this._loggers.forEach(function(n) {
                    "function" == typeof n.onNetStatus ? n.onNetStatus(e) : t._loggers.delete(n.id)
                })
            }
        }, {
            key: "_initialize",
            value: function() {
                this._loggers = new a.default
            }
        }, {
            key: "init",
            value: function(e) {
                this.put(new k.default(e)),
                this.put(new E.default(e)),
                this.put(new x.default(e)),
                this.put(new A.default(e)),
                this.put(new I.default(e)),
                this.put(new P.default(e)),
                this.put(new B.default(e)),
                this.put(new O.default(e)),
                this.put(new C.default(e)),
                this.put(new U.default(e))
            }
        }, {
            key: "destory",
            value: function() {
                (0,
                m.default)(t.prototype.__proto__ || (0,
                s.default)(t.prototype), "destroy", this).call(this),
                this._loggers.clear()
            }
        }]),
        t
    }(_.default);
    t.default = K
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(28)
      , g = i(y)
      , v = n(14)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = n(17)
      , E = i(S)
      , w = n(12)
      , x = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.id = "adlogger",
            n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.ad.exp",
            n._reset(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (e.code !== _.default.PLAYER_IS_PLAYING) {
                    if (e.code === k.default.RESTART || e.code === k.default.RELOAD)
                        return void this._reset();
                    if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id)
                        return void this._resetParams();
                    if (this._data = {},
                    e.code === k.default.SEND_AD_LOG) {
                        var t = !1
                          , n = "";
                        if (e.data && e.data.length > 0)
                            for (var i = 0, r = e.data.length; i < r; i++)
                                e.data[i].U && e.data[i].U.indexOf("miaozhen.com") > -1 && (n = e.data[i].U,
                                t = !0);
                        t && ((0,
                        a.default)(this._data, this._param),
                        this._data.exposure_url = encodeURIComponent(n),
                        this.report())
                    }
                }
            }
        }, {
            key: "report",
            value: function() {
                var e = {};
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._data,
                e.eventType = "EXP",
                E.default.sendGoldLog(e)
            }
        }, {
            key: "_reset",
            value: function() {
                this._param = {},
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.platform = w.PLAYERSYSTEM.Browser.platform,
                this._param.browser = w.PLAYERSYSTEM.Browser.name,
                this._param.device = "pc",
                this._param.exposure_sdk = 0,
                this._param.logtype = 1,
                this._param.browser_version = w.PLAYERSYSTEM.Browser.version,
                this._param.playersid = this._global.config.playersid,
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups && (this._playlistData = this._global.ups,
                this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid),
                this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id)))
            }
        }]),
        t
    }(g.default);
    t.default = x
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(28)
      , g = i(y)
      , v = n(14)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = n(17)
      , E = i(S)
      , w = n(12)
      , x = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.id = "businesslog",
            n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.fdl.ykplayer_exp",
            n._reset(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (this._enabled && e.code !== _.default.PLAYER_IS_PLAYING) {
                    if (e.code === k.default.RESTART || e.code === k.default.RELOAD)
                        return void this._reset();
                    if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id)
                        return void this._resetParams();
                    this._data = {},
                    e.code === k.default.SEND_BUSINESS_LOG && ((0,
                    a.default)(this._data, this._param, e.data),
                    this.report())
                }
            }
        }, {
            key: "report",
            value: function() {
                this._data.protocol = this.protocol;
                var e = {};
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._data,
                e.eventType = "EXP",
                e.code = "H1507354094",
                E.default.sendGoldLog(e)
            }
        }, {
            key: "_reset",
            value: function() {
                this._param = {},
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.platform = w.PLAYERSYSTEM.Browser.platform,
                this._param.browser = w.PLAYERSYSTEM.Browser.name,
                this._param.browser_version = w.PLAYERSYSTEM.Browser.version,
                this._param.playersid = this._global.config.playersid,
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups && (this._playlistData = this._global.ups,
                this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid),
                this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id)))
            }
        }]),
        t
    }(g.default);
    t.default = x
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        STARTPLAY: "xPs",
        PAUSE: "xPa",
        REPLAY: "Rp",
        PLAY: "xpl",
        PROGRESS_BAR_DRAG: "xDs",
        ORIENTATION_CHANGE: "xve",
        QUALITY_PANEL_SHOW: "xCq",
        QUALITY_PANEL_HIDE: "xHq",
        LANGUAGE_PANEL_SHOW: "xCl",
        LANGUAGE_PANEL_HIDE: "xhl",
        SET_QUALITY: "xsq",
        SET_LANGUAGE: "xsl",
        ENTER_FULLSCREEN: "xenfs",
        QUIT_FULLSCREEN: "exfs",
        ERROR: "xve",
        METHOD_CLICK: "c",
        METHOD_DRAG: "d",
        METHOD_AUTO: "s"
    };
    t.default = i
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(28)
      , m = i(f)
      , y = n(8)
      , g = i(y)
      , v = n(14)
      , _ = i(v)
      , b = n(19)
      , k = i(b)
      , S = n(191)
      , E = i(S)
      , w = n(17)
      , x = i(w)
      , T = n(181)
      , A = i(T)
      , L = n(23)
      , C = n(12)
      , D = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "eventlog",
            n._logName = "/yt/vp.event",
            "050F" === n._global.initConfig.ccode ? (n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/newtudou.web.event") : n._logHost = "//yt2.mmstat.com",
            n._reset(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (this.enabled && e.code !== _.default.PLAYER_IS_PLAYING) {
                    if (e.code === g.default.RESTART || e.code === g.default.RELOAD)
                        return void this._reset();
                    if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id)
                        return void this._resetParams();
                    if (e.level === k.default.COMMAND) {
                        switch (this._reportable = !0,
                        this._event = "",
                        this._ext = {},
                        this._eventMode = E.default.METHOD_CLICK,
                        e.data && e.data.url && (this._url = e.data.url),
                        e.code) {
                        case g.default.SEND_EVENT_LOG:
                            this._event = e.data.event,
                            this._eventMode = e.data.eventMode,
                            e.data.ext && (this._ext = e.data.ext)
                        }
                        this._reportable && "" !== this._event && this.report()
                    }
                }
            }
        }, {
            key: "_getBase64String",
            value: function(e) {
                if (!e)
                    return "";
                var t = "";
                for (var n in e)
                    t += n + "=" + e[n] + "&";
                return t = t.slice(0, -1),
                A.default.encode64(t)
            }
        }, {
            key: "report",
            value: function() {
                this._extraData.tc = Math.round(this._global.currentTime);
                for (var e in this._ext)
                    this._extraData[e] = this._ext[e];
                this._dimensionData.f = this.getFullValue();
                var t = ["f", "m", "h"]
                  , n = L.QUALITY[this._global.mediaData.quality] - 1;
                this._dimensionData.q = t[n] ? t[n] : "m",
                this._global.config.rate && (this._dimensionData.r = this._global.config.rate);
                var i = {};
                i.t = "1002",
                i.e = this._event,
                i.v = this._eventMode,
                i.d = this._getBase64String(this._dimensionData),
                i.x = this._getBase64String(this._extraData),
                this._playlistData.userData && (this._playlistData.userData.ytid ? i.pc_u = this._playlistData.userData.ytid : i.pc_u = this._playlistData.userData.uid),
                i.url = C.PLAYERSYSTEM.pageUrl,
                i.rurl = C.PLAYERSYSTEM.refer,
                i.protocol = this.protocol;
                var r = {};
                r.format = !1,
                r.domain = this._logHost,
                r.url = this._logName,
                r.params = i,
                r.eventType = "CLI",
                r.code = "",
                r.type = 1,
                x.default.sendGoldLog(r)
            }
        }, {
            key: "_reset",
            value: function() {
                this._extraData = {},
                this._extraData.v = this._global.version || "",
                this._extraData.ver = "1.0.0",
                this._dimensionData = {},
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData && (this._extraData.vid = this._playlistData.videoData.id,
                this._extraData.uid = this._playlistData.userData ? this._playlistData.userData.uid : 0,
                this._extraData.ssid = this._playlistData.upsData ? this._playlistData.upsData.psid : 0,
                this._extraData.sid = this._playlistData.showData ? this._playlistData.showData.id : 0,
                this._extraData.ct = this._playlistData.videoData ? this._playlistData.videoData.category_id : 0,
                this._extraData.cs = this._playlistData.videoData ? this._playlistData.videoData.cs : 0)
            }
        }]),
        t
    }(m.default);
    t.default = D
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(28)
      , g = i(y)
      , v = n(19)
      , _ = i(v)
      , b = n(14)
      , k = i(b)
      , S = n(8)
      , E = i(S)
      , w = n(17)
      , x = i(w)
      , T = n(12)
      , A = n(187)
      , L = i(A)
      , C = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.id = "errorlog",
            n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.fdl.error",
            n._fdlErrorlogName = "/yt/youkuplayer.fdl.ykcollina",
            n._reset(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (e.code !== k.default.PLAYER_IS_PLAYING) {
                    if (e.code === E.default.RESTART || e.code === E.default.RELOAD)
                        return void this._reset();
                    if (e.code === k.default.SERVICE_IS_DONE && "ups" === e.data.id)
                        return this._resetParams(),
                        void (this._startTime = (new Date).getTime());
                    if (this._enabled && e.level === _.default.ERROR) {
                        if (!e.data.errorCode)
                            return;
                        this._httpResponse = {},
                        this._param.track_view_code = e.data.trackViewCode ? e.data.trackViewCode : "H" + (1e3 * (new Date).getTime() + Math.floor(1e3 * Math.random())),
                        this._param.ups_url = e.data.upsUrl ? e.data.upsUrl : "",
                        this._param.cdn_url = e.data.cdnUrl ? e.data.cdnUrl : "",
                        this._param.m3u8_url = e.data.m3u8Url ? e.data.m3u8Url : "",
                        this._param.error_code = e.data.errorCode,
                        this._param.error_corex_code = e.data.corexCode,
                        this._param.error_type = e.data.errorCode.slice(0, 2),
                        this._param.error_position = this._global.currentTime ? Math.round(this._global.currentTime) : 0,
                        this._param.user_timestamp = Math.ceil((new Date).getTime() / 1e3),
                        this._param.support_type = this._global.config.supportType;
                        var t = (new Date).getTime();
                        if (this._param.staytime = t - this._startTime,
                        this._param.cookieEnabled = navigator.cookieEnabled,
                        navigator.cookieEnabled && "10101" === e.data.errorCode) {
                            var n = document.cookie.match(new RegExp("(?:\\s|^)cna\\=([^;]*)"));
                            this._param.ykcookie = n ? decodeURIComponent(n[1]) : null
                        }
                        this._param.cdn_url.indexOf(".mp4") > -1 && "36104" === this._param.error_code ? (this._httpResponse.networkState = e.data.networkState ? e.data.networkState : 0,
                        this._httpResponse.duration = e.data.duration ? e.data.duration : 0,
                        this._httpResponse.currentTime = e.data.currentTime ? e.data.currentTime : 0,
                        this._httpResponse.isPlaying = !!e.data.isPlaying && e.data.isPlaying,
                        this.loadXhr()) : this.report()
                    }
                }
            }
        }, {
            key: "loadXhr",
            value: function() {
                this._loader = new L.default;
                var e = {
                    url: this._param.cdn_url,
                    responseType: "arraybuffer",
                    progressData: !1
                }
                  , t = {
                    timeout: 2e3,
                    maxRetry: 0,
                    retryDelay: 0,
                    maxRetryDelay: 3e3
                }
                  , n = {
                    onSuccess: this.loadsuccess.bind(this),
                    onError: this.loaderror.bind(this),
                    onTimeout: this.loadtimeout.bind(this)
                };
                this._loader.load(e, t, n)
            }
        }, {
            key: "loadsuccess",
            value: function(e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
                this._loader.abort(),
                this._loader = void 0;
                var r = {
                    status: "success"
                };
                for (var a in t)
                    r[a] = t[a],
                    this._httpResponse[a] = t[a];
                this._httpResponse.responseCode = "200",
                this._httpResponse.readyState = i.readyState,
                this.report()
            }
        }, {
            key: "loaderror",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                this._loader.abort(),
                this._loader = void 0,
                this._httpResponse.responseCode = e.code,
                this._httpResponse.readyState = n.readyState,
                this.report()
            }
        }, {
            key: "loadtimeout",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                this._loader.abort(),
                this._loader = void 0,
                this._httpResponse.responseCode = "408",
                this._httpResponse.readyState = n.readyState,
                this.report()
            }
        }, {
            key: "report",
            value: function() {
                var e = {}
                  , t = {};
                (0,
                a.default)(t, this._param, this._httpResponse),
                t.protocol = this.protocol,
                t.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0,
                t.drmtype = this._global.ups && this._global.ups.drmType,
                t.hd = this._global.mediaData && T.QUALITY[this._global.mediaData.quality] - 1 ? T.QUALITY[this._global.mediaData.quality] - 1 : 0,
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = t,
                e.eventType = "EXP",
                e.code = "H1481495508",
                "23605" !== t.error_code && "23604" !== t.error_code && "35614" !== t.error_code && (x.default.sendGoldLog(e),
                this._enabled = !1),
                "23605" !== t.error_code && "23604" !== t.error_code || (t.code = t.error_code.replace("236", "-60"),
                e.url = this._fdlErrorlogName,
                x.default.sendGoldLog(e))
            }
        }, {
            key: "_reset",
            value: function() {
                this._enabled = !0,
                this._param = {},
                this._param.version = this._global.version,
                this._param.videoid = this._global.mediaData.mediaId || "",
                this._param.utid = x.default.getCna() || "",
                this._param.userid = 0,
                this._param.vip = 0,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.platform = T.PLAYERSYSTEM.Browser.platform,
                this._param.browser = T.PLAYERSYSTEM.Browser.name,
                this._param.browser_version = T.PLAYERSYSTEM.Browser.version,
                this._param.player_version = "H5",
                this._param.playersid = this._global.config.playersid,
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData && (this._playlistData.videoData && (this._param.videoid = this._playlistData.videoData.id,
                this._param.videotype = this._playlistData.videoData.ctype),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.userid = this._playlistData.userData.ytid : this._param.userid = this._playlistData.userData.uid,
                this._param.vip = this._playlistData.userData.vip),
                this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid || ""),
                this._playlistData.showData ? (this._param.showid = this._playlistData.showData.id,
                this._param.showencodeid = this._playlistData.showData.encodeid) : (this._param.showid = 0,
                this._param.showencodeid = ""))
            }
        }]),
        t
    }(g.default);
    t.default = C
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(28)
      , m = i(f)
      , y = n(17)
      , g = i(y)
      , v = n(14)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = n(12)
      , E = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "hotlinklog",
            n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.fdl.h5send",
            n.reset(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (this._enabled && e.code !== _.default.PLAYER_IS_PLAYING)
                    switch (e.code) {
                    case k.default.RESTART:
                    case k.default.RELOAD:
                        this.reset();
                        break;
                    case _.default.PLAYER_REAL_START:
                        this._param.log_type = 3,
                        this.report();
                        break;
                    case _.default.AD_SHOW_START:
                        e.data.type === S.AD_TYPE.FRONT && e.data.iffirst && (this._param.log_type = 1,
                        this.report());
                        break;
                    case _.default.AD_SHOW_COMPLETE:
                        e.data.type === S.AD_TYPE.FRONT && (this._param.log_type = 2,
                        this.report());
                        break;
                    case _.default.SERVICE_IS_DONE:
                        if ("ups" !== e.data.id)
                            return;
                        this._resetParams()
                    }
            }
        }, {
            key: "report",
            value: function() {
                this._param.protocol = this.protocol;
                var e = {};
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._param,
                e.eventType = "EXP",
                e.code = "H1482418994",
                g.default.sendGoldLog(e)
            }
        }, {
            key: "reset",
            value: function() {
                this._param = {},
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.cna = g.default.getCna() || "",
                this._param.uid = 0,
                this._param.vip = 0,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.log_type = 1,
                this._param.fileid = "";
                var e = this._global.initConfig.customParam;
                e && e.client_id && (this._param.client_id = e.client_id),
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData && (this._param.psid = this._playlistData.upsData.psid,
                this._param.ups_client_netip = this._playlistData.upsData.ups_client_netip,
                this._param.vid = this._playlistData.videoData.id,
                this._param.title = this._playlistData.videoData.title,
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid,
                this._param.vip = this._playlistData.userData.vip ? "1" : "0"))
            }
        }]),
        t
    }(m.default);
    t.default = E
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(28)
      , m = i(f)
      , y = n(17)
      , g = i(y)
      , v = n(112)
      , _ = i(v)
      , b = n(43)
      , k = i(b)
      , S = n(8)
      , E = i(S)
      , w = n(14)
      , x = i(w)
      , T = n(12)
      , A = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "playlog",
            n._logName = "playlog/open/push_web.json",
            n._logHost = "//playlog.youku.com/",
            n._enabled = !1,
            n.reset(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (this._enabled)
                    switch (e.code) {
                    case x.default.PLAYER_BEGIN_PLAYING:
                        this.reportTime < 0 && this.report(0);
                        break;
                    case x.default.PLAYER_IS_PLAYING:
                        (this._global.actCurrentTime > this.reportTime + 60 || this._global.actCurrentTime < this.reportTime) && this.report(1);
                        break;
                    case E.default.RESTART:
                        this.reset();
                        break;
                    case x.default.PLAYER_PLAY_END:
                        this.report(2);
                        break;
                    case E.default.REPLAY:
                        this.report(1);
                        break;
                    case E.default.SEEK:
                        (this._global.actCurrentTime > this.reportTime + 10 || this._global.actCurrentTime < this.reportTime) && this.report(3);
                        break;
                    case x.default.SERVICE_IS_DONE:
                        if ("ups" !== e.data.id)
                            return;
                        this.resetParams()
                    }
            }
        }, {
            key: "resetParams",
            value: function() {
                if (this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData) {
                    this._playlistData.videoData && (this.params.videoId = this._global.ups.videoData.encodeid),
                    this._playlistData.showData && (this._playlistData.showData.showcategory && (this.params.category = this._playlistData.showData.showcategory),
                    this._playlistData.showData.encodeid && !this._playlistData.showData.video_type && (this.enabled = !1),
                    this.params.showId = this._playlistData.showData.encodeid,
                    this.params.tp = this._playlistData.showData.video_type,
                    this.params.stage = this._playlistData.showData.stage),
                    this._playlistData.controllerData && (this._playtype = 3 === parseInt(this._playlistData.controllerData.play_mode) ? 1 : 0);
                    var e = T.QUALITY[this._global.mediaData.quality] - 1;
                    this.params.hd = e > 0 ? e : 0,
                    this.params.seconds = 0,
                    this._global && this._global.config && this._global.config.duration && (this.params.seconds = this._global.config.duration)
                }
            }
        }, {
            key: "report",
            value: function(e) {
                try {
                    if (!this.enabled)
                        return;
                    this.reportTime = 0 === e ? this._global.getStartTime().accTime : this._global.actCurrentTime;
                    var t = Math.round(1e3 * this.reportTime);
                    this.params.seconds = parseInt(this._global.config.duration);
                    var n = T.QUALITY[this._global.mediaData.quality] - 1;
                    this.params.hd = n > 0 && n < 4 ? n : 0,
                    this.params.point = t || "0",
                    this.params.lastUpdate = parseInt((new Date).getTime() / 1e3),
                    this.params.logType = e,
                    this.params.lang = k.default.langCnToLangid(this._global.mediaData.language) || "0",
                    this.params.lang > 16 && (this.params.lang = "0"),
                    1 === this._playtype && (this.params.folderOrder = this._fob,
                    this.params.folderPlace = this._fpo,
                    this.params.folderId = this._fid),
                    this.params.timestamp = (new Date).getTime(),
                    this.params.appKey = "qPbb2hfIYugHjMaj",
                    _.default.loadMtopData("mtop.youku.playlog.open.push", this.params)
                } catch (e) {
                    console.error(e),
                    console.error("playlog push error")
                }
            }
        }, {
            key: "reset",
            value: function() {
                this._enabled = this._global.config.openPlaylog,
                this.params = {},
                this.params.umid = g.default.getCna() || "",
                this.params.nlid = g.default.getCna() || "",
                this.params.videoId = this._global.mediaData.mediaId || "",
                this.params.hwClass = 1,
                this.params.devicename = "H5",
                this.params.mediaType = 1,
                this.params.appVersion = this._global.version,
                this._fid = this._global.initConfig.Fid || "",
                this._fob = this._global.initConfig.Ob || "",
                this._fpo = this._global.initConfig.Pt || "",
                this.reportTime = -1,
                this.params.autoPlay = this._global.config.autoplay ? 1 : 0,
                this.resetParams()
            }
        }]),
        t
    }(m.default);
    t.default = A
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(28)
      , m = i(f)
      , y = n(14)
      , g = i(y)
      , v = n(8)
      , _ = i(v)
      , b = n(17)
      , k = i(b)
      , S = n(12)
      , E = n(186)
      , w = i(E)
      , x = n(6)
      , T = ["playerinit", "cnastart", "cnacomplete", "getupsstart", "getupsend", "parseupsdata", "adget", "adreturn", "adplaystart", "adplayend", "playstart", "loadingstart", "buffertime", "buffertime2"]
      , A = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "processlog",
            n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.fdl.ykplayer_process",
            n._reset(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                var t = this;
                if (this._enabled)
                    switch (this._state = 0,
                    e.code) {
                    case g.default.SERVICE_EXECUTE_START:
                        if ("cna" === e.data.id && 0 === this._step)
                            return this._step = 1,
                            void this.report();
                        "ups" === e.data.id && 2 === this._step && (this._step = 3,
                        this.report());
                        break;
                    case g.default.SERVICE_EXECUTE_COMPLETE:
                        this._state = 1;
                    case g.default.SERVICE_EXECUTE_FAILED:
                        if ("cna" === e.data.id && 1 === this._step)
                            return this._step = 2,
                            void this.report();
                        "ups" === e.data.id && 3 === this._step && (this._resetParams(),
                        this._step = 4,
                        this.report());
                        break;
                    case g.default.SERVICE_DATA_SUCCESS:
                        this._state = 1;
                    case g.default.SERVICE_DATA_ERROR:
                        "ups" === e.data.id && 4 === this._step && (this._resetParams(),
                        this._step = 5,
                        this.report());
                        break;
                    case g.default.AD_GET:
                        5 === this._step && (this._step = 6,
                        this.report());
                        break;
                    case g.default.AD_RETURN:
                        6 === this._step && (this._step = 7,
                        e.data && e.data.data && "success" === e.data.data.state && (this._state = 1),
                        this.report());
                        break;
                    case g.default.AD_SHOW_START:
                    case g.default.AD_SHOW_FAILED:
                        e.data.type !== S.AD_TYPE.FRONT && e.data.data.adtype !== S.AD_TYPE.FRONT || 7 !== this._step || (this._step = 8,
                        e.data.data && e.data.data.totalAdCount > 0 ? this._param.hasad = 1 : this._param.hasad = 0,
                        this.report());
                        break;
                    case g.default.AD_SHOW_COMPLETE:
                        if (8 === this._step) {
                            if (this._step = 9,
                            e.data && e.data.data)
                                for (var n in e.data.data)
                                    this._param[n] = e.data.data[n];
                            this.report()
                        }
                        break;
                    case g.default.PLAYER_REAL_START:
                        break;
                    case g.default.PLAYER_IS_PLAYING:
                        if (this._playstatus === g.default.PLAYER_BUFFER_FULL || this._step < 10)
                            return;
                        this._playstatus = g.default.PLAYER_BUFFER_FULL,
                        this._step = 13;
                        var i = (new Date).getTime() - this._buffertime;
                        this._param.request_time = this._param.whole_time = i.toString(),
                        this._param.waitingType = this._global.getWaitingType(),
                        this._param.waitingState = this._global.waitingInfo.state,
                        "play" !== this._global.getWaitingType() ? this._global.setWaitingType("play") : i > 500 && this.report();
                        break;
                    case g.default.PLAYER_BEGIN_PLAYING:
                        if (this._playstatus2 !== g.default.PLAYER_BUFFER_EMPTY || this._step < 10)
                            return this._playstatus2 = g.default.PLAYER_BUFFER_FULL,
                            this._step < 10 && setTimeout(function() {
                                t._step = 10,
                                t.report()
                            }, 50),
                            void ("play" !== this._global.waitingInfo.state && (this._global.waitingInfo.state = "play"));
                        if (this._playstatus2 === g.default.PLAYER_BUFFER_EMPTY) {
                            this._playstatus2 = g.default.PLAYER_BUFFER_FULL,
                            this._step = 12;
                            var r = (new Date).getTime() - this._buffertime;
                            this._param.request_time = this._param.whole_time = r.toString(),
                            this._param.waitingType = this._global.getWaitingType(),
                            this._param.waitingState = this._global.waitingInfo.state,
                            "play" !== this._global.waitingInfo.state ? this._global.waitingInfo.state = "play" : r > 500 && setTimeout(function() {
                                t.report()
                            })
                        }
                        break;
                    case g.default.PLAYER_BUFFER_EMPTY:
                        if (this._buffertime = (new Date).getTime(),
                        this._param.level = S.QUALITY[S.STREAM_TYPE_MAP[this._global.mediaData.autoLevel]],
                        this._playstatus === g.default.PLAYER_BUFFER_EMPTY || this._playstatus2 === g.default.PLAYER_BUFFER_INIT || this._step < 10)
                            return;
                        if (window.corex && window.corex.videoElement) {
                            var a = window.corex.collect();
                            a && (this._param.sp = a.sp,
                            this._param.curTime = a.currentTime,
                            this._param.parties = a.parties,
                            this._param.readyState = window.corex.videoElement.readyState,
                            this._param.bfInfo = a.bufferInfo,
                            this._param.bufferLength = a.bufferLength,
                            this._param.cdn = a.cdn,
                            this._param.switched = a.switched,
                            this._param.drop = a.drop,
                            this._param.schedule = a.schedule)
                        }
                        this._playstatus = g.default.PLAYER_BUFFER_EMPTY,
                        this._playstatus2 = g.default.PLAYER_BUFFER_EMPTY,
                        this._step = 11;
                        break;
                    case _.default.RESTART:
                        this._reset()
                    }
            }
        }, {
            key: "report",
            value: function() {
                var e = {};
                if (this._param.loading_step = T[this._step],
                this._step < 11 && this._global.changeProcessState(T[this._step]),
                this._timeArray[this._step] = (new Date).getTime(),
                this._step < 11 && (this._param.request_time = 0,
                this._step > 0 && (this._param.request_time = this._timeArray[this._step] - this._timeArray[this._step - 1]),
                this._param.whole_time = this._timeArray[this._step] - this._timeArray[0]),
                this._param.t = (new Date).getTime(),
                this._param.full = this.getFullValue(),
                this._param.hd = S.QUALITY[this._global.mediaData.quality] - 1,
                this._param.state = this._state,
                this._param.support_type = this._global.config.supportType,
                w.default.checkABWork() && ("playerinit" === this._param.loading_step || "buffertime" === this._param.loading_step)) {
                    this._param.iscoreab = 1;
                    var t = (0,
                    x.getUaVersion)()
                      , n = t.appname;
                    this._param.appname = n
                }
                if (this._param.protocol = this.protocol,
                this._global._degradeMp4 && (this._param.isDg = 1),
                this._param.h265 = this._global.h265,
                this._param.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0,
                this._param.drmtype = this._global.ups && this._global.ups.drmType,
                this._param.isP2P = this._global.isP2P || 0,
                this._param.ql = this._global.enableQueLoad,
                this._param.switch = this._global.enableSwitch || 0,
                window.Detector && window.Detector._startPlayTime && (this._param.sp = window.Detector._startPlayTime),
                window.corex && (12 === this._step || 13 === this._step)) {
                    var i = window.corex.collect();
                    this._param.speedSample = window.corex.collectSpeed(),
                    i && (this._param.bts = i.baseTs,
                    this._param.act = i.actions)
                }
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._param,
                e.eventType = "EXP",
                e.code = "H1511048181",
                k.default.sendGoldLog(e)
            }
        }, {
            key: "_reset",
            value: function() {
                this._step = 0,
                this._state = 0,
                this._playstatus2 = g.default.PLAYER_BUFFER_INIT,
                this._timeArray = [(new Date).getTime()],
                this._param = {},
                this._param.cna = this._param.cna = k.default.getCna() || "",
                this._param.uid = 0,
                this._param.isvip = 0,
                this._param.hasad = 1,
                this._param.us = S.PLAYERSYSTEM.Browser.name,
                this._param.os = S.PLAYERSYSTEM.Browser.platform,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.playersid = this._global.config.playersid,
                this._resetParams(),
                this.report()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData && (this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid,
                this._param.isvip = this._playlistData.userData.vip),
                this._param.vvid = this._playlistData.upsData ? this._playlistData.upsData.psid : "",
                this._param.vid = this._playlistData.videoData ? this._playlistData.videoData.id : "")
            }
        }]),
        t
    }(m.default);
    t.default = A
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(28)
      , g = i(y)
      , v = n(17)
      , _ = i(v)
      , b = n(12)
      , k = n(8)
      , S = i(k)
      , E = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/youkuplayer.fdl.subtitles",
            n._reset(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                this._enabled && (this._data = {},
                e.code === S.default.SEND_SUBTITLE_LOG && ((0,
                a.default)(this._data, this._param, e.data),
                this.report()))
            }
        }, {
            key: "report",
            value: function() {
                this._data.protocol = this.protocol;
                var e = {};
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._data,
                e.eventType = "EXP",
                _.default.sendGoldLog(e)
            }
        }, {
            key: "_reset",
            value: function() {
                this._param = {},
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.ccode = this._global.initConfig.ccode,
                this._param.platform = b.PLAYERSYSTEM.Browser.platform,
                this._param.browser = b.PLAYERSYSTEM.Browser.name,
                this._param.browser_version = b.PLAYERSYSTEM.Browser.version,
                this._param.psid = this._global.config.playersid,
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups && (this._playlistData = this._global.ups,
                this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid),
                this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id)))
            }
        }]),
        t
    }(g.default);
    t.default = E
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(28)
      , m = i(f)
      , y = n(14)
      , g = i(y)
      , v = n(19)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = n(185)
      , E = i(S)
      , w = n(17)
      , x = i(w)
      , T = n(43)
      , A = i(T)
      , L = n(12)
      , C = n(70)
      , D = i(C)
      , P = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "tslog",
            n._logName = "/yt/vp.vtslog",
            "050F" === n._global.initConfig.ccode ? (n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/newtudou.web.ts") : n._logHost = "//yt1.mmstat.com",
            n.reset(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "onNetStatus",
            value: function(e) {
                if (this._enabled) {
                    if (e.level === _.default.ERROR)
                        return this._timer.getRunning() && this._timer.pause(),
                        void (this._enabled = !1);
                    switch (e.code) {
                    case g.default.PLAYER_IS_PLAYING:
                        this._timer.getRunning() || this._timer.start();
                        break;
                    case g.default.PLAYER_PLAY_END:
                        this._timer.getRunning() && this._timer.pause(),
                        this._param.pc = "1",
                        this.report();
                        break;
                    case k.default.REPLAY:
                    case k.default.RESTART:
                        this.reset();
                        break;
                    case g.default.SERVICE_IS_DONE:
                        if ("ups" !== e.data.id)
                            return;
                        this._resetParams();
                        break;
                    case g.default.PLAYER_IS_PAUSED:
                    case g.default.PLAYER_PLAY_STOP:
                    case g.default.PLAYER_PLAY_FAILED:
                        this._timer.getRunning() && this._timer.pause()
                    }
                }
            }
        }, {
            key: "report",
            value: function() {
                this._param.cpt = Math.round(this._global.currentTime),
                this._param.full = this.getFullValue(),
                this._param.lang = A.default.langCnToLangid(this._global.mediaData.language) || "1",
                this._param.r = this._signTS(this._param.vvid + this._param.vid + this._param.cpt + this._param.pt + this._param.sn).toString(),
                this._param.cna = this._cna,
                this._ext = "",
                this._global.mediaData && this._global.mediaData.quality && (this._param.cf = L.QUALITY[this._global.mediaData.quality] - 1),
                this._global.core && this._lastLoadBytes < this._global.core.getBytesLoaded() ? (this._param.clb = this._global.core.getBytesLoaded() - this._lastLoadBytes,
                this._lastLoadBytes = this._global.core.getBytesLoaded()) : this._param.clb = 0,
                this._global.config && this._global.config.rate ? this._param.speed = this._global.config.rate : this._param.speed = 1,
                this._param.protocol = this.protocol,
                this._param.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0,
                this._param.drmtype = this._global.ups && this._global.ups.drmType,
                this._param.level = L.QUALITY[L.STREAM_TYPE_MAP[this._global.mediaData.autoLevel]];
                var e = {};
                e.format = !1,
                e.domain = this._logHost,
                e.url = this._logName,
                e.params = this._param,
                e.eventType = "EXP",
                e.code = "",
                e.type = 1,
                x.default.sendGoldLog(e)
            }
        }, {
            key: "reset",
            value: function() {
                this._enabled = !0,
                this._playlistData = {},
                this._param = {},
                this._param.version = this._global.version,
                this._param.vid = this._global.mediaData.mediaId,
                this._param.uid = 0,
                this._param.type = "h5",
                this._param.cf = "0",
                this._param.cpt = "0",
                this._param.full = "0",
                this._param.pc = "0",
                this._param.clb = 0,
                this._param.playersid = this._global.config.playersid,
                this._cna = x.default.getCna() || "";
                var e = this._global.initConfig.customParam;
                e && e.client_id && (this._param.iku = this._param.clientid = e.client_id),
                this._param.sn = 0,
                this._param.pt = 0,
                this._param.hi = 5,
                this._num = 0,
                this._timer ? this._timer.reset() : (this._timer = new E.default(5e3),
                this._timer.addEventListener(E.default.TIMER, this._onTimer.bind(this))),
                this._timer.pause(),
                this._resetParams()
            }
        }, {
            key: "_resetParams",
            value: function() {
                this._global.ups ? (this._playlistData = this._global.ups,
                this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id),
                this._playlistData.upsData && (this._param.vvid = this._playlistData.upsData.psid || ""),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid,
                this._param.isvip = this._playlistData.userData.vip ? 1 : 0)) : (this._param.vvid = "",
                this._param.uid = 0,
                this._param.isvip = 0)
            }
        }, {
            key: "_onTimer",
            value: function() {
                if (this._global.playerState.state === D.default.PLAY) {
                    this._checkTSLogTimes() && this.report()
                }
            }
        }, {
            key: "_signTS",
            value: function(e) {
                if (!e)
                    return 0;
                var t = 0
                  , n = void 0
                  , i = e.length;
                for (n = 0; n < i; n++)
                    t = 43 * t + e.charCodeAt(n),
                    t %= 1e10;
                return t
            }
        }, {
            key: "_checkTSLogTimes",
            value: function() {
                var e = !1;
                return this._num++,
                this._param.pt = 5 * this._num,
                this._num <= 12 ? this._param.hi = 5 : this._num <= 36 ? this._param.hi = 10 : this._param.hi = 20,
                e = this._param.pt % this._param.hi == 0,
                e && this._param.sn++,
                e
            }
        }]),
        t
    }(m.default);
    t.default = P
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(28)
      , g = i(y)
      , v = n(8)
      , _ = i(v)
      , b = n(14)
      , k = i(b)
      , S = n(17)
      , E = i(S)
      , w = n(44)
      , x = n(43)
      , T = i(x)
      , A = n(12)
      , L = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.id = "vvlog",
            n._logName = "/yt/vp.vdoview",
            "050F" === n._global.initConfig.ccode && (n._logHost = "//gm.mmstat.com",
            n._logName = "/yt/newtudou.web.vv"),
            n._winType = 30,
            n._reset(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "_resetParams",
            value: function() {
                this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null,
                this._playlistData && (this._playlistData.videoData && (this._videoid = this._playlistData.videoData.id,
                this._videoOwnerId = this._playlistData.videoData.userid,
                this._ct = this._playlistData.videoData.category_id,
                this._cs = this._playlistData.videoData.cs,
                this._videotype = this._playlistData.videoData.ctype),
                this._playlistData.userData && (this._playlistData.userData.ytid ? this._viewUserId = this._playlistData.userData.ytid : this._viewUserId = this._playlistData.userData.uid,
                this._isvip = this._playlistData.userData.vip ? 1 : 0),
                this._playlistData.showData && (this._showid_v2 = this._playlistData.showData.id,
                this._showid_v3 = this._playlistData.showData.encodeid,
                this._show_videotype = this._playlistData.showData.video_type,
                this._stg = this._playlistData.showData.stage,
                this._Copyright = this._playlistData.showData.copyright,
                this._paystate = this._getPayState()),
                this._playlistData.trialData ? this._playstate = 2 : this._playstate = 1,
                this._playlistData.upsData && (this._sid = this._playlistData.upsData.psid,
                this._oip = this._playlistData.upsData.ups_client_netip),
                this._playlistData.controllerData && (this._Type = 3 === parseInt(this._playlistData.controllerData.play_mode) ? 1 : 0),
                this._hd = A.QUALITY[this._global.mediaData.quality] - 1,
                this._totalsec = "0",
                this._global && this._global.config && this._global.config.duration && (this._totalsec = parseInt(this._global.config.duration)),
                this._setAdData(),
                this._playComplete = "0",
                this._firstSend60 = !0)
            }
        }, {
            key: "_setAdData",
            value: function() {
                if (this._playlistData.adData && this._playlistData.adData.BFVAL) {
                    var e = void 0
                      , t = this._playlistData.adData.BFVAL
                      , n = [];
                    for (e = 0; e < t.length; e++) {
                        var i = "";
                        t[e].DOT && t[e].DOT.STA && (i += t[e].DOT.STA),
                        t[e].VID && (i += "," + t[e].VID),
                        t[e].AL && (i += "," + t[e].AL),
                        n.push(i)
                    }
                    this._adInfos = n.join(";")
                }
            }
        }, {
            key: "parseVext",
            value: function() {}
        }, {
            key: "_getMType",
            value: function() {
                var e = "oth";
                switch (A.PLAYERSYSTEM.Browser.platform) {
                case "ipad":
                case "ipod":
                case "iphone":
                    e = A.PLAYERSYSTEM.Browser.platform.slice(0, 3);
                    break;
                case "android":
                    e = "adr"
                }
                return e
            }
        }, {
            key: "_getPayState",
            value: function() {
                var e = 0;
                return this._playlistData && this._playlistData.showData && "vod" === this._playlistData.showData.pay_type[0] && (e = 1),
                this._playlistData && this._playlistData.showData && "mon" === this._playlistData.showData.pay_type[0] && (e = 2),
                e
            }
        }, {
            key: "onNetStatus",
            value: function(e) {
                switch (e.code) {
                case k.default.AD_SHOW_START:
                    e.data.type === A.AD_TYPE.FRONT && this._firstReportable && (this._number = 59,
                    this._firstReportable = !1,
                    this.report());
                    break;
                case k.default.PLAYER_REAL_START:
                    this._firstReportable && (this._number = 59,
                    this._firstReportable = !1,
                    this.report());
                    break;
                case k.default.PLAYER_IS_PLAYING:
                    this._number = 60,
                    this._checkVVlogSend(this._firstSend60),
                    this._firstSend60 = !1;
                    break;
                case k.default.PLAYER_IS_PAUSED:
                case k.default.PLAYER_BUFFER_EMPTY:
                    this._isPause || (this._isPause = !0,
                    this._lastCountedTime = (new Date).getTime());
                    break;
                case k.default.PLAYER_PLAY_END:
                    this._number = 61,
                    this._playComplete = "1",
                    this.report();
                    break;
                case _.default.REPLAY:
                    this._number = 62,
                    this._pb = "2",
                    this.report();
                    break;
                case _.default.RESTART:
                    this._reset();
                    break;
                case _.default.RELOAD:
                    this._number = 63,
                    this.report();
                    break;
                case k.default.SERVICE_IS_DONE:
                    if ("ups" !== e.data.id)
                        return;
                    this._resetParams(),
                    this._number = 58,
                    this.report()
                }
            }
        }, {
            key: "_checkVVlogSend",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , t = (new Date).getTime();
                if (this._REQID = this._global.adConfig.REQID,
                e)
                    return this.actualDiffTime = 0,
                    this._lastCountedTime = t,
                    this._lastSentVideoReportTime = t,
                    void this.report();
                this._isPause && (this._isPause = !1,
                this.actualDiffTime += t - this._lastCountedTime),
                t - this._lastSentVideoReportTime - this.actualDiffTime > 6e4 && (this.actualDiffTime = 0,
                this._lastCountedTime = t,
                this._lastSentVideoReportTime = t,
                this.report())
            }
        }, {
            key: "report",
            value: function() {
                if (this.enabled) {
                    if (this._global.config) {
                        if (this._supportType = this._global.config.supportType,
                        this._totalsec = parseInt(this._global.config.duration),
                        this._global.mediaData.quality && (this._hd = A.QUALITY[this._global.mediaData.quality] - 1),
                        this._global.ups) {
                            var e = this._global.ups && this._global.ups.getStreamByQuality(this._global.mediaData.language, this._global.mediaData.quality);
                            if (e && e.m3u8_url && "hls" === this._supportType) {
                                var t = /^https?:\/\/([^/]+)/.exec(e.m3u8_url);
                                this._cdn = t && t[1]
                            }
                            var n = this._global.ups.getQualityByLang(this._global.mediaData.language)
                              , i = this._global.ups.getStreamByQuality(this._global.mediaData.language, this._global.mediaData.quality, 1);
                            if (i.m3u8_url && !/pl-ali\.youku\.com/.test(i.m3u8_url)) {
                                var r = i.m3u8_url.match(/([^/]+)\.m3u8/);
                                r && r[1] && (this.fileId = r[1])
                            }
                            this._format = n.length - 1
                        } else
                            this._format = "0";
                        var o = this._global.initConfig.customParam;
                        o && o.client_id && (this._pid = o.client_id)
                    }
                    try {
                        this._vvlogext = window.UrchinAplus._yVvlogInfo() || ""
                    } catch (e) {
                        this._vvlogext = ""
                    }
                    var s = {};
                    if (s.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0,
                    s.autoLevel = this._global.enableAutoLevel ? 1 : 0,
                    s.ql = this._global.enableQueLoad,
                    this.fileId && (s.file_id = this.fileId),
                    this._global._degradeMp4 && (s.isDg = 1),
                    59 === this._number)
                        try {
                            var l = document.createElement("canvas")
                              , u = l.getContext("experimental-webgl");
                            if (u) {
                                var d = u.getExtension("WEBGL_debug_renderer_info")
                                  , c = u.getParameter(d.UNMASKED_RENDERER_WEBGL);
                                c = c.replace(/ANGLE \(|\)$/g, "").replace(/Direct3D([a-zA-Z0-9]+) vs_(\d_\d) ps_(\d_\d)/, function(e, t, n, i) {
                                    return "| " + t + ":" + n.replace("_", ".") + ":" + i.replace("_", ".")
                                }),
                                s.gpu = c.substr(0, 60)
                            } else
                                s.gpu = "N/A"
                        } catch (e) {
                            console.warn(e)
                        }
                    s.drmtype = this._global.ups && this._global.ups.drmType,
                    s.isP2P = this._global.isP2P || 0,
                    s.h265 = this._global.h265,
                    s.platform = A.PLAYERSYSTEM.Browser.platform,
                    s.browser = A.PLAYERSYSTEM.Browser.name,
                    s.browser_version = A.PLAYERSYSTEM.Browser.version,
                    s.version = this._global.version,
                    s.sid = this._sid,
                    s.cdn = this._cdn,
                    s.switch = this._global.enableSwitch,
                    s.videoOwnerId = this._videoOwnerId,
                    s.viewUserId = this._viewUserId,
                    s.videoid = this._videoid,
                    s.Tid = this._Tid,
                    s.ct = this._ct,
                    s.cs = this._cs,
                    s.showid_v2 = this._showid_v2,
                    s.showid_v3 = this._showid_v3,
                    s.support_type = this._supportType,
                    s.stg = this._stg,
                    this._adInfos && (s.ad_infos = this._adInfos),
                    s.Copyright = this._Copyright,
                    s.hd = this._hd,
                    s.format = this._format,
                    s.winType = this._winType,
                    s.totalsec = this._totalsec,
                    s.referUrl = this._referUrl,
                    s.url = this._url,
                    s.currentPlayTime = Math.round(this._global.currentTime) || "0",
                    s.timestamp = (new Date).getTime(),
                    s.topHdVideo = this._topHdVideo,
                    s.fct = this._fct,
                    s.number = this._number,
                    s.show_videotype = this._show_videotype,
                    s.fullflag = this.getFullValue(),
                    s.playComplete = this._playComplete,
                    s.unCookie = this._unCookie,
                    s.frame = this._frame,
                    s.continuationPlay = this._global.config.continuePlay ? "1" : "0",
                    s.mtype = this._getMType(),
                    s.langid = T.default.langCnToLangid(this._global.mediaData.language) || "",
                    s.ctype = this._ctype,
                    s.ev = 1,
                    s.tk = this._tk,
                    s.oip = this._oip,
                    s.protocol = this.protocol,
                    s.isvip = this._isvip,
                    s.paystate = this._getPayState(),
                    s.playstate = this._playstate,
                    s.Type = this._Type,
                    1 === this._Type && (s.fob = this._fob,
                    s.fpo = this._fpo,
                    s.fid = this._fid),
                    s.pid = this._pid,
                    s.emb = this._emb,
                    s.cna = this._cna,
                    s.ikuflag = "n",
                    s.source = "video",
                    s.playersid = this._playersid,
                    s.danmu = this._global.config.danmu ? this._global.config.danmu : 0,
                    s.pb = this._pb,
                    s.videotype = this._videotype,
                    this._global.adConfig.REQID && "" !== this._global.adConfig.REQID ? s.REQID = this._global.adConfig.REQID : s.REQID = null,
                    s.is_pread = 1,
                    59 !== s.number && 62 !== s.number || (s.is_pread = null,
                    s.REQID = null),
                    (0,
                    a.default)(s, this._vvlogext);
                    var h = (0,
                    w.formatParams)(s, !0)
                      , p = {};
                    p.format = !0,
                    p.domain = this._logHost,
                    p.url = this._logName,
                    p.params = h,
                    p.eventType = "EXP",
                    p.code = "",
                    p.type = 1,
                    E.default.sendGoldLog(p)
                }
            }
        }, {
            key: "_reset",
            value: function() {
                this._enabled = !0,
                this._firstReportable = !0,
                this._firstSend60 = !0,
                this._number = 59,
                this.actualDiffTime = 0,
                this._playlistData = {},
                this._videoid = this._global.mediaData.mediaId || "",
                this._ctype = this._global.initConfig.ccode,
                this._cna = E.default.getCna() || "",
                this._Tid = "0",
                this._format = "0",
                this._topHdVideo = "",
                this._tk = "",
                this._pid = "",
                this._videotype = "",
                this._ikuflag = "n",
                this._source = "video",
                this.winType = 30,
                this._adInfos = "",
                this._referUrl = "light" === this._global.initConfig.playScene ? A.PLAYERSYSTEM.pageUrl : A.PLAYERSYSTEM.refer,
                this._url = A.PLAYERSYSTEM.pageUrl,
                this._numberstamp = (new Date).getTime(),
                this._ev = 1,
                this._fid = "",
                this._fob = "",
                this._fpo = "",
                this._fct = "",
                this._unCookie = "",
                this._frame = "",
                this._emb = "",
                this._pb = "0",
                this._fid = this._global.initConfig.Fid || "",
                this._fob = this._global.initConfig.Ob || "",
                this._fpo = this._global.initConfig.Pt || "",
                this._global.initConfig.vvlogconfig && (this._fct = this._global.initConfig.vvlogconfig.plchid || "",
                this._unCookie = this._global.initConfig.vvlogconfig.unCookie || "",
                this._frame = this._global.initConfig.vvlogconfig.frame || "",
                this._emb = this._global.initConfig.vvlogconfig.embedid || "",
                this._pb = this._global.initConfig.vvlogconfig.pb || "0"),
                this._isPause = !1,
                this._playersid = this._global.config.playersid,
                this._resetParams()
            }
        }]),
        t
    }(g.default);
    t.default = L
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(12)
      , u = n(107)
      , d = i(u)
      , c = n(6)
      , h = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this.player = t.player,
            this.global = t.global,
            this._hlsErrorInfo = {
                hlsError: !1,
                hlsErrorCount: 0,
                timer: null
            },
            this._hlsErrorData = null,
            this._initTimeStamp = (new Date).getTime(),
            this._reloadCount = 0,
            this._videoTryCount = 0,
            this.realError = !1
        }
        return (0,
        s.default)(e, [{
            key: "reset",
            value: function() {
                this._hlsErrorInfo = {
                    hlsError: !1,
                    hlsErrorCount: 0,
                    timer: null,
                    error: null
                },
                this.realError = !1,
                this._hlsErrorData = null,
                this.updateCheckTime(),
                this._reloadCount = this.global.config.reload,
                this._videoTryCount = 0
            }
        }, {
            key: "checkTimeout",
            value: function() {
                return (new Date).getTime() - this._initTimeStamp >= 144e5
            }
        }, {
            key: "updateCheckTime",
            value: function() {
                this._initTimeStamp = (new Date).getTime()
            }
        }, {
            key: "sendHlsLog",
            value: function(e) {
                var t = {
                    type: e.type,
                    detail: e.details,
                    fatal: e.fatal,
                    version: this.global.version
                };
                e.response ? (t.httpcode = e.response.code,
                t.text = e.response.text) : (t.httpcode = 0,
                t.text = "null"),
                e.frag && (t.mainsrc = encodeURIComponent(e.frag.baseurl),
                t.segsrc = encodeURIComponent(e.frag.relurl)),
                e.context && (t.mainsrc = encodeURIComponent(e.context.url)),
                t.tryCount = this._hlsErrorInfo.hlsErrorCount,
                t.reloadCount = this._reloadCount,
                t.httpType = location.protocol;
                var n = [];
                for (var i in t)
                    n.push(i + "=" + t[i]);
                try {
                    window.goldlog.record("/yt/youkuplayer.fdl.ykplayer_hlserror", "EXP", n.join("&"), "H1511971701")
                } catch (e) {
                    (0,
                    c.sendlog)("//gm.mmstat.com/yt/youkuplayer.fdl.ykplayer_hlserror?" + n.join("&") + "&t=" + (new Date).getTime())
                }
            }
        }, {
            key: "triggerVideoSegError",
            value: function() {}
        }, {
            key: "triggerError",
            value: function(e) {
                for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
                    n[i - 1] = arguments[i];
                "video" === e ? this.triggerVideoError.apply(this, n) : "hls" === e && this.triggerHlsError.apply(this, n)
            }
        }, {
            key: "triggerHlsError",
            value: function(e) {
                var t = this;
                if (this._hlsErrorInfo.hlsError = !0,
                this._hlsErrorInfo.hlsErrorCount++,
                this._hlsErrorData = e,
                "keySystemError" === e.type)
                    return this.realError = !0,
                    this.sendHlsLog(e),
                    void (e.details !== d.default.KEY_SYSTEM_LICENSE_REQUEST_FAILED || 60103 !== e.code && 60007 !== e.code ? e.details === d.default.DRM_FRAG_LOAD_ERROR ? this.showError("hls", e) : (this.showError("hls", e),
                    this.player._destroyPlayer()) : this._reloadCount < 2 ? (this._reloadCount++,
                    this.player.reload()) : (this._reloadCount = 0,
                    this.showError("hls", e)));
                if ("pipelineDecodeError" === e.details && (this.realError = !0,
                this.sendHlsLog(e),
                this.global.staticM3u8 = !1,
                this.global.enableAutoLevel = !1,
                this.global.enableSubtitle = !1,
                !this.global.initConfig.isSupportDRM || !this.player.isHollywoodDrm()))
                    return this.player.setSupportType("mp4"),
                    this.global._degradeMp4 = !0,
                    void this.player.reload(!0);
                if (("bufferAppendError" === e.details || "pipelineDecodeError" === e.details) && this.global.initConfig.isSupportDRM && this.player.isHollywoodDrm())
                    return this.player._destroyPlayer(),
                    e.type = 4,
                    this.showError("hls", e),
                    void this.showError("hls", e);
                if ("networkError" === e.type) {
                    if (this.realError)
                        return;
                    if (("manifestParsingError" === e.details || "manifestLoadError" === e.details || "manifestLoadTimeOut" === e.details) && (e.fatal || this._hlsErrorInfo.hlsErrorCount > 5))
                        return this.realError = !0,
                        this.sendHlsLog(e),
                        this.player.setSupportType("mp4"),
                        this.global._degradeMp4 = !0,
                        this.global.staticM3u8 = !1,
                        this.global.enableAutoLevel = !1,
                        this.global.enableSubtitle = !1,
                        void this.player.reload(!0);
                    if (("fragLoadError" === e.details || "fragLoadTimeOut" === e.details) && (e.fatal || this._hlsErrorInfo.hlsErrorCount > 5))
                        return this.realError = !0,
                        void this._timeoutReload(!1, e, "hls");
                    e.fatal && this.sendHlsLog(e)
                } else {
                    if (!e.fatal)
                        return;
                    this.sendHlsLog(e),
                    this._hlsErrorInfo.hlsError = !0,
                    this._hlsErrorInfo.hlsErrorCount++,
                    this._hlsErrorInfo.hlsErrorCount > 5 && this._delayHlsError(e);
                    var n = "bufferAppendError" === e.details || "bufferStalledError" === e.details ? 8e3 : 2e3;
                    this._hlsErrorData = e,
                    this._hlsErrorInfo.timer && (clearTimeout(this._hlsErrorInfo.timer),
                    this._hlsErrorInfo.timer = null),
                    this._hlsErrorInfo.timer = setTimeout(function() {
                        t._delayHlsError(e)
                    }, n)
                }
            }
        }, {
            key: "triggerVideoError",
            value: function(e) {
                var t = this.checkTimeout()
                  , n = this.player.getSupportType();
                if (t)
                    return void this._timeoutReload(!0, e, "video");
                if ("hls" === n) {
                    if (e.error instanceof MediaError)
                        return;
                    if (this._reloadCount < 3)
                        return this._reloadCount++,
                        void this._timeoutReload(!1, e, "video")
                } else {
                    if (this._videoTryCount < 3)
                        return this._videoTryCount++,
                        void this._videoRetry(e);
                    this._timeoutReload(!1, e, "video")
                }
            }
        }, {
            key: "_videoRetry",
            value: function(e) {
                var t = this.player._player.control._videoCore.video
                  , n = t.currentTime
                  , i = e.url;
                t.src = i,
                t.currentTime = n,
                t.play()
            }
        }, {
            key: "_delayHlsError",
            value: function(e) {
                if (this._hlsErrorInfo.hlsError) {
                    this._hlsErrorInfo.hlsError = !1,
                    this._hlsErrorInfo.hlsErrorCount = 0;
                    var t = this.checkTimeout();
                    this._timeoutReload(t, e, "hls")
                }
                this._hlsErrorData = null,
                window.clearTimeout(this._hlsErrorInfo.timer),
                this._hlsErrorInfo.timer = null
            }
        }, {
            key: "_timeoutReload",
            value: function(e, t, n, i) {
                e && this.player.reload(),
                this.updateCheckTime(),
                this._reloadCount > 2 || i ? this.showError(n, t) : (this._reloadCount++,
                this.player.reload())
            }
        }, {
            key: "showError",
            value: function(e, t) {
                this._hlsErrorInfo.hlsErrorCount = 0;
                var n = {
                    type: e,
                    supportType: this.player.getSupportType(),
                    data: t
                };
                this.player.emit(l.MessageConfig["player.error"], n),
                this.player.onError();
                var i = {
                    report_type: 4,
                    cdn_url: t.url ? t.url : t.frag && t.frag.relurl ? t.frag.relurl : t.context && t.context.url ? t.context.url : ""
                };
                this.player._accsService && this.player._accsService.send(2, i),
                this._hlsErrorInfo.hlsError = !1
            }
        }]),
        e
    }();
    t.default = h
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(9)
      , u = i(l)
      , d = n(45)
      , c = i(d)
      , h = function() {
        function e(t) {
            var n = this;
            if ((0,
            a.default)(this, e),
            this.container = t.container,
            this.isfullScreen = !1,
            this.fullScreenParentDom = this.container.parentElement,
            this.fullScreenNextDom = null,
            this.playVideo = null,
            this.innerScreen = !1,
            this.host = t.host,
            this.enableFullscreenScroll = t.enableFullscreenScroll,
            this.enableFullscreenScroll) {
                var i = !0;
                this.onscroll = function() {
                    i && (i = !1,
                    setTimeout(function() {
                        i = !0,
                        0 === (document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop) && (document.body.style.overflow = "hidden")
                    }, 100))
                }
                ,
                t.host.on(c.default.dashboardStateChange, function(e) {
                    if (n.isfullScreen) {
                        var t = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
                        e ? (t < window.innerHeight && (n.lastHideScrollTop = t),
                        n.hideScroller()) : t > 0 && n.showScroller()
                    }
                })
            }
        }
        return (0,
        s.default)(e, [{
            key: "_bindMouseWheelEvent",
            value: function(e) {
                this._onmousewheel = function(t) {
                    var n = void 0 !== t.wheelDelta ? t.wheelDelta : -t.detail;
                    e(n)
                }
                ,
                "onmousewheel"in document.body ? document.body.addEventListener("mousewheel", this._onmousewheel) : document.body.addEventListener("DOMMouseScroll", this._onmousewheel)
            }
        }, {
            key: "_clearMouseWheelEvent",
            value: function() {
                "onmousewheel"in document.body ? document.body.removeEventListener("mousewheel", this._onmousewheel) : document.body.removeEventListener("DOMMouseScroll", this._onmousewheel)
            }
        }, {
            key: "fullScreenInPage",
            value: function() {
                this.bodyOriginalOverflow = getComputedStyle(document.body).overflow,
                document.body.style.overflow = "hidden",
                this.innerScreen = !0,
                this.findPlayingVideo(),
                this.fullScreenNextDom = this.getNextElementSibling(this.container),
                u.default.addClass(this.container, "youku_player_fullpage"),
                this.host.global.config.TeslaEnv && window.screen.height < window.screen.width && (this.container.style = "bottom: 42px !important;"),
                "BODY" !== this.fullScreenParentDom.tagName && document.body.appendChild(this.container),
                this.playVideo && (this.playVideo.play(),
                this.playVideo = null)
            }
        }, {
            key: "exitFullscreenInPage",
            value: function() {
                this.innerScreen && (this.resetScroller(),
                u.default.removeClass(this.container, "youku_player_fullpage"),
                this.host.global.config.TeslaEnv && window.screen.height < window.screen.width && (this.container.style = ""),
                this.findPlayingVideo(),
                "BODY" !== this.fullScreenParentDom.tagName && (this.fullScreenNextDom ? this.fullScreenParentDom.insertBefore(this.container, this.fullScreenNextDom) : this.fullScreenParentDom.appendChild(this.container)),
                this.playVideo && (this.playVideo.play(),
                this.playVideo = null))
            }
        }, {
            key: "getNextElementSibling",
            value: function(e) {
                return e.nextElementSibling ? e.nextElementSibling : null
            }
        }, {
            key: "findPlayingVideo",
            value: function() {
                var e = this.container.getElementsByTagName("video");
                if (e && e.length > 0)
                    for (var t = 0, n = e.length; t < n; t++)
                        if (!e[t].paused) {
                            this.playVideo = e[t];
                            break
                        }
            }
        }, {
            key: "showScroller",
            value: function() {
                this.lastHideScrollTop = null,
                document.body.style.overflowY = "overlay",
                "overlay" !== document.body.style.overflowY && (document.body.style.overflowY = "auto"),
                document.body.style.overflowX = "hidden",
                document.body.style.setProperty("-ms-overflow-style", "auto")
            }
        }, {
            key: "hideScroller",
            value: function() {
                document.body.style.overflow = "hidden !important",
                document.body.style.overflowY = "hidden",
                document.body.style.setProperty("-ms-overflow-style", "none")
            }
        }, {
            key: "resetScroller",
            value: function() {
                document.body.style.overflow = this.bodyOriginalOverflow || "auto"
            }
        }, {
            key: "fullScreen",
            value: function() {
                var e = this;
                u.default.addClass(this.container, "youku_player_prefullscreen"),
                window.scrollTo(0, 0),
                this._requestFullScreen(),
                this.bodyOriginalOverflow = getComputedStyle(document.body).overflow,
                document.body.style.overflow = "hidden",
                this.enableFullscreenScroll && (clearTimeout(this.fullscreenTime),
                this.fullscreenTime = setTimeout(function() {
                    e.isfullScreen = !0,
                    e._bindMouseWheelEvent(function(t) {
                        var n = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
                        (t < 0 || e.lastHideScrollTop > 0 || n > 0) && e.showScroller()
                    }),
                    window.addEventListener("scroll", e.onscroll),
                    e.fullScreenNextDom = e.getNextElementSibling(e.container),
                    e.findPlayingVideo(),
                    e.container !== document.body.firstChild && (document.body.insertBefore(e.container, document.body.firstChild),
                    e.playVideo && (e.playVideo.play(),
                    e.playVideo = null)),
                    e.playVideo && (e.playVideo.play(),
                    e.playVideo = null),
                    u.default.removeClass(e.container, "youku_player_prefullscreen"),
                    u.default.addClass(e.container, "youku_player_fullscreen")
                }, 200))
            }
        }, {
            key: "_requestFullScreen",
            value: function() {
                if (document.documentElement.requestFullscreen)
                    document.documentElement.requestFullscreen();
                else if (document.documentElement.webkitRequestFullscreen)
                    document.documentElement.webkitRequestFullscreen();
                else if (document.documentElement.mozRequestFullScreen)
                    document.documentElement.mozRequestFullScreen();
                else if (document.documentElement.msRequestFullscreen)
                    document.documentElement.msRequestFullscreen();
                else
                    try {
                        if (window.ActiveXObject) {
                            var e = new window.ActiveXObject("WScript.Shell");
                            e.SendKeys("{F11}")
                        } else
                            console.log("not support fullscreen")
                    } catch (e) {
                        console.log("not support fullscreen")
                    }
            }
        }, {
            key: "exitFullscreen",
            value: function() {
                document.exitFullscreen ? document.fullscreenElement && document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : console.log("exit fullscreen failed"),
                this.isfullScreen = !1,
                u.default.removeClass(this.container, "youku_player_prefullscreen"),
                this.container.style.height = "",
                this.resetScroller(),
                this.enableFullscreenScroll && (this._clearMouseWheelEvent(),
                window.removeEventListener("scroll", this.onscroll),
                this.findPlayingVideo(),
                "BODY" !== this.fullScreenParentDom.tagName && (this.fullScreenNextDom ? this.fullScreenNextDom.parentNode !== this.fullScreenParentDom ? this.fullScreenParentDom.firstChild ? this.fullScreenParentDom.insertBefore(this.container, this.fullScreenParentDom.firstChild) : this.fullScreenParentDom.appendChild(this.container) : this.fullScreenParentDom.insertBefore(this.container, this.fullScreenNextDom) : this.fullScreenParentDom.appendChild(this.container),
                this.playVideo && (this.playVideo.play(),
                this.playVideo = null)),
                u.default.removeClass(this.container, "youku_player_fullscreen"))
            }
        }]),
        e
    }();
    t.default = h
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    function r(e) {
        e.preventDefault(),
        window.event && (window.event.returnValue = !1,
        window.event.cancelBubble = !0)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var a = n(21)
      , o = i(a)
      , s = n(0)
      , l = i(s)
      , u = n(1)
      , d = i(u)
      , c = function() {
        function e(t, n, i) {
            var r = this;
            (0,
            l.default)(this, e),
            this._player = t,
            this._container = n,
            this.blurHandler = this.blurHandler.bind(this),
            this.focusHandler = this.focusHandler.bind(this),
            this.registerEvents(),
            this.isFocus = !1,
            this.keyConfig = i && i.Keyboard ? i.Keyboard : {},
            this.keyManager = new p,
            this.keyManager.bindEvents(),
            this.keyManager.onPress(p.KEY.ESC, function() {
                r._player.global.playerState.webFullscreen && !r._player.global.config.simpleMode ? r._player.exitWebFullScreen() : r._player.global.playerState.fullscreen && r._player.exitFullscreen()
            }),
            this.keyManager.onPress(p.KEY.SPACE, function() {
                r._player.switchPlayPause()
            }),
            this.keyManager.onPress(p.KEY.UP, function() {
                r._player.upVolume()
            }, !0).check(function() {
                return !(!r._player.global.playerState.fullscreen && !r._player.global.playerState.webFullscreen) || r.isFocus
            }),
            this.keyManager.onPress(p.KEY.DOWN, function() {
                r._player.downVolume()
            }, !0).check(function() {
                return !(!r._player.global.playerState.fullscreen && !r._player.global.playerState.webFullscreen) || r.isFocus
            }),
            this.keyManager.onHold(p.KEY.RIGHT, 300, function() {
                r._player.fastForward()
            }, function() {
                r._player.cancelFastForward()
            }),
            this.keyManager.onPress(p.KEY.RIGHT, function() {
                r._player.forwardPlay()
            }),
            this.keyManager.onPress(p.KEY.LEFT, function() {
                r._player.backPlay()
            })
        }
        return (0,
        d.default)(e, [{
            key: "blurHandler",
            value: function() {
                this.isFocus = !1
            }
        }, {
            key: "focusHandler",
            value: function() {
                this.isFocus = !0
            }
        }, {
            key: "registerEvents",
            value: function() {
                this._container.addEventListener("blur", this.blurHandler),
                this._container.addEventListener("focus", this.focusHandler)
            }
        }, {
            key: "destroy",
            value: function() {
                this._container.removeEventListener("blur", this.blurHandler),
                this._container.removeEventListener("focus", this.focusHandler),
                this.keyManager.clear(),
                this.keyManager.destroy()
            }
        }]),
        e
    }();
    t.default = c;
    var h = function() {
        function e(t) {
            var n = t.key
              , i = t.onStart
              , r = t.onEnd
              , a = t.delay
              , o = t.continuous;
            (0,
            l.default)(this, e),
            this.key = n,
            this.onStart = i,
            this.onEnd = r,
            this.delay = a,
            this.continuous = o
        }
        return (0,
        d.default)(e, [{
            key: "check",
            value: function(e) {
                this.checker = e
            }
        }, {
            key: "fire",
            value: function(e) {
                this.checker && !this.checker() || (r(e),
                this.launched && !this.continuous || (this.launched = !0,
                this.onStart()))
            }
        }, {
            key: "start",
            value: function(e) {
                var t = this;
                this.checker && !this.checker() || (r(e),
                this.launched || this.launching || (this.launching = !0,
                this.timer = setTimeout(function() {
                    t.launched = !0,
                    t.onStart && t.onStart()
                }, this.delay)))
            }
        }, {
            key: "end",
            value: function(e) {
                return clearTimeout(this.timer),
                this.launching = !1,
                !!this.launched && (this.launched = !1,
                e && r(e),
                this.onEnd && this.onEnd(),
                !0)
            }
        }]),
        e
    }()
      , p = function() {
        function e() {
            (0,
            l.default)(this, e),
            this.config = {
                press: {},
                hold: {}
            }
        }
        return (0,
        d.default)(e, [{
            key: "bindEvents",
            value: function() {
                var e = this;
                this._onKeyDown = function(t) {
                    if (/input|textarea/i.test(t.target.tagName))
                        return !1;
                    var n = t.keyCode;
                    e.config.press[n] && !e.config.hold[n] ? e.config.press[n].fire(t) : e.config.hold[n] && e.config.hold[n].start(t)
                }
                ,
                this._onKeyUp = function(t) {
                    if (/input|textarea/i.test(t.target.tagName))
                        return !1;
                    var n = t.keyCode;
                    if (e.config.hold[n]) {
                        var i = e.config.hold[n].end(t);
                        e.config.press[n] && !i && e.config.press[n].fire(t)
                    }
                    e.config.press[n] && e.config.press[n].end(t)
                }
                ,
                window.addEventListener("blur", function() {
                    (0,
                    o.default)(e.config.hold).forEach(function(t) {
                        e.config.hold[t].end()
                    })
                }),
                document.addEventListener("keydown", this._onKeyDown),
                document.addEventListener("keyup", this._onKeyUp)
            }
        }, {
            key: "onPress",
            value: function(e, t, n) {
                var i = new h({
                    key: e,
                    onStart: t,
                    continuous: n
                });
                return this.config.press[e] = i,
                i
            }
        }, {
            key: "onHold",
            value: function(e, t, n, i) {
                var r = new h({
                    key: e,
                    onStart: n,
                    onEnd: i,
                    delay: t
                });
                return this.config.hold[e] = r,
                r
            }
        }, {
            key: "clear",
            value: function(e, t) {
                e && !t ? (delete this.config.hold[e],
                delete this.config.press[e]) : e && t ? delete this.config[t][e] : this.config = {
                    press: {},
                    hold: {}
                }
            }
        }, {
            key: "destroy",
            value: function() {
                document.removeEventListener("keydown", this._onKeyDown),
                document.removeEventListener("keyup", this._onKeyUp)
            }
        }]),
        e
    }();
    p.KEY = {
        ESC: 27,
        SPACE: 32,
        UP: 38,
        DOWN: 40,
        LEFT: 37,
        RIGHT: 39
    }
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(41)
      , s = i(o)
      , l = n(40)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(208)
      , m = n(210)
      , y = i(m)
      , g = n(19)
      , v = i(g)
      , _ = n(14)
      , b = i(_)
      , k = n(8)
      , S = i(k)
      , E = n(17)
      , w = i(E)
      , x = n(188)
      , T = i(x)
      , A = n(12)
      , L = n(114);
    n(143);
    var C = n(65)
      , D = i(C)
      , P = n(206)
      , R = i(P)
      , I = n(72)
      , M = i(I)
      , O = n(202)
      , N = i(O)
      , B = n(45)
      , F = i(B)
      , U = n(33)
      , j = n(6)
      , V = n(183)
      , H = n(9)
      , q = i(H)
      , z = n(201)
      , Y = i(z)
      , G = n(98)
      , K = i(G)
      , W = n(205)
      , X = i(W)
      , Q = n(113)
      , J = i(Q)
      , Z = n(200)
      , $ = i(Z)
      , ee = n(207)
      , te = i(ee)
      , ne = n(109)
      , ie = i(ne)
      , re = n(43)
      , ae = i(re)
      , oe = n(23)
      , se = n(204)
      , le = i(se)
      , ue = location.protocol
      , de = /Tesla\//.test(navigator.userAgent)
      , ce = (0,
    j.getParamFromUrl)(location.url)
      , he = function() {
        function e(t, n) {
            var i = this;
            if ((0,
            c.default)(this, e),
            window.Browser = U.Browser,
            this.container = t,
            this._emitter = new D.default.EventEmitter,
            this._emitter.setMaxListeners(50),
            de && (n.p2p = 0),
            this.global = new A.Global(n,this._emitter),
            this.version = this.global.version,
            this._initDom(),
            this._uiManage = new R.default(this.global,this.container,this),
            this._initLog(),
            this._service = new f.ServiceManager(this.global),
            this._accsService = null,
            this._adplugin = de ? null : M.default.create(this.global),
            this._ykadplugin = de ? null : new te.default(this.global),
            this._errorControl = new $.default({
                player: this,
                global: this.global
            }),
            this.xass = new le.default({
                player: this,
                global: this.global
            }),
            U.Browser.isIE && (this.global.initConfig.enableFullscreenScroll = !1),
            this._fullScreenPlugin = new Y.default({
                container: this.container,
                host: this,
                enableFullscreenScroll: this.global.initConfig.enableFullscreenScroll
            }),
            this._adplugin && this._createAdParam(),
            !J.default.canUseHTML5Player())
                return this.emit("notesupport", {
                    type: "notesupport"
                }),
                !1;
            this.browserSupportLevel = this.global.browserSupportLevel = this._checkBrowserSupportLevel(this.global.initConfig.chromeVersion),
            /support_type=mp4/.test(location.search) ? (this.setSupportType("mp4"),
            this.browserSupportLevel = this.global.browserSupportLevel = 0) : /support_type=m3u8/.test(location.search) && this.setSupportType("m3u8"),
            2 === this.browserSupportLevel && (this.global.enableAutoLevel = 0),
            this._service.on(v.default.NET_STATUS, function(e) {
                i._onServiceNetstatus(e)
            }),
            this._ykadplugin && this._ykadplugin.on(v.default.NET_STATUS, function(e) {
                i.onAdEvent(e)
            }),
            this.global.mediaData.mediaId && this._service.initialize(),
            this.loginStatusBind()
        }
        return (0,
        p.default)(e, [{
            key: "onAdEvent",
            value: function(e) {
                switch (e.code) {
                case b.default.AD_STATE_CHANGE:
                    switch (e.state) {
                    case I.ADState.CUTPLAYING:
                        this.onCUTAdPlay(e);
                        break;
                    case I.ADState.END:
                        this.onCUTAdend(e)
                    }
                    break;
                default:
                    this.emit(e.code, e.data)
                }
            }
        }, {
            key: "_adBootstrap",
            value: function() {
                var e = void 0;
                this.global.ups && this.global.ups.videoData && (e = -1 !== this.global.ups.videoData.type.indexOf("politics_sensitive")),
                e || de ? (this._adplugin = null,
                this.adThaw({
                    type: I.ADType.FRONT
                })) : this._initAdPlugin(),
                this.onAdReady()
            }
        }, {
            key: "_createAdParam",
            value: function() {
                this.global.initConfig.fullScreen = this.global.playerState.fullscreen,
                this.global.initConfig.quality = this.global.mediaData.quality,
                this.global.adparam = M.default.invoke(this._adplugin, "getRequestParam", this.global.initConfig),
                this.global.adparam && this.global.adparam.vs && (this.global.adparam.avs = this.global.adparam.vs)
            }
        }, {
            key: "_initDom",
            value: function() {
                this.global.config.height && this.global.config.width ? (this.container.style.width = this.global.config.width + "px",
                this.container.style.height = this.global.config.height + "px") : this.global.config = {
                    height: this.container.offsetHeight,
                    width: this.container.offsetWidth,
                    isBlockNote: !0
                },
                this._playerfilm = document.createElement("div"),
                this._playerfilm.className = "youku-film-player",
                q.default.addClass(this.container, "youku-player"),
                this.global.config.isTudou && q.default.addClass(this.container, "tudou-player"),
                this.container.tabIndex = -1,
                this.container.appendChild(this._playerfilm),
                this._eventLogListener = new X.default({
                    container: this.container,
                    emitter: this._emitter,
                    global: this.global
                })
            }
        }, {
            key: "_onServiceNetstatus",
            value: function(e) {
                if (this._log && this._log.onNetStatus(e),
                e.level === v.default.ERROR) {
                    if (this.global && this.global.playerState && "deal" === this.global.playerState.accUpsState)
                        return this._uiManage.hideLoading(),
                        void this._sendAccLog(99, {}, 501);
                    if (this.global.ups && this.global.ups.errorData)
                        return void this._uiManage.setErrorData(this.global.ups.errorData);
                    var t = "";
                    return e.data.errorCode && (t = e.data.errorCode),
                    void (e.data && e.data.upsData ? this._uiManage.setErrorData(t, 0, e.data.upsData) : t && this._uiManage.setErrorData(t, 1, e.data))
                }
                switch (this.global.emit(e.code, {
                    code: e.code,
                    data: e.data
                }),
                e.code) {
                case b.default.SERVICE_IS_READY:
                    this._upsService = new f.UpsService(this.global,this),
                    this._service.addSyncService(new f.CustomService(this.global)),
                    this._service.addSyncService(new f.CnaService(this.global)),
                    this._service.addSyncService(this._upsService),
                    this._service.addSyncService(new f.PlayLogService(this.global)),
                    this._service.addSyncService(new f.ErrorService(this.global)),
                    this.emit(I.ADEvents.ADPLUGIN_STATE_CHANGE, {
                        state: I.ADState.SERVICESTART,
                        type: I.ADType.FRONT
                    }),
                    this._service.start();
                    break;
                case b.default.SERVICE_ALL_COMPLETE:
                    !this.global.ups || this.global.ups.errorData && 0 !== this.global.ups.errorData.code || (this._hadSetCvs = 0,
                    this.global.h265 = this.h265CanUse ? 1 : 0,
                    this._player ? this._resetPlayer() : this._init(),
                    this.emit(I.ADEvents.ADPLUGIN_STATE_CHANGE, {
                        state: I.ADState.SERVICEEND,
                        type: I.ADType.FRONT
                    }),
                    this._accsService && this._accsService.start());
                    break;
                case b.default.SERVICE_DATA_ERROR:
                    if ("ups" !== e.data.id)
                        return;
                    this.global.ups && this.global.ups.errorData && (this.emit(A.MessageConfig["player.ready"], {}),
                    this.global.initConfig.events && this.global.initConfig.events.onReady && this.global.initConfig.events.onReady(),
                    this._uiManage.setErrorData(this.global.ups.errorData))
                }
                e.level !== v.default.NOTE || this._is_start || this.start()
            }
        }, {
            key: "_degrade264",
            value: function() {
                this.global.cycleData.retry = !0,
                this.global.playerState = {
                    state: A.playerState.RELOADING
                },
                this.global.config.reload++,
                this._errorControl.reset(),
                this._uiManage.showLoading(),
                this.global.setWaitingType("changesource"),
                this.global.waitingInfo.state = "changesource",
                this._resetPlayer()
            }
        }, {
            key: "_init",
            value: function() {
                function e() {
                    return t.apply(this, arguments)
                }
                var t = (0,
                u.default)(s.default.mark(function e() {
                    return s.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return this.setSupportType(this._getSupportType()),
                                e.next = 3,
                                this.global.deal(this.forceDegradeToMP4);
                            case 3:
                                this._createPlayer(),
                                this._initServiceEvent(),
                                (0,
                                j.printLog)("_init _initAdPlugin this._supportType:" + this._supportType + " PROTOCOL:" + ue),
                                this._adBootstrap(),
                                this.global.config.simpleMode && this.webFullScreen();
                            case 8:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "_showmethemoney",
            value: function(e) {
                window[e.replace(/../g, function(e) {
                    return String.fromCharCode(parseInt(e, 21))
                })] = new Uint8Array(e.split("").map(function(e) {
                    return Math.round(e.charCodeAt(0) * Math.random() * 2)
                }))
            }
        }, {
            key: "_getDecodeKey",
            value: function(e) {
                var t = e.encryptR_server
                  , n = e.stream_ext ? e.stream_ext.copyright_key : null
                  , i = null;
                return this.global.initConfig.isSupportDRM && t && n && window._sce_dlgtqred && "function" == typeof window._sce_dlgtqred && (i = window._sce_dlgtqred(this.global.R1, t, n),
                this._showmethemoney("4b4g59543c4h5g29"),
                this._showmethemoney("4b4b4b4b4k4h5f32")),
                i
            }
        }, {
            key: "_geneForbidResolution",
            value: function() {
                var e = this.global.ups && this.global.ups._vipData;
                return this.global.ups.userData && this.global.ups.userData.uid ? e && e.hd3 ? this.h265CanUse ? [] : ["mp5sd", "mp5hd", "mp5hd2v2", "mp5hd2", "mp5hd3v2", "mp5hd3", "mp5hd4"] : this.h265CanUse ? ["mp5hd2v2", "mp5hd2", "mp5hd3v2", "mp5hd3", "mp5hd4"] : ["mp4hd3v2", "mp4hd3"] : this.h265CanUse ? ["mp5hd2v2", "mp5hd2", "mp5hd3v2", "mp5hd3", "mp5hd4"] : ["mp4hd2v2", "mp4hd2", "mp4hd3v2", "mp4hd3"]
            }
        }, {
            key: "_h265Enable",
            value: function() {
                if (!window.H265Player || !window.H265Player.isSupported())
                    return !1;
                if (!1 === this._h265Enable.allowed)
                    return !1;
                if (void 0 === this._supportType) {
                    var e = this._getSupportType();
                    this.setSupportType(e)
                }
                if ("hls" !== this._supportType)
                    return !1;
                if (!this.global.ups)
                    return !1;
                if (this.isHollywoodDrm())
                    return !1;
                if ("copyrightDRM" === this.global.ups.drmType)
                    return !1;
                var t = this.global.ups && this.global.ups.getStreamByQuality(this.global.mediaData.language, "540p", 1, "h265");
                if (!t || !t.stream_type)
                    return !1;
                var n = A.QUALITY[this.global.mediaData.quality] - 1
                  , i = this.global.ups._vipData
                  , r = window.H265Player.isSupportedHd2();
                return !(i && i.hd3 || -1 === [-1, 0, 1, r ? 2 : 0].indexOf(n)) || (-1 !== [0, 1, r ? 2 : 0].indexOf(n) || (this._h265Enable.allowed = !1,
                !1))
            }
        }, {
            key: "_adaptPlayerConfig",
            value: function(e) {
                var t = this
                  , n = {
                    container: this._playerfilm,
                    useH265: this.h265CanUse
                };
                n.duration = e.milliseconds_video / 1e3,
                n.ui = {};
                var i = this
                  , r = {
                    install: function(e, t) {
                        (0,
                        a.default)(t, {
                            global: i.global,
                            ykplayer: i
                        })
                    }
                };
                n.component = this.global.initConfig.component ? this.global.initConfig.component : {},
                n.component.global = r;
                var o = this._getDecodeKey(e)
                  , s = void 0;
                e.m3u8_url && (s = "https:" === ue ? e.m3u8_url.replace("http://", "https://") : e.m3u8_url),
                ce && ce.m3u8test && ce.m3u8host && (s = s && s.replace("pl-ali.youku.com", ce.m3u8host));
                var l = e.segs;
                if ("hls" === this._supportType ? (n.source = e.m3u8_source || s,
                n.type = "m3u8",
                n.decoder = !0) : "m3u8" === this._supportType ? (n.source = s,
                n.type = "m3u8") : (l = (0,
                j.changeCDNDomain)(l, "https:"),
                n.source = l,
                n.type = "mp4"),
                n.halfFullscreenIcon = {
                    onHalfFullscreen: function() {
                        t.exitFullscreen()
                    },
                    exitFullscreenComplete: function() {
                        t.exitFullscreenComplete()
                    }
                },
                this.global.initConfig.fullscreenIcon ? (n.fullscreenIcon = this.global.initConfig.fullscreenIcon,
                n.fullscreenIcon.onFullscreen = function() {
                    t.fullScreen()
                }
                ) : n.fullscreenIcon = {
                    onFullscreen: function() {
                        t.fullScreen()
                    }
                },
                n.playBackRateInfo = this.global.initConfig.playBackRateInfo ? this.global.initConfig.playBackRateInfo : {
                    show: !0
                },
                this._ykadplugin) {
                    var u = this._ykadplugin.initDotInfo();
                    this.global.setDots(u)
                }
                n.dashboard = {
                    show: function() {
                        A.CLASS_NAME.ifHide && (A.CLASS_NAME.ifHide = !1,
                        i._emitter.emit(F.default.dashboardStateChange, !1)),
                        q.default.removeClass(i.container, A.CLASS_NAME.hide)
                    },
                    hide: function() {
                        A.CLASS_NAME.ifHide || (A.CLASS_NAME.ifHide = !0,
                        i._emitter.emit(F.default.dashboardStateChange, !0)),
                        q.default.addClass(i.container, A.CLASS_NAME.hide)
                    },
                    isForceHide: !0
                };
                var d = this.global.getPreViewData();
                d && d.preview && d.preview.thumb && d.preview.thumb.length > 0 && (n.SinglePreviewLayer = this.global.getPreViewData()),
                n.progress = {},
                this.global.ups.trialData && this.global.ups.trialData.time > 0 ? n.progress.maxSeekTime = this.global.ups.trialData.time : n.progress.maxSeekTime = this.global.config.duration;
                var c = this.global.getAdPoints();
                c && c.length > 0 && (n.progress.highlights = c);
                var h = e.stream_ext ? e.stream_ext.uri : null
                  , p = this.h265CanUse;
                return n.hlsconfig = {
                    h265: p,
                    maxBufferLength: 60,
                    maxFlyBufferLength: p ? 120 : 300,
                    p2p: 1 === this.global.isP2P && !p && !this.isHollywoodDrm(),
                    sessionId: this.global.config.playersid,
                    licenseServer: h,
                    queueLoad: !!this.global.enableQueLoad,
                    drmType: e.drm_type,
                    p2pClientId: "20000011005abb70c3b0976b0d3742c428fb91586510c090a9",
                    domainSet: this.global.enableSwitch ? ["valipl.cp31.ott.cibntv.net", "valipl-vip.cp31.ott.cibntv.net"] : [],
                    uid: w.default.getCna(),
                    vid: this.global.mediaData.mediaId,
                    resolutionToFilter: this._geneForbidResolution()
                },
                n.hlsconfig.decodeKey = o || null,
                this.global.initConfig.crossorigin && (n.crossorigin = this.global.initConfig.crossorigin),
                n.autoHide = 1e3,
                n.videoLimits = this.global.initConfig.limitVideo || parseInt(this.global.playerConfig.videocount, 10),
                U.Browser.isIE && U.Browser.version < 10 && (n.supportFullscreen = !1),
                n
            }
        }, {
            key: "_destroyPlayer",
            value: function() {
                if (this._player) {
                    this._player.manage.destroy();
                    var e = this._player.manage.video;
                    e && e.parentNode && e.parentNode.removeChild(e),
                    this._player.control.destroy(),
                    this._player = null
                }
            }
        }, {
            key: "_getStream",
            value: function(e, t) {
                var n = this.global.ups.getStreamByQuality(e, t, 1, this.h265CanUse ? "h265" : "h264");
                return this.h265CanUse && !n.m3u8_url ? (this.h265CanUse = !1,
                this._degrade264(),
                {
                    degrade264: !0
                }) : n
            }
        }, {
            key: "_createPlayer",
            value: function() {
                var e = this
                  , t = this._getStream(this.global.mediaData.language, this.global.mediaData.quality);
                if (!t || !t.degrade264) {
                    "mp4" === this._supportType && 0 === t.segs.filter(function(e) {
                        return e.src
                    }).length && (t = this.global.ups.getMp4StreamByQuality(this.global.mediaData.language, this.global.mediaData.quality, 1),
                    this.global.mediaData.languange = t.languange,
                    this.global.mediaData.quality = A.STREAM_TYPE_MAP[t.stream_type]);
                    var n = this._adaptPlayerConfig(t);
                    this._destroyPlayer(),
                    this._player = new L.PcPlayer(n),
                    this._player.manage.hlsconfig.decodeKey = [],
                    this._player.control.hls.config.on("networkAgent", function(t) {
                        e.global.isP2P = "p2p" === t ? 1 : "degrade" === t ? -1 : -2
                    }),
                    this.global.initConfig.isMuted && this.setMuted(!0),
                    this.global.config.rate && this.setRate(this.global.config.rate),
                    this.xass.resolveSubtitle(t),
                    this._accsService && this._accsService.bindPlayer(this),
                    this.global.setWaitingType("init"),
                    this._keyBoard && this._keyBoard.destroy(),
                    this._keyBoard = new N.default(this,this.container,this.global.initConfig),
                    this._uiManage.initPlayerUI(this._player.ui),
                    this._initPlayerEvent(),
                    this._eventLogListener.init(),
                    setTimeout(function() {
                        e.emit(F.default.playerCoreReady)
                    }, 500)
                }
            }
        }, {
            key: "_resetPlayer",
            value: function(e) {
                var t = this
                  , n = this._player && this._player.manage.video
                  , i = function() {
                    t._playerfilm.innerHTML = "",
                    t._createPlayer(),
                    t._player.control.emit(L.PlayerEvents.fullscreen, t.global.playerState.fullscreen),
                    t.global.cycleData.retry ? t.play() : ((0,
                    j.printLog)("_resetPlayer _initAdPlugin this._supportType:" + t._supportType + " PROTOCOL:" + ue),
                    t._adBootstrap())
                };
                e && (this.forceDegradeToMP4 = !0),
                this._uiManage.hidePreLayer(),
                this.setSupportType(this._getSupportType()),
                this.global.reset();
                var r = !(this.h265CanUse || n instanceof HTMLVideoElement)
                  , a = this.h265CanUse && n instanceof HTMLVideoElement;
                if (r || a)
                    return this.global.cycleData.seekTime = this.global.currentTime,
                    void i();
                this.global.playerState.state === A.playerState.RELOADING ? this.changeSource(this.global.mediaData.language, this.global.mediaData.quality) : i()
            }
        }, {
            key: "_initAdPlugin",
            value: function() {
                var e = null;
                this.global.ups._playlistData.ad && (e = {
                    ad: this.global.ups._playlistData.ad,
                    isUpsLoadAd: this.global.ups.upsData.pcad
                }),
                M.default.init(this._adplugin, {
                    player: this,
                    ui: this._player.ui,
                    upsData: this.global.ups,
                    data: e
                })
            }
        }, {
            key: "reset720PopConfig",
            value: function() {
                this.global.firstPlay = !0,
                this.global.hasShow720Pop = !1
            }
        }, {
            key: "reload",
            value: function(e) {
                this.reset720PopConfig(),
                this.lagTimer = void 0,
                this.global.cycleData.retry = !0,
                this.global.cycleData.seekTime = this.global.currentTime,
                this.global.playerState = {
                    state: A.playerState.RELOADING
                },
                this.global.config.reload++,
                this._createAdParam(),
                this._errorControl.reset(),
                this.emit(I.ADEvents.ADPLUGIN_STATE_CHANGE, {
                    state: I.ADState.SERVICESTART,
                    type: I.ADType.FRONT
                }),
                e && (this.forceDegradeToMP4 = !0,
                this._destroyPlayer()),
                this._service.restart(),
                this._uiManage.showLoading()
            }
        }, {
            key: "_initLog",
            value: function() {
                this._log = new T.default(this.global),
                this._log.init(this.global)
            }
        }, {
            key: "_initPlayerEvent",
            value: function() {
                var e = this;
                this._player.control.on("hlsError", function(t) {
                    if (console.warn("hlsError"),
                    e.h265CanUse)
                        return e.h265CanUse = !1,
                        void e._degrade264();
                    e._errorControl.triggerError("hls", t)
                }),
                this._player.control.on("canDegradation", function() {
                    setTimeout(function() {
                        e.h265CanUse = !1,
                        e._degrade264()
                    }, 50)
                }),
                this._player.control.hls.on(K.default.Events.MANIFEST_LOADED, function(t) {
                    e._hlsMainFileLoaded(t)
                }),
                this._player.control.hls.on(K.default.Events.LEVEL_CHANGED, function(t) {
                    e.global.mediaData.autoLevel = t
                }),
                this._player.control.on("error", function(t, n) {
                    console.warn("video error"),
                    e._errorControl.triggerError("video", t, n)
                }),
                this._player.control.on("video_seg_error", function(t) {
                    e._errorControl.triggerVideoSegError(t)
                }),
                this._player.control.on(L.PlayerEvents.waiting, function(t) {
                    e.emit(L.PlayerEvents.waiting, t),
                    !e._player.control._videoCore.video.seeking && e.global.ups.hasAutoLevel && (void 0 !== e.lagTimer ? (clearTimeout(e.lagTimer),
                    e.lagTimer = setTimeout(function() {
                        "auto" !== e.global.mediaData.quality && e.emit(A.MessageConfig["player.showInfo"], {
                            type: "information",
                            code: "N0023",
                            interval: -1
                        })
                    }, 3e3)) : e.lagTimer = null),
                    e.wakeUpLoading(!0)
                }),
                this._player.control.on(L.PlayerEvents.ratechange, function(t) {
                    e.emit(L.PlayerEvents.ratechange, t)
                }),
                this._player.control.on(L.PlayerEvents.abort, function(t) {
                    e.emit(L.PlayerEvents.abort, t)
                }),
                this._player.control.on(L.PlayerEvents.pause, function(t) {
                    e._player.control._videoCore.video.ended || e._onPause(t)
                }),
                this._player.control.on("webfullscreen", function(t) {
                    e.global.playerState = {
                        webFullscreen: t
                    },
                    M.default.invoke(e._adplugin, "fullscreen", t)
                }),
                this._player.control.on(L.PlayerEvents.fullscreen, function(t) {
                    e.global.playerState = {
                        fullscreen: t
                    },
                    e.emit(L.PlayerEvents.fullscreen, t),
                    M.default.invoke(e._adplugin, "fullscreen", t)
                }),
                this._player.control.on(L.PlayerEvents.play, function(t) {
                    e._onPlay(t)
                }),
                this._player.control.on(L.PlayerEvents.playing, function() {
                    clearTimeout(e.lagTimer),
                    e.emit(A.MessageConfig["player.hideInfo"]),
                    e.global.playerState.state !== A.playerState.CUTADPLAY && (e.global.playerState = {
                        state: A.playerState.PLAY
                    }),
                    e._player.ui.getComponent("HDRLayer").hide(),
                    e._player.ui.getComponent("FrameLayer").show(),
                    e.emit(L.PlayerEvents.playing, "")
                }),
                this._player.control.on(L.PlayerEvents.ended, function(t) {
                    if (e.isSafariDrm() && (e.global.playerState.state = A.playerState.END),
                    e.emit(L.PlayerEvents.ended, t),
                    e.global.trialData && e.global.trialData.time > 0)
                        e.adThaw({
                            type: I.ADType.END
                        });
                    else {
                        var n = {
                            continuePlay: e.global.config.continuePlay,
                            isSkip: e.global.config.skip
                        };
                        e._adplugin ? M.default.invoke(e._adplugin, "behindStart", n) : e._onEnd(t)
                    }
                }),
                this._player.control.on(L.PlayerEvents.timeupdate, function(t) {
                    if (e._onTimeupdate(t),
                    e.global.playerState.state === A.playerState.ADPLAY || e.global.playerState.state === A.playerState.END || e.global.playerState.state === A.playerState.RESETING || e.global.playerState.state === A.playerState.RELOADING)
                        return !1;
                    e.global.playerState.state === A.playerState.PLAY && e.ifNotShowVipToast() && e.global.mediaData.qualitysCode && ~e.global.mediaData.qualitysCode.indexOf("720p") && !e.global.ups.userData.uid && !e.global.hasShow720Pop && e.show720Pop()
                }),
                this._player.control.on(L.PlayerEvents.volumechange, function(t) {
                    e.global.playerState = {
                        volume: e._player.control._videoCore.video.volume,
                        muted: e._player.control._videoCore.video.muted || 0 === e._player.control._videoCore.video.volume
                    },
                    e.emit(L.PlayerEvents.volumechange, t),
                    M.default.invoke(e._adplugin, "volumechange", {
                        volume: e._player.control._videoCore.video.volume,
                        muted: e._player.control._videoCore.video.muted
                    })
                }),
                this._player.control.on(L.PlayerEvents.seeked, function(t) {
                    e._player.ui.getComponent("FrameLayer").show(),
                    U.Browser.isChrome || (e._player.ui.getComponent("HDRLayer").hide(),
                    clearTimeout(e.lagTimer),
                    e.emit(A.MessageConfig["player.hideInfo"])),
                    e.emit(L.PlayerEvents.seeked, t),
                    e.wakeUpLoading(!1),
                    M.default.invoke(e._adplugin, "seeked", t)
                }),
                this._player.control.on(L.PlayerEvents.loadstart, function() {
                    e.wakeUpLoading(!0)
                }),
                this._player.control.on(L.PlayerEvents.seeking, function(t) {
                    "play" === e.global.getWaitingType() && (e.global.setWaitingType("seek"),
                    e.wakeUpLoading(!0)),
                    e.global.waitingInfo.state = "seek",
                    e.emit(L.PlayerEvents.seeking, t),
                    M.default.invoke(e._adplugin, "seeking", t)
                }),
                this._player.control.on(L.PlayerEvents.canplay, function(t) {
                    e._uiManage.hidePreLayer(),
                    e._onCanplay(),
                    e.emit(L.PlayerEvents.canplay, t)
                }),
                this._player.control.on(L.PlayerEvents.progress, function(t) {
                    var n = t.event;
                    if (e.h265CanUse && !e._hadSetCvs && n) {
                        var i = !!(document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement);
                        e._hadSetCvs = 1;
                        var r = e._player.manage.video
                          , a = r.canvas;
                        if (!a)
                            return;
                        i ? n.width / n.height >= 16 / 9 ? (a.style.height = null,
                        a.style.width = "100%") : (a.style.height = "100%",
                        a.style.width = null) : n.width / n.height > 16 / 9 ? a.style.width = "100%" : a.style.height = "100%"
                    }
                }),
                this._player.control.on("safariAboart", function(t) {
                    e.emit("safariAboart", t)
                }),
                this._player.control.on("notAllowedError", function(t) {
                    e.emit("notAllowedError", t)
                })
            }
        }, {
            key: "activeDashboard",
            value: function() {
                if (this._player) {
                    this._player.ui.getComponent("dashboard").show(2500)
                }
            }
        }, {
            key: "holdDashboard",
            value: function() {
                if (this._player) {
                    var e = this._player.ui.getComponent("dashboard");
                    clearTimeout(e._hideTimeout),
                    e._args.autoHide = 1e7,
                    e.show(!0)
                }
            }
        }, {
            key: "releaseDashboard",
            value: function() {
                if (this._player) {
                    var e = this._player.ui.getComponent("dashboard");
                    e._args.autoHide = 1e3,
                    e.show(1e3)
                }
            }
        }, {
            key: "_hlsMainFileLoaded",
            value: function(e) {
                var t = ue
                  , n = e.currentLevel && e.currentLevel.details.segments || e.levels[0].details.segments || [];
                if (n.forEach(function(e) {
                    -1 === e.url.indexOf("/ad/") && -1 === e.url.indexOf("ccode=0902") || (e.isWedge = !0)
                }),
                "https:" === t && n.length > 0)
                    if ((0,
                    j.checkUrlIsDomain)(n[0].url))
                        (0,
                        j.changeCDNDomain)(n, "https:");
                    else {
                        (0,
                        j.printLog)("ts cdn domain is not ali cdn，degrade to multiVideo play"),
                        this.setSupportType(this._getSupportType()),
                        this.global.reset();
                        var i = this._player.control._videoCore.video;
                        i.src = "",
                        this._player.control.hls.detachMedia(i),
                        this._playerfilm.innerHTML = "",
                        this._createPlayer()
                    }
            }
        }, {
            key: "_onCanplay",
            value: function() {
                this.wakeUpLoading(!1),
                this._errorControl.reset(),
                this._ifCanPlay = !0;
                var e = this.global.cycleData.seekTime;
                if (e) {
                    var t = this._player.manage.video;
                    e = t ? Math.max(e, t.currentTime) : e
                }
                if (e > 0 && (this._player.control.seek(e),
                this.global.cycleData.seekTime = 0),
                !this._adplugin) {
                    if (this.enableUI(),
                    this.global.playerState.state === A.playerState.PAUSE)
                        return;
                    this._player.control.play()
                }
            }
        }, {
            key: "_onTimeupdate",
            value: function(e) {
                if (this.global.playerState.state !== A.playerState.RESETING && this.global.playerState.state !== A.playerState.RELOADING) {
                    this.global.setCurrentTime((1e3 * e.currentTime).toFixed(0) / 1e3),
                    this.xass.onTimeUpdate(this.global.actCurrentTime || e.currentTime),
                    M.default.invoke(this._adplugin, "timeUpdate", {
                        currentTime: e.currentTime,
                        actCurrentTime: this.global.actCurrentTime
                    }),
                    this.global.setBufferTime(this._player.control.getBufferTime());
                    var t = this.global.ups && this.global.ups.trialData;
                    if (t && t && e.currentTime >= t.time)
                        return this.global.playerState.state !== A.playerState.END && (this._player.control.seek(t.time),
                        this.global.playerState = {
                            state: A.playerState.END
                        },
                        this._player.control.pause(),
                        this.global.cycleData.isUserPause = !1,
                        this.emit(L.PlayerEvents.ended, e),
                        this.emit(F.default.onTrialEnd, e),
                        this._uiManage.hideLoading(),
                        !1);
                    this.skipTail(),
                    this.emit(L.PlayerEvents.timeupdate, {
                        currentTime: this.global.currentTime,
                        actCurrentTime: this.global.actCurrentTime,
                        dotData: this.global.dotData
                    })
                }
            }
        }, {
            key: "isSafariDrm",
            value: function() {
                return U.Browser.isMac && U.Browser.isSafari && this.isHollywoodDrm()
            }
        }, {
            key: "isHollywoodDrm",
            value: function() {
                var e = this.global.ups.drmType;
                return this.global.ups && ("cenc" === e || "cbcs" === e)
            }
        }, {
            key: "_onPlay",
            value: function() {
                if (this.wakeUpLoading(!1),
                !this.global.config.autoplay && !this.global.cycleData.isFront && this.global.playerState.state === A.playerState.READY)
                    return this._player.control.pause(),
                    M.default.invoke(this._adplugin, "frontStart"),
                    !1;
                if (this.global.playerState.state === A.playerState.END && (this.global.cycleData.hadStartPlay = !1,
                this.replay(),
                this.emit(A.MessageConfig["player.replay"]),
                this.global.initConfig.events && this.global.initConfig.events.onReplay && this.global.initConfig.events.onReplay()),
                this.global.playerState.state !== A.playerState.CUTADPLAY && (this.global.playerState = {
                    state: A.playerState.PLAY
                }),
                !this.global.cycleData.hadStartPlay) {
                    this._sendAccLog(1, {
                        report_type: 1
                    }, null, !0),
                    this.enableUI();
                    switch (this.global.getStartTime().type) {
                    case "skip":
                        this.skipHead();
                        break;
                    case "playlog":
                        this.skipLocalPlayRecord()
                    }
                    var e = this.global.getFirstPlayInfo();
                    this.emit(F.default.onPlayerStart, e)
                }
                this.global.initConfig.events && this.global.initConfig.events.onPlay && this.global.initConfig.events.onPlay({
                    ifFirst: !this.global.cycleData.hadStartPlay
                }),
                this.global.cycleData.isUserPause = !0,
                this.emit(L.PlayerEvents.play),
                M.default.invoke(this._adplugin, "play"),
                this.global.cycleData.hadStartPlay = !0
            }
        }, {
            key: "_onPause",
            value: function() {
                return this.wakeUpLoading(!1),
                !(!this.global.cycleData.isFront || this.global.playerState.state === A.playerState.ADPLAY || this.global.playerState.state === A.playerState.END || this.global.playerState.state === A.playerState.RESETING || this.global.playerState.state === A.playerState.RELOADING) && (this.global.playerState = {
                    state: A.playerState.PAUSE
                },
                this.global.initConfig.events && this.global.initConfig.events.onPause && this.global.initConfig.events.onPause(),
                this._isPause || (this._isPause = !0,
                this._lastCountedTime = (new Date).getTime()),
                this.emit(L.PlayerEvents.pause),
                this.global.cycleData.isUserPause ? void M.default.invoke(this._adplugin, "pause") : void (0,
                j.printLog)("onpause is not user trigger"))
            }
        }, {
            key: "_onEnd",
            value: function() {
                if (this.global.playerState.state === A.playerState.END)
                    return !1;
                if (this.global.playerState = {
                    state: A.playerState.END
                },
                this.global.config = {
                    playRecord: 0,
                    isBlockNote: !0
                },
                this.global.setCurrentTime(0),
                this.global.initConfig.events && this.global.initConfig.events.onEnd) {
                    var e = this.global.trialData && this.global.trialData.time > 0;
                    this.global.initConfig.events.onEnd(e)
                }
                if (this.global.ups.trialData && this.global.ups.trialData.time > 0)
                    return this._player.control.pause(),
                    this.global.cycleData.isUserPause = !1,
                    this.emit(F.default.onTrialEnd),
                    !1;
                var t = this.global.getNextInfo();
                this.emit(F.default.onPlayerComplete, t),
                this.global.config.loop ? this.replay() : this.global.config.continuePlay && this.global.programData.nextVid && (this.global.playerState.fullscreen || this.global.playerState.webFullscreen || this.global.config.isInnerPlay) && (this.emit(F.default.InnerPlayerPlayNext, t),
                this.playByVid({
                    vid: this.global.programData.nextVid,
                    rate: this.global.config.rate
                }))
            }
        }, {
            key: "onError",
            value: function() {
                this.global.playerState = {
                    state: A.playerState.ERROR
                },
                this.switchNormalScene()
            }
        }, {
            key: "adFreeze",
            value: function(e) {
                if ((0,
                j.printLog)("ad invoke positive pause", e),
                this.global.playerState = {
                    state: A.playerState.ADPLAY
                },
                this._player.control.pause(),
                this.global.cycleData.isUserPause = !1,
                this.disableUI(),
                e && e.data && e.data.totalAdCount > 0 && this.emit(F.default.onAdPlay, e),
                !this.global.initConfig.events)
                    return !1;
                switch (e.type) {
                case I.ADType.FRONT:
                    this.global.initConfig.events.onFrontAdPlay && this.global.initConfig.events.onFrontAdPlay();
                    break;
                case I.ADType.END:
                    this.global.initConfig.events.onEndAdPlay && this.global.initConfig.events.onEndAdPlay();
                    break;
                case I.ADType.STAND:
                case I.ADType.CONTENT:
                    this.global.initConfig.events.onStandAdPlay && this.global.initConfig.events.onStandAdPlay()
                }
            }
        }, {
            key: "getPlayerConfig",
            value: function() {
                var e = "540p";
                return this.global.mediaData && this.global.mediaData.quality && (e = this.global.mediaData.quality),
                "auto" === e && this.global.mediaData.autoLevel && (e = this.global.mediaData.autoLevel),
                {
                    quality: e
                }
            }
        }, {
            key: "adThaw",
            value: function(e) {
                if ((0,
                j.printLog)("ad invoke positive adThaw", e),
                this.global.playerState = {
                    state: A.playerState.ADEND
                },
                e.type === I.ADType.END)
                    return this.enableUI(),
                    void this._onEnd(e);
                if (e.type === I.ADType.FRONT) {
                    this.global.cycleData.isFront = !0,
                    e.state = I.ADState.END,
                    this.emit(I.ADEvents.ADPLUGIN_STATE_CHANGE, e),
                    "mini" === this.global.config.playScene && this.switchMiniScene(this.global.miniPosition);
                    try {
                        this.showLicenseInfo()
                    } catch (e) {
                        console.log("license error")
                    }
                } else
                    this.global.playerState = {
                        state: A.playerState.PLAY
                    };
                this.enableUI(),
                this._player.control.play(),
                e && e.data && e.data.totalAdCount > 0 && this.emit(F.default.onAdEnd, e)
            }
        }, {
            key: "wakeUpLoading",
            value: function(e, t) {
                if (this._player && this._player.ui) {
                    var n = this._player.ui.getComponent("LoadingLayer");
                    n && (e ? n.show(t) : n.hide())
                }
            }
        }, {
            key: "onAdReady",
            value: function(e) {
                this.emit(A.MessageConfig["player.ready"], e),
                this.global.initConfig.events && this.global.initConfig.events.onReady && this.global.initConfig.events.onReady(e),
                this.global.playerState = {
                    state: A.playerState.READY
                }
            }
        }, {
            key: "adMessage",
            value: function(e, t) {
                (0,
                j.printLog)("messageType::" + e, t);
                var n = void 0;
                switch (t.data && t.data.VID && this._ykadplugin && (n = this._ykadplugin.getCurrectdot(t.data.VID)),
                e) {
                case "abort":
                    this.onAdAbort(t);
                    break;
                case "cutStartplay":
                    this.onCUTAdPlay(n || t);
                    break;
                case "cutStartend":
                    this.onCUTAdend(n || t);
                    break;
                case "indexChange":
                    this.onAdChangeIndex(t)
                }
            }
        }, {
            key: "onAdPause",
            value: function() {
                this.global.playerState = {
                    state: A.playerState.ADPAUSE
                }
            }
        }, {
            key: "onCUTAdPlay",
            value: function(e) {
                (0,
                j.printLog)("onCUTAdPlay::currentTime：" + this.global.currentTime + "::actCurrentTime::" + this.global.actCurrentTime),
                this.global.playerState = {
                    state: A.playerState.CUTADPLAY
                },
                this.emit(F.default.onCutAdPlay, e)
            }
        }, {
            key: "onCUTAdend",
            value: function(e) {
                this.global.playerState = {
                    state: A.playerState.PLAY
                },
                this.emit(F.default.onCutAdEnd, e)
            }
        }, {
            key: "onAdAbort",
            value: function() {
                (0,
                j.printLog)("onAdAbort"),
                this.wakeUpLoading(!1),
                this.emit("notAllowedError")
            }
        }, {
            key: "onAdChangeIndex",
            value: function(e) {
                if (e.type === I.ADType.FRONT && 0 === e.index) {
                    var t = {
                        totalAdCount: e.totalCount,
                        pipCount: e.pipCount,
                        currentIndex: e.index
                    };
                    e.data = t,
                    e.state = I.ADState.PLAY,
                    this.emit(I.ADEvents.ADPLUGIN_STATE_CHANGE, e)
                }
                e.type === I.ADType.FRONT ? this.emit("playerpreadinit", e.pipList, e.index) : e.type === I.ADType.STAND || e.type === I.ADType.CONTENT ? this.emit("playerminadinit", e.pipList, e.index) : e.type === I.ADType.END && this.emit("playerlasteadinit", e.pipList, e.index)
            }
        }, {
            key: "changeStream",
            value: function() {
                var e = this.global.mediaData.language
                  , t = this.global.mediaData.quality
                  , n = this._getStream(e, t, 1);
                if (n && n.segs && this._player) {
                    this.global.cycleData.seekTime = this.global.currentTime;
                    var i = this._player.manage.video;
                    this.h265CanUse || "hls" !== this.getSupportType() || i instanceof HTMLVideoElement ? this.changeSource(e, t) : this._degrade264()
                }
            }
        }, {
            key: "_showQualityTips",
            value: function(e) {
                var t = this.global.ups && this.global.ups.userData
                  , n = "H0020";
                "1080p_hdr" === e && (n = "H0021"),
                "1080p" === e && (n = t && t.relaxVip ? "H0023" : "H0024"),
                this.emit(v.default.HINT, ie.default.getString(n, v.default.HINT, [oe.QualityNameMap[e]]))
            }
        }, {
            key: "_showQualityAnimate",
            value: function(e) {
                "1080p_hdr" === e ? this._player.ui.getComponent("HDRLayer").show() : "1080p_frame" === e ? this._player.ui.getComponent("FrameLayer").readyShow() : (this._player.ui.getComponent("FrameLayer").hide(),
                this._player.ui.getComponent("HDRLayer").hide(!0)),
                "auto" !== e ? this._player.ui.getComponent("QualityIcon").setCurrentLevel("") : (clearTimeout(this.lagTimer),
                this.emit(A.MessageConfig["player.hideInfo"]))
            }
        }, {
            key: "_initServiceEvent",
            value: function() {
                var e = this;
                this.on(S.default.SET_SUBTITLE, function(t) {
                    e.global.subtitleData.subtitle = t,
                    e.xass.setSubtitle(),
                    e.emit(v.default.HINT, ie.default.getString("H0019", v.default.HINT, [e.global.subtitleData.currentSubtitle.name]))
                }),
                this.on(S.default.SET_QUALITY, function(t) {
                    e.global.mediaData.quality = t,
                    e.changeStream(),
                    e.global.mediaData.quality === t && (e._showQualityTips(t),
                    e._showQualityAnimate(t))
                }),
                this.on(S.default.SET_LANGUAGE, function(t) {
                    e.global.mediaData.language = t,
                    e.changeStream(),
                    e.global.mediaData.language === t && e.emit(v.default.HINT, ie.default.getString("H0022", v.default.HINT, [ae.default.langCodeToCN(t)]))
                }),
                this.on(S.default.SUBSCRIBE, function() {
                    e.playerSubscribe()
                }),
                this.on(S.default.REPLAY, function() {
                    e.seek(0)
                }),
                this.on(A.MessageConfig["global.config"], function(t) {
                    void 0 !== t.continuePlay && e.emit(F.default.onPlayerSet, {
                        continuous: t.continuePlay ? 1 : 0
                    }),
                    t.skip && (e.skipHead(),
                    e.skipTail()),
                    t.hasOwnProperty("isBlockNote") || t.hasOwnProperty("volume") || e.emit(v.default.HINT, ie.default.getString("H0007")),
                    e.global.config = {
                        isBlockNote: !1
                    }
                })
            }
        }, {
            key: "_sendAccLog",
            value: function(e, t, n, i) {
                this._accsService && this._accsService.send(e, t, n, i)
            }
        }, {
            key: "_checkBrowserSupportLevel",
            value: function(e) {
                if (J.default.isSupportM3u8() && J.default.compareVersion(U.Browser.version, "10") < 0)
                    return 2;
                if (!J.default.canUseHTML5Player())
                    return -1;
                e = e || 49;
                var t = navigator.userAgent.toLowerCase()
                  , n = U.Browser.isChrome && J.default.compareVersion(U.Browser.version, e) < 0
                  , i = (t.indexOf("360ee") > -1 || t.indexOf("360se") > -1) && n
                  , r = U.Browser.isIE || t.indexOf("msie") > -1 || t.indexOf("compatible") > -1 || t.indexOf("trident") > -1;
                return n || i || r && !J.default.compareVersion(U.Browser.version, "11.0") > 0 ? 0 : J.default.isSupportChromeHls() || J.default.isSupportSafariHls() ? 1 : 0
            }
        }, {
            key: "_getSupportType",
            value: function() {
                var e = ""
                  , t = this.global.initConfig.supportType;
                switch (this.browserSupportLevel) {
                case 1:
                    e = t || "hls";
                    break;
                case 2:
                    e = "m3u8";
                    break;
                default:
                    e = "mp4"
                }
                return e
            }
        }, {
            key: "setSupportType",
            value: function(e) {
                if (this.global.config.supportType = e,
                this.global.initConfig.supportType = e,
                this._supportType = e,
                this._ykadplugin) {
                    var t = this._ykadplugin.initDotInfo();
                    this.global.setDots(t)
                }
            }
        }, {
            key: "getSupportType",
            value: function() {
                return this._supportType
            }
        }, {
            key: "_initEmitter",
            value: function() {
                var e = this;
                for (var t in L.PlayerEvents)
                    !function(t) {
                        e._player.control.on(t, function(n) {
                            e.emit(t, n)
                        })
                    }(t)
            }
        }, {
            key: "on",
            value: function(e, t) {
                this._emitter.on(e, t)
            }
        }, {
            key: "emit",
            value: function(e, t) {
                this._emitter.emit(e, t)
            }
        }, {
            key: "fire",
            value: function(e, t) {
                this._emitter.removeListener(e, t)
            }
        }, {
            key: "changeSource",
            value: function(e, t, n) {
                if (e && t) {
                    var i = {}
                      , r = this._getStream(e, t, 1)
                      , a = this._getDecodeKey(r);
                    if (this.lagTimer = void 0,
                    this._player.control.hls && (this._player.control.hls.config.decodeKey = a),
                    r && r.segs) {
                        if ("m3u8" === this._supportType || "hls" === this._supportType) {
                            var o = "https:" === ue ? r.m3u8_url.replace("http://", "https://") : r.m3u8_url;
                            ce && ce.m3u8test && ce.m3u8host && (o = o.replace("pl-ali.youku.com", ce.m3u8host)),
                            i.source = [{
                                src: o
                            }],
                            i.duration = this.global.config.duration
                        } else {
                            var s = r.segs;
                            i.source = s,
                            i.duration = this.global.config.duration
                        }
                        if (this.global.ups.trialData && this.global.ups.trialData.time > 0 ? this._player.ui.getComponent("progress").setMaxActiveProgress(this.global.ups.trialData.time) : this._player.ui.getComponent("progress").setMaxActiveProgress(this.global.config.duration),
                        this.xass.resolveSubtitle(r),
                        this._player.control.hls && (this._player.control.hls.resume(),
                        this._player.control.hls.config.licenseServer = r.stream_ext ? r.stream_ext.uri : null,
                        this._player.control.hls.resolutionToFilter(this._geneForbidResolution())),
                        this._player.control.changeSource({
                            source: i.source,
                            duration: i.duration,
                            seekTime: -1
                        }),
                        this.global.setWaitingType("changesource"),
                        this.global.waitingInfo.state = "changesource",
                        n || this.global.playerState.state === A.playerState.ADPLAY)
                            return;
                        U.Browser.isSafari && this._player.control.play()
                    }
                }
            }
        }, {
            key: "enableUI",
            value: function() {
                this._player.ui.enableProgress(),
                this._player.ui.enablePlayButton();
                var e = this._player.ui.getComponent("Dashboard");
                e.removeFocusHide(),
                e.show(),
                this._uiManage.minisizeLayer.showBtn()
            }
        }, {
            key: "disableUI",
            value: function() {
                if (this._player && this._player.ui) {
                    this._player.ui.disableProgress(),
                    this._player.ui.disablePlayButton();
                    var e = this._player.ui.getComponent("Dashboard");
                    e.focusHide(),
                    e.hide();
                    this._uiManage.minisizeLayer.hideBtn()
                }
            }
        }, {
            key: "enableProgress",
            value: function() {
                this._player.ui.enableProgress()
            }
        }, {
            key: "disableProgress",
            value: function() {
                this._player.ui.disableProgress()
            }
        }, {
            key: "sendEventLog",
            value: function(e) {
                this.emit(S.default.SEND_EVENT_LOG, e)
            }
        }, {
            key: "sendSubtitleLog",
            value: function(e) {
                this.emit(S.default.SEND_SUBTITLE_LOG, e)
            }
        }, {
            key: "playByVid",
            value: function(e) {
                return !(!e || !e.vid || this.global.playerState.state === A.playerState.RELOADING || this.global.playerState.state === A.playerState.RESETING) && (this._player.control.pause(),
                this.global.cycleData.isUserPause = !1,
                this.global.resetConfig(e),
                this._createAdParam(),
                this.setSupportType(this._getSupportType()),
                this.global.playerState = {
                    state: A.playerState.RESETING,
                    rate: "1"
                },
                this.h265CanUse = !0,
                this._service.restart(),
                !0)
            }
        }, {
            key: "playNext",
            value: function(e) {
                if (!this.global.programData.nextVid || this.global.playerState.state === A.playerState.RELOADING || this.global.playerState.state === A.playerState.RESETING)
                    return !1;
                if (e || this.global.playerState.fullscreen || this.global.playerState.webFullscreen || this.global.config.isInnerPlay) {
                    var t = this.global.getNextInfo();
                    this.emit(F.default.PlayerPlayNext, t),
                    this.playByVid({
                        vid: this.global.programData.nextVid,
                        rate: this.global.config.rate
                    })
                } else {
                    var n = this.global.getNextInfo();
                    this.emit(F.default.PlayerPlayNext, n)
                }
                return this.global.initConfig.events && this.global.initConfig.events.nextVideo && this.global.initConfig.events.nextVideo({
                    vid: this.global.mediaData.mediaId
                }),
                !0
            }
        }, {
            key: "play",
            value: function() {
                this._player && (this.emit(A.MessageConfig.eventLog, {
                    event: "play",
                    eventMode: "mfc"
                }),
                this._adplugin && !this.global.cycleData.isFront || this.global.playerState.state === A.playerState.ADPAUSE ? M.default.invoke(this._adplugin, "thaw") : this._player.control.play())
            }
        }, {
            key: "pause",
            value: function() {
                if (this._player && this.global.playerState.state !== A.playerState.READY) {
                    if ((0,
                    j.printLog)("change this.global.cycleData.isUserPause to true"),
                    this.global.cycleData.isUserPause = !0,
                    !this.global.cycleData.isFront && this.global.playerState.state === A.playerState.ADPLAY)
                        return void M.default.invoke(this._adplugin, "freeze");
                    this.emit(A.MessageConfig.eventLog, {
                        event: "pause",
                        eventMode: "mfc"
                    }),
                    this._player.control.pause()
                }
            }
        }, {
            key: "seek",
            value: function(e) {
                this._player && this.global.playerState.state !== A.playerState.READY && this.global.playerState.state !== A.playerState.ADPAUSE && this.global.playerState.state !== A.playerState.ADPLAY && (e = Math.min(this.global.config.duration - .5, e),
                this._player.control.seek(e),
                this._player.control.play())
            }
        }, {
            key: "backPlay",
            value: function() {
                if (this._player && this.global.playerState.state !== A.playerState.READY && this.global.playerState.state !== A.playerState.ADPAUSE && this.global.playerState.state !== A.playerState.ADPLAY) {
                    var e = this.changeableSeekRate(this.global.currentTime - this.global.config.seekRate);
                    e = Math.max(.5, e);
                    var t = {
                        event: "fb",
                        eventMode: "kb",
                        ext: {
                            tb: parseInt(this.global.currentTime),
                            to: parseInt(e)
                        }
                    };
                    this.emit(A.MessageConfig.eventLog, t),
                    this._player.control.seek(e)
                }
            }
        }, {
            key: "forwardPlay",
            value: function() {
                if (this._player && this.global.playerState.state !== A.playerState.ADPAUSE && this.global.playerState.state !== A.playerState.READY && this.global.playerState.state !== A.playerState.ADPLAY) {
                    var e = this.changeableSeekRate(this.global.currentTime + this.global.config.seekRate);
                    e = Math.min(this.global.config.duration - .5, e);
                    var t = {
                        event: "ff",
                        eventMode: "kb",
                        ext: {
                            tb: parseInt(this.global.currentTime, 10),
                            to: parseInt(e, 10)
                        }
                    };
                    this.emit(A.MessageConfig.eventLog, t),
                    this._player.control.seek(e)
                }
            }
        }, {
            key: "changeableSeekRate",
            value: function(e) {
                if ("hls" !== this.getSupportType())
                    return e;
                var t = 10;
                this._player.control.hls && this._player.control.hls.segmentDuration && (t = this._player.control.hls.segmentDuration);
                var n = .75 * t
                  , i = e % t;
                return i < .2 ? e : i <= n ? e - i + .2 : i > n ? (parseInt(e / t) + 1) * t + .2 : void 0
            }
        }, {
            key: "setMuted",
            value: function(e) {
                if (this._player) {
                    var t = this._player.control.setMuted(e);
                    this.global.playerState = {
                        muted: t
                    }
                }
            }
        }, {
            key: "setRate",
            value: function(e) {
                this._player && this.global.playerState.rate !== e && (this.global.playerState.rate = e,
                this.global.config.rate = e,
                this.h265CanUse && parseFloat(e) > 1 ? (this.h265CanUse = !1,
                this._degrade264()) : this._player.control.setRate(e))
            }
        }, {
            key: "upVolume",
            value: function() {
                this._player && this._player.control.setVolume(this.global.playerState.volume + .1)
            }
        }, {
            key: "downVolume",
            value: function() {
                this._player && this._player.control.setVolume(this.global.playerState.volume - .1)
            }
        }, {
            key: "fastForward",
            value: function() {
                this.h265CanUse || ("playing" === this.global.playerState.state ? (this._uiManage._fastForwardLayer.show(),
                this._lastRate = this.global.playerState.rate || 1,
                this.setRate(3)) : "paused" === this.global.playerState.state && (this.play(),
                this._uiManage._fastForwardLayer.show(),
                this._lastRate = this.global.playerState.rate || 1,
                this.setRate(3)))
            }
        }, {
            key: "cancelFastForward",
            value: function() {
                this._lastRate && (this._uiManage._fastForwardLayer.hide(),
                this.setRate(+this._lastRate || 1),
                this._lastRate = null)
            }
        }, {
            key: "replay",
            value: function() {
                this.global.playerState.state === A.playerState.END && (this.reset720PopConfig(),
                this.isSafariDrm() ? this.reload() : this._player.control.replay(),
                this.emit(A.MessageConfig["player.replay"]),
                this.global.replay())
            }
        }, {
            key: "skipHead",
            value: function() {
                this.global.cycleData.isFront && (this.global.cycleData.hadSkipHead || this.global.currentTime <= this.global.config.headPosition && (this.skipTime(this.global.config.headPosition),
                this.global.cycleData.hadSkipHead = !0,
                this.ifNotShowVipToast() && this.emit(A.MessageConfig["player.showInfo"], {
                    type: "information",
                    code: "N0003",
                    time: this.global.config.headPosition
                })))
            }
        }, {
            key: "skipLocalPlayRecord",
            value: function() {
                if (this.global.cycleData.isFront) {
                    var e = Math.abs(this.global.config.playRecord - this.global.config.duration) < 15 || this.global.config.playRecord < 10 ? 0 : this.global.config.playRecord;
                    0 !== e && (this.skipTime(e),
                    this.ifNotShowVipToast() && this.emit(A.MessageConfig["player.showInfo"], {
                        type: "information",
                        code: "N0007",
                        time: e
                    }))
                }
            }
        }, {
            key: "ifNotShowVipToast",
            value: function() {
                var e = !1;
                if (this.global.ups) {
                    var t = this.global.ups.typeData && this.global.ups.typeData.fee
                      , n = this.global.ups.typeData && this.global.ups.videoData.typeData.channel_vip;
                    t || n || this.global.ups.trialData || this.global.ups.errorData || (e = !0)
                }
                return e
            }
        }, {
            key: "skipTime",
            value: function(e) {
                e < 0 && (e = 0),
                e = Math.min(this.global.config.duration - .5, e),
                this._ifCanPlay ? this._player.control.seek(e) : this.global.cycleData.seekTime = e
            }
        }, {
            key: "skipTail",
            value: function() {
                !this.global.config.skip || this.global.config.tailPosition < 0 || (!this.global.cycleData.hadSkipTail && !this.global.cycleData.tailTip && this.global.currentTime < this.global.config.tailPosition && this.global.config.tailPosition - this.global.currentTime < 3 && (this.global.cycleData.tailTip = !0,
                this.emit(A.MessageConfig["player.showInfo"], {
                    type: "information",
                    code: "N0005",
                    time: this.global.config.tailPosition
                })),
                !this.global.cycleData.hadSkipTail && this.global.currentTime > this.global.config.tailPosition && (this.global.cycleData.hadSkipTail = !0,
                this._player.control.end(),
                this.global.cycleData.tailTip || this.emit(A.MessageConfig["player.showInfo"], {
                    type: "information",
                    code: "N0022",
                    time: this.global.config.tailPosition
                })))
            }
        }, {
            key: "getBulletStatus",
            value: function() {
                return !(!this.global.ups || !this.global.ups.videoData) && this.global.ups.videoData.typeData.bullet
            }
        }, {
            key: "webFullScreen",
            value: function() {
                this.global.playerState.fullscreen ? (this.exitFullscreen(),
                this.nextAction = "enterWebFullScreen") : (this._player.control.emit("webfullscreen", !0),
                this._fullScreenPlugin.fullScreenInPage(),
                this.emit(F.default.webFullScreen, !0)),
                this.xass.refresh()
            }
        }, {
            key: "exitWebFullScreen",
            value: function() {
                this._fullScreenPlugin.exitFullscreenInPage(),
                this._player.control.emit("webfullscreen", !1),
                this.emit(F.default.webFullScreen, !1),
                this.xass.refresh()
            }
        }, {
            key: "exitFullscreenComplete",
            value: function() {
                this.exitFullscreen(),
                "enterWebFullScreen" === this.nextAction && (this.nextAction = "",
                this.webFullScreen())
            }
        }, {
            key: "fullScreen",
            value: function() {
                var e = this;
                this.global.playerState.webFullscreen && this.exitWebFullScreen(),
                q.default.addClass(this._playerfilm, "fullscreen"),
                this._player.control.emit(L.PlayerEvents.fullscreen, !0),
                this._fullScreenPlugin.fullScreen(),
                setTimeout(function() {
                    e.xass.refresh()
                }, 100)
            }
        }, {
            key: "exitFullscreen",
            value: function() {
                q.default.removeClass(this._playerfilm, "fullscreen"),
                this._fullScreenPlugin.exitFullscreen(),
                this._player.control.emit(L.PlayerEvents.fullscreen, !1),
                this._player.control.ykplayer.emit("callAnthology", !1),
                this.xass.refresh(),
                this.global.config.simpleMode && this.webFullScreen()
            }
        }, {
            key: "switchPlayPause",
            value: function() {
                this.global.playerState.state !== A.playerState.ADPLAY && this.global.playerState.state !== A.playerState.INIT && (this.global.playerState.state === A.playerState.PAUSE || this.global.playerState.state === A.playerState.END ? this.play() : this.pause())
            }
        }, {
            key: "switchFullscreen",
            value: function() {
                if (this.global.initConfig.disablefullScreen)
                    return !1;
                this.global.playerState.fullscreen ? this.exitFullscreen() : this.fullScreen()
            }
        }, {
            key: "changeScale",
            value: function(e) {
                if (e !== this.global.scale) {
                    var t = this._player.control._videoCore;
                    this.h265CanUse ? (t.setStyle("-webkit-transform", "translate(-50%,-50%) scale(" + e + ")"),
                    t.setStyle("transform", "translate(-50%,-50%) scale(" + e + ")")) : (t.setStyle("-webkit-transform", "scale(" + e + ")"),
                    t.setStyle("-ms-transform", "scale(" + e + ")"),
                    t.setStyle("-moz-transform", "scale(" + e + ")"),
                    t.setStyle("-o-transform", "scale(" + e + ")"),
                    t.setStyle("transform", "scale(" + e + ")")),
                    this.global.config = {
                        screenWidth: this.global.config.screenWidth * e,
                        screenHeight: this.global.config.screenHeight * e,
                        isBlockNote: !0
                    },
                    M.default.invoke(this._adplugin, "rescale", e),
                    this.xass.scale(e);
                    var n = this._player.ui.getComponent("InforLayer");
                    n && n.setScale(e),
                    this.global.scale = e
                }
            }
        }, {
            key: "resize",
            value: function(e, t) {
                if (e !== this.global.config.width || t !== this.global.config.height) {
                    this.global.config = {
                        height: t,
                        width: e,
                        isBlockNote: !0
                    };
                    var n = e
                      , i = t
                      , r = this.global.mediaData.originHeight / this.global.mediaData.originWidth;
                    t / e > r ? (i = parseInt(e * r),
                    n = e) : (i = t,
                    n = parseInt(t / r)),
                    this.global.config = {
                        screenWidth: n,
                        screenHeight: i,
                        isBlockNote: !0
                    },
                    M.default.invoke(this._adplugin, "resize", e, t)
                }
            }
        }, {
            key: "setDanmuStatus",
            value: function(e) {
                this.emit(F.default.setDanmuStatus, e)
            }
        }, {
            key: "changeBulletStatus",
            value: function(e) {
                (0,
                j.printLog)("changeBulletStatus::" + e),
                this.global.changeDammu(e)
            }
        }, {
            key: "openNewTab",
            value: function(e, t) {
                this.global.playerState.fullscreen && this.exitFullscreen(),
                window.open(e, t)
            }
        }, {
            key: "openIku",
            value: function(e) {
                if (e = e || "ywebplayererror",
                U.Browser && U.Browser.isMac)
                    this.openNewTab("//pcapp-update.youku.com/channelinstall/" + e);
                else
                    try {
                        var t = {
                            action: "play",
                            sid: this.global.mediaData.mediaId,
                            scene: e
                        };
                        V.Iku.ikuExecuteFrompc(t)
                    } catch (t) {
                        this.openNewTab("//pcapp-update.youku.com/channelinstall/" + e)
                    }
            }
        }, {
            key: "show720Pop",
            value: function() {
                var e = (new Date).getTime();
                if (this.global.firstPlay)
                    this.actualDiffTime = 0,
                    this._lastCountedTime = e,
                    this._lastSentVideoReportTime = e;
                else if (this._isPause && (this._isPause = !1,
                this.actualDiffTime += e - this._lastCountedTime),
                Math.round(e - this._lastSentVideoReportTime - this.actualDiffTime) > 9e4 && (this.global.hasShow720Pop = !0,
                "540p" === this.global.mediaData.quality || "320p" === this.global.mediaData.quality || "auto" === this.global.mediaData.quality)) {
                    var t = {};
                    t.code = "N0024q",
                    t.interval = 1e8,
                    t.type = "information",
                    t.spm = "chaoqingyindao",
                    this.emit(A.MessageConfig["player.showInfo"], t)
                }
                this.global.firstPlay = !1
            }
        }, {
            key: "setPlayList",
            value: function(e) {
                this.global.setPlayList(e)
            }
        }, {
            key: "login",
            value: function() {
                if (this.global.config.simpleMode && window.external && "function" == typeof window.external.execute)
                    return void window.external.execute("iku", "iku://|buildin|h5|do-login|play|");
                window.yklogininstance && window.yklogininstance.login && (this.global.playerState.fullscreen && this.exitFullscreen(),
                window.yklogininstance.login())
            }
        }, {
            key: "loginStatusBind",
            value: function() {
                var e = this;
                this.on(S.default.LOGIN, function() {
                    e.login()
                })
            }
        }, {
            key: "playerSubscribe",
            value: function() {
                function e() {
                    return t.apply(this, arguments)
                }
                var t = (0,
                u.default)(s.default.mark(function e() {
                    var t;
                    return s.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (new y.default).requestSub(this.global);
                            case 2:
                                t = e.sent,
                                t && this.reload();
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "switchMiniScene",
            value: function(e) {
                if (this._player && this._player.ui && !this.global.playerState.fullscreen && this.global.playerState.state !== A.playerState.ERROR && this.global.playerState.state !== A.playerState.RELOADING && !(this.global.ups && (this.global.ups.errorData || this.global.ups.trialData) || this.global.config.inPicture || this.global.playerState.webFullscreen)) {
                    if (this.global.config = {
                        playScene: "mini",
                        isBlockNote: !0
                    },
                    !this.global.cycleData.isFront)
                        return void (e && (this.global.miniPosition = e));
                    e || (e = this.miniPosition ? this.miniPosition : {
                        right: 100
                    }),
                    q.default.addClass(this.container, "min-pattern");
                    this._uiManage.minisizeLayer.show(e);
                    this._player.ui.getComponent("InforLayer").setMini(),
                    this.resize(426, 240),
                    this.emit(F.default.switchMini, !0)
                }
            }
        }, {
            key: "switchNormalScene",
            value: function() {
                if (this._player && this._player.ui && "mini" === this.global.config.playScene) {
                    this.global.config = {
                        playScene: "normal",
                        isBlockNote: !0
                    };
                    this._uiManage.minisizeLayer.hide();
                    this._player.ui.getComponent("InforLayer").setNormal(),
                    q.default.removeClass(this.container, "min-pattern"),
                    this.emit(F.default.switchMini, !1)
                }
            }
        }, {
            key: "showLicenseInfo",
            value: function() {
                this._player.ui.getComponent("InforLayer").renderLicense()
            }
        }, {
            key: "h265CanUse",
            get: function() {
                return this._h265Enable()
            },
            set: function(e) {
                this._h265Enable.allowed = e
            }
        }]),
        e
    }();
    t.default = he
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(8)
      , u = i(l)
      , d = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this.global = t.global,
            this.player = t.player,
            this.enable = !1
        }
        return (0,
        s.default)(e, [{
            key: "onTimeUpdate",
            value: function(e) {
                this.xass && this.xass.onTimeUpdate(e)
            }
        }, {
            key: "scale",
            value: function(e) {
                this.xass && this.xass.scale(e)
            }
        }, {
            key: "refresh",
            value: function() {
                this.xass && this.xass.refresh()
            }
        }, {
            key: "resolveSubtitle",
            value: function(e) {
                this.global.enableSubtitle ? (this._subtitleRetryCount = 0,
                this._loadSubtitle(e)) : this.xass && this.xass.destroy()
            }
        }, {
            key: "setSubtitle",
            value: function() {
                this.stream && this.resolveSubtitle(this.stream)
            }
        }, {
            key: "_loadSubtitle",
            value: function(e) {
                var t = this;
                if (e && e.stream_type)
                    if (this.stream = e,
                    this.global.ups._subtitle && e.stream_ext && "none" === e.stream_ext.hls_subtitle) {
                        var n = this.global.subtitleData.currentSubtitle && this.global.subtitleData.currentSubtitle.url;
                        if (n) {
                            if (this.xass) {
                                if (this.xass.url === n)
                                    return this.global.subtitleData.enabled = !0,
                                    void this.xass.show();
                                this.xass.destroy()
                            }
                            if (!window.XAss)
                                return void (this._subtitleRetryCount++ < 3 ? setTimeout(function() {
                                    t._loadSubtitle(e)
                                }, 500) : (this.global.enableSubtitle = !1,
                                this.reload(),
                                this.sendSubtitleLog({
                                    errorCode: -2,
                                    eventType: 1
                                })));
                            this.xass = new window.XAss({
                                url: n,
                                retryCount: 3
                            }),
                            this.xass.promise.then(function() {
                                t.sendSubtitleLog({
                                    errorCode: 0,
                                    url: n,
                                    eventType: 1
                                })
                            }).catch(function(e) {
                                t.sendSubtitleLog({
                                    code: e.code,
                                    url: n,
                                    eventType: 1
                                }),
                                t.global.enableSubtitle = !1,
                                t.reload()
                            });
                            var i = this.player._player.ui.getComponent("SubtitleLayer");
                            i && i._el && this.xass.initWithContainer(i._el, this.global.mediaData.originWidth, this.global.mediaData.originHeight),
                            this.global.subtitleData.enabled = !0
                        } else
                            this.sendSubtitleLog({
                                errorCode: -1,
                                eventType: 1
                            }),
                            this.global.enableSubtitle = !1,
                            this.reload()
                    } else
                        this.global.subtitleData.enabled = !1,
                        this.xass ? this.xass.hide() : !this.global.ups._subtitle && e.stream_ext && "none" === e.stream_ext.hls_subtitle && (this.sendSubtitleLog({
                            errorCode: -10,
                            eventType: 1
                        }),
                        this.global.enableSubtitle = !1,
                        this.reload())
            }
        }, {
            key: "sendSubtitleLog",
            value: function(e) {
                this.player.emit(u.default.SEND_SUBTITLE_LOG, e)
            }
        }, {
            key: "reload",
            value: function() {
                this.player.reload()
            }
        }]),
        e
    }();
    t.default = d
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(0)
      , a = i(r)
      , o = n(1)
      , s = i(o)
      , l = n(12)
      , u = [{
        className: "icon-fullscreen",
        code: "xenfs"
    }, {
        className: "icon-webfullscreen",
        code: "xenwfs"
    }, {
        className: "icon-exit-fullscreen",
        code: "exfs"
    }, {
        className: "icon-exit-webfullscreen",
        code: "ewfs"
    }, {
        className: "icon-picture",
        code: "xenpip"
    }, {
        className: "js-quality-text",
        code: "xCq"
    }, {
        className: "js-language-text",
        code: "xCl"
    }, {
        className: "control-rate-btn",
        code: "xCr"
    }, {
        className: "settings-item quality-item",
        code: "xsq"
    }, {
        className: "settings-item language-item",
        code: "xsl"
    }, {
        className: "settings-item rate-item",
        code: "xsr"
    }]
      , d = function() {
        function e(t) {
            (0,
            a.default)(this, e),
            this.container = t.container,
            this._emitter = t.emitter,
            this._setUILogEventLisiner(t.container),
            this.global = t.global
        }
        return (0,
        s.default)(e, [{
            key: "adEventDataVal",
            value: function() {
                for (var e = 0, t = u.length; e < t; e++) {
                    var n = this.container.getElementsByClassName(u[e].className);
                    if (n && n.length > 0)
                        for (var i = 0; i < n.length; i++)
                            n[i].setAttribute("data-eventlog", u[e].code)
                }
            }
        }, {
            key: "init",
            value: function() {
                this.adEventDataVal()
            }
        }, {
            key: "_setUILogEventLisiner",
            value: function(e) {
                var t = this;
                e.addEventListener("click", function(e) {
                    if (e.target) {
                        var n = "";
                        try {
                            n = e.target.dataset.eventlog
                        } catch (t) {
                            n = e.target.getAttribute("data-eventlog")
                        }
                        if (n)
                            return t.sendLog({
                                event: n,
                                eventMode: "c"
                            }),
                            !1;
                        if (e.target.nodeName && "svg" === e.target.nodeName)
                            return !1;
                        var i = e.target.className;
                        if ("string" != typeof i)
                            return !1;
                        if (i.indexOf("icon-pause") > -1)
                            t.sendLog({
                                event: "xpl",
                                eventMode: "c"
                            });
                        else if (i.indexOf("icon-play") > -1)
                            t.sendLog({
                                event: "xPa",
                                eventMode: "c"
                            });
                        else if (i.indexOf("progress-input-range") > -1) {
                            var r = e.target.dataset ? e.target.dataset.val : e.target.getAttribute("data-val")
                              , a = parseInt(r) * t.global.config.duration / 100;
                            t.sendLog({
                                event: "xcs",
                                eventMode: "c",
                                ext: {
                                    tb: parseInt(t.global.currentTime),
                                    to: parseInt(a)
                                }
                            })
                        }
                    }
                }),
                e.addEventListener("mousedown", function(e) {
                    return (!e.target.nodeName || "svg" !== e.target.nodeName && "path" !== e.target.nodeName) && ("string" == typeof e.target.className && void (e.target && e.target.className.indexOf("input-range-thumb") > -1 && (t.startLeft = e.target.style ? Number(e.target.style.left.replace("%", "")) : 0)))
                }),
                e.addEventListener("mouseup", function(e) {
                    if (e.target.nodeName && "svg" === e.target.nodeName)
                        return !1;
                    if ("string" != typeof e.target.className)
                        return !1;
                    if (e.target && e.target.className.indexOf("input-range-thumb") > -1) {
                        var n = e.target.style ? Number(e.target.style.left.replace("%", "")) : 0
                          , i = t.startLeft * t.global.config.duration / 100
                          , r = n * t.global.config.duration / 100;
                        t.sendLog({
                            event: "xDs",
                            eventMode: "d",
                            ext: {
                                tb: parseInt(i, 10),
                                to: parseInt(r, 10)
                            }
                        })
                    }
                })
            }
        }, {
            key: "sendLog",
            value: function(e) {
                this._emitter.emit(l.MessageConfig.eventLog, e)
            }
        }]),
        e
    }();
    t.default = d
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(41)
      , a = i(r)
      , o = n(29)
      , s = i(o)
      , l = n(40)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(244)
      , m = i(f)
      , y = n(222)
      , g = i(y)
      , v = n(250)
      , _ = i(v)
      , b = n(220)
      , k = i(b)
      , S = n(237)
      , E = i(S)
      , w = n(45)
      , x = i(w)
      , T = n(12)
      , A = n(72)
      , L = n(6)
      , C = n(9)
      , D = i(C)
      , P = n(112)
      , R = i(P)
      , I = n(19)
      , M = i(I)
      , O = function() {
        function e(t, n, i) {
            (0,
            c.default)(this, e),
            this._player = i,
            this.global = t,
            this._container = n,
            this._preplayLayer = new m.default({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now()
            }),
            this._fullscreenLayer = new g.default({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now() + "1"
            }),
            this._scrollinfo = new _.default({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now() + "1"
            }),
            this._fastForwardLayer = new k.default({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now() + "3"
            }),
            this._miniLayer = new E.default({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now() + "4"
            }),
            this._adLayer = new A.AdLayer({
                container: n,
                global: t,
                player: i,
                _id: "component" + Date.now() + "2"
            }),
            this._adLayer.show(),
            this._ui = null,
            this.addContainerResize(n),
            this.addResizeStyle(n),
            this._preplayLayer.show(),
            this._preplayLayer.showLoading(),
            this._initEventListener()
        }
        return (0,
        p.default)(e, [{
            key: "addResizeStyle",
            value: function(e) {
                var t = this
                  , n = void 0;
                window.addEventListener("resize", function() {
                    n && clearTimeout(n),
                    n = setTimeout(function() {
                        t.adjustContainer(e)
                    }, 100)
                })
            }
        }, {
            key: "adjustContainer",
            value: function(e) {
                var t = e.offsetWidth
                  , n = this.global.playerState.fullscreen || this.global.playerState.webFullscreen
                  , i = this.global.config.TeslaEnv;
                (t && t >= 1600 && n || i) && (D.default.hasClass(e, "big-mode") || D.default.addClass(e, "big-mode")),
                (t && t < 1600 && !this.global.config.TeslaEnv || !n) && D.default.hasClass(e, "big-mode") && D.default.removeClass(e, "big-mode")
            }
        }, {
            key: "addContainerResize",
            value: function(e) {
                var t = this;
                try {
                    new (window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver)(function(e, n) {
                        e.forEach(function(e) {
                            if ("style" === e.attributeName)
                                return void t._player.resize(e.target.offsetWidth, e.target.offsetHeight)
                        }),
                        n.takeRecords()
                    }
                    ).observe(e, {
                        attributes: !0
                    })
                } catch (e) {
                    console.log(e)
                }
            }
        }, {
            key: "_initEventListener",
            value: function() {
                var e = this;
                this.global.on("fullscreen", function() {
                    e.adjustContainer(e._container)
                }),
                this.global.on(x.default.webFullScreen, function() {
                    e.adjustContainer(e._container)
                }),
                this.global.on(M.default.HINT, function(t) {
                    e.showHintTips(t)
                }),
                this.global.on(T.MessageConfig["player.showInfo"], function(t) {
                    "information" === t.type && (e.code = t.code,
                    e.showInformationTips(t.code, t))
                }),
                this.global.on(T.MessageConfig["player.hideInfo"], function() {
                    e.hideInformationTips()
                })
            }
        }, {
            key: "initPlayerUI",
            value: function(e) {
                this._ui = e,
                this._messageLayer = this._ui.getComponent("MessageLayer");
                var t = this.global.ups.trialData
                  , n = this.global.ups.videoData;
                if (t && t.time > 0) {
                    var i = t.time > 60 ? parseInt(t.time / 60) + "分钟" : t.time + "秒";
                    n.typeData.fee || n.typeData.channel_vip || "subscribe" === t.type && n && "follower" === n.privacy && this._messageLayer.show({
                        content: "您可以试看" + i + '，订阅我就可以免费看完全部   <font color="#0D9BFF" data-val="subscribe" class="information-tip-link">+订阅</font>',
                        time: 5e4
                    })
                }
            }
        }, {
            key: "hidePreLayer",
            value: function() {
                this._preplayLayer.hide()
            }
        }, {
            key: "showDRMNote",
            value: function() {
                this._preplayLayer.showDrmErrorNoteLayer()
            }
        }, {
            key: "setErrorData",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  , n = arguments[2];
                if (this._player.switchNormalScene(),
                this._preplayLayer.hideLoading(),
                !e)
                    return void this._preplayLayer.showErrorMsg();
                if (!(e.code && 22503 === e.code || 22504 === e.code)) {
                    if (n && 1111 === parseInt(n.status, 10))
                        return void this._preplayLayer.showCurrentLimit(n);
                    if (n && 4 === n.type)
                        return void this._preplayLayer.showDrmErrorNoteLayer();
                    if (1 === t)
                        return void this._preplayLayer.showErrorMsg(e);
                    var i = this.global.ups._playlistData.play_policy;
                    if (i && i.policyData && "DRM视频禁播" === i.policyData.desc || -4008 === e.code)
                        return void this._preplayLayer.showDrmErrorNoteLayer();
                    switch (e.code) {
                    case -1002:
                        e.note = "该视频已被屏蔽，请选择其他视频观看",
                        this._preplayLayer.showErrorMsg(e, "notice");
                        break;
                    case -2004:
                        this._preplayLayer.showSubscribeLayer();
                        break;
                    case -2002:
                    case -2003:
                        this._preplayLayer.showPassword();
                        break;
                    case -2001:
                        this._preplayLayer.showErrorMsg("", "private");
                        break;
                    case -3008:
                        break;
                    case -3006:
                        e.note = ["您的账号被多人使用，已开启保护措施，暂时关闭会员权益", "系统将于2小时后解除保护，并恢复会员权益，也可修改密码立即恢复"],
                        this._preplayLayer.showErrorMsg(e, "notice");
                        break;
                    case -3007:
                    case -3001:
                        this._preplayLayer.showVipLayer();
                        break;
                    case -6005:
                        this._preplayLayer.showErrorMsg(e, "login");
                        break;
                    case -4008:
                        break;
                    default:
                        this._preplayLayer.showErrorMsg(e, "notice")
                    }
                }
            }
        }, {
            key: "playError",
            value: function() {
                this._preplayLayer.show(),
                this._preplayLayer.showErrorMsg()
            }
        }, {
            key: "endVipShow",
            value: function() {
                this.global.ups.trialData && "time" === this.global.ups.trialData.type && (this._preplayLayer.show(),
                this._preplayLayer.showVipLayer())
            }
        }, {
            key: "showLoading",
            value: function() {
                this._preplayLayer.showLoading()
            }
        }, {
            key: "hideLoading",
            value: function() {
                this._preplayLayer.hideLoading()
            }
        }, {
            key: "hideInformationTips",
            value: function() {
                this._messageLayer.hideTimeout()
            }
        }, {
            key: "showInformationTips",
            value: function() {
                function e(e, n) {
                    return t.apply(this, arguments)
                }
                var t = (0,
                u.default)(a.default.mark(function e(t, n) {
                    var i, r, o;
                    return a.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if ("mini" !== this.global.config.playScene) {
                                    e.next = 2;
                                    break
                                }
                                return e.abrupt("return");
                            case 2:
                                if (i = T.PlayerLanguage.getString(t, "note"),
                                n && n.time && (i = i.replace("{time}", (0,
                                L.secondsToTime)(parseInt(n.time)))),
                                n && n.quality && (i = i.replace("{quality}", T.QualityNameMap[n.quality])),
                                n && n.language && (i = i.replace("{language}", this.global.ups.getLangMap()[n.language].lang)),
                                !(t.indexOf("q") > -1)) {
                                    e.next = 16;
                                    break
                                }
                                if (r = {
                                    activityName: "清晰度720ptoast",
                                    configId: "607bea0308184ce7b085db977e8c0b96"
                                },
                                o = "CommonActivity.getConfigCommon",
                                this.hasLoadMtop) {
                                    e.next = 13;
                                    break
                                }
                                return e.next = 12,
                                R.default.loadMtopData("mtop.com.youku.aplatform.weakGet", {
                                    bizType: o,
                                    bizParam: (0,
                                    s.default)(r)
                                });
                            case 12:
                                this.res = e.sent;
                            case 13:
                                this.res && (this.res.data && 0 === this.res.data.code && (this.hasLoadMtop = !0),
                                this._messageLayer.show({
                                    content: i || T.PlayerLanguage.getString(t, "note"),
                                    time: n.interval || 5e3,
                                    showclose: !0,
                                    key: "information"
                                })),
                                e.next = 17;
                                break;
                            case 16:
                                this._messageLayer.show({
                                    content: i,
                                    time: n.interval || 5e3,
                                    showclose: !0,
                                    key: "information"
                                });
                            case 17:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "showHintTips",
            value: function(e) {
                "mini" !== this.global.config.playScene && this._messageLayer.show({
                    content: e,
                    time: 3e3,
                    key: "hint"
                })
            }
        }, {
            key: "minisizeLayer",
            get: function() {
                return this._miniLayer
            }
        }]),
        e
    }();
    t.default = O
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(58)
      , g = i(y)
      , v = n(14)
      , _ = i(v)
      , b = n(177)
      , k = n(6)
      , S = n(8)
      , E = i(S)
      , w = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this));
            return n.player = e,
            n.reset(),
            n._addEvent(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        c.default)(t, [{
            key: "reset",
            value: function() {
                this._dotList = null,
                this._currectDot = null,
                this._currectIndex = -1,
                this._state = b.ADState.END
            }
        }, {
            key: "_addEvent",
            value: function() {
                var e = this;
                this.player && (this.player.on(_.default.SERVICE_IS_DONE, function(t) {
                    "ups" === t.data.id && (e.reset(),
                    e.initDotInfo())
                }),
                this.player.on("timeupdate", function(t) {
                    "hls" === e.player.config.supportType && (e._dotList || (e.reset(),
                    e.initDotInfo()),
                    e.onTimeUpdate(t.currentTime))
                }),
                this.player.on("seeked", function() {
                    "hls" === e.player.config.supportType && e.onSeek(e.player.currentTime)
                }))
            }
        }, {
            key: "initDotInfo",
            value: function() {
                if (!this.player || !this.player.ups)
                    return [];
                var e = this.player.ups._playlistData.ad
                  , t = this.player.ups._playlistData.ykad
                  , n = this.player.ups._playlistData.dvd && this.player.ups._playlistData.dvd.point
                  , i = [];
                n && n.forEach(function(e) {
                    ("cut" === e.ctype || "recap" === e.ctype) && i.push(e.cut_vid)
                });
                var r = []
                  , a = [];
                t && t.BFVAL && "hls" === this.player.config.supportType && (t.BFVAL.map(function(e, t) {
                    return e.type = b.ADType.PREVIOUSLY,
                    e
                }),
                a = a.concat(t.BFVAL)),
                e && e.BFVAL && ("mp4" === this.player.config.supportType && t && t.BFVAL && t.BFVAL.length > 0 || (e.BFVAL.map(function(e, t) {
                    return e.type = b.ADType.CUT,
                    e
                }),
                a = a.concat(e.BFVAL))),
                a.sort(function(e, t) {
                    return e.DOT.STA - t.DOT.STA
                });
                for (var o = 0, s = 0, l = a.length; s < l; s++) {
                    var u = {}
                      , d = a[s];
                    -1 !== i.indexOf(d.VID) && (u.vid = d.VID,
                    u.start = d.DOT.STA + o,
                    u.end = u.start + d.AL,
                    u.accTime = o,
                    u.seconds = d.AL,
                    u.type = d.type,
                    u.index = r.length,
                    o += d.AL,
                    u.data = d,
                    e.BFSTREAM && e.BFSTREAM[d.VID] && e.BFSTREAM[d.VID].preview ? (u.thumb = e.BFSTREAM[d.VID].preview.thumb || [],
                    u.thumb_hd = e.BFSTREAM[d.VID].preview.thumb_hd || [],
                    u.timespan = e.BFSTREAM[d.VID].preview.timespan) : (u.thumb = [],
                    u.timespan = 0),
                    r.push(u))
                }
                return this._currectIndex = 0,
                this._dotList = r,
                this._dotList
            }
        }, {
            key: "getCurrectdot",
            value: function(e) {
                var t = void 0;
                if (this._dotList && e) {
                    for (var n = 0; n < this._dotList.length; n++)
                        if (this._dotList[n].vid === e) {
                            t = this._dotList[n];
                            break
                        }
                    return t
                }
            }
        }, {
            key: "onTimeUpdate",
            value: function(e) {
                if (this._dotList && 0 !== this._dotList.length)
                    if (this._currectDot) {
                        if (e >= this._currectDot.start && e <= this._currectDot.end) {
                            if (this._currectDot.type === b.ADType.CUT)
                                return this._currectIndex++,
                                void (this._currectDot = null);
                            if (this._state === b.ADState.END && ((0,
                            k.printLog)("前情提要开始 " + e + ", " + (0,
                            a.default)(this._currectDot)),
                            this.setState(b.ADState.CUTPLAYING, this._currectDot)),
                            this._currectDot.ifSUS)
                                return;
                            return this.sendSUSLog(this._currectDot),
                            void (this._currectDot.ifSUS = !0)
                        }
                        (e > this._currectDot.end || e < this._currectDot.start) && this._state !== b.ADState.END && ((0,
                        k.printLog)("前情提要开始 " + e + ", " + (0,
                        a.default)(this._currectDot)),
                        this.setState(b.ADState.END, this._currectDot),
                        this._currectIndex++,
                        this._currectDot.ifSUS = !1,
                        this._currectDot = null)
                    } else
                        -1 === this._currectIndex && (this._currectIndex = 0),
                        this._dotList[this._currectIndex] && e >= this._dotList[this._currectIndex].start && (this._currectDot = this._dotList[this._currectIndex])
            }
        }, {
            key: "onSeek",
            value: function(e) {
                if (this._dotList && 0 !== this._dotList.length) {
                    this._currectIndex = -1;
                    for (var t = this._dotList, n = 0, i = t.length; n < i; n++)
                        e >= t[n].start && e <= t[n].end && (this._currectIndex = n);
                    this._currectIndex > -1 && ((0,
                    k.printLog)("seek广告中 " + e + ", " + this._currectIndex),
                    this._currectDot = this._dotList[this._currectIndex])
                }
            }
        }, {
            key: "setState",
            value: function(e, t) {
                t.type !== b.ADType.CUT && (this._state = e,
                this.emit({
                    code: _.default.AD_STATE_CHANGE,
                    state: this._state,
                    _data: t
                }))
            }
        }, {
            key: "sendSUSLog",
            value: function(e) {
                if (e.type !== b.ADType.CUT && e && e.data && e.data.SUS) {
                    this.emit({
                        code: E.default.SEND_AD_LOG,
                        data: e.data.SUS
                    });
                    for (var t = 0; t < e.data.SUS.length; t++) {
                        var n = e.data.SUS[t].U
                          , i = {
                            __TIMESTAMP__: parseInt((new Date).getTime() / 1e3),
                            __htch__: "0"
                        }
                          , r = void 0;
                        for (r in i)
                            n.indexOf(r) > -1 && (n = n.replace(r, i[r]));
                        (0,
                        k.sendlog)(n)
                    }
                }
            }
        }, {
            key: "dotList",
            get: function() {
                return this._dotList
            }
        }]),
        t
    }(g.default);
    t.default = w
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.PlayLogService = t.ErrorService = t.CustomService = t.UpsService = t.CnaService = t.ServiceManager = void 0;
    var r = n(20)
      , a = i(r)
      , o = n(74)
      , s = i(o)
      , l = n(59)
      , u = i(l)
      , d = n(2)
      , c = i(d)
      , h = n(0)
      , p = i(h)
      , f = n(1)
      , m = i(f)
      , y = n(4)
      , g = i(y)
      , v = n(3)
      , _ = i(v)
      , b = n(58)
      , k = i(b)
      , S = n(19)
      , E = i(S)
      , w = n(14)
      , x = i(w)
      , T = n(73)
      , A = i(T)
      , L = n(211)
      , C = i(L)
      , D = n(215)
      , P = i(D)
      , R = n(212)
      , I = i(R)
      , M = n(213)
      , O = i(M)
      , N = n(214)
      , B = i(N)
      , F = function(e) {
        function t(e) {
            (0,
            p.default)(this, t);
            var n = (0,
            g.default)(this, (t.__proto__ || (0,
            c.default)(t)).call(this));
            return n._sendReady = !1,
            n._global = e,
            n._global.service = {},
            n._oesIndex = 0,
            n
        }
        return (0,
        _.default)(t, e),
        (0,
        m.default)(t, [{
            key: "start",
            value: function() {
                this._allCompleted = !1,
                this._checkAllServiceCompleted() && this._dispatchAllServiceComplete(),
                this._startAllService()
            }
        }, {
            key: "restart",
            value: function() {
                this._global.service = {},
                this._stopAllService(),
                this._oes.size > 0 && this._oes.forEach(function(e) {
                    "function" == typeof e.restart && e.restart()
                }),
                this._ces.size > 0 && this._ces.forEach(function(e) {
                    "function" == typeof e.restart && e.restart()
                }),
                this._oesIndex = 0,
                this._allCompleted = !1,
                this.start()
            }
        }, {
            key: "onNetStatus",
            value: function(e) {
                this._oes.size > 0 && this._oes.forEach(function(t) {
                    "function" == typeof t.onNetStatus && t.onNetStatus(e)
                }),
                this._ces.size > 0 && this._ces.forEach(function(t) {
                    "function" == typeof t.onNetStatus && t.onNetStatus(e)
                })
            }
        }, {
            key: "initialize",
            value: function() {
                this._oes = new u.default,
                this._ces = new u.default,
                this._info = {},
                this._ready()
            }
        }, {
            key: "_startAllService",
            value: function() {
                this._oes.size > 0 && this._checkAndExecSyncService(),
                this._ces.size > 0 && this._ces.forEach(function(e) {
                    "function" == typeof e.start && e.start()
                })
            }
        }, {
            key: "_stopAllService",
            value: function() {
                this._oes.size > 0 && this._oes.forEach(function(e) {
                    "function" == typeof e.stop && e.stop()
                }),
                this._ces.size > 0 && this._ces.forEach(function(e) {
                    "function" == typeof e.stop && e.stop()
                })
            }
        }, {
            key: "_ready",
            value: function() {
                this._sendReady || (this._sendReady = !0,
                this.emit({
                    code: x.default.SERVICE_IS_READY,
                    level: E.default.STATUS
                }))
            }
        }, {
            key: "_checkAndExecSyncService",
            value: function() {
                if (!(this._oesIndex >= this._oes.size)) {
                    var e = [].concat((0,
                    s.default)(this._oes.keys()))
                      , t = this._oes.get(e[this._oesIndex]);
                    t && (this._oesIndex = this._oesIndex + 1,
                    t.state === A.default.NOT_START ? t.start() : t.state === A.default.COMPLETE && this._checkAndExecSyncService())
                }
            }
        }, {
            key: "_onServiceStatus",
            value: function(e) {
                switch (this.emit(e),
                e.code) {
                case x.default.SERVICE_EXECUTE_COMPLETE:
                case x.default.SERVICE_EXECUTE_FAILED:
                    this._oesIndex < this._oes.size ? this._checkAndExecSyncService() : this._checkAllServiceCompleted() && this._dispatchAllServiceComplete()
                }
                this.onNetStatus(e)
            }
        }, {
            key: "addSyncService",
            value: function(e) {
                var t = this;
                this._oes.set(e.id, e),
                this._info[e.id] = e.state,
                e.on(E.default.NET_STATUS, function(e) {
                    t._onServiceStatus(e)
                })
            }
        }, {
            key: "addAsyncService",
            value: function(e) {
                var t = this;
                this._ces.set(e.id, e),
                this._info[e.id] = e.state,
                e.on(E.default.NET_STATUS, function(e) {
                    t._onServiceStatus(e)
                })
            }
        }, {
            key: "_checkAllServiceCompleted",
            value: function() {
                var e = void 0;
                if (this._oes.size > 0) {
                    var t = !0
                      , n = !1
                      , i = void 0;
                    try {
                        for (var r, o = (0,
                        a.default)(this._oes.values()); !(t = (r = o.next()).done); t = !0)
                            if (e = r.value,
                            e.state !== A.default.COMPLETE)
                                return !1
                    } catch (e) {
                        n = !0,
                        i = e
                    } finally {
                        try {
                            !t && o.return && o.return()
                        } finally {
                            if (n)
                                throw i
                        }
                    }
                }
                if (this._ces.size > 0) {
                    var s = !0
                      , l = !1
                      , u = void 0;
                    try {
                        for (var d, c = (0,
                        a.default)(this._ces.values()); !(s = (d = c.next()).done); s = !0)
                            if (e = d.value,
                            e.state !== A.default.COMPLETE)
                                return !1
                    } catch (e) {
                        l = !0,
                        u = e
                    } finally {
                        try {
                            !s && c.return && c.return()
                        } finally {
                            if (l)
                                throw u
                        }
                    }
                }
                return !0
            }
        }, {
            key: "_dispatchAllServiceComplete",
            value: function() {
                this._allCompleted || (this.emit({
                    code: x.default.SERVICE_ALL_COMPLETE,
                    level: E.default.STATUS
                }),
                this._allCompleted = !0)
            }
        }]),
        t
    }(k.default);
    t.ServiceManager = F,
    t.CnaService = C.default,
    t.UpsService = P.default,
    t.CustomService = I.default,
    t.ErrorService = O.default,
    t.PlayLogService = B.default
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(41)
      , a = i(r)
      , o = n(40)
      , s = i(o)
      , l = n(66)
      , u = i(l)
      , d = function() {
        var e = (0,
        s.default)(a.default.mark(function e(t, n, i) {
            var r, o, s;
            return a.default.wrap(function(e) {
                for (; ; )
                    switch (e.prev = e.next) {
                    case 0:
                        return u.default.config.prefix = i && "staging" === i.env ? "pre-acs" : "acs",
                        i && i.query && ["acs", "pre-acs"].indexOf(i.query.env) > -1 && (u.default.config.prefix = i.query.env),
                        r = i && i.timeout ? i.timeout : 5e3,
                        u.default.config.subDomain = "",
                        u.default.config.mainDomain = "youku.com",
                        o = {
                            api: t,
                            type: "GET",
                            v: "1.0",
                            ecode: 1,
                            dataType: "jsonp",
                            data: n,
                            appKey: 24679788,
                            jsonpIncPrefix: "pc_player",
                            timeout: r
                        },
                        e.next = 8,
                        u.default.request(o);
                    case 8:
                        return s = e.sent,
                        e.abrupt("return", s);
                    case 10:
                    case "end":
                        return e.stop()
                    }
            }, e, this)
        }));
        return function(t, n, i) {
            return e.apply(this, arguments)
        }
    }();
    t.default = d
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var r = n(41)
      , a = i(r)
      , o = n(40)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(209)
      , p = i(h)
      , f = n(71)
      , m = i(f)
      , y = function() {
        function e() {
            (0,
            u.default)(this, e)
        }
        return (0,
        c.default)(e, [{
            key: "requestSub",
            value: function() {
                function e(e) {
                    return t.apply(this, arguments)
                }
                var t = (0,
                s.default)(a.default.mark(function e(t) {
                    var n, i, r;
                    return a.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (t.ups && t.ups.uploaderData && t.ups.uploaderData.uid) {
                                    e.next = 2;
                                    break
                                }
                                return e.abrupt("return", !1);
                            case 2:
                                if (t.ups.userData && t.ups.userData.uid) {
                                    e.next = 5;
                                    break
                                }
                                return window && window.Xlogin && window.Xlogin.buildLoginDom(),
                                e.abrupt("return", !1);
                            case 5:
                                return n = {
                                    target_id: t.ups && t.ups.uploaderData.uid,
                                    did: 1,
                                    platform: 0,
                                    is_utdid: !1,
                                    guid: m.default.cookie("__ysuid") ? m.default.cookie("__ysuid") : ""
                                },
                                i = "mtop.tudou.subscribe.relation.RelationServiceMTOP.create",
                                e.next = 9,
                                (0,
                                p.default)(i, n);
                            case 9:
                                if (!((r = e.sent) && r.data && r.data.result)) {
                                    e.next = 12;
                                    break
                                }
                                return e.abrupt("return", !0);
                            case 12:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }]),
        e
    }();
    e.exports = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(46)
      , m = i(f)
      , y = n(17)
      , g = i(y)
      , v = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "cna",
            n.cnaCount = 10,
            n._global.service.cna.data = "",
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "start",
            value: function() {
                this.dispatchStart(),
                this._repeat()
            }
        }, {
            key: "_repeat",
            value: function() {
                var e = this;
                this._sendService = !1,
                this._cna = g.default.getCna(),
                this._cnaTimer && (clearTimeout(this._cnaTimer),
                this._cnaTimer = null),
                !this._cna && this.cnaCount > 0 ? this._cnaTimer = setTimeout(function() {
                    e._repeat(),
                    e.cnaCount--
                }, 500) : (this.cnaCount = 10,
                this._timeComplete())
            }
        }, {
            key: "_timeComplete",
            value: function() {
                if (!this._sendService) {
                    if (this._sendService = !0,
                    this._cna = g.default.getCna(),
                    !this._cna)
                        return void this._onError("10101");
                    this.onComplete()
                }
            }
        }, {
            key: "_onError",
            value: function(e) {
                var t = {};
                t.errorCode = e,
                t.message = "error",
                this.dispatchError(t),
                this.dispatchDone()
            }
        }, {
            key: "onComplete",
            value: function() {
                this._global.service.cna.data = this._cna,
                this.dispatchComplete(),
                this.dispatchDone()
            }
        }]),
        t
    }(m.default);
    t.default = v
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(10)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(11)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(46)
      , _ = i(v)
      , b = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n.id = "custom",
            n
        }
        return (0,
        g.default)(t, e),
        (0,
        c.default)(t, [{
            key: "start",
            value: function() {
                this.customParam = this._global.initConfig.customParam,
                this.customParam && this.customParam.client_id ? (this.dispatchStart(),
                this.loadData()) : (this.dispatchComplete(),
                this.dispatchDone())
            }
        }, {
            key: "getServiceUrl",
            value: function() {
                return "https://api.youku.com/players/custom.json"
            }
        }, {
            key: "getServiceParam",
            value: function() {
                var e = {};
                return e.client_id = this.customParam.client_id,
                e.video_id = this._global.mediaData.mediaId,
                e.refer = this.customParam.refer || "",
                e.vext = this.customParam.vext || "",
                e.embsig = this.customParam.embsig || "",
                e.version = "1.0",
                e.type = "h5",
                e
            }
        }, {
            key: "onComplete",
            value: function(e) {
                var t = this._global.initConfig.customParam
                  , n = {};
                e && (this._global.service.custom.data = e,
                t.password && (e.passless && 1 === parseInt(e.passless) ? (n.client_id = t.client_id,
                n.password = t.password) : delete this._global.initConfig.customParam.password),
                e.stealsign && (n.stealsign = e.stealsign),
                e.atm && (n.atm = e.atm)),
                this._global.initConfig.customParam = (0,
                a.default)(t, n),
                this.dispatchComplete(),
                this.dispatchDone()
            }
        }, {
            key: "dispatchError",
            value: function(e) {
                (0,
                m.default)(t.prototype.__proto__ || (0,
                s.default)(t.prototype), "dispatchError", this).call(this, e),
                (0,
                m.default)(t.prototype.__proto__ || (0,
                s.default)(t.prototype), "dispatchDone", this).call(this)
            }
        }]),
        t
    }(_.default);
    t.default = b
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(46)
      , m = i(f)
      , y = n(19)
      , g = i(y)
      , v = n(107)
      , _ = i(v)
      , b = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "error",
            n._addEvent(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_addEvent",
            value: function() {
                var e = this;
                this._global && this._global.on("player.error", function(t) {
                    e._onError(t)
                })
            }
        }, {
            key: "start",
            value: function() {
                this.dispatchComplete(),
                this.dispatchDone()
            }
        }, {
            key: "_onError",
            value: function(e) {
                if (e.data) {
                    var t = {}
                      , n = "0";
                    if ("video" === e.type)
                        e.data.details = "MediaError",
                        e.data.error && e.data.error.code && (n = "36404",
                        parseInt(e.data.error.code) > 0 && parseInt(e.data.error.code) < 10 && (n = "3610" + parseInt(e.data.error.code))),
                        e.data.networkState && (t.networkState = e.data.networkState),
                        e.data.duration && (t.duration = e.data.duration),
                        e.data.currentTime && (t.currentTime = e.data.currentTime),
                        e.data.isPlaying && (t.isPlaying = e.data.isPlaying),
                        e.data.networkstate && "0" === n && (n = "36201"),
                        e.data.url && (t.cdnUrl = e.data.url);
                    else if (_.default.ERROR_MAP.has(e.data.details)) {
                        var i = _.default.ERROR_MAP.get(e.data.details);
                        n = i.code;
                        var r = i.type;
                        t.corexCode = e.data.code,
                        t.type = 4 === e.data.type ? 4 : r,
                        2 === n.length && (n += e.data.response.code),
                        1 === r ? t.m3u8Url = e.data.context.url : 3 === r && (t.cdnUrl = e.data.frag.relurl,
                        t.m3u8Url = e.data.frag.baseurl)
                    }
                    "0" !== n && (t.errorCode = n,
                    t.id = this.id,
                    this.emit({
                        code: e.data.details,
                        level: g.default.ERROR,
                        data: t
                    }))
                }
            }
        }]),
        t
    }(m.default);
    t.default = b
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(46)
      , g = i(y)
      , v = n(6)
      , _ = n(57)
      , b = i(_)
      , k = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.id = "playlog",
            n._enabled = !1,
            n.localRecord = 0,
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "start",
            value: function() {
                if (this.dispatchStart(),
                this._global.service.playlog.data = 0,
                !this._global.config.openPlaylog)
                    return this.dispatchComplete(),
                    void this.dispatchDone();
                var e = b.default.getItem(this._global.mediaData.mediaId);
                if (b.default.getLocalStatus() && e && (this.localRecord = e.time,
                this._global.tempdata.localRecord = this.localRecord,
                (0,
                v.printLog)("本地记录 " + this.localRecord)),
                this._global.ups && this._global.ups.controllerData && this._global.ups.controllerData.playlog_error)
                    return this.setData(this.localRecord),
                    this.dispatchComplete(),
                    void this.dispatchDone();
                var t = 0;
                this._global.ups && this._global.ups.playlogData && this._global.ups.playlogData.lastpoint && 0 !== parseInt(this._global.ups.playlogData.lastpoint) ? (t = parseInt(this._global.ups.playlogData.lastpoint) / 1e3,
                (0,
                v.printLog)("ups中获取记录 " + t),
                this._global.tempdata.upsRecord = t,
                this.setData(t),
                this.dispatchComplete(),
                this.dispatchDone()) : this._global.ups && this._global.ups.userData && !this._global.ups.userData.uid ? this.loadData() : (this.setData(0),
                this.dispatchComplete(),
                this.dispatchDone())
            }
        }, {
            key: "setData",
            value: function(e) {
                var t = void 0;
                t = e < 0 ? this.localRecord || 0 : 0 === this.localRecord || 1e3 * Math.abs(this.localRecord - e) > 6e4 ? e : this.localRecord,
                this._global.tempdata.playlog = t,
                this._global.service.playlog.data = t
            }
        }, {
            key: "onNetStatus",
            value: function(e) {
                this._enabled
            }
        }, {
            key: "loadData",
            value: function() {
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "loadMtopData", this).call(this, "mtop.youku.playlog.open.get", {
                    type: "GET",
                    v: "1.0"
                })
            }
        }, {
            key: "getServiceMtopParam",
            value: function() {
                var e = {};
                return e.nlid = this._global.service.cna.data || "",
                e.utdid = this._global.service.cna.data || "",
                e.videoId = this._global.mediaData.mediaId,
                e.pageLength = 100,
                e.timestamp = (new Date).getTime(),
                e.appKey = "qPbb2hfIYugHjMaj",
                e.appName = "pc",
                e.hwClass = 1,
                e.deviceName = "web",
                e.isPlayController = 1,
                e.ccode = "0502",
                e
            }
        }, {
            key: "onComplete",
            value: function(e) {
                var t = 0;
                if (e && e.dataList) {
                    var n = this._global.service.cna.data || ""
                      , i = e.dataList
                      , r = this._global.mediaData.mediaId;
                    if (r && i)
                        for (var a = 0; a < i.length; a++)
                            if (i[a].nlid === n && 1 === i[a].hwClass && i[a].videoId === r) {
                                t = i[a].point;
                                break
                            }
                    this._global.tempdata.playlogRecord = t,
                    (0,
                    v.printLog)("playlog中获取记录 " + t)
                }
                this.setData(t),
                this.dispatchComplete(),
                this.dispatchDone()
            }
        }, {
            key: "dispatchError",
            value: function(e) {
                this.setData(0),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "dispatchComplete", this).call(this, e),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "dispatchDone", this).call(this)
            }
        }]),
        t
    }(g.default);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(11)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(33)
      , _ = n(46)
      , b = i(_)
      , k = n(218)
      , S = i(k)
      , E = n(44)
      , w = n(110)
      , x = i(w)
      , T = n(6)
      , A = n(73)
      , L = i(A)
      , C = n(14)
      , D = i(C)
      , P = n(19)
      , R = i(P)
      , I = n(12)
      , M = n(23)
      , O = n(113)
      , N = i(O)
      , B = "DIl58SLFxFNndSV1GFNnMQVYkx1PP5tKe1siZu/86PR1u/Wh1Ptd+WOZsHHWxysSfAOhNJpdVWsdVJNsfJ8Sxd8WKVvNfAS8aS8fAOzYARzPyPc3JvtnPHjTdKfESTdnuTW6ZPvk2pNDh4uFzotgdMEFkzQ5wZVXl2Pf1/Y6hLK0OnCNxBj3+nb0v72gZ6b0td+WOZsHHWxysSo/0y9D2K42SaB8Y/+aD2K42SaB8Y/+ahU+WOZsHcrxysooUeND"
      , F = !1;
    N.default.widevineSupportCheck().then(function(e) {
        return F = e
    });
    var U = function(e) {
        function t(e, n) {
            (0,
            u.default)(this, t);
            var i = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return i.id = "ups",
            i.manage = n,
            i.encryptKeyReady = !1,
            i._encryptR1 = null,
            i._timeoutArray = [2e4, 2e4, 2e3, 8e3],
            i._global.service.ups.data = {},
            i._requesttype = "mtop",
            i._global.initConfig.upsServiceConfig && i._global.initConfig.upsServiceConfig.requesttype && (i._requesttype = i._global.initConfig.upsServiceConfig.requesttype),
            i._global.initConfig.upsRequestType && (i._requesttype = i._global.initConfig.upsRequestType),
            i.isSupportFairplay = N.default.isSupportFairplay(),
            i
        }
        return (0,
        g.default)(t, e),
        (0,
        c.default)(t, [{
            key: "start",
            value: function() {
                this._retryCount = 4,
                this._cna = this._global.service.cna.data,
                this._cna && (this.dispatchStart(),
                this.loadData())
            }
        }, {
            key: "getCkey",
            value: function() {
                return x.default.getCkey()
            }
        }, {
            key: "loadData",
            value: function() {
                var e = this;
                if (this._global.config.hotPreview && (this._global.initConfig.isSupportDRM = !0),
                (0,
                T.getParamFromUrl)(location.href).ykupstest && (this._requesttype = "jsonp"),
                this._global.initConfig.isSupportDRM && 1 === this._global.browserSupportLevel)
                    try {
                        if (window._sce_lgtcaygl)
                            this.encryptKeyReady = !0,
                            this._global.R1 = window._sce_r_skjhfnck(),
                            this._encryptR1 = window._sce_lgtcaygl(this._global.R1);
                        else {
                            if (!this.encryptKeyReady)
                                return void setTimeout(function() {
                                    e.loadData()
                                }, 200);
                            this._encryptR1 = null
                        }
                    } catch (e) {
                        this._encryptR1 = null
                    }
                else
                    this._encryptR1 = null;
                if (this._global.config.hotPreview)
                    return void (0,
                    m.default)(t.prototype.__proto__ || (0,
                    s.default)(t.prototype), "loadData", this).call(this, "jsonp", this._timeoutArray[4 - this._retryCount]);
                switch (this._requesttype) {
                case "mtop":
                    var n = {
                        YKPid: "20160317PLF000211",
                        YKLoginRequest: !0
                    };
                    (0,
                    m.default)(t.prototype.__proto__ || (0,
                    s.default)(t.prototype), "loadMtopData", this).call(this, "mtop.youku.play.ups.appinfo.get", n, this._timeoutArray[4 - this._retryCount]);
                    break;
                case "fetch":
                    (0,
                    m.default)(t.prototype.__proto__ || (0,
                    s.default)(t.prototype), "loadData", this).call(this, "fetch", this._timeoutArray[4 - this._retryCount]);
                    break;
                default:
                    (0,
                    m.default)(t.prototype.__proto__ || (0,
                    s.default)(t.prototype), "loadData", this).call(this, "jsonp", this._timeoutArray[4 - this._retryCount])
                }
            }
        }, {
            key: "getServiceUrl",
            value: function() {
                if (this._global.initConfig.upsServiceConfig && this._global.initConfig.upsServiceConfig.url)
                    return this._global.initConfig.upsServiceConfig.url;
                var e = (0,
                T.getParamFromUrl)(location.href);
                return e.ykupstest && e.upshost ? "//" + e.upshost + "/ups/get.json" : I.PLAYERSYSTEM.protocol.indexOf("http:") > -1 && this._retryCount < 3 ? "http://ups.youku.com/ups/get.json" : "https://ups.youku.com/ups/get.json"
            }
        }, {
            key: "getDrmType",
            value: function() {
                return "mp4" === this.manage.getSupportType() ? 1 : this.isSupportFairplay ? 19 : F ? parseInt(v.Browser.version) >= 69 ? 19 : 35 : 3
            }
        }, {
            key: "getServiceMtopParam",
            value: function() {
                var e = {
                    ccode: this._global.initConfig.ccode,
                    client_ip: "192.168.1.1",
                    utid: this._cna,
                    client_ts: parseInt((new Date).getTime() / 1e3),
                    version: this._global.version
                };
                e.ckey = this.getCkey() || B;
                var t = this.getParams()
                  , n = this._global.adparam || {};
                return n.atm = this._global.initConfig.customParam && this._global.initConfig.customParam.atm || "",
                {
                    steal_params: (0,
                    a.default)(e),
                    biz_params: (0,
                    a.default)(t),
                    ad_params: (0,
                    a.default)(n)
                }
            }
        }, {
            key: "getParams",
            value: function() {
                var e = {
                    vid: this._global.mediaData.mediaId,
                    play_ability: 16782592
                };
                this._global.initConfig.playmode && 2 === parseInt(this._global.initConfig.playmode) && (e.playlist_id = this._global.initConfig.Fid,
                e.ob = this._global.initConfig.Ob),
                this._global.initConfig.showid && (e.showid = this._global.initConfig.showid,
                e.show_videoseq = this._global.initConfig.show_videoseq || ""),
                this._global.initConfig.currentShowId && (e.current_showid = this._global.initConfig.currentShowId),
                this._global.initConfig.inputPassword && "" !== this._global.initConfig.inputPassword && (e.password = escape(this._global.initConfig.inputPassword)),
                this._encryptR1 && (e.drm_type = this.getDrmType(),
                this.isSupportFairplay && (e.drm_level = 1),
                e.key_index = "web01",
                e.encryptR_client = this._encryptR1),
                e.preferClarity = M.PREFER_QUALITY_INDEX[this._global.mediaData.quality] || 99;
                var t = this._global.initConfig.customParam;
                return t && (t.client_id && t.password && (e.client_id = t.client_id,
                e.password = t.password),
                t.stealsign && (e.r = t.stealsign)),
                1 === this._global.initConfig.nochannel && (e.nochannel = this._global.initConfig.nochannel),
                0 !== this._global.config.reload && (e.reload = 1),
                e.extag = "EXT-X-PRIVINF",
                this._global.enableAutoLevel ? e.master_m3u8 = 1 : this._global.staticM3u8 && (e.master_m3u8 = 0),
                this._global.enableSubtitle ? e.media_type = "standard,subtitle" : e.media_type = "standard",
                e.app_ver = this._global.version,
                !this._global.initConfig.isSupportDRM && (0,
                T.canUseH265Maybe)() && (e.h265 = 1,
                e.media_type = "standard,subtitle"),
                e
            }
        }, {
            key: "getServiceParam",
            value: function() {
                var e = this.getParams();
                e.ccode = this._global.initConfig.ccode,
                e.client_ip = "192.168.1.1",
                e.utid = this._cna,
                e.client_ts = parseInt((new Date).getTime() / 1e3),
                e.ckey = this.getCkey() || B,
                e.version = this._global.version;
                var t = this._global.adparam || {};
                for (var n in t)
                    e[n] = t[n];
                return this._global.config.hotPreview && (e.utid = "JTdyEbCIRwcCAWoLIhkAX9rF",
                e.log = 1,
                e.censor = 1),
                "deal" === this._global.playerState.accUpsState && (1 === this._global.playerState.accCmdType ? e.source = "plic_1" : 2 === this._global.playerState.accCmdType && (e.source = "plic_2")),
                e
            }
        }, {
            key: "onComplete",
            value: function(e) {
                if (!e.hasOwnProperty("e") || !e.e.hasOwnProperty("code") || 0 !== e.e.code || !e.data)
                    return this._retryCount--,
                    void (this._retryCount < 1 || 1111 === e.status ? (this.dispatchComplete(),
                    this._playListDataError("22501", 1, e)) : this.loadData());
                if (e.data.error) {
                    var t = "";
                    if (-1 !== ["-4004", "-4005", "-5001", "-6001", "-6004", "-6005"].indexOf(String(e.data.error.code)) && (t = String(e.data.error.code),
                    t = "23" + t.slice(1, 2) + t.slice(3, 5)),
                    "" !== t)
                        return void this._playListDataError(t, 1)
                }
                var n = new S.default(e.data,this._global.browserSupportLevel);
                n._startQuality && (this._global.mediaData.quality = n._startQuality),
                this._global.ups = n,
                this.dispatchComplete();
                var i = null;
                this.checkError(n) ? (this.dispatchDataError(),
                i = "error") : (this.dispatchDataSuccess(),
                i = "success"),
                this.dispatchDone(i)
            }
        }, {
            key: "_playListDataError",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                  , i = {};
                i.errorCode = e,
                n && (i.upsData = n);
                var r = this.getServiceUrl();
                r += (-1 === r.indexOf("?") ? "?" : "&") + (0,
                E.formatParams)(this.getServiceParam()),
                i.upsUrl = r,
                i.id = this._id,
                i.desc = "Get " + this._id + "  service data error!",
                this.state = L.default.ERROR;
                var a = D.default.SERVICE_EXECUTE_FAILED;
                1 === t && (a = D.default.SERVICE_DATA_ERROR),
                this.emit({
                    code: a,
                    level: R.default.ERROR,
                    data: i
                }),
                this.dispatchDone("error")
            }
        }, {
            key: "dispatchError",
            value: function(e) {
                if (this._retryCount--,
                "jsonp" !== this._requesttype && this._retryCount < 3) {
                    var n = {};
                    n.code = e.code ? e.code : "000",
                    n.message = e.message ? e.message : "";
                    var i = this.getServiceUrl();
                    i += (-1 === i.indexOf("?") ? "?" : "&") + (0,
                    E.formatParams)(this.getServiceParam()),
                    n.url = i,
                    n.degradetype = 3,
                    n.errortype = "mtop" === this._requesttype ? 1 : 2,
                    (0,
                    m.default)(t.prototype.__proto__ || (0,
                    s.default)(t.prototype), "dispatchWarning", this).call(this, n),
                    this._requesttype = "jsonp"
                }
                this._retryCount < 1 ? this._playListDataError("20" + e.code) : this.loadData()
            }
        }, {
            key: "checkError",
            value: function(e) {
                return !(!e.errorData || 0 === e.errorData.code)
            }
        }]),
        t
    }(b.default);
    t.default = U
}
, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var i = {
        ups_client_netip: "",
        psid: "",
        vkey: "",
        pcad: !1
    }
      , r = {
        id: 0,
        total: 0,
        ownerId: 0,
        next_title: "",
        next_id: ""
    }
      , a = {
        uid: "",
        vip: !1,
        ip: ""
    }
      , o = {
        ad: !1,
        acc_support: !1,
        acc_open: !1,
        hd3: !1,
        note: "",
        reason: "",
        link: ""
    }
      , s = {
        stream_mode: 1,
        share_disable: !1,
        download_disable: !1,
        video_capture: !1,
        continuous: !1,
        circle: !1,
        tsflag: !1,
        play_mode: 0,
        like_disabled: !1,
        playlog_error: !1
    }
      , l = {
        nick_name: "",
        certification: !1,
        reason: "",
        avatar: "",
        homepage: "",
        fan_count: 0,
        icon: 0,
        comment: 0,
        show_brand: 0,
        subscription: 0
    }
      , u = {
        like: 0,
        dislike: 0
    }
      , d = {
        code: "",
        count: 0
    }
      , c = {
        thumb: [],
        timespan: ""
    }
      , h = {
        code: 0,
        link: "",
        note: ""
    }
      , p = {
        lastpoint: ""
    }
      , f = {
        area_code: "",
        dma_code: ""
    }
      , m = {
        can_play: !1,
        price: 0,
        discount_price: 0,
        duration: 0
    }
      , y = {
        id: 0,
        encodeid: "",
        showcategory: "",
        title: "",
        pay: 0,
        video_pay: 0,
        pay_type: [],
        video_type: 0,
        copyright: "",
        stage: "",
        license_num: "",
        youku_register_num: "",
        tudou_register_num: "",
        exclusive: !1,
        show_videotype: 0
    }
      , g = {
        ad: 0,
        paid_type: [],
        own_channel_id: 0
    }
      , v = {
        ups: i,
        album: r,
        user: a,
        vip: o,
        controller: s,
        uploader: l,
        videolike: u,
        ticket: d,
        preview: c,
        error: h,
        playlog: p,
        network: f,
        pay: m
    };
    t.defaultPlayList = v,
    t.defaultShow = y,
    t.defaultFee = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(21)
      , a = i(r)
      , o = n(59)
      , s = i(o)
      , l = n(20)
      , u = i(l)
      , d = n(10)
      , c = i(d)
      , h = n(0)
      , p = i(h)
      , f = n(1)
      , m = i(f)
      , y = n(23)
      , g = {
        startTime: 0,
        endTime: 0,
        type: "",
        time: 0,
        episodes: 0,
        note: "",
        look_ten_type: ""
    }
      , v = {
        id: "",
        encodeid: "",
        title: "",
        userid: 0,
        username: "",
        seconds: "",
        category_letter_id: "",
        category_id: 0,
        logo: "",
        privacy: "",
        transfer_mode: "",
        type: [],
        share_type: [],
        subcategories: [],
        tags: [],
        cs: "",
        rtmp: !1,
        ctype: ""
    }
      , _ = function() {
        function e() {
            (0,
            p.default)(this, e)
        }
        return (0,
        m.default)(e, null, [{
            key: "formatVideoType",
            value: function(e) {
                var t = {};
                return t.video = !1,
                t.show = !1,
                t.dvd = !1,
                t.copyright = !1,
                t.education = !1,
                t.interact = !1,
                t.bullet = !1,
                t.share = !1,
                t.panorama = !1,
                t.fee = !1,
                t.channel_vip = !1,
                e ? (t.video = e.indexOf("video") > -1,
                t.show = e.indexOf("show") > -1,
                t.dvd = e.indexOf("dvd") > -1,
                t.copyright = e.indexOf("copyright") > -1,
                t.education = e.indexOf("education") > -1,
                t.interact = e.indexOf("interact") > -1,
                t.bullet = e.indexOf("bullet") > -1,
                t.share = e.indexOf("share") > -1,
                t.panorama = e.indexOf("panorama") > -1,
                t.fee = e.indexOf("fee") > -1,
                t.channel_vip = e.indexOf("channel_vip") > -1,
                t) : t
            }
        }, {
            key: "formatVideoData",
            value: function(t) {
                var n = {};
                if ((0,
                c.default)(n, v, t),
                n.typeData = e.formatVideoType(null),
                t && t.hasOwnProperty("type") && t.type instanceof Array && (n.typeData = e.formatVideoType(n.type)),
                t && t.hasOwnProperty("subcategories") && t.subcategories instanceof Array) {
                    for (var i = [], r = 0; r < n.subcategories.length; r++)
                        n.subcategories[r].hasOwnProperty("id") && i.push(n.subcategories[r].id);
                    n.cs = i.join("|")
                }
                return n.rtmp = "rtmp" === this.transfer_mode,
                n
            }
        }, {
            key: "formatDVDData",
            value: function(e) {
                var t = {};
                if (t.ctype = "normal",
                t.state = "normal",
                t.headPostion = -1,
                t.tailPostion = -1,
                t.videoFiles = [],
                t.audioLangs = [],
                t.notsharing = 0,
                t.insertPoints = [],
                t.hasCaption = !1,
                !e)
                    return t;
                if (e.hasOwnProperty("ctype") && (t.ctype = e.ctype),
                e.hasOwnProperty("state") && (t.state = e.state),
                e.hasOwnProperty("head") && (t.headPostion = parseInt(e.head)),
                e.hasOwnProperty("tail") && (t.tailPostion = parseInt(e.tail)),
                e.hasOwnProperty("point") && (t.insertPoints = e.point),
                e.hasOwnProperty("attachment"))
                    for (var n = e.attachment.length, i = {}, r = 0; r < n; r++)
                        i = e.attachment[r],
                        "subtitle" === i.type && (t.hasCaption = !0);
                if (e.hasOwnProperty("video_features"))
                    for (var a = e.video_features.length, o = 0; o < a; o++)
                        "z_real" === e.video_features[o] && (t.hasFrame = !0);
                if (e.hasOwnProperty("notsharing") && (t.notsharing = parseInt(e.notsharing)),
                e.hasOwnProperty("audiolang")) {
                    var s = !0
                      , l = !1
                      , d = void 0;
                    try {
                        for (var c, h = (0,
                        u.default)(e.audiolang); !(s = (c = h.next()).done); s = !0) {
                            var p = c.value;
                            t.audioLangs.push(p)
                        }
                    } catch (e) {
                        l = !0,
                        d = e
                    } finally {
                        try {
                            !s && h.return && h.return()
                        } finally {
                            if (l)
                                throw d
                        }
                    }
                }
                return 0 === this.headPostion && (t.headPostion = -1),
                0 === this.tailPostion && (t.tailPostion = -1),
                t
            }
        }, {
            key: "formatTrialData",
            value: function(e) {
                var t = {};
                return (0,
                c.default)(t, g, e),
                "episodes" === t._type ? t.endTime = -1 : "time" === t._type ? t.endTime = this.time : "cannot" === t._type ? t.endTime = 0 : "subscribe" === t._type && (t.endTime = this.time),
                t
            }
        }, {
            key: "formatVideoSeg",
            value: function(e) {
                var t = {};
                return t.seconds = 0,
                t.no = -1,
                t.size = 0,
                t.type = "",
                t.speed = 0,
                t.startTime = -1,
                t.src = "",
                t.backup = "",
                e.hasOwnProperty("size") && (t.size = e.size),
                e.hasOwnProperty("total_milliseconds_video") && (t.seconds = e.total_milliseconds_video / 1e3),
                e.hasOwnProperty("cdn_url") && (t.src = e.cdn_url),
                e.hasOwnProperty("cdn_backup") && e.cdn_backup instanceof Array && e.cdn_backup.length > 0 && (t.backup = e.cdn_backup[0]),
                t
            }
        }, {
            key: "getIdByStreamType",
            value: function(e) {
                var t = void 0;
                for (t in y.ORDER) {
                    if (-1 !== y.ORDER[t].indexOf(e))
                        return t
                }
                return null
            }
        }, {
            key: "formatStreamsData",
            value: function(t, n) {
                var i = new s.default;
                if (!t)
                    return i;
                var r = 0
                  , a = 0
                  , o = 0
                  , l = void 0
                  , u = []
                  , d = void 0
                  , c = ""
                  , h = "";
                for (r = 0; r < t.length; r++)
                    l = t[r],
                    d = l.audio_lang,
                    -1 === u.indexOf(d) && u.push(d);
                for (r = 0; r < u.length; r++) {
                    var p = new s.default;
                    for (a = 0; a < t.length; a++) {
                        var f = new s.default;
                        if (l = t[a],
                        c = l.audio_lang,
                        (d = u[r]) === c && (h = l.stream_type,
                        l.segs || l.m3u8_url)) {
                            var m = []
                              , y = 0
                              , g = 0
                              , v = 0
                              , _ = this.getIdByStreamType(h);
                            if (_) {
                                for (p.has(_) && (f = p.get(_)),
                                f.has(h) && (m = f.get(h).segs,
                                y = f.get(h).size,
                                g = f.get(h).milliseconds_audio,
                                v = f.get(h).milliseconds_video),
                                l.size && (y += l.size),
                                l.milliseconds_audio && (g += l.milliseconds_audio),
                                l.milliseconds_video && (v += l.milliseconds_video),
                                o = m.length; o < l.segs.length; o++) {
                                    var b = l.segs[o];
                                    if (!b)
                                        break;
                                    var k = e.formatVideoSeg(b);
                                    k.no = o,
                                    (k.src || n >= 1) && m.push(k)
                                }
                                l.segs = m,
                                l.size = y,
                                l.milliseconds_audio = g,
                                l.milliseconds_video = v,
                                f.set(h, l),
                                p.set(_, f)
                            }
                        }
                    }
                    i.set(u[r], p)
                }
                return i
            }
        }, {
            key: "getReferenceStream",
            value: function(e) {
                for (var t = (0,
                a.default)(y.ORDER).filter(function(e) {
                    return "auto" !== e
                }).sort(function(e, t) {
                    return (parseInt(e) || 1 / 0) - (parseInt(t) || 1 / 0)
                }), n = 0; n < t.length; n++) {
                    var i = e.get(t[n]);
                    if (i)
                        for (var r = 0; r < y.ORDER[t[n]].length; r++) {
                            var o = i.get(y.ORDER[t[n]][r]);
                            if (o)
                                return o
                        }
                }
            }
        }, {
            key: "formatAutoStream",
            value: function(t, n, i) {
                t.forEach(function(t) {
                    if (n.has(t.language)) {
                        var r = new s.default
                          , o = n.get(t.language)
                          , l = e.getReferenceStream(o);
                        ["h264", "h265"].forEach(function(e) {
                            if (t[e]) {
                                var n = e
                                  , s = {
                                    stream_type: n,
                                    m3u8_url: t[e],
                                    audio_lang: t.language,
                                    logo: t.logo,
                                    subtitle: t.subtitle
                                };
                                (0,
                                a.default)(l).forEach(function(e) {
                                    s.hasOwnProperty(e) || (s[e] = l[e])
                                }),
                                r.set(n, s),
                                o.set("auto", r),
                                i[t.language] && (i[t.language] = i[t.language].filter(function(e) {
                                    return "auto" !== e
                                }),
                                i[t.language].push(n))
                            }
                        })
                    }
                })
            }
        }]),
        e
    }();
    t.default = _
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(20)
      , a = i(r)
      , o = n(257)
      , s = i(o)
      , l = n(118)
      , u = i(l)
      , d = n(74)
      , c = i(d)
      , h = n(10)
      , p = i(h)
      , f = n(0)
      , m = i(f)
      , y = n(1)
      , g = i(y)
      , v = n(216)
      , _ = n(217)
      , b = i(_)
      , k = n(23)
      , S = function() {
        function e(t, n) {
            if ((0,
            m.default)(this, e),
            t) {
                if (this.browserSupportLevel = n,
                this._playlistData = {},
                (0,
                p.default)(this._playlistData, t),
                this._sidTime = parseInt((new Date).getTime() / 1e3),
                this._upsData = this._playlistData.ups || v.defaultPlayList.ups,
                this._albumData = this._playlistData.album || v.defaultPlayList.album,
                this._userData = this._playlistData.user || v.defaultPlayList.user,
                this._userData && this._userData.idens) {
                    this._userData.relaxVip = !1;
                    var i = this._userData.idens;
                    -1 === i.indexOf(100006) && -1 === i.indexOf(100002) && i.indexOf(100008) > -1 && (this._userData.relaxVip = !0)
                }
                this._vipData = this._playlistData.vip || v.defaultPlayList.vip,
                this._controllerData = this._playlistData.controller,
                this._uploaderData = this._playlistData.uploader,
                this._videoLikeData = this._playlistData.videolike,
                this._ticketData = this._playlistData.ticket,
                this._previewData = this._playlistData.preview,
                this._errorData = this._playlistData.error,
                this._playlogData = this._playlistData.playlog || {
                    lastpoint: 0
                },
                this._networkData = this._playlistData.network,
                this._playlistData.ad && (this._adData = this._playlistData.ad),
                this._payData = this._playlistData.pay,
                this._playlistData.show && (this._showData = {},
                (0,
                p.default)(this._showData, v.defaultShow, this._playlistData.show)),
                this._playlistData.fee && (this._feeData = {},
                (0,
                p.default)(this._feeData, v.defaultFee, this._playlistData.fee)),
                this._playlistData.security && (this._securityData = this._playlistData.security),
                this._playlistData.trial && (this._trialData = b.default.formatTrialData(this._playlistData.trial)),
                this._videoData = b.default.formatVideoData(this._playlistData.video),
                this._playlistData.subtitle && (this._subtitle = this._playlistData.subtitle),
                this._dvdinfo = b.default.formatDVDData(this._playlistData.dvd),
                this._streamsData = b.default.formatStreamsData(this._playlistData.stream, this.browserSupportLevel),
                this._streamTypes = this._playlistData.video && this._playlistData.video.stream_types,
                this._playlistData.master && (this.hasAutoLevel = !0,
                b.default.formatAutoStream(this._playlistData.master, this._streamsData, this._streamTypes)),
                this._controllerData && this._controllerData.startClarity && (this._startQuality = k.START_QUALITY_MAP[this._controllerData.startClarity])
            }
        }
        return (0,
        g.default)(e, [{
            key: "getMulityLanguage",
            value: function() {
                return [].concat((0,
                c.default)(this._streamsData.keys()))
            }
        }, {
            key: "getLanguageData",
            value: function(e) {
                var t = this
                  , n = [];
                return this._streamsData.forEach(function(i, r) {
                    var a = {};
                    a.langCode = r,
                    a.lang = t.getDvdLanguageData(r).lang || r,
                    a.vid = t.getDvdLanguageData(r).vid || "",
                    a.quality = t.getQualitys(r, e),
                    n.push(a)
                }),
                n
            }
        }, {
            key: "getQualitys",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                  , n = [];
                if (this._streamTypes && this._streamTypes[e]instanceof Array) {
                    for (var i = this._streamsData.get(e).has("auto"), r = this._streamTypes[e], a = !1, o = 0; o < r.length; o++)
                        if (-1 === t.indexOf(r[o]) && (-1 === k.ORDER["320p"].indexOf(r[o]) || !i)) {
                            for (var s = !1, l = 0; l < n.length; l++)
                                n[l].code === k.STREAM_TYPE_MAP[r[o]] && (s = !0);
                            if (!s) {
                                var u = {};
                                if (u.code = k.STREAM_TYPE_MAP[r[o]],
                                u.name = k.QualityNameMap[u.code],
                                u.label = k.LevelNameMap[u.code],
                                u.reason = "none",
                                u.isUse = !0,
                                this._streamsData.get(e).get(k.STREAM_TYPE_MAP[r[o]])) {
                                    var d = this._streamsData.get(e).get(k.STREAM_TYPE_MAP[r[o]]).get(r[o]);
                                    d.m3u8_url ? u.isUse = !0 : d.segs[0] && d.segs[0].src || (u.isUse = !1,
                                    u.reason = "nostream")
                                } else
                                    u.isUse = !1,
                                    u.reason = "nostream";
                                "720p" !== u.code || !0 !== u.isUse || this._userData.uid || (u.isUse = !1,
                                u.reason = "login"),
                                "1080p" !== u.code || !0 !== u.isUse || this._vipData.hd3 || (u.isUse = !1,
                                u.reason = "vip"),
                                u.streamType = r[o],
                                "1080p_frame" === u.code && (a = !0),
                                n.push(u)
                            }
                        }
                    this._dvdinfo.hasFrame && this._vipData.hd3 && !a && n.push({
                        code: "1080p_frame",
                        label: "帧享",
                        isUse: !1,
                        name: "帧享影音",
                        streamType: "none",
                        reason: "client"
                    })
                }
                return n.sort(function(e, t) {
                    return k.QUALITY[t.code] - k.QUALITY[e.code]
                }),
                n.filter(function(e) {
                    return e.code
                })
            }
        }, {
            key: "getDvdLanguageData",
            value: function(e) {
                for (var t = {}, n = 0; n < this._dvdinfo.audioLangs.length; n++)
                    this._dvdinfo.audioLangs[n].langcode === e && (t = this._dvdinfo.audioLangs[n]);
                return t
            }
        }, {
            key: "getQualityByLang",
            value: function(e) {
                var t = this
                  , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                  , i = arguments[2];
                if (this._streamTypes && this._streamTypes[e]instanceof Array) {
                    var r = this._streamsData.get(e).has("auto")
                      , a = this._streamTypes[e].filter(function(a) {
                        if (-1 !== n.indexOf(a))
                            return !1;
                        if (-1 !== k.ORDER["320p"].indexOf(a) && r)
                            return !1;
                        if (i) {
                            var o = t._streamsData.get(e).get(k.STREAM_TYPE_MAP[a]).get(a);
                            if (!o.segs[0] || !o.segs[0].src || /\.flv$/.test(o.segs[0].src.split("?")[0]))
                                return !1
                        }
                        return !0
                    }).map(function(e) {
                        return k.STREAM_TYPE_MAP[e]
                    }).filter(Boolean);
                    return (0,
                    u.default)(new s.default(a))
                }
                return []
            }
        }, {
            key: "getMp4StreamByQuality",
            value: function(e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : k.QualityNameList.length - 2;
                if (i < 0) {
                    var r = this._streamsData.values().next().value;
                    if (!r)
                        return {};
                    var a = r.values().next().value;
                    return a ? a.values().next().value || {} : {}
                }
                if (this._streamsData.has(e)) {
                    var o = this._streamsData.get(e);
                    if (o.has(t))
                        for (var s = o.get(t), l = 0; l < k.ORDER[t].length; l++)
                            if (s.has(k.ORDER[t][l])) {
                                var u = s.get(k.ORDER[t][l]);
                                if (u.segs.filter(function(e) {
                                    return e.src
                                }).length > 0)
                                    return u
                            }
                }
                if (!n)
                    return {};
                var d = k.QualityNameList.findIndex(function(e) {
                    return e.code === t
                });
                return 1 === n && d + 1 >= k.QualityNameList.length ? (n = -1,
                d -= 5 - i) : d += n,
                this.getMp4StreamByQuality(e, k.QualityNameList[d].code, n, i - 1)
            }
        }, {
            key: "getStreamByQuality",
            value: function(e, t, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "h264"
                  , r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : k.QualityNameList.length - 2;
                if (r < 0) {
                    var o = this._streamsData.values().next().value;
                    if (!o)
                        return {};
                    var s = o.values().next().value;
                    return s ? s.values().next().value || {} : {}
                }
                if (this._streamsData.has(e)) {
                    var l = this._streamsData.get(e);
                    if (l.has(t)) {
                        var u = l.get(t)
                          , d = k.ORDER[t];
                        "h265" === i ? d = k.ORDER[t].filter(function(e) {
                            return -1 !== e.indexOf("mp5") || -1 !== e.indexOf("h265")
                        }) : "auto" === t && (d = ["h264"]);
                        for (var c = 0; c < d.length; c++)
                            if (u.has(d[c]))
                                return u.get(d[c]);
                        if ("h265" === i)
                            return {}
                    }
                }
                if ("h265" === i) {
                    var h = !0
                      , p = !1
                      , f = void 0;
                    try {
                        for (var m, y = (0,
                        a.default)(this._streamsData.keys()); !(h = (m = y.next()).done); h = !0) {
                            e = m.value
                        }
                    } catch (e) {
                        p = !0,
                        f = e
                    } finally {
                        try {
                            !h && y.return && y.return()
                        } finally {
                            if (p)
                                throw f
                        }
                    }
                }
                if (!n)
                    return {};
                var g = k.QualityNameList.findIndex(function(e) {
                    return e.code === t
                });
                return 1 === n && g + 1 >= k.QualityNameList.length ? (n = -1,
                g -= 5 - r) : g += n,
                this.getStreamByQuality(e, k.QualityNameList[g].code, n, i, r - 1)
            }
        }, {
            key: "getOriginStreamTypeByQuality",
            value: function(e, t) {
                return this.getStreamByQuality(e, t, 1).stream_type || "mp4sd"
            }
        }, {
            key: "drmType",
            get: function() {
                return this._playlistData.video && this._playlistData.video.drm_type
            }
        }, {
            key: "attachId",
            get: function() {
                return this._showData ? this._showData.id : this._videoData ? this._videoData.id : 0
            }
        }, {
            key: "playlistData",
            get: function() {
                return this._playlistData
            }
        }, {
            key: "adData",
            get: function() {
                return this._adData
            }
        }, {
            key: "userData",
            get: function() {
                return this._userData
            }
        }, {
            key: "securityData",
            get: function() {
                return this._securityData
            }
        }, {
            key: "controllerData",
            set: function(e) {
                this._controllerData = e
            },
            get: function() {
                return this._controllerData
            }
        }, {
            key: "showData",
            set: function(e) {
                this._showData = e
            },
            get: function() {
                return this._showData
            }
        }, {
            key: "dvdinfo",
            get: function() {
                return this._dvdinfo
            }
        }, {
            key: "upsData",
            get: function() {
                return this._upsData
            }
        }, {
            key: "albumData",
            get: function() {
                return this._albumData
            }
        }, {
            key: "trialData",
            get: function() {
                return this._trialData
            }
        }, {
            key: "sidTime",
            get: function() {
                return this._sidTime
            },
            set: function(e) {
                this._sidTime = e
            }
        }, {
            key: "videoLikeData",
            get: function() {
                return this._videoLikeData
            }
        }, {
            key: "networkData",
            get: function() {
                return this._networkData
            }
        }, {
            key: "uploaderData",
            get: function() {
                return this._uploaderData
            }
        }, {
            key: "videoData",
            get: function() {
                return this._videoData
            }
        }, {
            key: "feeData",
            get: function() {
                return this._feeData
            }
        }, {
            key: "ticketData",
            get: function() {
                return this._ticketData
            }
        }, {
            key: "previewData",
            get: function() {
                return this._previewData
            }
        }, {
            key: "playlogData",
            get: function() {
                return this._playlogData
            }
        }, {
            key: "payData",
            get: function() {
                return this._payData
            }
        }, {
            key: "errorData",
            get: function() {
                return this._errorData
            }
        }, {
            key: "streamsData",
            get: function() {
                return this._streamsData
            }
        }]),
        e
    }();
    t.default = S
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(6)
      , v = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.vid = n._video.global.mediaData.mediaId,
            n.currentVideoPic = n._video.global.mediaData.poster,
            n.panelImageWrap = n.find(".recommend-img"),
            n.events = {
                _replay: n.replay.bind(n),
                _share: n.share.bind(n),
                _openIku: n.openIku.bind(n)
            },
            n._bind(),
            n.renderBind(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_bind",
            value: function() {
                var e = this;
                this._video.on("ended", function() {
                    e.continuePlay = e._video.global.config.continuePlay,
                    e.isShowRelatedVideo = e._video.global.config.isShowRelatedVideo || !1,
                    e.nextVid = e._video.global.programData.nextVid || null,
                    e.continuePlay && e.nextVid || !e.isShowRelatedVideo || (e.isEnd = !0,
                    e._video.global && e._video.global.ups.showData && e._video.global.ups.showData.show_thumburl_big_jpg && (e.currentVideoPic = e._video.global.ups.showData.show_thumburl_big_jpg),
                    e.panelImageWrap.src = e.currentVideoPic,
                    e.show())
                }),
                this._video.on("play", function() {
                    e._el.style.display = "none",
                    e.isEnd = !1
                }),
                this.configChange = function(t) {
                    t.playScene && e.isEnd && ("mini" === t.playScene ? e._el.style.display = "none" : e._el.style.display = "block")
                }
                ,
                this._video.ykplayer.on("global.config", this.configChange)
            }
        }, {
            key: "renderBind",
            value: function() {
                this.bind(".recommend-replay", "click", this.events._replay),
                this.bind(".recommend-dw", "click", this.events._openIku),
                this.bind(".wb", "click", this.events._share),
                this.bind(".qzoom", "click", this.events._share),
                this.bind(".qq", "click", this.events._share)
            }
        }, {
            key: "replay",
            value: function() {
                this._video.ykplayer.replay()
            }
        }, {
            key: "share",
            value: function(e) {
                var t = e.target
                  , n = t.getAttribute("data-type")
                  , i = "//v.youku.com/v_show/id_" + this.vid + ".html"
                  , r = ""
                  , a = {
                    url: location.href,
                    title: document.title,
                    pic: ""
                };
                switch (n) {
                case "weibo":
                    r = "//v.t.sina.com.cn/share/share.php?appkey=2684493555&url=" + a.url + "&ralateUid=1642904381&title=【视频：" + encodeURIComponent(a.title) + "】";
                    break;
                case "qzoom":
                    r = "//sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?summary=" + a.title + "&url=" + a.url + "&pics=" + a.pic;
                    break;
                case "qq":
                    r = "//connect.qq.com/widget/shareqq/index.html?title=" + a.title + '&desc="在优酷上看见这条视频还不错哦：' + a.title + "&site=优酷网&url=" + encodeURIComponent(i)
                }
                (0,
                g.openURL)(r, "_blank")
            }
        }, {
            key: "openIku",
            value: function() {
                var e = this;
                this._ikuOpenLock || (this._video.ykplayer.openIku(),
                this._ikuOpenLock = !0,
                setTimeout(function() {
                    e._ikuOpenLock = !1
                }, 300))
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("global.config", this.configChange),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="layer-recommend">\n                <div class="recommend-wrap clearfix">\n                    <div class="spv_private">\n                        <img class="recommend-img" src=""/>\n                        <div class="recommend-bg"></div>\n                        <div class="recommend-replay"></div>\n                        <div class="recommend-dw"></div>\n                    </div>\n                    <div class="spv-interact">\n                        <div class="spv-share">\n                            <span class="name">分享视频</span>\n                            <p class="share">\n                                <a href="javascript:void(0);" title="分享到微博" class="wb" data-type="weibo"></a>\n                                <a href="javascript:void(0);" title="分享到QQ空间" class="qzoom" data-type="qzoom"></a>\n                                <a href="javascript:void(0);" title="分享到QQ" class="qq" data-type="qq"></a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>'
            }
        }]),
        t
    }(y.Layer);
    t.default = v
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._global = e.global,
            n._player = e.player,
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "destroy",
            value: function() {
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n        <div class="fast-forward-box" style ="display: none;">\n        <div class="ff-icon-box">\n            <img class="ff-back" src="https://img.alicdn.com/tfs/TB1q3OLmQT2gK0jSZFkXXcIQFXa-80-80.png">\n            <img class="ff-circle" src="https://img.alicdn.com/tfs/TB15amNl8v0gK0jSZKbXXbK2FXa-64-64.png" alt="">\n            <img class="ff-arrow" src="https://img.alicdn.com/tfs/TB1NuSLlVY7gK0jSZKzXXaikpXa-64-64.png" alt="">\n        </div>\n        <div class="ff-text">3.0X</div>\n        </div>'
            }
        }]),
        t
    }(y.Layer);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(41)
      , a = i(r)
      , o = n(40)
      , s = i(o)
      , l = n(2)
      , u = i(l)
      , d = n(0)
      , c = i(d)
      , h = n(1)
      , p = i(h)
      , f = n(4)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(5)
      , _ = n(338)
      , b = n(9)
      , k = function(e) {
        function t(e) {
            (0,
            c.default)(this, t);
            var n = (0,
            m.default)(this, (t.__proto__ || (0,
            u.default)(t)).call(this, e));
            return n.firstStep = n.find("#framestep1"),
            n.secStep = n.find("#framestep2"),
            n.secStep.style.display = "none",
            n.firstStep.style.display = "none",
            n.isInit = !1,
            n.isReadyToShow = !1,
            n.isPlaying = !1,
            n.cover = n.find("#frame-mask-cover2"),
            n.initAnimation(),
            n
        }
        return (0,
        g.default)(t, e),
        (0,
        p.default)(t, [{
            key: "initAnimation",
            value: function() {
                function e() {
                    return t.apply(this, arguments)
                }
                var t = (0,
                s.default)(a.default.mark(function e() {
                    var t, n, i, r, o, s, l, u = this;
                    return a.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (!this.isInit) {
                                    e.next = 2;
                                    break
                                }
                                return e.abrupt("return");
                            case 2:
                                return t = new _.Downloader,
                                n = new _.Parser,
                                this.player1 = new _.Player("#canvasframe1"),
                                i = new _.Player("#canvasframe2"),
                                e.next = 8,
                                t.get("//cn-vmc-images.alicdn.com/hollywood/7d51de751a564dacb1261e96e1a6f9b3.svga");
                            case 8:
                                return r = e.sent,
                                e.next = 11,
                                t.get("//cn-vmc-images.alicdn.com/hollywood/aa98c6b0f039488c8ed1ea8426f646b6.svga");
                            case 11:
                                return o = e.sent,
                                e.next = 14,
                                n.do(r);
                            case 14:
                                return s = e.sent,
                                e.next = 17,
                                n.do(o);
                            case 17:
                                return l = e.sent,
                                this.player1.set({
                                    loop: 1,
                                    fillMode: "forwards"
                                }),
                                i.set({
                                    loop: 1,
                                    fillMode: "forwards"
                                }),
                                e.next = 22,
                                this.player1.mount(s);
                            case 22:
                                return e.next = 24,
                                i.mount(l);
                            case 24:
                                this.isInit = !0,
                                this.player1.$on("end", function() {
                                    u.secStep.style.display = "block",
                                    u.firstStep.style.display = "none",
                                    i.start()
                                }),
                                i.$on("end", function() {
                                    u.hide()
                                });
                            case 27:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "readyShow",
            value: function() {
                this.isReadyToShow = !0
            }
        }, {
            key: "show",
            value: function() {
                this.isReadyToShow && !this.isPlaying && this.showAnimation()
            }
        }, {
            key: "showAnimation",
            value: function() {
                function e() {
                    return t.apply(this, arguments)
                }
                var t = (0,
                s.default)(a.default.mark(function e() {
                    return a.default.wrap(function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if ((0,
                                b.hasClass)(this.cover, "frame-mask-cover2") && (0,
                                b.removeClass)(this.cover, "frame-mask-cover2"),
                                (0,
                                b.addClass)(this.cover, "frame-mask-cover2"),
                                !this.isInit) {
                                    e.next = 6;
                                    break
                                }
                                this.player1.start(),
                                e.next = 9;
                                break;
                            case 6:
                                return e.next = 8,
                                this.initAnimation();
                            case 8:
                                this.player1.start();
                            case 9:
                                this.isPlaying = !0,
                                this.secStep.style.display = "none",
                                this.firstStep.style.display = "block",
                                this._el.style.display = "block";
                            case 13:
                            case "end":
                                return e.stop()
                            }
                    }, e, this)
                }));
                return e
            }()
        }, {
            key: "hide",
            value: function() {
                this.isPlaying = !1,
                this.isReadyToShow = !1,
                this._el.style.display = "none"
            }
        }, {
            key: "render",
            value: function() {
                return '<div class="frame-mask" style="display:none;">\n            <div class="frame-mask-cover"></div>\n            <div class="canvas-layer" id=\'framestep1\'>\n                <canvas style="width: 25%; min-width: 100px;" id="canvasframe1"></canvas>\n                <span class="frame-text">帧享影音</span>\n            </div>\n            <div class="canvas-layer" id=\'framestep2\'>\n                <canvas style="width: 25%; min-width: 100px;" id="canvasframe2"></canvas>\n                <span class="frame-text">视听盛宴，无时无刻，无所不在</span>\n            </div>\n            \n            <div id="frame-mask-cover2"></div>\n        </div>'
            }
        }]),
        t
    }(v.Layer);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(9)
      , y = i(m)
      , g = n(6)
      , v = ""
      , _ = [1, .75, .5]
      , b = 1
      , k = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.title = n.find("#topPlayerTitle"),
            n.systemTime = n.find(".system-time"),
            n.scale = n.find(".scale"),
            n.percentItem = document.getElementsByClassName("percent-item"),
            n._global = e.global,
            n._player = e.player,
            n.fullscreenStatus = !1,
            n.mouseEnter = !1,
            n._addEvent(),
            n._originStyle = {
                width: "100%",
                height: "100%",
                "background-color": "rgb(0, 0, 0)",
                top: 0,
                left: 0,
                "margin-left": 0,
                "margin-top": 0
            },
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_toBiggerSize",
            value: function(e) {
                var t = this
                  , n = e;
                i && clearTimeout(i);
                var i = setTimeout(function() {
                    if (y.default.hasClass(t._player.container, "big-mode"))
                        return n = 1.5 * e
                }, 3e3)
            }
        }, {
            key: "setTitle",
            value: function(e) {
                var t = e.mediaData.title || "";
                this.title.innerHTML = (0,
                g.htmlEncodeAll)(t)
            }
        }, {
            key: "_checkTime",
            value: function(e) {
                return e < 10 ? "0" + e : e
            }
        }, {
            key: "_showHideTop",
            value: function(e) {
                var t = this;
                e ? (this.show(),
                v || (v = setInterval(function() {
                    t._timerHandler()
                }, 1e3),
                this._timerHandler())) : (this.hide(),
                v && (clearInterval(v),
                v = null))
            }
        }, {
            key: "_hideHideTop",
            value: function() {
                this.hide(),
                this.setScale(1),
                b = 1
            }
        }, {
            key: "setScale",
            value: function(e) {
                y.default.swichChildClass(this.find(".scale"), ".percent-item", "percent-item-current", function(t) {
                    return t.dataset ? t.dataset.val === e.toString() : t.getAttribute("data-val") === e.toString()
                }),
                this._player.changeScale(e),
                this.lastScale = e
            }
        }, {
            key: "_addEvent",
            value: function() {
                var e = this;
                this._global.on("fullscreen", function(t) {
                    t ? (e.fullscreenStatus = !0,
                    e.setTitle(e._global),
                    e.setScale(e.lastScale ? e.lastScale : 1),
                    e._showHideTop(t)) : (e.fullscreenStatus = !1,
                    e._hideHideTop(t))
                }),
                this.bind("mouseover", function() {
                    e.mouseEnter = !0,
                    e._player.holdDashboard()
                }),
                this.bind("mouseout", function() {
                    e.mouseEnter = !1,
                    e._player.releaseDashboard()
                }),
                this.dashboardStateChange = function(t) {
                    if (e.fullscreenStatus)
                        if (t)
                            e.mouseEnter || e.hide();
                        else {
                            if (e.mouseEnter)
                                return;
                            e.show()
                        }
                }
                ,
                this._global.on("dashboardStateChange", this.dashboardStateChange),
                this.bind(".scale", "click", function() {
                    b < _.length && (e.setScale(_[b]),
                    b++),
                    b === _.length && (b = 0)
                })
            }
        }, {
            key: "_timerHandler",
            value: function() {
                var e = new Date
                  , t = e.getHours()
                  , n = this._checkTime(e.getMinutes())
                  , i = this._checkTime(e.getSeconds());
                this.systemTime.innerHTML = t + ":" + n + ":" + i
            }
        }, {
            key: "render",
            value: function() {
                return '\n        <div class="top_area" style="display:none;">\n           <div class="top-header">\n                <div class="title" id="topPlayerTitle"></div>\n                <div class="scale">\n                <span data-val="0.5" class="percent-item icon iconfont icon-pingmu-"></span>\n                <span data-val="0.75" class="percent-item icon iconfont icon-pingmu-1"></span>\n                <span data-val="1" class="percent-item percent-item-current icon iconfont icon-pingmu-2"></span>\n                </div>\n                <div class="system-time"></div>\n            </div>\n            </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = k
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(33)
      , y = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initEmit",
            value: function() {}
        }, {
            key: "show",
            value: function() {
                this._el.style.display = "block"
            }
        }, {
            key: "hide",
            value: function(e) {
                var t = this;
                if (e)
                    return void (this._el.style.display = "none");
                if ("block" === this._el.style.display && !this.doHiding) {
                    this.doHiding = !0;
                    var n = this.find(".hdr-loading");
                    m.Browser.isChrome || m.Browser.isSafari ? n.src = "https://img.alicdn.com/tfs/TB1f.cIV3HqK1RjSZFPXXcwapXa-580-240.png" : n.src = "https://img.alicdn.com/tfs/TB1i5vrXR1D3KVjSZFyXXbuFpXa-580-240.png",
                    n.style.opacity = 1,
                    n.onload = function() {
                        setTimeout(function() {
                            t.find(".hdr-mask-cover").style.transform = "translateX(100%)",
                            setTimeout(function() {
                                t._el.style.display = "none",
                                t.find(".hdr-loading").src = "",
                                t.find(".hdr-mask-cover").style.transform = "translateX(0)",
                                t.doHiding = !1,
                                n.style.opacity = 0
                            }, 2e3)
                        }, 800)
                    }
                }
            }
        }, {
            key: "render",
            value: function() {
                return '<div class="hdr-mask" style="display:none;">\n        <div class="hdr-mask-cover"></div>\n        <img class="hdr-loading"  alt="">\n        </div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(9)
      , g = i(y)
      , v = n(47)
      , _ = i(v)
      , b = n(6)
      , k = n(8)
      , S = i(k)
      , E = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._video.ykplayer.on("Mediadata.qualityLanguageMap.Change", n.setDataUI.bind(n)),
            n._video.ykplayer.on("Mediadata.language.Change", n.setLanguage.bind(n)),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setDataUI",
            value: function() {
                var e = this;
                this.renderLanguages(),
                this.bind(".quality-dashboard .settings-item", "click", function(t) {
                    if (!g.default.hasClass(t.target, "disable") && !g.default.hasClass(t.target, "active")) {
                        var n = t.target.getAttribute("data-val");
                        (0,
                        b.setPreferSetting)(e._video.global.ups.attachId, n),
                        e._video.ykplayer.emit(S.default.SET_LANGUAGE, n)
                    }
                })
            }
        }, {
            key: "setLanguage",
            value: function() {
                var e = this._video.global.mediaData.language;
                g.default.swichChildClass(this.find(".quality-dashboard"), ".settings-item", "active", function(t) {
                    if (t.dataset)
                        return t.dataset.val === e;
                    t.getAttribute("data-val")
                }),
                this.data.language = e;
                var t = this._video.global.mediaData.qualityLanguageMap
                  , n = t.filter(function(t) {
                    return t.langCode === e
                });
                n[0] && (this.find(".js-language-text").innerText = n[0].lang)
            }
        }, {
            key: "renderLanguages",
            value: function() {
                var e = this._video.global.mediaData.qualityLanguageMap
                  , t = ""
                  , n = this._video.global.mediaData.language;
                return 0 === e.length ? (t += '<div class="setting-item setting-item-disable">不可选</div>',
                this.find(".js-language-text").innerText = "不可选",
                void g.default.addClass(this._el, "disabled")) : 1 === e.length ? (g.default.addClass(this._el, "disabled"),
                void (this._el.style.display = "none")) : (e.forEach(function(e) {
                    n || (n = e.langCode),
                    t += '<div data-val="' + e.langCode + '" class="settings-item language-item',
                    n === e.langCode && (t += " active"),
                    t += '">' + e.lang + "</div>"
                }),
                this.find(".quality-dashboard").innerHTML = t,
                this.data.language = n,
                void this.setLanguage())
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("Mediadata.qualityLanguageMap.Change", this.setDataUI.bind(this)),
                this._video.ykplayer.fire("Mediadata.language.Change", this.setLanguage.bind(this)),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-quality-icon">\n                <span class="control-quality-btn js-language-text">国语</span>\n                <div class="quality-dashboard language-dashboard">\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(_.default);
    t.default = E
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(6)
      , v = n(34)
      , _ = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.panel = n.find(".phone-watch-panel"),
            n.title = n.find("#playerTitle"),
            n.watchedTime = n.find("#watchedTime"),
            n.erWeiMa = n.find(".erweima"),
            n.sourceFrom = encodeURIComponent("pcsjk_2"),
            n.setTitle(),
            n._addEvent(),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_ifPanelHide",
            value: function() {
                return "none" === this.panel.style.display
            }
        }, {
            key: "_addEvent",
            value: function() {
                var e = this;
                this.pauseEvent = function() {
                    e.isfullScreen && e._ifPanelHide() && (e._video.ykplayer.activeDashboard(),
                    e.spmD = "pause",
                    e.showPanel())
                }
                ,
                this.playEvent = function() {
                    e.hidePanel()
                }
                ,
                this.dashboardStateChange = function(t) {
                    t && e.hidePanel()
                }
                ,
                this.fullscreenChange = function(t) {
                    t ? (e.isfullScreen = !0,
                    e.sourceFrom = encodeURIComponent("pcsjk_2"),
                    e.show()) : (e.isfullScreen = !1,
                    e.hide())
                }
                ,
                this.webfullscreenChange = function(t) {
                    t ? (e.isfullScreen = !0,
                    e.sourceFrom = encodeURIComponent("pcsjk_4"),
                    e.show()) : (e.isfullScreen = !1,
                    e.hide())
                }
                ,
                this._video.ykplayer.on("pause", this.pauseEvent),
                this._video.ykplayer.on("play", this.playEvent),
                this._video.ykplayer.on("dashboardStateChange", this.dashboardStateChange),
                this._video.ykplayer.on("fullscreen", this.fullscreenChange),
                this._video.on("webfullscreen", this.webfullscreenChange),
                this.bind("mouseenter", function() {
                    e._ifPanelHide() && (e.spmD = "hover",
                    e.showPanel())
                }),
                this.bind("mouseleave", function() {
                    e.hidePanel()
                })
            }
        }, {
            key: "show",
            value: function() {
                this._video.global.config.isTudou || (this._el.style.display = "inline-block")
            }
        }, {
            key: "showPanel",
            value: function() {
                this.setWatchedTime(),
                this._setQRCodeURL(),
                this.panel.style.display = "block"
            }
        }, {
            key: "hidePanel",
            value: function() {
                this.panel.style.display = "none"
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none"
            }
        }, {
            key: "_getQRCodeURL",
            value: function() {
                var e = this.getWatchTime();
                return "http://v.youku.com/v_show/id_" + this._video.global.ups.videoData.encodeid + ".html?firsttime=" + e + "&source_from=" + this.sourceFrom
            }
        }, {
            key: "_setQRCodeURL",
            value: function() {
                var e = document.getElementsByClassName("big-mode")
                  , t = 100;
                e.length > 0 && (t = 150);
                for (var n = this.erWeiMa.children; n.length > 0; )
                    this.erWeiMa.removeChild(n[0]);
                var i = (0,
                v.generateQRCode4Browser)({
                    code: this._getQRCodeURL(),
                    avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                    padding: 0,
                    width: t
                });
                this.erWeiMa.appendChild(i)
            }
        }, {
            key: "setTitle",
            value: function() {
                var e = this._video.global.mediaData.title || "";
                this.title.innerHTML = (0,
                g.htmlEncodeAll)(e)
            }
        }, {
            key: "getWatchTime",
            value: function() {
                return Math.round(this._video.global.currentTime) || 0
            }
        }, {
            key: "setWatchedTime",
            value: function() {
                var e = this.getWatchTime();
                this.watchedTime.innerHTML = this.parseWatchTime(e)
            }
        }, {
            key: "parseWatchTime",
            value: function(e) {
                if (!e)
                    return "";
                var t = parseInt(e / 3600);
                e %= 3600;
                var n = parseInt(e / 60)
                  , i = e % 60
                  , r = "";
                return t && (r += t + "小时"),
                n && (r += n + "分"),
                i > 0 && (r += i + "秒"),
                "观看至 " + r
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("pause", this.pauseEvent),
                this._video.ykplayer.fire("play", this.playEvent),
                this._video.ykplayer.fire("dashboardStateChange", this.dashboardStateChange),
                this._video.ykplayer.fire("fullscreen", this.fullscreenChange),
                this._video.fire("webfullscreen", this.webfullscreenChange),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return "\n        <div class=\"control-icon control-phonewatch\" style=\"display:none;\">\n            <span class=\"icon iconfont icon--shoujikan\"></span>\n            <span class='text'>手机看</span>\n            <div class='phone-watch-panel' data-spm= 'dashboard_shoujikan'>\n                <div class='arrow'></div>\n                <div class='left-wrap'>\n                    <div class='title-wrap'>\n                        <div class='title'>\n                            扫一扫，手机继续看\n                        </div>\n                        <div class='subtitle'>打开<span class='notice'>优酷App</span>-我的-顶部扫一扫</div>\n                    </div>\n                    <div class='video-wrap'>\n                        <span\n                            class='video-title'\n                            id='playerTitle'\n                            data-name='a_pos'\n                            data-spm='video-title'\n                        >\n                        </span>\n                        <div class='time' id=\"watchedTime\">\n                        </div>\n                    </div>\n                </div>\n                <div class='right-wrap' >\n                    <div class='erweima' id=\"erweima\" data-spm=\"dqrcode\"></div>\n                </div>\n            </div>\n        </div>\n        "
            }
        }]),
        t
    }(y.Component);
    t.default = _
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.playerVideo = n._video._videoCore.video,
            n.chromeSpt = document.pictureInPictureEnabled && "function" == typeof n.playerVideo.requestPictureInPicture,
            n.safariSpt = n.playerVideo.webkitSupportsPresentationMode && "function" == typeof n.playerVideo.webkitSetPresentationMode,
            n.isInPicture = !1,
            !n.chromeSpt && !n.safariSpt || n._video.global.config.simpleMode ? n.hide() : n.show(),
            n.bind("click", function() {
                n._PictureInPicture()
            }),
            n._addEvent(),
            n.playerVideo.addEventListener("enterpictureinpicture", function() {
                n.isInPicture = !0,
                n._video.global.config.inPicture = !0
            }),
            n.playerVideo.addEventListener("leavepictureinpicture", function() {
                n.isInPicture = !1,
                n._video.global.config.inPicture = !1,
                n.playerVideo.paused ? n._video.pause() : n._video.play()
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_PictureInPicture",
            value: function() {
                this.chromeSpt && (this.playerVideo !== document.pictureInPictureElement ? this.playerVideo.requestPictureInPicture() : document.exitPictureInPicture()),
                this.safariSpt && ("picture-in-picture" === this.playerVideo.webkitPresentationMode ? this.playerVideo.webkitSetPresentationMode("inline") : this.playerVideo.webkitSetPresentationMode("picture-in-picture"))
            }
        }, {
            key: "_addEvent",
            value: function() {
                var e = this;
                (this.chromeSpt || this.safariSpt) && this.on("fullscreen", function(t) {
                    t ? (e.isInPicture && e._PictureInPicture(),
                    e.hide()) : e.show()
                })
            }
        }, {
            key: "render",
            value: function() {
                return "\n            <div data-tip='画中画' class='control-icon control-quality-icon control-settings-icon'>\n                <span class='icon iconfont icon-picture'></span>\n            </div>\n        "
            }
        }]),
        t
    }(f.Component);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(9)
      , g = i(y)
      , v = n(47)
      , _ = i(v)
      , b = n(6)
      , k = n(114)
      , S = [{
        rate: 2,
        text: "2.0X"
    }, {
        rate: 1.5
    }, {
        rate: 1.25
    }, {
        rate: 1,
        text: "1.0X",
        isDefault: !0
    }, {
        rate: .5
    }]
      , E = !0
      , w = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.seekTime = 0,
            n.ifCloseNote = !1,
            n.ifAutoClose = !1,
            n.readLocalData(),
            n.ifCloseNote || n.ifAutoClose || n.on("seeked", function() {
                n.ifCloseNote || n.ifAutoClose || ++n.seekTime > 2 && (n.showRateNote(),
                n.seekTime = 0)
            }),
            n.onSetRateUI = function(e) {
                e && e.rate && n.setInitUI(e.rate)
            }
            ,
            n._video.ykplayer.on("global.config", n.onSetRateUI),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "readLocalData",
            value: function() {
                var e = (0,
                b.getLocalData)("ykcloseRate")
                  , t = (0,
                b.getLocalData)("ykcloseRateAuto");
                e && (this.ifCloseNote = !0),
                t && (new Date).getTime() - parseInt(t) < 864e5 && (this.ifAutoClose = !0)
            }
        }, {
            key: "setDataUI",
            value: function() {
                var e = this;
                if (!this._video.config.playBackRateInfo)
                    return void this.hide();
                this.renderRates(),
                this.setInitUI(this._video.global.config.rate),
                this._video.ykplayer.on(k.PlayerEvents.ratechange, function(t) {
                    var n = "" + t.playbackRate;
                    e.rate = n,
                    e.setInitUI(n)
                }),
                this.bind(".rate-dashboard .settings-item", "click", function(t) {
                    var n = t.target.getAttribute("data-val");
                    if (g.default.hasClass(t.target, "disable") || g.default.hasClass(t.target, "active"))
                        return E && "1" === n && e.setRate(n),
                        void (E = !1);
                    e.setRate(n)
                }),
                this.bind(".control-rate-btn", "click", function() {
                    e.hideRateNote()
                }),
                this.bind(".control-rate-note", "click", function(t) {
                    e.hideRateNote(),
                    (0,
                    b.setLocalData)("ykcloseRate", "true"),
                    e.ifCloseNote = !0,
                    t.preventDefault(),
                    t.stopPropagation(),
                    t.cancelBubble = !0
                })
            }
        }, {
            key: "renderRates",
            value: function() {
                var e = this;
                this._video.config.playBackRateInfo.rateList ? this.rateList = this._video.config.playBackRateInfo.rateList : this.rateList = S;
                var t = [];
                this.rateList.forEach(function(n) {
                    var i = '\n                <div data-val="' + n.rate + '" class="settings-item rate-item ' + (n.isDefault || n.rate === e.rate ? "active" : "") + '" data-eventlog="' + n.rate + '">\n                    ' + (n.text || n.rate + "X") + "\n                </div>";
                    n.isDefault && (e.currentRate = n.rate),
                    t.push(i)
                }),
                this.items = t.join(""),
                this.find(".rate-dashboard").innerHTML = this.items
            }
        }, {
            key: "setRate",
            value: function(e) {
                this.rate = e,
                this.data.rate = e;
                var t = {
                    rate: this.data.rate
                };
                this.setConfig(t),
                this.setSessionalData(t),
                this._video.ykplayer.setRate(e)
            }
        }, {
            key: "setInitUI",
            value: function(e, t) {
                g.default.swichChildClass(this.find(".rate-dashboard"), ".settings-item", "active", function(t) {
                    if (t.dataset)
                        return parseFloat(t.dataset.val) === parseFloat(e);
                    return t.getAttribute("data-val") === e
                });
                var n = "";
                n = 1 === Number(e) ? t ? "1.0X" : "倍速" : 2 === Number(e) ? e + ".0X" : e + "X",
                this.find(".control-rate-btn").innerText = n
            }
        }, {
            key: "showRateNote",
            value: function() {
                this.autohideRateNote(),
                this.find(".control-rate-note").style.display = "inline-block"
            }
        }, {
            key: "autohideRateNote",
            value: function() {
                var e = this;
                this.timer || (this.timer = window.setTimeout(function() {
                    e.hideRateNote(),
                    e.ifCloseNote = (new Date).getTime(),
                    (0,
                    b.setLocalData)("ykcloseRateAuto", (new Date).getTime()),
                    window.clearTimeout(e.timer),
                    e.timer = null
                }, 1e4))
            }
        }, {
            key: "hideRateNote",
            value: function() {
                this.find(".control-rate-note").style.display = "none",
                this.ifAutoClose = !0
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("global.config", this.onSetRateUI),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-quality-icon">\n                <span class="control-rate-btn">倍速</span>\n                <span class="control-rate-note">播放速度不满意？试试这里</span>\n                <div class="rate-dashboard">\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(_.default);
    t.default = w
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(9)
      , g = i(y)
      , v = n(47)
      , _ = i(v)
      , b = n(23)
      , k = n(8)
      , S = i(k)
      , E = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.frameTip = n.find(".tooltip-frame"),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setQuality",
            value: function() {
                var e = this._video.global.mediaData.quality;
                g.default.swichChildClass(this.find(".quality-dashboard"), ".settings-item", "active", function(t) {
                    if (t.dataset)
                        return t.dataset.val === e;
                    return t.getAttribute("data-val") === e
                }),
                this.data.quality = e;
                var t = this._video.global.mediaData.multiQuality
                  , n = t.filter(function(t) {
                    return t.code === e
                });
                n[0] && (this.find(".js-quality-text").innerText = n[0].label);
                var i = {
                    quality: e
                };
                this.setLocalData(i)
            }
        }, {
            key: "renderQualityList",
            value: function() {
                var e = this;
                this.drmDisable = !1,
                this.hasFrame = !1;
                var t = this.find(".quality-dashboard")
                  , n = [].concat(this._video.global.mediaData.multiQuality)
                  , i = this._video.global.mediaData.quality
                  , r = "";
                if (0 === n.length)
                    r += '<div class="settings-item setting-item-disable">不可选</div>';
                else {
                    var a = this._video.global.ups
                      , o = a && a.userData
                      , s = !(!this._video.global.initConfig || !this._video.global.initConfig.isSupportDRM)
                      , l = this._video.global.ups && this._video.global.ups.drmType
                      , u = this._video.global.config.supportType;
                    this.drmDisable = !1;
                    var d = !1;
                    if (n.forEach(function(e) {
                        "1080p" === e.code && (d = !0)
                    }),
                    s && "default" === l && "hls" === u && !d) {
                        var c = {
                            code: "1080p",
                            name: "蓝光 1080P",
                            isUse: !1,
                            label: "蓝光",
                            streamType: "none"
                        };
                        this.drmDisable = !0,
                        n.unshift(c)
                    }
                    d && !this._video.global.config.UOSMode && n.unshift({
                        code: "download",
                        name: "客户端1080P",
                        isUse: !0,
                        label: "",
                        streamType: "none"
                    }),
                    n.forEach(function(t) {
                        r += '<div data-val="' + t.code + '" data-label="' + t.label + '" class="settings-item quality-item q' + t.code,
                        t.code === i && t.isUse && (r += " active");
                        var n = "VIP"
                          , a = !1;
                        switch (t.code) {
                        case "download":
                            r += ' " >' + t.name + '<span class="vip-label">免费</span></div>';
                            break;
                        case "1080p":
                        case "1080p_hdr":
                            t.isUse ? (o && o.relaxVip && (n = "轻享VIP"),
                            r += ' " >' + t.name + '<span class="vip-label">' + n + "</span></div>") : e.drmDisable ? (r += ' disable" style="">',
                            r += t.name + '(暂不支持)\n                                    <img class="quality-tips-icon" src="//img.alicdn.com/tfs/TB1DImAzFY7gK0jSZKzXXaikpXa-22-22.svg"/>\n                                    <div class="tooltip"><div class="tooltip-content">亲，针对本视频，当前浏览器暂不支持此清晰度播放，您可通过升级浏览器、切换至极速模式或更换浏览器</div></div>\n                                </div>') : (r += " disable youku_vip_pay_btn",
                            r += ' ">' + t.name + '<span class="vip-label">' + n + "</span></div>");
                            break;
                        case "1080p_frame":
                            e.hasFrame = !0,
                            t.streamType && ["hls4hd3_sdr_hfr_hbr_cingo", "cmaf4hd3_sdr_hfr_hbr_cingo"].indexOf(t.streamType) > -1 && (n = "VIP·60帧"),
                            t.isUse ? r += ' settings-frame-item ">' : t.reason && "client" === t.reason ? (r += ' disable settings-frame-item-disable" data-msg="PC端暂不支持帧享，点问号查看支持帧享设备">',
                            a = !0) : r += ' disable youku_vip_pay_btn settings-frame-item">',
                            r += t.name + '\n                            <span class="vip-label ' + (a ? "label-disable" : "") + '">' + n + "</span>",
                            t.reason && "client" === t.reason ? r += '\n                            <div class="frame-tips-icon frame-icon-desc" id="frame-icon-desc" data-msg="PC端暂不支持帧享，点击跳转帧享设备说明页"></div>\n                            ' : r += '\n                            <img class="frame-tips-icon" id="frame-icon" src="//img.alicdn.com/tfs/TB1DImAzFY7gK0jSZKzXXaikpXa-22-22.svg"/>\n                            ',
                            r += '<span class="frame-tips-text">身临其境 视听盛宴</span>\n                        </div>';
                            break;
                        case "720p":
                            t.isUse ? r += '">' + t.name + "</div>" : r += ' login-canuse">' + t.name + '<span class="vip-label">登录</span></div>';
                            break;
                        case "auto":
                            r += '">' + t.name + '<span class="current-level"></span></div>';
                            break;
                        default:
                            r += '">' + t.name + "</div>"
                        }
                    })
                }
                return t.innerHTML = r,
                g.default.hasClass(t, "biglargest") && g.default.removeClass(t, "biglargest"),
                (this.drmDisable || this.hasFrame) && g.default.addClass(t, "biglargest"),
                this.addQualityEvent(),
                this.setQuality(),
                !0
            }
        }, {
            key: "addQualityEvent",
            value: function() {
                var e = this;
                this.bind(".quality-dashboard .settings-item", "click", function(t) {
                    var n = document.querySelector("#frame-icon")
                      , i = document.querySelector("#frame-icon-desc");
                    if (t.target === n || t.target === i)
                        return !1;
                    e.hideDashBoard();
                    var r = t.delegateTarget
                      , a = r.getAttribute("data-val");
                    return g.default.hasClass(r, "disable") ? void (e._video.global.playerState.fullscreen && g.default.hasClass(r, "youku_vip_pay_btn") && e._video.ykplayer.exitFullscreen()) : g.default.hasClass(r, "active") ? void 0 : g.default.hasClass(r, "login-canuse") ? void e._video.ykplayer.emit(S.default.LOGIN) : "download" === a ? void e.openIkuUrl() : void e._video.ykplayer.emit(S.default.SET_QUALITY, a)
                })
            }
        }, {
            key: "setDataUI",
            value: function() {
                var e = this;
                this.renderQualityList(),
                this._video.ykplayer.on("Mediadata.multiQuality.Change", this.renderQualityList.bind(this)),
                this._video.ykplayer.on("Mediadata.quality.Change", this.setQuality.bind(this)),
                this._video.ykplayer.on("Mediadata.autoLevel.Change", this.setCurrentLevel.bind(this)),
                this.bind(".tooltip-frame-close", "click", function() {
                    e.frameTip.style.display = "none"
                }),
                this.bind("#frame-icon", "click", this._frameClick.bind(this)),
                this.bind("#frame-icon-desc", "click", this._frameDescClick.bind(this))
            }
        }, {
            key: "_frameDescClick",
            value: function(e) {
                window.event && (window.event.cancelBubble = !0,
                window.event.returnValue = !1),
                e.preventDefault(),
                e.stopPropagation();
                this._video.ykplayer.openNewTab("//acz.youku.com/wow/ykpage/act/q0c4t7n6nh", "_blank")
            }
        }, {
            key: "_frameClick",
            value: function(e) {
                window.event && (window.event.cancelBubble = !0,
                window.event.returnValue = !1),
                e.preventDefault(),
                e.stopPropagation(),
                "none" === this.frameTip.style.display ? this.frameTip.style.display = "block" : this.frameTip.style.display = "none"
            }
        }, {
            key: "hideDashBoard",
            value: function() {
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "hideDashBoard", this).call(this),
                this.frameTip.style.display = "none"
            }
        }, {
            key: "openIkuUrl",
            value: function() {
                this._video.ykplayer.openIku("1080P")
            }
        }, {
            key: "setCurrentLevel",
            value: function() {
                var e = this._video.global.mediaData.autoLevel
                  , t = b.LevelNameMap[b.STREAM_TYPE_MAP[e]]
                  , n = this.find(".current-level");
                t && n ? n.innerText = "(" + t + ")" : n && (this.find(".current-level").innerText = "")
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("Mediadata.multiQuality.Change", this.renderQualityList.bind(this)),
                this._video.ykplayer.fire("Mediadata.quality.Change", this.setQuality.bind(this)),
                this._video.ykplayer.fire("Mediadata.autoLevel.Change", this.setCurrentLevel.bind(this)),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-quality-icon" id="videoQuality">\n                <span class="control-quality-btn js-quality-text">标清</span>\n                <span class="control-quality-note" style="display:none;">播放速度不满意？试试这里</span>\n                <div class="tooltip-frame" style="display:none;">\n                    <div class="tooltip-frame-bg"></div>\n                    <img class="frame-image" src="//img.alicdn.com/tfs/TB156AMK4D1gK0jSZFsXXbldVXa-824-356.png"/>\n                    <span class="tooltip-frame-close"></span>\n                </div>\n                <div class="quality-dashboard quality-dashboard-new largest" data-spm="qingxidu" >\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(_.default);
    t.default = E
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(9)
      , y = i(m)
      , g = n(6)
      , v = n(12)
      , _ = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.state = "enable",
            n._video.global.on(v.MessageConfig["player.ready"], function() {
                n.state = "enable"
            }),
            n.nextImg = n.find(".next-pic"),
            n.nextInfo = n.find(".next-info"),
            n.bind("click", function() {
                n.playNext()
            }),
            n._video.global.programData.nextVideo && n.setNextInfo(),
            n._video.ykplayer.on("Programdata.nextVideo.Change", n.setNextInfo.bind(n)),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setNextInfo",
            value: function() {
                var e = this._video.global.programData.nextVideo;
                e.img && "show" !== e.type ? (this.nextImg.src = e.img + "?x-oss-process=image/resize,w_160/interlace,1/quality,Q_100/sharpen,100",
                this.nextImg.style.display = "block",
                y.default.removeClass(this.nextInfo, "no-picture")) : (this.nextImg.style.display = "none",
                y.default.addClass(this.nextInfo, "no-picture")),
                this.nextInfo.innerHTML = "\n            <span>下一集</span>\n            <p>" + (0,
                g.htmlEncodeAll)(e.title) + "</p>",
                this._el.style.display = e ? "inline-block" : "none"
            }
        }, {
            key: "playNext",
            value: function() {
                var e = this;
                this._video.global.programData.nextVid && "enable" === this.state && (this.state = "disable",
                this._video.ykplayer.playNext()),
                setTimeout(function() {
                    e.state = "enable"
                }, 300)
            }
        }, {
            key: "removeClickedClass",
            value: function() {
                y.default.removeClass(this._el, "clicked")
            }
        }, {
            key: "render",
            value: function() {
                return '\n        <div class="control-icon control-next-video" style="display:none;">\n            <span class="icon iconfont icon-next"></span>\n            <div class="next-content">\n            <img class="next-pic" src=\'\'>\n            <div class="next-info">\n            </div>\n            </div>\n        </div>\n        '
            }
        }]),
        t
    }(f.Component);
    t.default = _
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(9)
      , y = i(m)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.dashboard = n.getComponent("control")._parent,
            n._addEvent(),
            n.fullscreen = !1,
            n.webFullscreen = !1,
            n.bind("click", function() {
                var e = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop;
                window.innerHeight - e <= 200 && window.scroll(0, 0),
                n._video.ykplayer.emit("callAnthology", !0)
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function() {
                this._el.style.display = "inline-block"
            }
        }, {
            key: "_addEvent",
            value: function() {
                var e = this;
                this._video.ykplayer.on("Programdata.programList.Change", this.setStatus.bind(this)),
                this.on("fullscreen", function(t) {
                    e.fullscreen = t,
                    e.setStatus()
                }),
                this.on("webfullscreen", function(t) {
                    e.webFullscreen = t,
                    e.setStatus()
                })
            }
        }, {
            key: "setStatus",
            value: function() {
                var e = this.fullscreen || this.webFullscreen && this._video.global.config.UOSMode
                  , t = this._video.global.programData && this._video.global.programData.programList ? this._video.global.programData.programList : [];
                e && t.length > 1 ? this.show() : (this.hide(),
                y.default.removeClass(this._el, "clicked"))
            }
        }, {
            key: "render",
            value: function() {
                return '\n        <div class="control-icon control-series control-quality-icon" id="controlSeries" style="display: none;">\n        <span class="control-rate-btn" data-eventlog="xseries">选集</span>\n        </div>\n        '
            }
        }]),
        t
    }(f.Component);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(9)
      , g = i(y)
      , v = n(47)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._video.ykplayer.on("SubtitleData.currentVidSubtitle.Change", n.setDataUI.bind(n)),
            n._video.ykplayer.on("SubtitleData.subtitle.Change", n.setSubtitle.bind(n)),
            n._video.ykplayer.on("SubtitleData.enabled.Change", n.setEnabled.bind(n)),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setEnabled",
            value: function() {
                this._video.global.subtitleData.enabled && this._video.global.subtitleData.currentVidSubtitle && this._video.global.subtitleData.currentVidSubtitle.length > 1 ? this.show() : this.hide()
            }
        }, {
            key: "setDataUI",
            value: function() {
                var e = this;
                this.renderSubtitles(),
                this.bind(".subtitle-dashboard-container .settings-item", "click", function(t) {
                    if (!g.default.hasClass(t.target, "disable") && !g.default.hasClass(t.target, "active")) {
                        var n = t.target.getAttribute("data-val");
                        e._video.ykplayer.emit(k.default.SET_SUBTITLE, n)
                    }
                })
            }
        }, {
            key: "setSubtitle",
            value: function() {
                var e = this._video.global.subtitleData.subtitle;
                g.default.swichChildClass(this.find(".subtitle-dashboard-container"), ".settings-item", "active", function(t) {
                    if (t.dataset)
                        return t.dataset.val === e;
                    t.getAttribute("data-val")
                }),
                this.data.subtitle = e;
                var t = this._video.global.subtitleData.currentVidSubtitle
                  , n = t.filter(function(t) {
                    return t.language === e
                });
                n[0] && (this.find(".js-language-text").innerText = n[0].label);
                var i = {
                    subtitle: e
                };
                this.setLocalData(i)
            }
        }, {
            key: "renderSubtitles",
            value: function() {
                var e = this._video.global.subtitleData.currentVidSubtitle
                  , t = ""
                  , n = this._video.global.subtitleData.subtitle;
                e.forEach(function(e) {
                    n || (n = e.language),
                    t += '<div data-val="' + e.language + '" class="settings-item quality-item subtitle-item',
                    n === e.language && (t += " active"),
                    e.isUse || (t += " disable",
                    "vip" === e.action && (t += " youku_vip_pay_btn")),
                    t += '">' + e.name,
                    e.note && (t += '<span class="vip-label">' + e.note + "</span>"),
                    t += "</div>"
                }),
                this.find(".subtitle-dashboard-container").innerHTML = t,
                this.data.subtitle = n,
                this.setSubtitle(),
                this.setEnabled()
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("SubtitleData.currentVidSubtitle.Change", this.setDataUI.bind(this)),
                this._video.ykplayer.fire("SubtitleData.subtitle.Change", this.setSubtitle.bind(this)),
                this._video.ykplayer.fire("SubtitleData.enabled.Change", this.setEnabled.bind(this)),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-quality-icon">\n                <span class="control-quality-btn js-language-text">国语</span>\n                <div class="quality-dashboard quality-dashboard-new">\n                    <div class="subtitle-dashboard-container"></div>\n                </div>\n            </div>\n        '
            }
        }]),
        t
    }(_.default);
    t.default = S
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(9)
      , y = i(m)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._video.global.config.simpleMode && n.hide(),
            n.bind("click", function() {
                n._el.className.indexOf("exit-webfullscreen-icon") > -1 ? (y.default.removeClass(n._el, "exit-webfullscreen-icon"),
                n._video.ykplayer.exitWebFullScreen(),
                n._el.setAttribute("data-tip", "网页全屏")) : (y.default.addClass(n._el, "exit-webfullscreen-icon"),
                n._video.ykplayer.webFullScreen(),
                n._el.setAttribute("data-tip", "退出网页全屏"))
            }),
            n.on("webfullscreen", function(e) {
                e ? n.webFullScreen() : n.exitWebFullScreen()
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "webFullScreen",
            value: function() {
                window.clearTimeout(this._stateTimeout),
                -1 === this._el.className.indexOf("exit-webfullscreen-icon") && y.default.addClass(this._el, "exit-webfullscreen-icon"),
                this._el.setAttribute("data-tip", "退出网页全屏")
            }
        }, {
            key: "exitWebFullScreen",
            value: function() {
                var e = this;
                this._stateTimeout = window.setTimeout(function() {
                    e._el.className.indexOf("exit-webfullscreen-icon") > -1 && y.default.removeClass(e._el, "exit-webfullscreen-icon"),
                    e._el.setAttribute("data-tip", "网页全屏")
                }, 250)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div data-tip="网页全屏" class="control-icon  control-webfullscreen-icon">\n                <span class="icon iconfont icon-webfullscreen"></span>\n                <span class="icon iconfont icon-exit-webfullscreen"></span>\n            </div>\n        '
            }
        }]),
        t
    }(f.Component);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(219)
      , a = i(r)
      , o = n(248)
      , s = i(o)
      , l = n(236)
      , u = i(l)
      , d = n(47)
      , c = i(d)
      , h = n(235)
      , p = i(h)
      , f = n(230)
      , m = i(f)
      , y = n(232)
      , g = i(y)
      , v = n(226)
      , _ = i(v)
      , b = n(229)
      , k = i(b)
      , S = n(227)
      , E = i(S)
      , w = n(228)
      , x = i(w)
      , T = n(224)
      , A = i(T)
      , L = n(231)
      , C = i(L)
      , D = n(225)
      , P = i(D)
      , R = n(116)
      , I = i(R)
      , M = n(117)
      , O = i(M)
      , N = n(239)
      , B = i(N)
      , F = n(249)
      , U = i(F)
      , j = n(252)
      , V = i(j)
      , H = n(251)
      , q = i(H)
      , z = n(223)
      , Y = i(z)
      , G = n(221)
      , K = i(G)
      , W = n(238)
      , X = i(W);
    t.default = {
        layers: {
            Posterlayer: B.default,
            LoadingLayer: u.default,
            TriggerLayer: V.default,
            SinglePreviewLayer: s.default,
            EndLayer: a.default,
            MessageLayer: X.default,
            InnerVipLayer: I.default,
            SubscribeLayer: O.default,
            InforLayer: p.default,
            SafariPlayLayer: U.default,
            SubtitleLayer: q.default,
            HDRLayer: Y.default,
            FrameLayer: K.default
        },
        icons: [{
            name: "WebFullscreenIcon",
            component: g.default,
            args: {
                index: 1
            }
        }, {
            name: "PictureIcon",
            component: _.default,
            args: {
                index: 1
            }
        }, {
            name: "SettingsIcon",
            component: c.default,
            args: {
                index: 1
            }
        }, {
            name: "QualityIcon",
            component: x.default,
            args: {
                index: 0
            },
            parentControl: "right"
        }, {
            name: "PlaybackRateIcon",
            component: E.default,
            args: {
                index: 0
            },
            parentControl: "right"
        }, {
            name: "LanguageIcon",
            component: A.default,
            args: {
                index: 0
            },
            parentControl: "right"
        }, {
            name: "SubtitleIcon",
            component: C.default,
            args: {
                index: 0
            },
            parentControl: "right"
        }, {
            name: "PhoneWatchIcon",
            component: P.default,
            args: {
                index: 3
            },
            parentControl: "left"
        }, {
            name: "NextIcon",
            component: k.default,
            args: {
                index: 1
            },
            parentControl: "left"
        }, {
            name: "SettingSeries",
            component: m.default,
            args: {
                index: 2
            }
        }]
    }
}
, function(e, t, n) {
    "use strict";
    function i(e, t) {
        e.style.backgroundImage = "url(" + t + ")"
    }
    function r(e, t) {
        e.style.opacity = t
    }
    function a(e, t) {
        e.style.fontSize = t + "px"
    }
    function o(e, t) {
        e.style.color = t
    }
    function s(e, t, n, i) {
        var r = void 0
          , a = void 0;
        switch (n) {
        case 0:
            r = "left",
            a = "top";
            break;
        case 1:
            r = "right",
            a = "top";
            break;
        case 2:
            r = "right",
            a = "bottom";
            break;
        case 3:
            r = "left",
            a = "bottom"
        }
        t && t[0] && (void 0 !== t[0].posX && (e.style[r] = parseInt(t[0].posX) * i + "px"),
        void 0 !== t[0].posY && (e.style[a] = parseInt(t[0].posY) * i + "px"),
        void 0 !== t[0].width && 0 !== t[0].width && (e.style.width = parseInt(t[0].width) * i + "px"),
        void 0 !== t[0].height && 0 !== t[0].height && (e.style.height = parseInt(t[0].height) * i + "px"),
        t[0].width && t[0].height && (e.style.backgroundSize = parseInt(t[0].width) * i + "px " + parseInt(t[0].height) * i + "px",
        e.style.backgroundPosition = "0 0"))
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }),
    t.updateUrl = i,
    t.updateOpacity = r,
    t.updateFontSize = a,
    t.updateFontColor = o,
    t.updateDisplay = s
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(234)
      , y = {
        rsUrl: "https://ykimg.alicdn.com/product/image/2019-11-14/f2acc774aabd56c8389d8ab52d654f77.png",
        alpha: 1,
        type: 1,
        refWnd: 0,
        displayMode: 0,
        rsType: 0,
        autoScale: 1,
        refCoord: 1,
        displayDTOS: [{
            duration: 0,
            posX: 28,
            posY: 28,
            start: 0,
            width: 161,
            height: 28
        }]
    }
      , g = {
        rsUrl: "https://ykimg.alicdn.com/product/image/2019-11-14/cf6e838c8300aebc2fc6c5e7627d3a11.png",
        alpha: 1,
        type: 0,
        refWnd: 0,
        displayMode: 0,
        rsType: 0,
        autoScale: 1,
        refCoord: 1,
        displayDTOS: [{
            duration: 0,
            posX: 28,
            posY: 28,
            start: 0,
            width: 112,
            height: 28
        }]
    }
      , v = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            n._data = {
                logo: {
                    fullscreen: null,
                    normal: null
                },
                license: {
                    fullscreen: null,
                    normal: null
                },
                register: {
                    fullscreen: null,
                    normal: null
                }
            },
            n.numberHasShow = !1,
            n.fullscreen = n._video.global.playerState.fullscreen || n._video.global.playerState.webFullscreen,
            n.percent = 1,
            n.licenseElement = n.find(".license"),
            n.serialElement = n.find(".serial"),
            n.logoContainer = n.find(".youku-layer-logo"),
            n.logo = n.find(".logo-new");
            var i = n._video.ykplayer.global.ups && n._video.ykplayer.global.ups.playlistData.watermark;
            return i && (n.parseWaterInfo(i),
            n.adjustContainer(),
            n.renderLogo()),
            n._addEvent(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "_addEvent",
            value: function() {
                var e = this;
                this._eMap = {
                    fullscreen: function(t) {
                        e.fullscreen !== t && (e.fullscreen = t),
                        e.delayedAdjustContainer(100)
                    }
                },
                window.addEventListener("resize", function() {
                    e.delayedAdjustContainer(100)
                }),
                this.on("fullscreen", this._eMap.fullscreen),
                this.on("webfullscreen", this._eMap.fullscreen)
            }
        }, {
            key: "parseWaterInfo",
            value: function(e) {
                for (var t = 0, n = e.length; t < n; t++) {
                    var i = e[t].type
                      , r = "logo";
                    2 !== i && 8 !== i || (r = "register"),
                    3 === i && (r = "license"),
                    3 === e[t].displayMode || 0 === e[t].displayMode ? this._data[r].normal = e[t] : 1 === e[t].displayMode && (this._data[r].fullscreen = e[t])
                }
            }
        }, {
            key: "renderLogo",
            value: function() {
                if (!1 === this._video.global.config.hasWatermark)
                    this.logoContainer.style.display = "none",
                    this.logo.style.display = "none";
                else {
                    var e = g;
                    this._video.global.mediaData.exclusive && (e = y),
                    this._data.logo.normal && (e = this.fullscreen && this._data.logo.fullscreen ? this._data.logo.fullscreen : this._data.logo.normal),
                    e.rsUrl && e.rsUrl.trim() && (0,
                    m.updateUrl)(this.logo, e.rsUrl.trim()),
                    void 0 !== e.alpha && (0,
                    m.updateOpacity)(this.logo, e.alpha),
                    (0,
                    m.updateDisplay)(this.logo, e.displayDTOS, e.refCoord, this.percent),
                    this.logo.style.display = "block",
                    this.logoContainer.style.display = "block"
                }
            }
        }, {
            key: "renderLicense",
            value: function() {
                var e = this;
                if (!this.numberHasShow) {
                    if (this.textRegisterTimer && window.clearTimeout(this.textRegisterTimer),
                    this.textLicenseTimer && window.clearTimeout(this.textLicenseTimer),
                    this._data.license.normal) {
                        var t = this.fullscreen && this._data.license.fullscreen ? this._data.license.fullscreen : this._data.license.normal;
                        this._updateText(t, this.licenseElement, this.normalPercent > 1 ? 1 : this.normalPercent);
                        var n = 6e3;
                        t.displayDTOS && t.displayDTOS.length > 0 && t.displayDTOS[0].duration > 0 && (n = t.displayDTOS[0].duration),
                        this.textLicenseTimer = window.setTimeout(function() {
                            e.licenseElement.style.display = "none",
                            e.numberHasShow = !0
                        }, n)
                    }
                    if (this._data.register.normal) {
                        var i = this.fullscreen && this._data.register.fullscreen ? this._data.register.fullscreen : this._data.register.normal;
                        this._updateText(i, this.serialElement, this.normalPercent);
                        var r = 6e3;
                        i.displayDTOS && i.displayDTOS.length > 0 && i.displayDTOS[0].duration > 0 && (r = i.displayDTOS[0].duration),
                        this.textRegisterTimer = window.setTimeout(function() {
                            e.serialElement.style.display = "none",
                            e.numberHasShow = !0
                        }, r)
                    }
                }
            }
        }, {
            key: "delayedAdjustContainer",
            value: function(e) {
                var t = this;
                this.adjustTimer && clearTimeout(this.adjustTimer),
                this.logoContainer && (this.logoContainer.style.opacity = 0,
                this.adjustTimer = setTimeout(function() {
                    if (t.adjustContainer(),
                    t.renderLogo(),
                    "block" === t.licenseElement.style.display) {
                        var e = t.fullscreen && t._data.license.fullscreen ? t._data.license.fullscreen : t._data.license.normal;
                        t._updateText(e, t.licenseElement, t.normalPercent > 1 ? 1 : t.normalPercent)
                    }
                    if ("block" === t.serialElement.style.display) {
                        var n = t.fullscreen && t._data.register.fullscreen ? t._data.register.fullscreen : t._data.register.normal;
                        t._updateText(n, t.serialElement, t.normalPercent)
                    }
                    t.logoContainer.style.opacity = 1
                }, e))
            }
        }, {
            key: "adjustContainer",
            value: function() {
                if (this.logoContainer) {
                    var e = this._video.global.mediaData.originWidth
                      , t = this._video.global.mediaData.originHeight
                      , n = this._parent
                      , i = n.offsetWidth
                      , r = n.offsetHeight
                      , a = r
                      , o = i
                      , s = 0
                      , l = 0;
                    e / t > i / r ? (a = "" + Math.floor(i * t / e),
                    l = (r - i * t / e) / 2) : (o = "" + Math.floor(r * e / t),
                    s = (i - r * e / t) / 2),
                    this.logoContainer.style.position = "relative",
                    this.logoContainer.style.height = a + "px",
                    this.logoContainer.style.width = o + "px",
                    this.logoContainer.style.marginRight = s + "px",
                    this.logoContainer.style.marginLeft = s + "px",
                    this.logoContainer.style.marginBottom = this.logoContainer.style.marginTop = l + "px",
                    this.fullscreen && this._data.logo.fullscreen ? this.percent = (a / 900).toFixed(3) : this.percent = (a / 453).toFixed(3),
                    this.normalPercent = (a / 453).toFixed(3)
                }
            }
        }, {
            key: "_updateText",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                t.innerHTML = (e.text || "").trim(),
                e.textSize && (0,
                m.updateFontSize)(t, e.textSize),
                e.textColor && (0,
                m.updateFontColor)(t, e.textColor),
                0 === e.displayMode && (e.displayDTOS[0] && (e.displayDTOS[0].width && delete e.displayDTOS[0].width,
                e.displayDTOS[0].height && delete e.displayDTOS[0].height),
                (0,
                m.updateDisplay)(t, e.displayDTOS, e.refCoord, n),
                t.style.display = "block")
            }
        }, {
            key: "setScale",
            value: function(e) {
                this.logoContainer.style.transform = "scale(" + e + ")"
            }
        }, {
            key: "setMini",
            value: function() {
                this.delayedAdjustContainer(100)
            }
        }, {
            key: "setNormal",
            value: function() {
                this.delayedAdjustContainer(100)
            }
        }, {
            key: "destroy",
            value: function() {
                this.fire("fullscreen", this._eMap.fullscreen),
                this.fire("webfullscreen", this._eMap.fullscreen)
            }
        }, {
            key: "render",
            value: function() {
                return '\n        <div class=\'youku-layer-wuliao\'>\n            <div class=\'youku-layer-logo\'>\n                <div class="logo-new" style="display:none;"> </div>\n                <span class="serial" style="display: none;"></span>\n                <span class="license" style="display: none;"></span>\n            </div>\n                \n        </div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = v
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._isError = !1,
            n._video.ykplayer.on("global.reset", n.setError),
            n._video.ykplayer.on("global.reload", n.setError),
            n._video.ykplayer.on("player.error", n.recoveError),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "setError",
            value: function() {
                this._isError = !1
            }
        }, {
            key: "recoveError",
            value: function() {
                this._isError = !0
            }
        }, {
            key: "show",
            value: function(e) {
                var t = this;
                if ("none" === this._el.style.display) {
                    if (0 === e || e || (e = 900),
                    this._isError && this.hide(),
                    window.clearTimeout(this._timeout),
                    this._timeout = null,
                    0 === e)
                        return void (this._el.style.display = "");
                    this._timeout = setTimeout(function() {
                        t._isError || (t._el.style.display = "")
                    }, e)
                }
            }
        }, {
            key: "hide",
            value: function() {
                this._timeout && (window.clearTimeout(this._timeout),
                this._timeout = null),
                "" === this._el.style.display && (this._el.style.display = "none")
            }
        }, {
            key: "showMessage",
            value: function(e) {
                this.find("p").innerText = e || "加载中..."
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("global.reset", this.setError),
                this._video.ykplayer.fire("global.reload", this.setError),
                this._video.ykplayer.fire("player.error", this.recoveError)
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="preloading-layer blackbg" style="display: none;">\n              <div class="preloading-container">\n                  <p>加载中...</p>\n                  <div class="h5-layer-loading">\n                    <div class="spinner1">\n                        <div class="bounce1"></div>\n                        <div class="bounce2"></div>\n                        <div class="bounce3"></div>\n                    </div>\n                  </div>\n              </div>\n          </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(9)
      , v = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._global = e.global,
            n._player = e.player,
            n._noteDom = n._el.querySelector(".h5-mininote-layer"),
            n.controlBtn = n._el.querySelector(".h5-control-wrap"),
            n.closeBtn = n._el.querySelector(".min-closeicon"),
            n.mousePosData = {
                clientY: 0,
                clientX: 0
            },
            n.positionData = {
                top: 0,
                right: 0
            },
            n.tempPosition = {
                top: 0,
                right: 0
            },
            n.containerHeight = 240,
            n.containerWidth = 426,
            n.isDraging = !1,
            n.isCustomDrag = !1,
            window.gragDom = n._el,
            n._player.on("play", function() {
                n.isEnded = !1,
                n.changeControlState(!0)
            }),
            n._player.on("pause", function() {
                n.changeControlState(!1)
            }),
            n.playSceneChange = function(e) {
                n.isEnded && e && e.playScene && ("mini" === e.playScene ? n.showNote() : n.hideNote())
            }
            ,
            n.playerEnd = function() {
                n.isEnded = !0,
                "mini" === n._global.config.playScene && (n.changeControlState(!1),
                n._player.switchNormalScene())
            }
            ,
            n.switchPausePlay = function(e) {
                var t = e.target.getAttribute("data-state")
                  , i = e.target.className;
                "pause" === t || i.indexOf("pause") > -1 ? n._player.pause() : ("play" === t || i.indexOf("play") > -1) && n._player.play()
            }
            ,
            document.onmousemove = function(e) {
                return n.mouseMove(e)
            }
            ,
            document.onmouseup = function(e) {
                return n.mouseUp(e)
            }
            ,
            document.onmouseleave = function(e) {
                return n.mouseLeave(e)
            }
            ,
            n.bind("mousedown", function(e) {
                n.mouseDown(e)
            }),
            n.controlBtn.addEventListener("click", n.switchPausePlay),
            n.closeBtn.addEventListener("click", function() {
                try {
                    window.goldlog.record("/yt/youkuplayer.fdl.playerui.show", "CLK", "servername=minilayer&opt=close", "GET")
                } catch (e) {
                    console.log("goldlog.record")
                }
                n._player.switchNormalScene()
            }),
            n._player.on("ended", n.playerEnd),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function(e) {
                this.isCustomDrag && this.positionData ? this.setContainerPositon(this.positionData) : this.setContainerPositon(e),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "show", this).call(this);
                try {
                    window.goldlog.record("/yt/youkuplayer.fdl.playerui.show", "CLK", "servername=minilayer&opt=show", "GET")
                } catch (e) {
                    console.log("goldlog.record")
                }
            }
        }, {
            key: "hide",
            value: function() {
                this.removeContainerPositon(),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "hide", this).call(this)
            }
        }, {
            key: "hideBtn",
            value: function() {
                this.controlBtn.style.display = "none"
            }
        }, {
            key: "showBtn",
            value: function() {
                this.controlBtn.style.removeProperty("display")
            }
        }, {
            key: "getMaxTop",
            value: function() {
                return document.documentElement.clientHeight - this.containerHeight
            }
        }, {
            key: "getMaxRight",
            value: function() {
                return document.documentElement.clientWidth - this.containerWidth
            }
        }, {
            key: "setContainerPositon",
            value: function(e) {
                var t = this._player.container
                  , n = this.getMaxTop();
                e.top = e && (e.top || 0 === e.top) ? e.top : n,
                e.right = e && e.right ? e.right : 0,
                e.top > n && (e.top = n);
                var i = this.getMaxRight();
                e.right > i && (e.right = i),
                t.style.top = e.top + "px",
                t.style.right = e.right + "px",
                t.style.left = "auto",
                this.positionData.top = e.top,
                this.positionData.right = e.right
            }
        }, {
            key: "removeContainerPositon",
            value: function() {
                var e = this._player.container;
                e.style.removeProperty("top"),
                e.style.removeProperty("right"),
                e.style.removeProperty("left")
            }
        }, {
            key: "mouseMove",
            value: function(e) {
                if (this.isDraging) {
                    this.isCustomDrag = !0;
                    var t = document.documentElement.clientWidth - e.clientX - this.mousePosData.clientX
                      , n = {
                        top: e.clientY - this.mousePosData.clientY < 0 ? 0 : e.clientY - this.mousePosData.clientY,
                        right: t < 0 ? 0 : t
                    };
                    this.setContainerPositon(n),
                    this.tempPosition = n
                }
            }
        }, {
            key: "mouseDown",
            value: function(e) {
                this.isDraging = !0,
                this.mousePosData.clientY = e.clientY - this.positionData.top,
                this.mousePosData.clientX = document.documentElement.clientWidth - e.clientX - this.positionData.right
            }
        }, {
            key: "mouseUp",
            value: function() {
                this.isDraging = !1
            }
        }, {
            key: "mouseLeave",
            value: function() {
                this.isDraging = !1
            }
        }, {
            key: "changeControlState",
            value: function(e) {
                e ? ((0,
                g.addClass)(this.controlBtn, "control-play-icon"),
                this.controlBtn.setAttribute("data-state", "play")) : ((0,
                g.removeClass)(this.controlBtn, "control-play-icon"),
                this.controlBtn.setAttribute("data-state", "pause"))
            }
        }, {
            key: "showNote",
            value: function() {
                var e = this._global.ups && this._global.ups.trialData
                  , t = "播放结束";
                e && (t = "试看结束"),
                (0,
                g.addClass)(this._el, "note-show-miniplayer"),
                this._noteDom.innerHTML = t
            }
        }, {
            key: "hideNote",
            value: function() {
                (0,
                g.removeClass)(this._el, "note-show-miniplayer")
            }
        }, {
            key: "destroy",
            value: function() {
                this._player.fire("ended", this.playerEnd),
                this._player.on("error", this.playerEnd),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="preloading-layer minisize-layer">\n            <div class="btn-control drag-layer">\n            <div class="min-closeicon">\n              <span class="icon iconfont icon-close"></span>\n            </div>\n            </div>\n            <div class="h5-mininote-layer">\n            </div>\n            <div class="h5-control-wrap control-play-icon">\n                <span class="icon iconfont icon-play"></span>\n                <span class="icon iconfont icon-pause"></span>\n            </div>\n          </div>\n        '
            }
        }]),
        t
    }(y.Layer);
    t.default = v
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(6)
      , v = n(9)
      , _ = i(v)
      , b = n(115)
      , k = n(8)
      , S = i(k)
      , E = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._messageList = [],
            n._messageid = 0,
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function(e) {
                var n = this;
                if (e.content) {
                    e.key && this.hideKey(e.key);
                    var i = document.createElement("div")
                      , r = document.createElement("div");
                    _.default.addClass(r, "information-tip-des"),
                    r.innerHTML = e.content;
                    var o = r.querySelector(".information-tip-link");
                    if (o && (o.setAttribute("data-id", this._messageid),
                    o.addEventListener("click", this._clickItemEvent.bind(this))),
                    _.default.addClass(i, "information-tips-box"),
                    i.setAttribute("data-id", this._messageid),
                    i.style.bottom = 50 * this._messageList.length + "px",
                    i.appendChild(r),
                    e.showclose) {
                        var s = document.createElement("div");
                        _.default.addClass(s, "information-tip-close"),
                        s.setAttribute("data-id", this._messageid);
                        var l = document.createElement("span");
                        l.setAttribute("class", "icon iconfont icon-close"),
                        s.appendChild(l),
                        s.addEventListener("click", function(e) {
                            var t = e.currentTarget.dataset ? e.currentTarget.dataset.id : e.currentTarget.getAttribute("data-id");
                            n.hide(t)
                        }),
                        i.appendChild(s)
                    }
                    _.default.addClass(i, "animate-in"),
                    this._el.appendChild(i),
                    this._messageList.push({
                        id: this._messageid,
                        origindata: e,
                        dom: i
                    }),
                    this._messageid++,
                    e.time && e.time > 0 && setTimeout(function() {
                        n.hide(i.dataset ? i.dataset.id : i.getAttribute("data-id"))
                    }, e.time),
                    (0,
                    p.default)(t.prototype.__proto__ || (0,
                    a.default)(t.prototype), "show", this).call(this)
                }
            }
        }, {
            key: "hideKey",
            value: function(e) {
                if (0 !== this._messageList.length)
                    for (var t = this._messageList.length - 1; t > -1; t--)
                        if (this._messageList[t].origindata.key && this._messageList[t].origindata.key === e) {
                            var n = this._messageList[t].dom;
                            this._el.removeChild(n),
                            this._messageList.splice(t, 1),
                            this.resetMessage();
                            break
                        }
            }
        }, {
            key: "hideTimeout",
            value: function() {
                if (0 !== this._messageList.length)
                    for (var e = this._messageList.length - 1; e > -1; e--)
                        if (this._messageList[e].origindata.time < 0) {
                            var t = this._messageList[e].dom;
                            this._el.removeChild(t),
                            this._messageList.splice(e, 1),
                            this.resetMessage();
                            break
                        }
            }
        }, {
            key: "hide",
            value: function(e) {
                for (var t = this, n = this._messageList.length - 1; n > -1; n--) {
                    if ("break" === function(n) {
                        if (t._messageList[n].id.toString() === e.toString()) {
                            var i = t._messageList[n].dom;
                            return _.default.addClass(i, "animate-out"),
                            setTimeout(function() {
                                t._el.removeChild(i),
                                t._messageList.splice(n, 1),
                                t.resetMessage()
                            }, 300),
                            "break"
                        }
                    }(n))
                        break
                }
            }
        }, {
            key: "resetMessage",
            value: function() {
                for (var e = document.querySelectorAll(".information-tips-box"), t = 0; t < e.length; t++)
                    e[t].style.bottom = 50 * t + "px"
            }
        }, {
            key: "hideAllMessage",
            value: function() {
                for (var e = document.querySelectorAll(".information-tips-box"), t = 0; t < e.length; t++)
                    this._el.removeChild(e[t]);
                this._messageid = 0,
                this._messageList = []
            }
        }, {
            key: "_clickItemEvent",
            value: function(e) {
                var t = e.target.dataset ? e.target.dataset.val : e.target.getAttribute("data-val")
                  , n = e.target.dataset ? e.target.dataset.id : e.target.getAttribute("data-id");
                switch (t) {
                case "restart":
                    this._video.ykplayer.emit(S.default.REPLAY),
                    this.hide(n);
                    break;
                case "opensetpanel":
                    this._video.ui.getComponent("SettingsIcon").showDashBoard();
                    break;
                case "safariguide":
                    ;this._video.ykplayer.openNewTab("//h5.m.youku.com//ju/safari11guide.html", "_blank");
                    break;
                case "login":
                    (this._video.global.ups && this._video.global.ups.userData).uid ? this._video.ykplayer.emit(S.default.SET_QUALITY, "720p") : this._video.ykplayer.emit(S.default.LOGIN);
                    break;
                case "subscribe":
                    this.hide(n),
                    this._video.ykplayer.emit(S.default.SUBSCRIBE);
                    break;
                case "autoquality":
                    this._video.ykplayer.emit(S.default.SET_QUALITY, "auto"),
                    this.setLocalData({
                        quality: "auto"
                    })
                }
            }
        }, {
            key: "setLocalData",
            value: function(e) {
                var t = (0,
                g.getLocalData)(b.LSKEY) || {};
                for (var n in e)
                    e[n] !== t[n] && (t[n] = e[n]);
                (0,
                g.setLocalData)(b.LSKEY, t)
            }
        }, {
            key: "destroy",
            value: function() {
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n      <div class="information-tips"></div>\n      '
            }
        }]),
        t
    }(y.Layer);
    t.default = E
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._el.style.backgroundImage = " url(" + n._video.global.mediaData.poster + ")",
            n._video.global.config.autoplay ? n.hide() : (n.show(),
            n.on("play", function() {
                n.hide()
            }),
            n._el.addEventListener("click", function() {
                n._video.ykplayer.play()
            })),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '\n          <div class="ykplayer-poster-logo" style="display:none;">\n          </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function() {
                if (this._video.global.config.isTudou) {
                    this.find(".preloading-logo").src = "//img.alicdn.com/tfs/TB1g8BFYYr1gK0jSZFDXXb9yVXa-488-200.svg"
                }
                this._el.style.display = "block"
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="preloading-layer" style="display:none">\n              <div class="preloading-container" style="width:148px; margin-left: -74px;height: 90px;">\n                  <img class="preloading-logo" src="//img.alicdn.com/tfs/TB1QSJTXeL2gK0jSZPhXXahvXXa-680-133.svg" />\n                  <div class="h5-layer-loading">\n                    <div class="spinner1">\n                        <div class="bounce1"></div>\n                        <div class="bounce2"></div>\n                        <div class="bounce3"></div>\n                    </div>\n                  </div>\n              </div>\n          </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(12)
      , y = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.errorCodePanel = n.find(".note-error-code"),
            n.timePanel = n.find(".run-time"),
            n.waitTimerPanel = n.find(".wait-time"),
            n.reloadBtn = n.find(".btn-reload"),
            n.timer = null,
            n.remainTime = 0,
            n.reloadBtn.addEventListener("click", function() {
                n._video.ykplayer.reload()
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initEmit",
            value: function() {
                var e = this;
                this._video.global.on(m.MessageConfig["global.reset"], function() {
                    e.hide()
                }),
                this._video.global.on(m.MessageConfig["global.reload"], function() {
                    e.hide()
                })
            }
        }, {
            key: "show",
            value: function(e) {
                this.data = e,
                this.data && (this.waitTimerPanel.style.display = "block",
                this.reloadBtn.style.display = "none",
                this.remainTime = 1e3 * this.data.wait,
                this.errorCodePanel.innerHTML = "22501",
                this.setTimePanel(this.data.wait),
                this.setTimer(),
                this._el.style.display = "block",
                this._el.parentElement.style.display = "block")
            }
        }, {
            key: "showBtn",
            value: function() {
                this.reloadBtn.style.display = "inline-block"
            }
        }, {
            key: "setTimePanel",
            value: function(e) {
                this.timePanel.innerHTML = e
            }
        }, {
            key: "hide",
            value: function() {
                this.data && (this._el.style.display = "none",
                this._el.parentElement.style.display = "none")
            }
        }, {
            key: "setTimer",
            value: function() {
                var e = this;
                this.timer && (clearTimeout(this.timer),
                this.timer = null),
                this.remainTime > 0 ? this.timer = setTimeout(function() {
                    e.remainTime -= 300,
                    e.setTimePanel(parseInt(e.remainTime / 1e3)),
                    e.setTimer()
                }, 300) : (this.remainTime = 0,
                this.showBtn(),
                this.waitTimerPanel.style.display = "none")
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="limit-show-layer">\n                <div class="limit-panel">\n                    <p class="note-tit">sorry~~ 小酷被挤爆了，请稍后再来试试看吧~</p>\n                    <p class="wait-time tips"><b class="run-time"> </b>秒后重新连接... </p>\n                    <a href="javascript:void(0);" class="btn-reload">重试</a>\n                </div>\n                <p class="note-error-code">\n                    错误代码：10000\n                </p>\n            </div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(34)
      , y = n(111)
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._qrcode = n.find(".erweima"),
            n.find(".env").innerText = "[" + (0,
            y.getEnvironment)() + "]",
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function(e) {
                e && (this.find("note_normal_tit").innerHTML = e),
                this._setQrCode(),
                this._el.style.display = "block"
            }
        }, {
            key: "_setQrCode",
            value: function() {
                for (var e = encodeURIComponent("pcsjk_5"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0; )
                    this._qrcode.removeChild(n[0]);
                var i = (0,
                m.generateQRCode4Browser)({
                    code: t,
                    avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                    padding: 0,
                    width: 82
                });
                this._qrcode.appendChild(i)
            }
        }, {
            key: "render",
            value: function() {
                return '<div class=\'drm-error-layer\' style="display:none">\n                    <div class="note_error_panel note_error_panel_sec" style="display: block;">\n                    <div class="note_normal_tit">应版权方要求，此影片使用DRM技术加密，您的浏览器不支持播放</div>\n                    <span class=\'drm-error-note-mini\'>给您带来不便非常抱歉，您可以</span>\n                     <div class="note_error_item_container">\n                        <div class="note_error_item_list">\n                            <div class="note_error_itembg note_error_itemqrcode">\n                                <div class=\'erweima\' id="erweima" data-spm="dqrcode"></div>\n                            </div>\n                            <div class="note_error_item_title">用手机扫二维码观看</div>\n                            <div class="env" style="color:rgba(255,255,255,0.3);">&nbsp;</div>\n                        </div>   \n                        <div class="note_error_item_list note_error_item_iku" style="display: none;">\n                            <div class="note_error_itembg note_error_itemyouku">\n                                <div class="note_error_item youku_logo"></div>\n                            </div>\n                            <div class="note_error_item_title">下载<a href=\'javascript:void(0)\' class="note_error_link note_error_download">优酷PC客户端</a>观看</div>\n                            <div class="note_error_item_ad">减免广告</div>\n                        </div>\n                        <div class="note_error_item_list">\n                            <div class="note_error_itembg">\n                                <div class = "note_error_item chrome"></div>\n                            </div>\n                            <div class="note_error_item_title">换个浏览器试试</div>\n                        </div>\n                    </div>\n                </div>\n        </div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(0)
      , u = i(l)
      , d = n(1)
      , c = i(d)
      , h = n(4)
      , p = i(h)
      , f = n(11)
      , m = i(f)
      , y = n(3)
      , g = i(y)
      , v = n(5)
      , _ = n(9)
      , b = i(_)
      , k = n(17)
      , S = i(k)
      , E = n(111)
      , w = n(33)
      , x = n(34)
      , T = n(8)
      , A = i(T)
      , L = function(e) {
        function t(e) {
            (0,
            u.default)(this, t);
            var n = (0,
            p.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            return n._titles = ["由于您的浏览器禁用了COOKIE，视频无法正常播放", "抱歉出了点小问题~ 佛系用户请随喜刷新~", "错误这种东西，就算我们做了所有准备，也还是会悄悄跑出来 T_T", "你忘记的，我都记得。无法播放时请猛击刷新~", "只有刷新，才有未来。", "重要的不是什么都拥有，而是你遇到播放错误时，刷新按钮就在手边。", "只要观看不停，我们总会遇见。", "错误难以避免，刷新却可以选择。", "每个人都是生活的导演，此时此刻，刷新一下！", "出了点小状况，小酷正在为您搬运视频..."],
            n._ctype = 0,
            n._isFirst = !0,
            n._panels = [n.find(".note_error_panel_first"), n.find(".note_error_panel_sec"), n.find(".note_error_panel_private"), n.find(".note_error_panel_notice"), n.find(".note_error_panel_login")],
            n._title = n.find(".note_error_tit"),
            n._secTitle = n.find(".note_normal_tit_sec"),
            n._ikuItem = n.find(".note_error_item_iku"),
            n._noticeTitle = n.find(".note_notice_tit"),
            n._download = n.find(".note_error_download"),
            n._youku = n.find(".youku_logo"),
            n._contact = n.find(".note_error_contact"),
            n._feedback = n.find(".note_error_feedback"),
            n._sendlog = n.find(".note_error_sendlog"),
            n._icon = n.find(".icon_setting"),
            n._reload = n.find(".note_error_button_refrash"),
            n._reload2 = n.find(".refrash_button"),
            n._feedback2 = n.find(".note_error_button_custom"),
            n._code = n.find(".note_error_code"),
            n._codeDetail = n.find(".note_error_code_detail"),
            n._codeExt = n.find(".first .note_error_code_ext"),
            n._loginCodeExt = n.find(".login .note_error_code_ext"),
            n._qrcode = n.find(".erweima"),
            n._login = n.find(".note_error_login"),
            n.find(".env").innerText = "[" + (0,
            E.getEnvironment)() + "]",
            n.hide(),
            n._addEvent(),
            n
        }
        return (0,
        g.default)(t, e),
        (0,
        c.default)(t, [{
            key: "_addEvent",
            value: function() {
                this._reload.addEventListener("click", this._errorReloadAction.bind(this), !1),
                this._reload2.addEventListener("click", this._errorReloadAction.bind(this), !1),
                this._icon.addEventListener("click", this._iconAction.bind(this), !1),
                this._youku.addEventListener("click", this._errorDownload.bind(this), !1),
                this._download.addEventListener("click", this._errorDownload.bind(this), !1),
                this._sendlog.addEventListener("click", this._errorSendAction.bind(this), !1),
                this._feedback.addEventListener("click", this._feedbackHandler.bind(this), !1),
                this._feedback2.addEventListener("click", this._feedbackHandler.bind(this), !1),
                this._login.addEventListener("click", this._loginHandler.bind(this), !1)
            }
        }, {
            key: "initEmit",
            value: function() {
                var e = this;
                this._video.global.on("reset", function() {
                    e._isFirst = !0
                })
            }
        }, {
            key: "formatDate",
            value: function(e) {
                var t = new Date
                  , n = {
                    "M+": t.getMonth() + 1,
                    "d+": t.getDate(),
                    "h+": t.getHours(),
                    "m+": t.getMinutes(),
                    "s+": t.getSeconds(),
                    "q+": Math.floor((t.getMonth() + 3) / 3),
                    S: t.getMilliseconds()
                };
                /(y+)/.test(e) && (e = e.replace(RegExp.$1, t.getFullYear().toString().substr(4 - RegExp.$1.length)));
                for (var i in n)
                    new RegExp("(" + i + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? n[i] : ("00" + n[i]).substr(-RegExp.$1.length, RegExp.$1.length)));
                return e
            }
        }, {
            key: "_feedbackHandler",
            value: function() {
                var e = "https://csc.youku.com/feedback-web/alicare?style=190530&dsData=web_in";
                this.errorCode && (e += "&attemptquery=播放错误码" + this.errorCode);
                var t = {};
                t.gmt_create = this.formatDate("yyyy-MM-dd hh:mm:ss"),
                t.os_version = w.Browser.platform,
                t.model = "",
                t.resolution = screen.width + "×" + screen.height,
                t.browser = w.Browser.name + " " + w.Browser.version,
                t.app_type = "youku_pcweb",
                t.utdid = this._cna || "";
                var n = "";
                this._ups && this._ups.userData && (n = this._ups.userData.ip),
                t.client_ip = n,
                t.vid = this._video.global.mediaData.mediaId,
                t.url = location.href,
                t.error_code = this.errorCode,
                t.from_page = "feedback_playError",
                e += "&dspara=" + encodeURIComponent((0,
                a.default)(t)),
                this._video.ykplayer.openNewTab(e, "_blank")
            }
        }, {
            key: "_setUploaderLink",
            value: function() {
                var e = "";
                this._video.global && this._video.global.ups && this._video.global.ups.uploaderData && (e = this._video.global.ups.uploaderData.homepage),
                this._contact.setAttribute("href", e)
            }
        }, {
            key: "_setQrCode",
            value: function() {
                for (var e = encodeURIComponent("pcsjk_6"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0; )
                    this._qrcode.removeChild(n[0]);
                var i = (0,
                x.generateQRCode4Browser)({
                    code: t,
                    avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                    padding: 0,
                    width: 82
                });
                this._qrcode.appendChild(i)
            }
        }, {
            key: "_errorReloadAction",
            value: function() {
                this._video.ykplayer.reload(),
                this.hide()
            }
        }, {
            key: "_iconAction",
            value: function() {
                this._title.innerHTML !== this._titles[0] && this._errorReloadAction()
            }
        }, {
            key: "_errorDownload",
            value: function() {
                if (!this._video.global.config.isTudou) {
                    w.Browser.isMac ? this._video.ykplayer.openNewTab("//iku.youku.com/macinstall/macywebplayererror", "_blank") : this._video.ykplayer.openIku()
                }
            }
        }, {
            key: "_errorSendAction",
            value: function() {
                this.find(".note_error_sendlog_success").style.display = "inline-block",
                this.find(".note_error_sendlog_before").style.display = "none"
            }
        }, {
            key: "_loginHandler",
            value: function() {
                this._video.ykplayer.emit(A.default.LOGIN)
            }
        }, {
            key: "show",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "10000"
                  , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "error";
                this._video.global.config.isTudou && (this._download.innerHTML = "土豆PC客户端"),
                this.errorCode = e;
                var n = "0500";
                this._uid = "",
                this._psid = "",
                this._cna = S.default.getCna(),
                this._ups = {},
                this._video && this._video.global && (this._ups = this._video.global.ups,
                this._psid = this._ups && this._ups.upsData && this._ups.upsData.psid || "",
                this._ups && this._ups._playlistData.user && (this._ups._playlistData.user.ytid ? this._uid = this._ups._playlistData.user.ytid : this._uid = this._ups._playlistData.user.uid),
                n = this._video.global.config.ccode ? this._video.global.config.ccode : "0500");
                var i = Math.round(9 * Math.random());
                if (0 === i && (i = 9),
                this._panels.forEach(function(e) {
                    e.style.display = "none"
                }),
                this._el.style.display = "block",
                b.default.hasClass(this._el, "note_error_second") && b.default.removeClass(this._el, "note_error_second"),
                "error" === t)
                    "10101" === e.toString() ? (this._title.innerHTML = this._titles[0],
                    b.default.removeClass(this._icon, "icon_refrash"),
                    b.default.addClass(this._icon, "icon_setting_cookie"),
                    this._code.innerHTML = "请设置开启COOKIE后刷新页面",
                    this._ctype = 0) : "23605" === e.toString() ? (this._ctype = 4,
                    (this._cna || this._psid || this._uid) && (this._loginCodeExt.innerHTML = this.getUserInfo(this._cna, this._psid, this._uid),
                    this._loginCodeExt.style.display = "block")) : this._isFirst && "23408" !== e.toString() ? ("35618" === e.toString() ? this._title.innerHTML = "视频请求失败！可能是由于Adblock等浏览器插件导致的，建议您尝试关闭后重试。" : this._title.innerHTML = this._titles[i],
                    b.default.removeClass(this._icon, "icon_setting_cookie"),
                    b.default.addClass(this._icon, "icon_refrash"),
                    this._code.innerHTML = "[" + this._video.global.version + "]很抱歉出现播放错误，错误代码：" + n + "-" + e,
                    (this._cna || this._psid || this._uid) && (this._codeExt.innerHTML = this.getUserInfo(this._cna, this._psid, this._uid),
                    this._codeExt.style.display = "block"),
                    this._ctype = 0,
                    this._isFirst = !1) : (this._ctype = 1,
                    b.default.addClass(this._el, "note_error_second"),
                    "23408" === e.toString() ? (this._ikuItem.style.display = "none",
                    this._secTitle.innerHTML = "受版权方保护要求，本片暂不支持在此浏览器播放") : (this._ikuItem.style.display = "",
                    this._secTitle.innerHTML = "抱歉，您访问的视频无法播放，您可以尝试以下方式"),
                    this._codeDetail.innerHTML = "[" + this._video.global.version + "]错误代码：" + n + "-" + e,
                    this.find(".note_error_sendlog_success").style.display = "none",
                    this.find(".note_error_sendlog_before").style.display = "block",
                    this._setQrCode());
                else if ("private" === t)
                    this._setUploaderLink(),
                    this._ctype = 2;
                else if ("notice" === t) {
                    if (e.note)
                        if ("string" == typeof e.note)
                            this._noticeTitle.innerHTML = e.note;
                        else {
                            for (var r = "", a = 0, o = e.note.length; a < o; a++)
                                r += "<p>" + e.note[a] + "</p>";
                            this._noticeTitle.innerHTML = r
                        }
                    this._ctype = 3
                } else
                    "login" === t && (this._ctype = 4);
                this._panels[this._ctype].style.display = "block"
            }
        }, {
            key: "getUserInfo",
            value: function(e, t, n) {
                var i = "";
                return i = t && n ? "uid: " + n + ", cna：" + e + ", psid：" + t : t ? "cna：" + e + ", psid：" + t : n ? "uid: " + n + ", cna：" + e : "cna：" + e,
                i += " [" + (0,
                E.getEnvironment)() + "]"
            }
        }, {
            key: "hide",
            value: function() {
                (0,
                m.default)(t.prototype.__proto__ || (0,
                s.default)(t.prototype), "hide", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="note_error">\n                <div class="note_error_panel note_error_panel_first first" style="display:block">\n                    <div class="note_error_icon icon_setting"></div>\n                    <div class="note_error_tit">出了点小状况，小酷正在为您搬运视频...</div>\n                    <div class="note_error_code">\n                        很抱歉出现播放错误，错误代码：10000\n                    </div>\n                    <div class="note_error_code_ext" style="display:none;">\n                        cna: ，psid:\n                    </div>\n                    <div class="note_error_buttons" style="width: 80px;">\n                        <div class="note_error_button_refrash">刷新</div>\n                    </div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_sec" style="display:none">\n                    <div class="error_details">\n                        <div class="note_normal_tit note_normal_tit_sec">抱歉，您访问的视频无法播放，您可以尝试以下方式</div>\n                        <div class="note_error_item_container">\n                            <div class="note_error_item_list">\n                                <div class="note_error_itembg note_error_itemqrcode">\n                                    <div class=\'erweima\' id="erweima" data-spm="dqrcode"></div>\n                                </div>\n                                <div class="note_error_item_title">用手机扫二维码观看</div>\n                                <div class="env" style="color:rgba(255,255,255,0.3);">&nbsp;</div>\n                            </div>\n                            <div class="note_error_item_list note_error_item_iku">\n                                <div class="note_error_itembg note_error_itemyouku">\n                                    <div class="note_error_item youku_logo"></div>\n                                </div>\n                                <div class="note_error_item_title">下载<a href=\'javascript:void(0)\' class="note_error_link note_error_download">优酷PC客户端</a>观看</div>\n                                <div class="note_error_item_ad">减免广告</div>\n                            </div>\n                            <div class="note_error_item_list">\n                                <div class="note_error_itembg">\n                                    <div class = "note_error_item chrome"></div>\n                                </div>\n                                <div class="note_error_item_title">换个浏览器试试</div>\n                            </div>\n                        </div>\n                        <div class="note_error_buttons" style="width: 176px;">\n                            <div class="note_error_button_refrash refrash_button">刷新</div>\n                            <div class="note_error_button_custom">找客服</div>\n                        </div>\n                    </div>\n\n                    <div class="error_tips">\n                        <div class="note_error_item_desc note_error_sendlog_before">\n                            您还可以通过<a href=\'javascript:void(0)\' class="note_error_link note_error_sendlog">发送错误日志</a>或<a href=\'javascript:void(0)\' class="note_error_link note_error_feedback">在线反馈</a>来帮助我们定位问题\n                        </div>\n                        <div class="note_error_item_desc note_error_sendlog_success" style="display:none">\n                            错误日志发送成功\n                        </div>\n                        <div class="note_error_item_desc note_error_code_detail">\n                            错误日志发送成功\n                        </div>\n                    </div>\n\n                </div>\n                <div class="note_error_panel note_error_panel_private" style="display:none;">\n                    <div class="note_error_icon icon_private"></div>\n                    <div class="note_normal_tit">该视频被设为私密，观看请联系<a class="note_error_link note_error_contact" href="//i.youku.com/u/UNTQyNzE0MTQ4" target="_blank">上传者</a></div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_notice" style="display:none;">\n                    <div class="note_error_icon icon_note_notice"></div>\n                    <div class="note_notice_tit" >节目出错啦，请稍后重试</div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_login login" style="display:none;">\n                    <div class="note_error_icon icon_note_notice"></div>\n                    <div class="note_error_item_title" style="font-size:18px;">由于安全原因，请<a href=\'javascript:void(0)\' class="note_error_link note_error_login">登录</a>后继续观看</div>\n                    <div class="note_error_code_ext" style="display:none;">\n                        cna: ，psid:\n                    </div>\n                 </div>\n            </div>'
            }
        }]),
        t
    }(v.Layer);
    t.default = L
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(240)
      , y = i(m)
      , g = n(243)
      , v = i(g)
      , _ = n(117)
      , b = i(_)
      , k = n(246)
      , S = i(k)
      , E = n(245)
      , w = i(E)
      , x = n(116)
      , T = i(x)
      , A = n(241)
      , L = i(A)
      , C = n(242)
      , D = i(C)
      , P = n(247)
      , R = i(P)
      , I = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            n._global = e.global;
            for (var i = 0, r = n._children.length; i < r; i++)
                n._children[i]._video.global = n._global,
                n._children[i]._video.ykplayer = e.player,
                n._children[i].showLoading = function() {
                    n.showLoading()
                }
                ,
                n._children[i].initEmit && n._children[i].initEmit();
            return n._global.on("notesupport", function(e) {
                "notesupport" === e.type && n.showNoSupport()
            }),
            n.curShowIndex = -1,
            n._background = n.find(".preplay-background"),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "children",
            value: function() {
                return {
                    PreloadingLayer: y.default,
                    ErrorLayer: v.default,
                    SubscribeLayer: b.default,
                    PasswordLayer: S.default,
                    InnerVipLayer: T.default,
                    NotSupportLayer: w.default,
                    CurrentLimitLayer: L.default,
                    DrmErrorNoteLayer: D.default,
                    SufeiLayer: R.default
                }
            }
        }, {
            key: "hideCurrent",
            value: function() {
                this.curShowIndex >= 0 && this.curShowIndex < this._children.length && this._children[this.curShowIndex].hide()
            }
        }, {
            key: "show",
            value: function() {
                this._el.style.display = "block",
                this._background.style.display = "none",
                this._global.ups && this._global.ups.showData && this._global.ups.showData.show_thumburl_big_jpg && (this._background.src = this._global.ups.showData.show_thumburl_big_jpg,
                this._background.style.display = "block")
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none"
            }
        }, {
            key: "showErrorMsg",
            value: function(e, t) {
                this.hideLoading(),
                this.show(),
                this.hideCurrent(),
                this._children[1].show(e, t),
                this.curShowIndex = 1
            }
        }, {
            key: "hideErrorMsg",
            value: function() {
                this.hide(),
                this._children[1].hide()
            }
        }, {
            key: "showLoading",
            value: function() {
                this.show(),
                this.hideCurrent(),
                this._children[0].show(),
                this.curShowIndex = 0
            }
        }, {
            key: "hideLoading",
            value: function() {
                this.hide(),
                this._children[0].hide()
            }
        }, {
            key: "showPassword",
            value: function() {
                this.show(),
                this.hideCurrent(),
                this._children[3].show(),
                this.curShowIndex = 3
            }
        }, {
            key: "hidePassword",
            value: function() {
                this.hide(),
                this._children[3].hide()
            }
        }, {
            key: "showVipLayer",
            value: function() {
                this.show(),
                this.hideCurrent(),
                this._children[4].showPop(this.global),
                this.curShowIndex = 4
            }
        }, {
            key: "hideVipLayer",
            value: function() {
                this.hide(),
                this._children[4].hide()
            }
        }, {
            key: "showSubscribeLayer",
            value: function() {
                this.show(),
                this.hideCurrent(),
                this._children[2].show(),
                this.curShowIndex = 2
            }
        }, {
            key: "hideSubscribeLayer",
            value: function() {
                this.hide(),
                this._children[2].hide()
            }
        }, {
            key: "showNoSupport",
            value: function() {
                this.show(),
                this.hideCurrent(),
                this._children[5].show(),
                this.curShowIndex = 5
            }
        }, {
            key: "hideNoSupport",
            value: function() {
                this.hide(),
                this._children[5].hide()
            }
        }, {
            key: "showCurrentLimit",
            value: function(e) {
                this.show(),
                this.hideCurrent(),
                this._children[6].show(e),
                this.curShowIndex = 6
            }
        }, {
            key: "showDrmErrorNoteLayer",
            value: function(e) {
                this.show(),
                this.hideCurrent(),
                this._children[7].show(e),
                this.curShowIndex = 7
            }
        }, {
            key: "hideDrmErrorNoteLayer",
            value: function() {
                this.hide(),
                this._children[7].hide()
            }
        }, {
            key: "hideCurrentLimit",
            value: function() {
                this.hide(),
                this._children[6].hide()
            }
        }, {
            key: "showSufei",
            value: function() {
                this.show(),
                this._children[8].show(),
                this.curShowIndex = 8
            }
        }, {
            key: "hideSufei",
            value: function() {
                this.hide(),
                this._children[8].hide()
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="preplay-layer">\n            <img class="preplay-background" src=""/>\n          </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = I
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(34)
      , y = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._qrcode = n.find(".erweima"),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "initInfo",
            value: function(e) {
                if (e.reason && (this.find(".warn-reason").innerHtml = e.reason),
                e.txt && (this.find(".warn-txt").innerHtml = e.txt),
                this._setQrCode(),
                this.ifEvent)
                    return !1;
                this.addEvent()
            }
        }, {
            key: "_setQrCode",
            value: function() {
                for (var e = encodeURIComponent("pcsjk_7"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0; )
                    this._qrcode.removeChild(n[0]);
                var i = (0,
                m.generateQRCode4Browser)({
                    code: t,
                    avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                    padding: 0,
                    width: 100
                });
                this._qrcode.appendChild(i)
            }
        }, {
            key: "addEvent",
            value: function() {
                var e = this;
                this.ifEvent = !0,
                this.openIkuIcon = this.find(".openiku"),
                this.openIkuIcon.addEventListener("click", function() {
                    e._video.ykplayer.openIku()
                })
            }
        }, {
            key: "show",
            value: function() {
                var e = {
                    reason: "很抱歉，由于您的浏览器版本太低",
                    txt: "暂时无法播放"
                };
                this.initInfo(e),
                this._el.style.display = "block"
            }
        }, {
            key: "hide",
            value: function() {
                this._el.style.display = "none"
            }
        }, {
            key: "render",
            value: function() {
                return "<div class='not-support-layer'>\n           <div class='left-info-layer'>\n              <div class='warn-img'><i></i></div>\n              <div class='warn-reason'>很抱歉，由于您的浏览器版本太低</div>\n              <div class='warn-txt'>暂时无法观看</div>\n           </div>\n           <div class='right-info-layer'>\n              <div class='right-info-content'>\n                <div class='note-txt'>您可以选择一下任意方式继续观看</div>\n                <ul>\n                    <li class='type-txt'>1、换个浏览器试试</li>\n                    <li class='type-txt'>2、下载<a href='javascript:void(0)' class='openiku'>优酷PC客户端</a>继续观看<i class='note-bubble'></i></li>\n                    <li class='type-txt'>3、使用手机扫码观看</li>\n                    <li class='type-txt'>\n                        <div class='erweima' id=\"erweima\" data-spm=\"dqrcode\"></div>\n                    </li>\n                </ul>\n              </div>\n           </div>\n        </div>"
            }
        }]),
        t
    }(f.Layer);
    t.default = y
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(6)
      , y = "密码错误，请重新输入"
      , g = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._title = n.find(".note_title"),
            n._submitBtn = n.find(".note_submit"),
            n._passwordTxt = n.find(".note_password"),
            n._errorTips = n.find(".note_tips"),
            n._input = "",
            n._addEvent(),
            n.hide(),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function() {
                this._el.style.display = "block",
                this._video.global.ups && (this._playlistData = this._video.global.ups,
                -2003 === this._playlistData.errorData.code && (this._title.innerHTML = "" + y,
                this._errorTips.innerHTML = "",
                this._passwordTxt.value = ""))
            }
        }, {
            key: "_addEvent",
            value: function() {
                this._submitBtn.addEventListener("click", this._submitPassword.bind(this), !1)
            }
        }, {
            key: "_submitPassword",
            value: function() {
                var e = this._passwordTxt.value;
                return "" === e ? void (this._errorTips.innerHTML = y) : this._input === e && "检验超时，请稍后再试" !== this._errorTips.innerHTML ? void (this._errorTips.innerHTML === y && (this._errorTips.innerHTML = "")) : (this._input = e,
                this._video.global.initConfig.inputPassword = (0,
                m.htmlEncodeAll)(this._input),
                this.hide(),
                this.showLoading(),
                this._errorTips.innerHTML = "验证中..",
                this._checking = !0,
                void this._video.ykplayer.reload())
            }
        }, {
            key: "_focusIn",
            value: function() {
                this._errorTips.innerHTML === y && (this._errorTips.innerHTML = "")
            }
        }, {
            key: "render",
            value: function() {
                return "\n            <div class='note_info'>\n                <div class='note_panel'>\n                    <div class='note_title'>\n                        尊敬的用户您好，该视频需要<div class='note_type'>密码</div>观看\n                    </div>\n                    <div class='note_option'>\n                        <input class='note_password' type='text' >\n                        <div class='note_submit'>确定</div>\n                    </div>\n                    <div class='note_tips note_type'></div>\n                </div>\n            </div>\n        "
            }
        }]),
        t
    }(f.Layer);
    t.default = g
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return window.sufei.dialogWrapper = n._el,
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '<div class="sufei-note-layer"></div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = n(9)
      , y = i(m)
      , g = ""
      , v = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            if (!e.preview || !e.preview.thumb && !e.preview.thumb_hd)
                return (0,
                c.default)(n);
            n.parents = n._parent.parentNode,
            n.previewInfo = e.data || e.preview,
            n.highlights = e.highlights || [],
            n.dots = e.dot || [],
            n.cover = n.find(".cover"),
            n.videoInfo = n.find(".videoInfo"),
            n.thumbPic = n.find(".thumbPic"),
            n.tips = n.find(".preview-tips"),
            n.dashboard = document.querySelector(".h5player-dashboard"),
            n.totalDuration = 1e3 * n.previewInfo.duration || 1e3 * e.duration,
            n.progressBar = n.parents.querySelector(".progress-container");
            for (var i = n.parents.querySelectorAll(".progress-hightlights-tips"), r = 0; r < i.length; r++)
                i[r].parentNode.removeChild(i[r]);
            return n.previewInfo && n.initPreview(),
            n.totalDuration > 0 && n.previewInfo && n.bind(),
            n._video.on("ended", function() {
                n.setPreviewHide(),
                n.isEnd = !0
            }),
            n._video.on("play", function(e) {
                n.isEnd && n.totalDuration > 0 && n.previewInfo && n.setPreviewShow(e),
                n.isEnd = !1
            }),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "bind",
            value: function() {
                var e = this;
                this.progressBar.addEventListener("mouseover", this.setPreviewShow.bind(this)),
                this.progressBar.addEventListener("mouseout", this.setPreviewHide.bind(this)),
                this._el.addEventListener("mouseover", function() {
                    "block" === e._el.style.display && (clearTimeout(g),
                    y.default.addClass(e.dashboard, "showboard"))
                }),
                this._el.addEventListener("mouseout", this.setPreviewHide.bind(this)),
                this.cover.addEventListener("click", this.skipVideo.bind(this))
            }
        }, {
            key: "skipVideo",
            value: function() {
                var e = (this.currentIndex + 1) * this.previewInfo.timespan / 1e3;
                this.cover.style.display = "none",
                e >= this.totalDuration ? this._video.seek(this.totalDuration) : this._video.seek(e)
            }
        }, {
            key: "initPreview",
            value: function() {
                var e = []
                  , t = "";
                if (this.previewInfo.thumb_hd ? (t = "hd",
                e = this.previewInfo.thumb_hd,
                this.imageWidth = 183,
                this.imageHeight = 103) : (t = "normal",
                e = this.previewInfo.thumb,
                this.imageWidth = 128,
                this.imageHeight = 72),
                this._el.style.width = this.imageWidth + "px",
                this.cover.style.height = this.imageHeight + "px",
                this.cover.style.width = this.imageWidth + "px",
                e.length > 0 && this.initImageElement("playImage", e),
                this.dots && this.dots.length > 0)
                    for (var n = 0; n < this.dots.length; n++)
                        "hd" === t ? this.initImageElement("adImage" + n, this.dots[n].thumb_hd) : this.initImageElement("adImage" + n, this.dots[n].thumb)
            }
        }, {
            key: "initImageElement",
            value: function(e, t) {
                var n = this;
                if (t && 0 !== t.length)
                    for (var i = 0; i < t.length; i++)
                        !function(i) {
                            var r = new Image;
                            r.src = t[i].replace("http://", "https://"),
                            r.onload = function() {
                                var r = document.createElement("div");
                                r.className = "youku-imgBg dn",
                                r.style.height = n.imageHeight + "px",
                                r.style.width = n.imageWidth + "px",
                                r.style.backgroundImage = "url(" + t[i] + ")",
                                r.style.backgroundSize = 10 * n.imageWidth + "px " + 10 * n.imageHeight + "px",
                                r.setAttribute("id", "preview-" + e + "-" + i),
                                n.thumbPic.appendChild(r)
                            }
                        }(i)
            }
        }, {
            key: "setPreviewShow",
            value: function(e) {
                this.isEnd || (clearTimeout(g),
                this._el.style.display = "block",
                this.progressBarWidth = this.progressBar.clientWidth,
                this.progressBarLeft = this.getElAbsolute(this.parents.querySelector(".h5player-progress")).left,
                this.progressMaxWidth = this.progressBarWidth + this.progressBarLeft,
                this.hoverMove(e),
                this.isFrist = !0,
                this.progressBar.addEventListener("mousemove", this.hoverMove.bind(this)))
            }
        }, {
            key: "hoverMove",
            value: function(e) {
                var t = this;
                if (this.isFrist) {
                    setTimeout(function() {
                        t.isFrist = !0
                    }, 100),
                    this.isFrist = !1;
                    var n = e.clientX;
                    (n < this.progressBarLeft || n > this.progressMaxWidth) && (this._el.style.display = "none");
                    var i = n - this.progressBarLeft;
                    this.currentTime = Math.floor(this.totalDuration * (i / this.progressBarWidth) / 1e3);
                    var r = this.formatFill(parseInt(this.currentTime % 86400 / 3600))
                      , a = this.formatFill(parseInt(this.currentTime % 3600 / 60))
                      , o = this.formatFill(this.currentTime % 60);
                    this.videoInfo.innerHTML = "00" === r ? this.htmlEncodeAll(a + ":" + o) : this.htmlEncodeAll(r + ":" + a + ":" + o),
                    this.cover.style.display = "block";
                    var s = i - this.imageWidth / 2;
                    s < 0 && (s = 0),
                    s > this.progressBarWidth - this.imageWidth && (s = this.progressBarWidth - this.imageWidth),
                    this._el.style.left = s + "px";
                    var l = this.isHasAd(this.currentTime);
                    if (l.flag)
                        this.setImageShow("adImage" + l.index, this.currentTime - this.dots[l.index].start, l.index);
                    else {
                        var u = this.getActTime(this.currentTime);
                        this.setImageShow("playImage", u)
                    }
                }
            }
        }, {
            key: "getActTime",
            value: function(e) {
                var t = e;
                if (this.dots.length > 0) {
                    var n = this.dots.length;
                    if (e < this.dots[0].start)
                        t = e;
                    else if (e > this.dots[n - 1].end) {
                        var i = this.dots[n - 1];
                        t = e - i.accTime - i.seconds
                    } else
                        for (var r = 0; r < n - 1; r++) {
                            if (e >= this.dots[r].start && e <= this.dots[r].end) {
                                t = e - (e - this.dots[r].start) - this.dots[r].accTime;
                                break
                            }
                            if (e > this.dots[r].end && e < this.dots[r + 1].start) {
                                t = e - this.dots[r].accTime - this.dots[r].seconds;
                                break
                            }
                        }
                }
                return t
            }
        }, {
            key: "setImageShow",
            value: function(e, t) {
                for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = this._el.querySelectorAll(".youku-imgBg"), r = 0; r < i.length; ++r)
                    y.default.hasClass(i[r], "dn") || y.default.addClass(i[r], "dn");
                if (this.tips.style.display = "none",
                this.totalDuration > this.currentTime) {
                    var a = "playImage" === e ? this.previewInfo.timespan : this.dots[n].timespan;
                    a || (a = 6e3),
                    this.currentIndex = Math.floor(t / parseInt(a / 1e3));
                    var o = this.currentIndex % 10
                      , s = Math.floor(this.currentIndex / 10)
                      , l = this.find("#preview-" + e + "-" + Math.floor(this.currentIndex / 100));
                    l && (l.style.backgroundPosition = -this.imageWidth * o + "px " + -this.imageHeight * s + "px",
                    y.default.removeClass(l, "dn"));
                    var u = this.getPoint(this.currentIndex);
                    u > -1 && this.highlights[u].tips && (this.tips.style.display = "block",
                    this.tips.innerHTML = this.htmlEncodeAll(this.highlights[u].tips))
                }
            }
        }, {
            key: "getPoint",
            value: function(e) {
                var t = e
                  , n = e + 1;
                this.totalDuration > 36e5 && (t = e - 1,
                n = e + 2);
                for (var i = t * this.previewInfo.timespan, r = n * this.previewInfo.timespan, a = 0; a < this.highlights.length; a++) {
                    var o = 1e3 * this.highlights[a].time;
                    if (o >= i && o <= r)
                        return a
                }
                return -1
            }
        }, {
            key: "setPreviewHide",
            value: function() {
                var e = this;
                clearTimeout(g),
                y.default.removeClass(this.dashboard, "showboard"),
                g = setTimeout(function() {
                    e.cover.style.display = "none",
                    e._el.style.display = "none"
                }, 300)
            }
        }, {
            key: "isHasAd",
            value: function(e) {
                var t = {};
                return this.dots.forEach(function(n, i) {
                    e > n.start + n.accTime - 1 && e < n.end + n.accTime + 1 && (t.flag = !0,
                    t.index = i)
                }),
                t
            }
        }, {
            key: "htmlEncodeAll",
            value: function(e) {
                return null === e ? "" : e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
            }
        }, {
            key: "formatFill",
            value: function(e) {
                return e < 10 ? "0" + e : e
            }
        }, {
            key: "getElAbsolute",
            value: function(e) {
                var t = e.offsetLeft;
                for (e = e.offsetParent; e; )
                    t += e.offsetLeft,
                    e = e.offsetParent;
                return {
                    left: t
                }
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="single-preview">\n                <div class="thumbPic"></div>\n                <div class="cover">\n                    <span class="videoInfo"></span>\n                </div>\n                <div class="preview-tips">测试测试测试测试测试测试测试测试测试</div>\n            </div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = v
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n.showInfo = function(e) {
                if (!e || navigator.userAgent.indexOf("Chrome") < 0 && navigator.userAgent.indexOf("Safari") > -1) {
                    n.find(".tips").style.display = "block"
                }
                if (n._video.global.config.isTudou) {
                    n.find(".js-play-icon").src = "//img.alicdn.com/tfs/TB1g8BFYYr1gK0jSZFDXXb9yVXa-488-200.svg"
                }
                n.show(),
                n.showPoster(),
                n._video.ykplayer.disableUI()
            }
            ,
            n._video.ykplayer.on("safariAboart", n.showInfo),
            n._video.ykplayer.on("notAllowedError", n.showInfo),
            n.on("play", function() {
                n.hidePoster(),
                n.hide(),
                n._video.ykplayer.enableUI()
            }),
            n.bind(".js-play-icon", "click", function() {
                n._video.ykplayer.play(),
                n.hide(),
                n.hidePoster()
            }),
            n._video.global.config.autoplay || n.showInfo(!0),
            n
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "showPoster",
            value: function() {
                var e = this._el.parentElement.getElementsByClassName("ykplayer-poster-logo");
                e && e.length > 0 && (e[0].style.display = "block")
            }
        }, {
            key: "hidePoster",
            value: function() {
                var e = this._el.parentElement.getElementsByClassName("ykplayer-poster-logo");
                e && e.length > 0 && (e[0].style.display = "none")
            }
        }, {
            key: "destroy",
            value: function() {
                this._video.ykplayer.fire("safariAboart", this.showInfo),
                this._video.ykplayer.fire("notAllowedError", this.showInfo)
            }
        }, {
            key: "render",
            value: function() {
                return '\n          <div class="preloading-layer safari-player-layer" style="display:none;">\n              <div class="play-area">\n                <img class="js-play-icon" src="//img.alicdn.com/tfs/TB1QSJTXeL2gK0jSZPhXXahvXXa-680-133.svg" width="200px">\n                <button class="play-btn js-play-icon">播 放</button>\n                <div class="tips" style="display:none;">由于您的浏览器设置，视频无法自动播放。<br/> 调整设置项后视频方可正常播放。<a href="//h5.m.youku.com//ju/safari11guide.html" data-val="safariguide" target="_black" class="information-tip-link">查看设置向导</a></div>\n              </div>\n          </div>\n        '
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(11)
      , p = i(h)
      , f = n(3)
      , m = i(f)
      , y = n(5)
      , g = n(9)
      , v = i(g)
      , _ = function(e) {
        function t(e) {
            (0,
            s.default)(this, t);
            var n = (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e));
            return n._global = e.global,
            n._player = e.player,
            n._isShowDashboard = !1,
            n.isShow = !1,
            n.dashboardStateChange = function(e) {
                if (n._isShowDashboard = !e,
                n.isfullScreen)
                    try {
                        e ? n.hide() : n.show()
                    } catch (e) {
                        console.error(e)
                    }
            }
            ,
            n.bind("mouseover", function() {
                n._player.holdDashboard(),
                v.default.hasClass(n._el, "active") || v.default.addClass(n._el, "active")
            }),
            n.bind("mouseout", function() {
                n._player.releaseDashboard(),
                v.default.hasClass(n._el, "active") || v.default.removeClass(n._el, "active")
            }),
            n.fullscreenChange = function(e) {
                n.isfullScreen = e,
                n._global.initConfig.enableFullscreenScroll && (e ? (window.addEventListener("scroll", n.onscroll),
                n.show()) : (window.removeEventListener("scroll", n.onscroll),
                n.hide()))
            }
            ,
            n.onscroll = function() {
                if (n._isShowDashboard && n.isfullScreen && n._global.initConfig.enableFullscreenScroll) {
                    (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) < 10 ? n.show() : n.hide()
                }
            }
            ,
            n.bind("click", function() {
                n.scrollSmoothTo(160)
            }),
            n._player.on("fullscreen", n.fullscreenChange),
            n._player.on("dashboardStateChange", n.dashboardStateChange),
            n
        }
        return (0,
        m.default)(t, e),
        (0,
        u.default)(t, [{
            key: "show",
            value: function() {
                this._isShowDashboard && this.isfullScreen && !this.isShow && this._global.initConfig.enableFullscreenScroll && (this._player.getBulletStatus() ? v.default.hasClass(this._el, "control-scroll-infotop") || v.default.addClass(this._el, "control-scroll-infotop") : v.default.hasClass(this._el, "control-scroll-infotop") && v.default.removeClass(this._el, "control-scroll-infotop"),
                this.isShow = !0,
                this._el.style.display = "inline-block")
            }
        }, {
            key: "hide",
            value: function() {
                this.isShow = !1,
                this._el.style.display = "none"
            }
        }, {
            key: "scrollSmoothTo",
            value: function(e) {
                window.requestAnimationFrame || (window.requestAnimationFrame = function(e) {
                    return setTimeout(e, 60)
                }
                ),
                document.body.style.overflowY = "overlay",
                "overlay" !== document.body.style.overflowY && (document.body.style.overflowY = "auto"),
                document.body.style.overflowX = "hidden";
                var t = document.documentElement.scrollTop || document.body.scrollTop;
                !function n() {
                    var i = e - t;
                    t += i / 5,
                    Math.abs(i) < 1 ? window.scrollTo(0, e) : (window.scrollTo(0, t),
                    requestAnimationFrame(n))
                }()
            }
        }, {
            key: "destroy",
            value: function() {
                this._player.fire("fullscreen", this.fullscreenChange),
                this._player.fire("dashboardStateChange", this.dashboardStateChange),
                (0,
                p.default)(t.prototype.__proto__ || (0,
                a.default)(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "render",
            value: function() {
                return '\n            <div class="control-icon control-scroll-info" style=\'display:none;\'>\n                <span >滚动浏览更多</span>\n                <span class="icon iconfont to-down-icon-gray"></span>\n                <span class="icon iconfont to-down-icon-white"></span>\n            </div>\n        '
            }
        }]),
        t
    }(y.Layer);
    t.default = _
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(2)
      , a = i(r)
      , o = n(0)
      , s = i(o)
      , l = n(1)
      , u = i(l)
      , d = n(4)
      , c = i(d)
      , h = n(3)
      , p = i(h)
      , f = n(5)
      , m = function(e) {
        function t(e) {
            return (0,
            s.default)(this, t),
            (0,
            c.default)(this, (t.__proto__ || (0,
            a.default)(t)).call(this, e))
        }
        return (0,
        p.default)(t, e),
        (0,
        u.default)(t, [{
            key: "render",
            value: function() {
                return '<div class="subtitle-container"></div>'
            }
        }]),
        t
    }(f.Layer);
    t.default = m
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = n(29)
      , a = i(r)
      , o = n(2)
      , s = i(o)
      , l = n(4)
      , u = i(l)
      , d = n(3)
      , c = i(d)
      , h = n(0)
      , p = i(h)
      , f = n(1)
      , m = i(f)
      , y = n(5)
      , g = n(6)
      , v = n(261)
      , _ = i(v)
      , b = n(8)
      , k = i(b)
      , S = function() {
        function e() {
            (0,
            p.default)(this, e),
            this._timeout = null
        }
        return (0,
        m.default)(e, [{
            key: "set",
            value: function(e) {
                var t = this;
                t.clear(),
                t._timeout = window.setTimeout(e, 300)
            }
        }, {
            key: "clear",
            value: function() {
                var e = this;
                e._timeout && window.clearTimeout(e._timeout)
            }
        }]),
        e
    }()
      , E = function(e) {
        function t(e) {
            (0,
            p.default)(this, t);
            var n = (0,
            u.default)(this, (t.__proto__ || (0,
            s.default)(t)).call(this, e));
            n.videoInfoPlugin = null,
            n.menu = n.find(".yk-info-menu"),
            n.menuDetail = n.find(".yk-detail-info"),
            n._clickTimer = new S,
            n.isMenueShow = !1,
            n.initVersionInfo();
            var i = n._el.childNodes[0]
              , r = n.menu.cloneNode(!0);
            return n._el.removeChild(i),
            n._parent.parentElement.appendChild(r),
            n.menu = r,
            n.initEvents(),
            n
        }
        return (0,
        c.default)(t, e),
        (0,
        m.default)(t, [{
            key: "initEvents",
            value: function() {
                var e = this;
                this._el.addEventListener("contextmenu", function(t) {
                    t = t || window.event,
                    t.preventDefault && t.preventDefault(),
                    t.stopPropagation ? t.stopPropagation() : (t.returnValue = !1,
                    t.cancelBubble = !0),
                    e.showMenu(t)
                }),
                this._el.addEventListener("click", function() {
                    e.isMenueShow ? e.hideMenu() : e._clickTimer.set(function() {
                        e._video.ykplayer.switchPlayPause()
                    }),
                    window.event && (window.event.returnValue = !1)
                }),
                this._el.addEventListener("dblclick", function() {
                    e._clickTimer.clear(),
                    e._video.ykplayer.switchFullscreen()
                }),
                this._clipboard = new _.default(".yk-info-menuitem",{
                    container: this._el,
                    text: function(t) {
                        var n = t.getAttribute("data-val")
                          , i = "";
                        switch (n) {
                        case "menu-videoinfo":
                            e.showVideoInfo();
                            break;
                        case "menu-copyurl":
                            i = e.copyLocalUrl();
                            break;
                        case "menu-copycurrenturl":
                            i = e.copyCurrentUrl();
                            break;
                        case "menu-version":
                            i = e.hideMenu();
                            break;
                        case "menu-copy-debuginfo":
                            i = e.copyDebuginfo();
                            break;
                        case "menu-showdetail":
                            i = e.showDetailInfo();
                            break;
                        default:
                            i = e.hideMenu()
                        }
                        return i
                    }
                })
            }
        }, {
            key: "showMenu",
            value: function(e) {
                this.isMenueShow = !0,
                this.menu.style.left = e.pageX + "px",
                this.menu.style.top = e.clientY + "px",
                (0,
                g.show)(this.menu)
            }
        }, {
            key: "hideMenu",
            value: function() {
                this.isMenueShow = !1,
                (0,
                g.hide)(this.menu)
            }
        }, {
            key: "initVersionInfo",
            value: function() {
                this.find(".yk-version-info").innerHTML = "版本号:  " + this._video.ykplayer.global.version
            }
        }, {
            key: "showVideoInfo",
            value: function() {
                if (this._video.hlsCore) {
                    var e = this._video.hlsCore.VideoInfoPlugin;
                    e && (this.videoInfoPlugin || (this.videoInfoPlugin = new e,
                    this.videoInfoPlugin.mountCore(this._video.hls, this._el)),
                    this.videoInfoPlugin.showGraph())
                }
                this.hideMenu()
            }
        }, {
            key: "copyLocalUrl",
            value: function() {
                return this.hideMenu(),
                document.location.href
            }
        }, {
            key: "copyCurrentUrl",
            value: function() {
                var e = document.location.protocol + "//" + document.location.host + document.location.pathname;
                return "" === document.location.search ? e += "?_time=" + this._video.ykplayer.global.currentTime : e += document.location.search + "&_time=" + this._video.ykplayer.global.currentTime,
                this.hideMenu(),
                e
            }
        }, {
            key: "copyDebuginfo",
            value: function() {
                var e = {
                    config: this._video.ykplayer.global.config,
                    initConfig: this._video.ykplayer.global.initConfig,
                    playerState: this._video.ykplayer.global.playerState,
                    ua: navigator.userAgent
                };
                this._video.ykplayer.global.ups && (e.upsData = this._video.ykplayer.global.ups.upsData,
                e.ip = this._video.ykplayer.global.ups.userData.ip);
                var t = (0,
                a.default)(e);
                return this.hideMenu(),
                t
            }
        }, {
            key: "showDetailInfo",
            value: function() {
                var e = this._video.ykplayer.global.tempdata
                  , t = (0,
                a.default)(e);
                return this._video.ykplayer.global.emit(k.default.SEND_BUSINESS_LOG, {
                    msg: (0,
                    a.default)(this._video.ykplayer.global.tempdata)
                }),
                this.hideMenu(),
                t
            }
        }, {
            key: "render",
            value: function() {
                return "<div class='yk-trigger-layer'>\n           <div class='yk-info-menu'>\n            <div class='yk-info-menuitem' data-val='menu-videoinfo'>视频信息</div>\n            <div class='yk-info-menuitem' data-val='menu-copyurl'>复制视频网址</div>\n            <div class='yk-info-menuitem' data-val='menu-copycurrenturl'>复制当前时间视频网址</div>\n            <div class='yk-info-menuitem' data-val='menu-copy-debuginfo'>复制调试信息</div>\n            <div class='yk-info-menuitem' data-val='menu-showdetail' >反馈播放记录信息</div>\n            <div class='yk-info-menuitem yk-version-info' data-val='menu-version'>版本号:</div>\n           </div>\n           <div class='yk-detail-info'></div>\n        </div>"
            }
        }]),
        t
    }(y.Layer);
    t.default = E
}
, function(e, t, n) {
    e.exports = {
        default: n(268),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(269),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(271),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(274),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(276),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(277),
        __esModule: !0
    }
}
, function(e, t, n) {
    e.exports = {
        default: n(278),
        __esModule: !0
    }
}
, function(e, t, n) {
    var i, r, a;
    !function(o, s) {
        r = [e, n(333)],
        i = s,
        void 0 !== (a = "function" == typeof i ? i.apply(t, r) : i) && (e.exports = a)
    }(0, function(e, t) {
        "use strict";
        function n(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        var i = function(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }(t)
          , r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
          , a = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
            }
            return function(t, n, i) {
                return n && e(t.prototype, n),
                i && e(t, i),
                t
            }
        }()
          , o = function() {
            function e(t) {
                n(this, e),
                this.resolveOptions(t),
                this.initSelection()
            }
            return a(e, [{
                key: "resolveOptions",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.action = e.action,
                    this.container = e.container,
                    this.emitter = e.emitter,
                    this.target = e.target,
                    this.text = e.text,
                    this.trigger = e.trigger,
                    this.selectedText = ""
                }
            }, {
                key: "initSelection",
                value: function() {
                    this.text ? this.selectFake() : this.target && this.selectTarget()
                }
            }, {
                key: "selectFake",
                value: function() {
                    var e = this
                      , t = "rtl" == document.documentElement.getAttribute("dir");
                    this.removeFake(),
                    this.fakeHandlerCallback = function() {
                        return e.removeFake()
                    }
                    ,
                    this.fakeHandler = this.container.addEventListener("click", this.fakeHandlerCallback) || !0,
                    this.fakeElem = document.createElement("textarea"),
                    this.fakeElem.style.fontSize = "12pt",
                    this.fakeElem.style.border = "0",
                    this.fakeElem.style.padding = "0",
                    this.fakeElem.style.margin = "0",
                    this.fakeElem.style.position = "absolute",
                    this.fakeElem.style[t ? "right" : "left"] = "-9999px";
                    var n = window.pageYOffset || document.documentElement.scrollTop;
                    this.fakeElem.style.top = n + "px",
                    this.fakeElem.setAttribute("readonly", ""),
                    this.fakeElem.value = this.text,
                    this.container.appendChild(this.fakeElem),
                    this.selectedText = (0,
                    i.default)(this.fakeElem),
                    this.copyText()
                }
            }, {
                key: "removeFake",
                value: function() {
                    this.fakeHandler && (this.container.removeEventListener("click", this.fakeHandlerCallback),
                    this.fakeHandler = null,
                    this.fakeHandlerCallback = null),
                    this.fakeElem && (this.container.removeChild(this.fakeElem),
                    this.fakeElem = null)
                }
            }, {
                key: "selectTarget",
                value: function() {
                    this.selectedText = (0,
                    i.default)(this.target),
                    this.copyText()
                }
            }, {
                key: "copyText",
                value: function() {
                    var e = void 0;
                    try {
                        e = document.execCommand(this.action)
                    } catch (t) {
                        e = !1
                    }
                    this.handleResult(e)
                }
            }, {
                key: "handleResult",
                value: function(e) {
                    this.emitter.emit(e ? "success" : "error", {
                        action: this.action,
                        text: this.selectedText,
                        trigger: this.trigger,
                        clearSelection: this.clearSelection.bind(this)
                    })
                }
            }, {
                key: "clearSelection",
                value: function() {
                    this.trigger && this.trigger.focus(),
                    window.getSelection().removeAllRanges()
                }
            }, {
                key: "destroy",
                value: function() {
                    this.removeFake()
                }
            }, {
                key: "action",
                set: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "copy";
                    if (this._action = e,
                    "copy" !== this._action && "cut" !== this._action)
                        throw new Error('Invalid "action" value, use either "copy" or "cut"')
                },
                get: function() {
                    return this._action
                }
            }, {
                key: "target",
                set: function(e) {
                    if (void 0 !== e) {
                        if (!e || "object" !== (void 0 === e ? "undefined" : r(e)) || 1 !== e.nodeType)
                            throw new Error('Invalid "target" value, use a valid Element');
                        if ("copy" === this.action && e.hasAttribute("disabled"))
                            throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                        if ("cut" === this.action && (e.hasAttribute("readonly") || e.hasAttribute("disabled")))
                            throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
                        this._target = e
                    }
                },
                get: function() {
                    return this._target
                }
            }]),
            e
        }();
        e.exports = o
    })
}
, function(e, t, n) {
    var i, r, a;
    !function(o, s) {
        r = [e, n(260), n(340), n(328)],
        i = s,
        void 0 !== (a = "function" == typeof i ? i.apply(t, r) : i) && (e.exports = a)
    }(0, function(e, t, n, i) {
        "use strict";
        function r(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        function a(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        function o(e, t) {
            if (!e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }
        function s(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        function l(e, t) {
            var n = "data-clipboard-" + e;
            if (t.hasAttribute(n))
                return t.getAttribute(n)
        }
        var u = r(t)
          , d = r(n)
          , c = r(i)
          , h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        }
        : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        }
          , p = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
                }
            }
            return function(t, n, i) {
                return n && e(t.prototype, n),
                i && e(t, i),
                t
            }
        }()
          , f = function(e) {
            function t(e, n) {
                a(this, t);
                var i = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                return i.resolveOptions(n),
                i.listenClick(e),
                i
            }
            return s(t, e),
            p(t, [{
                key: "resolveOptions",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    this.action = "function" == typeof e.action ? e.action : this.defaultAction,
                    this.target = "function" == typeof e.target ? e.target : this.defaultTarget,
                    this.text = "function" == typeof e.text ? e.text : this.defaultText,
                    this.container = "object" === h(e.container) ? e.container : document.body
                }
            }, {
                key: "listenClick",
                value: function(e) {
                    var t = this;
                    this.listener = (0,
                    c.default)(e, "click", function(e) {
                        return t.onClick(e)
                    })
                }
            }, {
                key: "onClick",
                value: function(e) {
                    var t = e.delegateTarget || e.currentTarget;
                    this.clipboardAction && (this.clipboardAction = null),
                    this.clipboardAction = new u.default({
                        action: this.action(t),
                        target: this.target(t),
                        text: this.text(t),
                        container: this.container,
                        trigger: t,
                        emitter: this
                    })
                }
            }, {
                key: "defaultAction",
                value: function(e) {
                    return l("action", e)
                }
            }, {
                key: "defaultTarget",
                value: function(e) {
                    var t = l("target", e);
                    if (t)
                        return document.querySelector(t)
                }
            }, {
                key: "defaultText",
                value: function(e) {
                    return l("text", e)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.listener.destroy(),
                    this.clipboardAction && (this.clipboardAction.destroy(),
                    this.clipboardAction = null)
                }
            }], [{
                key: "isSupported",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"]
                      , t = "string" == typeof e ? [e] : e
                      , n = !!document.queryCommandSupported;
                    return t.forEach(function(e) {
                        n = n && !!document.queryCommandSupported(e)
                    }),
                    n
                }
            }]),
            t
        }(d.default);
        e.exports = f
    })
}
, function(e, t, n) {
    var i = n(329);
    e.exports = function(e, t, n) {
        for (var r = n ? e : e.parentNode; r && r !== document; ) {
            if (i(r, t))
                return r;
            r = r.parentNode
        }
    }
}
, function(e, t) {
    function n() {
        i = window.addEventListener ? "addEventListener" : "attachEvent",
        r = window.removeEventListener ? "removeEventListener" : "detachEvent",
        a = "addEventListener" !== i ? "on" : ""
    }
    var i, r, a;
    t.bind = function(e, t, r, o) {
        return i || n(),
        e[i](a + t, r, o || !1),
        r
    }
    ,
    t.unbind = function(e, t, i, o) {
        return r || n(),
        e[r](a + t, i, o || !1),
        i
    }
}
, function(e, t, n) {
    n(42),
    n(298),
    e.exports = n(7).Array.from
}
, function(e, t, n) {
    n(56),
    n(42),
    e.exports = n(297)
}
, function(e, t, n) {
    var i = n(7)
      , r = i.JSON || (i.JSON = {
        stringify: JSON.stringify
    });
    e.exports = function(e) {
        return r.stringify.apply(r, arguments)
    }
}
, function(e, t, n) {
    n(64),
    n(42),
    n(56),
    n(300),
    n(313),
    n(312),
    n(311),
    e.exports = n(7).Map
}
, function(e, t, n) {
    n(301),
    e.exports = n(7).Object.assign
}
, function(e, t, n) {
    n(302);
    var i = n(7).Object;
    e.exports = function(e, t) {
        return i.create(e, t)
    }
}
, function(e, t, n) {
    n(303);
    var i = n(7).Object;
    e.exports = function(e, t, n) {
        return i.defineProperty(e, t, n)
    }
}
, function(e, t, n) {
    n(304);
    var i = n(7).Object;
    e.exports = function(e, t) {
        return i.getOwnPropertyDescriptor(e, t)
    }
}
, function(e, t, n) {
    n(305),
    e.exports = n(7).Object.getPrototypeOf
}
, function(e, t, n) {
    n(306),
    e.exports = n(7).Object.keys
}
, function(e, t, n) {
    n(307),
    e.exports = n(7).Object.setPrototypeOf
}
, function(e, t, n) {
    n(64),
    n(42),
    n(56),
    n(308),
    n(314),
    n(315),
    e.exports = n(7).Promise
}
, function(e, t, n) {
    n(64),
    n(42),
    n(56),
    n(309),
    n(318),
    n(317),
    n(316),
    e.exports = n(7).Set
}
, function(e, t, n) {
    n(310),
    n(64),
    n(319),
    n(320),
    e.exports = n(7).Symbol
}
, function(e, t, n) {
    n(42),
    n(56),
    e.exports = n(94).f("iterator")
}
, function(e, t) {
    e.exports = function() {}
}
, function(e, t, n) {
    var i = n(50);
    e.exports = function(e, t) {
        var n = [];
        return i(e, !1, n.push, n, t),
        n
    }
}
, function(e, t, n) {
    var i = n(37)
      , r = n(62)
      , a = n(295);
    e.exports = function(e) {
        return function(t, n, o) {
            var s, l = i(t), u = r(l.length), d = a(o, u);
            if (e && n != n) {
                for (; u > d; )
                    if ((s = l[d++]) != s)
                        return !0
            } else
                for (; u > d; d++)
                    if ((e || d in l) && l[d] === n)
                        return e || d || 0;
            return !e && -1
        }
    }
}
, function(e, t, n) {
    var i = n(31)
      , r = n(80)
      , a = n(38)
      , o = n(62)
      , s = n(284);
    e.exports = function(e, t) {
        var n = 1 == e
          , l = 2 == e
          , u = 3 == e
          , d = 4 == e
          , c = 6 == e
          , h = 5 == e || c
          , p = t || s;
        return function(t, s, f) {
            for (var m, y, g = a(t), v = r(g), _ = i(s, f, 3), b = o(v.length), k = 0, S = n ? p(t, b) : l ? p(t, 0) : void 0; b > k; k++)
                if ((h || k in v) && (m = v[k],
                y = _(m, k, g),
                e))
                    if (n)
                        S[k] = y;
                    else if (y)
                        switch (e) {
                        case 3:
                            return !0;
                        case 5:
                            return m;
                        case 6:
                            return k;
                        case 2:
                            S.push(m)
                        }
                    else if (d)
                        return !1;
            return c ? -1 : u || d ? d : S
        }
    }
}
, function(e, t, n) {
    var i = n(25)
      , r = n(127)
      , a = n(16)("species");
    e.exports = function(e) {
        var t;
        return r(e) && (t = e.constructor,
        "function" != typeof t || t !== Array && !r(t.prototype) || (t = void 0),
        i(t) && null === (t = t[a]) && (t = void 0)),
        void 0 === t ? Array : t
    }
}
, function(e, t, n) {
    var i = n(283);
    e.exports = function(e, t) {
        return new (i(e))(t)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(26)
      , r = n(54);
    e.exports = function(e, t, n) {
        t in e ? i.f(e, t, r(0, n)) : e[t] = n
    }
}
, function(e, t, n) {
    var i = n(53)
      , r = n(85)
      , a = n(61);
    e.exports = function(e) {
        var t = i(e)
          , n = r.f;
        if (n)
            for (var o, s = n(e), l = a.f, u = 0; s.length > u; )
                l.call(e, o = s[u++]) && t.push(o);
        return t
    }
}
, function(e, t) {
    e.exports = function(e, t, n) {
        var i = void 0 === n;
        switch (t.length) {
        case 0:
            return i ? e() : e.call(n);
        case 1:
            return i ? e(t[0]) : e.call(n, t[0]);
        case 2:
            return i ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
        case 3:
            return i ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
        case 4:
            return i ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3])
        }
        return e.apply(n, t)
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(60)
      , r = n(54)
      , a = n(55)
      , o = {};
    n(32)(o, n(16)("iterator"), function() {
        return this
    }),
    e.exports = function(e, t, n) {
        e.prototype = i(o, {
            next: r(1, n)
        }),
        a(e, t + " Iterator")
    }
}
, function(e, t, n) {
    var i = n(15)
      , r = n(141).set
      , a = i.MutationObserver || i.WebKitMutationObserver
      , o = i.process
      , s = i.Promise
      , l = "process" == n(49)(o);
    e.exports = function() {
        var e, t, n, u = function() {
            var i, r;
            for (l && (i = o.domain) && i.exit(); e; ) {
                r = e.fn,
                e = e.next;
                try {
                    r()
                } catch (i) {
                    throw e ? n() : t = void 0,
                    i
                }
            }
            t = void 0,
            i && i.enter()
        };
        if (l)
            n = function() {
                o.nextTick(u)
            }
            ;
        else if (!a || i.navigator && i.navigator.standalone)
            if (s && s.resolve) {
                var d = s.resolve(void 0);
                n = function() {
                    d.then(u)
                }
            } else
                n = function() {
                    r.call(i, u)
                }
                ;
        else {
            var c = !0
              , h = document.createTextNode("");
            new a(u).observe(h, {
                characterData: !0
            }),
            n = function() {
                h.data = c = !c
            }
        }
        return function(i) {
            var r = {
                fn: i,
                next: void 0
            };
            t && (t.next = r),
            e || (e = r,
            n()),
            t = r
        }
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(24)
      , r = n(53)
      , a = n(85)
      , o = n(61)
      , s = n(38)
      , l = n(80)
      , u = Object.assign;
    e.exports = !u || n(35)(function() {
        var e = {}
          , t = {}
          , n = Symbol()
          , i = "abcdefghijklmnopqrst";
        return e[n] = 7,
        i.split("").forEach(function(e) {
            t[e] = e
        }),
        7 != u({}, e)[n] || Object.keys(u({}, t)).join("") != i
    }) ? function(e, t) {
        for (var n = s(e), u = arguments.length, d = 1, c = a.f, h = o.f; u > d; )
            for (var p, f = l(arguments[d++]), m = c ? r(f).concat(c(f)) : r(f), y = m.length, g = 0; y > g; )
                p = m[g++],
                i && !h.call(f, p) || (n[p] = f[p]);
        return n
    }
    : u
}
, function(e, t, n) {
    var i = n(26)
      , r = n(30)
      , a = n(53);
    e.exports = n(24) ? Object.defineProperties : function(e, t) {
        r(e);
        for (var n, o = a(t), s = o.length, l = 0; s > l; )
            i.f(e, n = o[l++], t[n]);
        return e
    }
}
, function(e, t, n) {
    var i = n(37)
      , r = n(131).f
      , a = {}.toString
      , o = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
      , s = function(e) {
        try {
            return r(e)
        } catch (e) {
            return o.slice()
        }
    };
    e.exports.f = function(e) {
        return o && "[object Window]" == a.call(e) ? s(e) : r(i(e))
    }
}
, function(e, t, n) {
    var i = n(25)
      , r = n(30)
      , a = function(e, t) {
        if (r(e),
        !i(t) && null !== t)
            throw TypeError(t + ": can't set as prototype!")
    };
    e.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(e, t, i) {
            try {
                i = n(31)(Function.call, n(84).f(Object.prototype, "__proto__").set, 2),
                i(e, []),
                t = !(e instanceof Array)
            } catch (e) {
                t = !0
            }
            return function(e, n) {
                return a(e, n),
                t ? e.__proto__ = n : i(e, n),
                e
            }
        }({}, !1) : void 0),
        check: a
    }
}
, function(e, t, n) {
    var i = n(90)
      , r = n(77);
    e.exports = function(e) {
        return function(t, n) {
            var a, o, s = String(r(t)), l = i(n), u = s.length;
            return l < 0 || l >= u ? e ? "" : void 0 : (a = s.charCodeAt(l),
            a < 55296 || a > 56319 || l + 1 === u || (o = s.charCodeAt(l + 1)) < 56320 || o > 57343 ? e ? s.charAt(l) : a : e ? s.slice(l, l + 2) : o - 56320 + (a - 55296 << 10) + 65536)
        }
    }
}
, function(e, t, n) {
    var i = n(90)
      , r = Math.max
      , a = Math.min;
    e.exports = function(e, t) {
        return e = i(e),
        e < 0 ? r(e + t, 0) : a(e, t)
    }
}
, function(e, t, n) {
    var i = n(15)
      , r = i.navigator;
    e.exports = r && r.userAgent || ""
}
, function(e, t, n) {
    var i = n(30)
      , r = n(95);
    e.exports = n(7).getIterator = function(e) {
        var t = r(e);
        if ("function" != typeof t)
            throw TypeError(e + " is not iterable!");
        return i(t.call(e))
    }
}
, function(e, t, n) {
    "use strict";
    var i = n(31)
      , r = n(13)
      , a = n(38)
      , o = n(128)
      , s = n(126)
      , l = n(62)
      , u = n(285)
      , d = n(95);
    r(r.S + r.F * !n(129)(function(e) {
        Array.from(e)
    }), "Array", {
        from: function(e) {
            var t, n, r, c, h = a(e), p = "function" == typeof this ? this : Array, f = arguments.length, m = f > 1 ? arguments[1] : void 0, y = void 0 !== m, g = 0, v = d(h);
            if (y && (m = i(m, f > 2 ? arguments[2] : void 0, 2)),
            void 0 == v || p == Array && s(v))
                for (t = l(h.length),
                n = new p(t); t > g; g++)
                    u(n, g, y ? m(h[g], g) : h[g]);
            else
                for (c = v.call(h),
                n = new p; !(r = c.next()).done; g++)
                    u(n, g, y ? o(c, m, [r.value, g], !0) : r.value);
            return n.length = g,
            n
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(279)
      , r = n(130)
      , a = n(51)
      , o = n(37);
    e.exports = n(81)(Array, "Array", function(e, t) {
        this._t = o(e),
        this._i = 0,
        this._k = t
    }, function() {
        var e = this._t
          , t = this._k
          , n = this._i++;
        return !e || n >= e.length ? (this._t = void 0,
        r(1)) : "keys" == t ? r(0, n) : "values" == t ? r(0, e[n]) : r(0, [n, e[n]])
    }, "values"),
    a.Arguments = a.Array,
    i("keys"),
    i("values"),
    i("entries")
}
, function(e, t, n) {
    "use strict";
    var i = n(121)
      , r = n(92);
    e.exports = n(123)("Map", function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function(e) {
            var t = i.getEntry(r(this, "Map"), e);
            return t && t.v
        },
        set: function(e, t) {
            return i.def(r(this, "Map"), 0 === e ? 0 : e, t)
        }
    }, i, !0)
}
, function(e, t, n) {
    var i = n(13);
    i(i.S + i.F, "Object", {
        assign: n(290)
    })
}
, function(e, t, n) {
    var i = n(13);
    i(i.S, "Object", {
        create: n(60)
    })
}
, function(e, t, n) {
    var i = n(13);
    i(i.S + i.F * !n(24), "Object", {
        defineProperty: n(26).f
    })
}
, function(e, t, n) {
    var i = n(37)
      , r = n(84).f;
    n(86)("getOwnPropertyDescriptor", function() {
        return function(e, t) {
            return r(i(e), t)
        }
    })
}
, function(e, t, n) {
    var i = n(38)
      , r = n(132);
    n(86)("getPrototypeOf", function() {
        return function(e) {
            return r(i(e))
        }
    })
}
, function(e, t, n) {
    var i = n(38)
      , r = n(53);
    n(86)("keys", function() {
        return function(e) {
            return r(i(e))
        }
    })
}
, function(e, t, n) {
    var i = n(13);
    i(i.S, "Object", {
        setPrototypeOf: n(293).set
    })
}
, function(e, t, n) {
    "use strict";
    var i, r, a, o, s = n(52), l = n(15), u = n(31), d = n(76), c = n(13), h = n(25), p = n(48), f = n(75), m = n(50), y = n(140), g = n(141).set, v = n(289)(), _ = n(83), b = n(134), k = n(296), S = n(135), E = l.TypeError, w = l.process, x = w && w.versions, T = x && x.v8 || "", A = l.Promise, L = "process" == d(w), C = function() {}, D = r = _.f, P = !!function() {
        try {
            var e = A.resolve(1)
              , t = (e.constructor = {})[n(16)("species")] = function(e) {
                e(C, C)
            }
            ;
            return (L || "function" == typeof PromiseRejectionEvent) && e.then(C)instanceof t && 0 !== T.indexOf("6.6") && -1 === k.indexOf("Chrome/66")
        } catch (e) {}
    }(), R = function(e) {
        var t;
        return !(!h(e) || "function" != typeof (t = e.then)) && t
    }, I = function(e, t) {
        if (!e._n) {
            e._n = !0;
            var n = e._c;
            v(function() {
                for (var i = e._v, r = 1 == e._s, a = 0; n.length > a; )
                    !function(t) {
                        var n, a, o, s = r ? t.ok : t.fail, l = t.resolve, u = t.reject, d = t.domain;
                        try {
                            s ? (r || (2 == e._h && N(e),
                            e._h = 1),
                            !0 === s ? n = i : (d && d.enter(),
                            n = s(i),
                            d && (d.exit(),
                            o = !0)),
                            n === t.promise ? u(E("Promise-chain cycle")) : (a = R(n)) ? a.call(n, l, u) : l(n)) : u(i)
                        } catch (e) {
                            d && !o && d.exit(),
                            u(e)
                        }
                    }(n[a++]);
                e._c = [],
                e._n = !1,
                t && !e._h && M(e)
            })
        }
    }, M = function(e) {
        g.call(l, function() {
            var t, n, i, r = e._v, a = O(e);
            if (a && (t = b(function() {
                L ? w.emit("unhandledRejection", r, e) : (n = l.onunhandledrejection) ? n({
                    promise: e,
                    reason: r
                }) : (i = l.console) && i.error && i.error("Unhandled promise rejection", r)
            }),
            e._h = L || O(e) ? 2 : 1),
            e._a = void 0,
            a && t.e)
                throw t.v
        })
    }, O = function(e) {
        return 1 !== e._h && 0 === (e._a || e._c).length
    }, N = function(e) {
        g.call(l, function() {
            var t;
            L ? w.emit("rejectionHandled", e) : (t = l.onrejectionhandled) && t({
                promise: e,
                reason: e._v
            })
        })
    }, B = function(e) {
        var t = this;
        t._d || (t._d = !0,
        t = t._w || t,
        t._v = e,
        t._s = 2,
        t._a || (t._a = t._c.slice()),
        I(t, !0))
    }, F = function(e) {
        var t, n = this;
        if (!n._d) {
            n._d = !0,
            n = n._w || n;
            try {
                if (n === e)
                    throw E("Promise can't be resolved itself");
                (t = R(e)) ? v(function() {
                    var i = {
                        _w: n,
                        _d: !1
                    };
                    try {
                        t.call(e, u(F, i, 1), u(B, i, 1))
                    } catch (e) {
                        B.call(i, e)
                    }
                }) : (n._v = e,
                n._s = 1,
                I(n, !1))
            } catch (e) {
                B.call({
                    _w: n,
                    _d: !1
                }, e)
            }
        }
    };
    P || (A = function(e) {
        f(this, A, "Promise", "_h"),
        p(e),
        i.call(this);
        try {
            e(u(F, this, 1), u(B, this, 1))
        } catch (e) {
            B.call(this, e)
        }
    }
    ,
    i = function(e) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ,
    i.prototype = n(87)(A.prototype, {
        then: function(e, t) {
            var n = D(y(this, A));
            return n.ok = "function" != typeof e || e,
            n.fail = "function" == typeof t && t,
            n.domain = L ? w.domain : void 0,
            this._c.push(n),
            this._a && this._a.push(n),
            this._s && I(this, !1),
            n.promise
        },
        catch: function(e) {
            return this.then(void 0, e)
        }
    }),
    a = function() {
        var e = new i;
        this.promise = e,
        this.resolve = u(F, e, 1),
        this.reject = u(B, e, 1)
    }
    ,
    _.f = D = function(e) {
        return e === A || e === o ? new a(e) : r(e)
    }
    ),
    c(c.G + c.W + c.F * !P, {
        Promise: A
    }),
    n(55)(A, "Promise"),
    n(139)("Promise"),
    o = n(7).Promise,
    c(c.S + c.F * !P, "Promise", {
        reject: function(e) {
            var t = D(this);
            return (0,
            t.reject)(e),
            t.promise
        }
    }),
    c(c.S + c.F * (s || !P), "Promise", {
        resolve: function(e) {
            return S(s && this === o ? A : this, e)
        }
    }),
    c(c.S + c.F * !(P && n(129)(function(e) {
        A.all(e).catch(C)
    })), "Promise", {
        all: function(e) {
            var t = this
              , n = D(t)
              , i = n.resolve
              , r = n.reject
              , a = b(function() {
                var n = []
                  , a = 0
                  , o = 1;
                m(e, !1, function(e) {
                    var s = a++
                      , l = !1;
                    n.push(void 0),
                    o++,
                    t.resolve(e).then(function(e) {
                        l || (l = !0,
                        n[s] = e,
                        --o || i(n))
                    }, r)
                }),
                --o || i(n)
            });
            return a.e && r(a.v),
            n.promise
        },
        race: function(e) {
            var t = this
              , n = D(t)
              , i = n.reject
              , r = b(function() {
                m(e, !1, function(e) {
                    t.resolve(e).then(n.resolve, i)
                })
            });
            return r.e && i(r.v),
            n.promise
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(121)
      , r = n(92);
    e.exports = n(123)("Set", function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function(e) {
            return i.def(r(this, "Set"), e = 0 === e ? 0 : e, e)
        }
    }, i)
}
, function(e, t, n) {
    "use strict";
    var i = n(15)
      , r = n(36)
      , a = n(24)
      , o = n(13)
      , s = n(136)
      , l = n(82).KEY
      , u = n(35)
      , d = n(89)
      , c = n(55)
      , h = n(63)
      , p = n(16)
      , f = n(94)
      , m = n(93)
      , y = n(286)
      , g = n(127)
      , v = n(30)
      , _ = n(25)
      , b = n(38)
      , k = n(37)
      , S = n(91)
      , E = n(54)
      , w = n(60)
      , x = n(292)
      , T = n(84)
      , A = n(85)
      , L = n(26)
      , C = n(53)
      , D = T.f
      , P = L.f
      , R = x.f
      , I = i.Symbol
      , M = i.JSON
      , O = M && M.stringify
      , N = p("_hidden")
      , B = p("toPrimitive")
      , F = {}.propertyIsEnumerable
      , U = d("symbol-registry")
      , j = d("symbols")
      , V = d("op-symbols")
      , H = Object.prototype
      , q = "function" == typeof I && !!A.f
      , z = i.QObject
      , Y = !z || !z.prototype || !z.prototype.findChild
      , G = a && u(function() {
        return 7 != w(P({}, "a", {
            get: function() {
                return P(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }) ? function(e, t, n) {
        var i = D(H, t);
        i && delete H[t],
        P(e, t, n),
        i && e !== H && P(H, t, i)
    }
    : P
      , K = function(e) {
        var t = j[e] = w(I.prototype);
        return t._k = e,
        t
    }
      , W = q && "symbol" == typeof I.iterator ? function(e) {
        return "symbol" == typeof e
    }
    : function(e) {
        return e instanceof I
    }
      , X = function(e, t, n) {
        return e === H && X(V, t, n),
        v(e),
        t = S(t, !0),
        v(n),
        r(j, t) ? (n.enumerable ? (r(e, N) && e[N][t] && (e[N][t] = !1),
        n = w(n, {
            enumerable: E(0, !1)
        })) : (r(e, N) || P(e, N, E(1, {})),
        e[N][t] = !0),
        G(e, t, n)) : P(e, t, n)
    }
      , Q = function(e, t) {
        v(e);
        for (var n, i = y(t = k(t)), r = 0, a = i.length; a > r; )
            X(e, n = i[r++], t[n]);
        return e
    }
      , J = function(e, t) {
        return void 0 === t ? w(e) : Q(w(e), t)
    }
      , Z = function(e) {
        var t = F.call(this, e = S(e, !0));
        return !(this === H && r(j, e) && !r(V, e)) && (!(t || !r(this, e) || !r(j, e) || r(this, N) && this[N][e]) || t)
    }
      , $ = function(e, t) {
        if (e = k(e),
        t = S(t, !0),
        e !== H || !r(j, t) || r(V, t)) {
            var n = D(e, t);
            return !n || !r(j, t) || r(e, N) && e[N][t] || (n.enumerable = !0),
            n
        }
    }
      , ee = function(e) {
        for (var t, n = R(k(e)), i = [], a = 0; n.length > a; )
            r(j, t = n[a++]) || t == N || t == l || i.push(t);
        return i
    }
      , te = function(e) {
        for (var t, n = e === H, i = R(n ? V : k(e)), a = [], o = 0; i.length > o; )
            !r(j, t = i[o++]) || n && !r(H, t) || a.push(j[t]);
        return a
    };
    q || (I = function() {
        if (this instanceof I)
            throw TypeError("Symbol is not a constructor!");
        var e = h(arguments.length > 0 ? arguments[0] : void 0)
          , t = function(n) {
            this === H && t.call(V, n),
            r(this, N) && r(this[N], e) && (this[N][e] = !1),
            G(this, e, E(1, n))
        };
        return a && Y && G(H, e, {
            configurable: !0,
            set: t
        }),
        K(e)
    }
    ,
    s(I.prototype, "toString", function() {
        return this._k
    }),
    T.f = $,
    L.f = X,
    n(131).f = x.f = ee,
    n(61).f = Z,
    A.f = te,
    a && !n(52) && s(H, "propertyIsEnumerable", Z, !0),
    f.f = function(e) {
        return K(p(e))
    }
    ),
    o(o.G + o.W + o.F * !q, {
        Symbol: I
    });
    for (var ne = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ie = 0; ne.length > ie; )
        p(ne[ie++]);
    for (var re = C(p.store), ae = 0; re.length > ae; )
        m(re[ae++]);
    o(o.S + o.F * !q, "Symbol", {
        for: function(e) {
            return r(U, e += "") ? U[e] : U[e] = I(e)
        },
        keyFor: function(e) {
            if (!W(e))
                throw TypeError(e + " is not a symbol!");
            for (var t in U)
                if (U[t] === e)
                    return t
        },
        useSetter: function() {
            Y = !0
        },
        useSimple: function() {
            Y = !1
        }
    }),
    o(o.S + o.F * !q, "Object", {
        create: J,
        defineProperty: X,
        defineProperties: Q,
        getOwnPropertyDescriptor: $,
        getOwnPropertyNames: ee,
        getOwnPropertySymbols: te
    });
    var oe = u(function() {
        A.f(1)
    });
    o(o.S + o.F * oe, "Object", {
        getOwnPropertySymbols: function(e) {
            return A.f(b(e))
        }
    }),
    M && o(o.S + o.F * (!q || u(function() {
        var e = I();
        return "[null]" != O([e]) || "{}" != O({
            a: e
        }) || "{}" != O(Object(e))
    })), "JSON", {
        stringify: function(e) {
            for (var t, n, i = [e], r = 1; arguments.length > r; )
                i.push(arguments[r++]);
            if (n = t = i[1],
            (_(t) || void 0 !== e) && !W(e))
                return g(t) || (t = function(e, t) {
                    if ("function" == typeof n && (t = n.call(this, e, t)),
                    !W(t))
                        return t
                }
                ),
                i[1] = t,
                O.apply(M, i)
        }
    }),
    I.prototype[B] || n(32)(I.prototype, B, I.prototype.valueOf),
    c(I, "Symbol"),
    c(Math, "Math", !0),
    c(i.JSON, "JSON", !0)
}
, function(e, t, n) {
    n(137)("Map")
}
, function(e, t, n) {
    n(138)("Map")
}
, function(e, t, n) {
    var i = n(13);
    i(i.P + i.R, "Map", {
        toJSON: n(122)("Map")
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(13)
      , r = n(7)
      , a = n(15)
      , o = n(140)
      , s = n(135);
    i(i.P + i.R, "Promise", {
        finally: function(e) {
            var t = o(this, r.Promise || a.Promise)
              , n = "function" == typeof e;
            return this.then(n ? function(n) {
                return s(t, e()).then(function() {
                    return n
                })
            }
            : e, n ? function(n) {
                return s(t, e()).then(function() {
                    throw n
                })
            }
            : e)
        }
    })
}
, function(e, t, n) {
    "use strict";
    var i = n(13)
      , r = n(83)
      , a = n(134);
    i(i.S, "Promise", {
        try: function(e) {
            var t = r.f(this)
              , n = a(e);
            return (n.e ? t.reject : t.resolve)(n.v),
            t.promise
        }
    })
}
, function(e, t, n) {
    n(137)("Set")
}
, function(e, t, n) {
    n(138)("Set")
}
, function(e, t, n) {
    var i = n(13);
    i(i.P + i.R, "Set", {
        toJSON: n(122)("Set")
    })
}
, function(e, t, n) {
    n(93)("asyncIterator")
}
, function(e, t, n) {
    n(93)("observable")
}
, function(e, t, n) {
    t = e.exports = n(96)(!1),
    t.push([e.i, "@font-face {\n  font-family: 'youkuplayerfont';\n  /* project id 1027320 */\n  src: url('//g.alicdn.com/player/playericons/1.0.9/iconfont.eot');\n  src: url('//g.alicdn.com/player/playericons/1.0.9/iconfont.eot?#iefix') format('embedded-opentype'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.woff2') format('woff2'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.woff') format('woff'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.ttf') format('truetype'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.svg') format('svg');\n}\n.youku-player .iconfont {\n  font-family: \"youkuplayerfont\";\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  position: relative;\n}\n.youku-player .iconfont:before {\n  position: absolute;\n  font-size: 20px;\n}\n.youku-player .icon-next:before {\n  content: \"\\E623\";\n  line-height: 20px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -10px;\n  margin-top: -10px;\n  font-size: 20px;\n}\n.youku-player .icon-pause:before {\n  content: \"\\E624\";\n}\n.youku-player .icon-play:before {\n  content: \"\\E626\";\n}\n.youku-player .icon-play:before,\n.youku-player .icon-pause:before {\n  line-height: 32px;\n  font-size: 28px;\n}\n.youku-player .icon-setting:before {\n  content: \"\\E60E\";\n}\n.youku-player .icon-webfullscreen:before {\n  content: \"\\E622\";\n}\n.youku-player .icon-exit-webfullscreen:before {\n  content: \"\\E621\";\n}\n.youku-player .icon-volume:before {\n  content: \"\\E60D\";\n}\n.youku-player .icon-mute:before {\n  content: \"\\E612\";\n}\n.youku-player .icon-picture:before {\n  content: \"\\E60B\";\n}\n.youku-player .icon-fullscreen:before {\n  content: \"\\E60C\";\n}\n.youku-player .icon-exit-fullscreen:before {\n  content: \"\\E609\";\n}\n.youku-player .icon-select:before {\n  content: \"\\E616\";\n}\n.youku-player .icon-selected:before {\n  content: \"\\E617\";\n}\n.youku-player .icon-favorite:before {\n  content: \"\\E618\";\n}\n.youku-player .icon-favorited:before {\n  content: \"\\E619\";\n}\n.youku-player .icon-subscibe:before {\n  content: \"\\E61A\";\n}\n.youku-player .icon-history:before {\n  content: \"\\E61B\";\n}\n.youku-player .icon-upload:before {\n  content: \"\\E61C\";\n}\n.youku-player .icon-download-app:before {\n  content: \"\\E61D\";\n}\n.youku-player .icon-close:before {\n  content: \"\\E61E\";\n  font-size: 12px;\n}\n.youku-player .icon-ykhd_bofang_hdr_jin_x:before {\n  content: \"\\E629\";\n}\n.youku-player .icon-ykhd_bofang_hdr_bai_x:before {\n  content: \"\\E629\";\n}\n.youku-player .icon-ykhd_bofang_hdr_jin_x:before,\n.youku-player .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 24px;\n}\n.youku-player .fullscreen-hdr .icon-ykhd_bofang_hdr_jin_x:before,\n.youku-player .fullscreen-hdr .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 30px;\n}\n.youku-player .icon-pingmu-:before {\n  content: \"\\E604\";\n}\n.youku-player .icon-pingmu-1:before {\n  content: \"\\E606\";\n}\n.youku-player .icon-pingmu-2:before {\n  content: \"\\E607\";\n}\n.youku-player .percent-item-current:before {\n  font-size: 30px;\n  position: relative;\n}\n.youku-player .icon--shoujikan:before {\n  content: \"\\E600\";\n  font-size: 18px;\n}\n.big-mode .iconfont {\n  font-size: 30px;\n  width: 30px;\n  height: 30px;\n}\n.big-mode .iconfont:before {\n  font-size: 30px;\n}\n.big-mode .icon-next:before {\n  line-height: 30px;\n  margin-left: -15px;\n  margin-top: -15px;\n  font-size: 30px;\n}\n.big-mode .icon-play:before,\n.big-mode .icon-pause:before {\n  line-height: 48px;\n  font-size: 42px;\n}\n.big-mode .icon-ykhd_bofang_hdr_jin_x:before,\n.big-mode .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 36px;\n}\n.big-mode .fullscreen-hdr .icon-ykhd_bofang_hdr_jin_x:before,\n.big-mode .fullscreen-hdr .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 45px;\n}\n.big-mode .percent-item-current:before {\n  font-size: 45px;\n}\n.big-mode .icon--shoujikan:before {\n  font-size: 27px;\n}\n.big-mode .icon-close:before {\n  font-size: 12px !important;\n}\n.h5-layer-conatiner {\n  overflow: hidden;\n}\n.single-preview {\n  position: absolute;\n  left: 0px;\n  bottom: 60px;\n  height: auto;\n  width: 170px;\n  border-radius: 4px;\n  overflow: hidden;\n  cursor: pointer;\n  z-index: 20;\n}\n.single-preview .process-skip-line {\n  width: 1px;\n  height: 14px;\n  background: #fff;\n  position: absolute;\n  bottom: 0;\n  z-index: 10;\n  opacity: 0;\n}\n.single-preview .preview-tips {\n  display: none;\n  position: relative;\n  left: 50%;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 0px 0px 4px;\n  transform: translateX(-50%);\n  font-size: 12px;\n  letter-spacing: 0;\n  line-height: 21px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.single-preview .youku-imgBg {\n  width: 160px;\n  height: 72px;\n  background: url(//http://g1.ykimg.com/052500015C668026ADE19E1AC2024206);\n}\n.single-preview .dn {\n  display: none;\n}\n.single-preview .cover {\n  display: none;\n  position: absolute;\n  top: 0px;\n  width: 128px;\n  height: 71px;\n  z-index: 101;\n}\n.single-preview .cover .videoInfo {\n  position: absolute;\n  bottom: -16px;\n  width: 100%;\n  height: 33px;\n  line-height: 120%;\n  overflow: hidden;\n  font-size: 12px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 12px;\n  text-align: center;\n}\n.single-preview .thumbPic {\n  position: relative;\n  height: 100%;\n  width: auto;\n}\n.preloading-layer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #000;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  z-index: 81;\n  pointer-events: none;\n}\n.preloading-layer.blackbg {\n  background-color: rgba(0, 0, 0, 0.2);\n  color: #fff;\n}\n.preloading-layer.blackbg p {\n  font-size: 14px;\n  line-height: 2.5em;\n}\n.preloading-layer .preloading-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 150px;\n  height: 75px;\n  margin-left: -75px;\n  margin-top: -40px;\n}\n.preloading-layer .preloading-container img {\n  width: 100%;\n}\n.preloading-layer .h5-layer-loading {\n  position: relative;\n  width: 150px;\n  height: 60px;\n  margin: 0 auto;\n}\n.preloading-layer .h5-layer-loading .spinner {\n  margin: auto;\n  width: 60px;\n  height: 60px;\n  position: relative;\n  text-align: center;\n  -webkit-animation: rotate 2.0s infinite linear;\n  animation: rotate 2.0s infinite linear;\n}\n.preloading-layer .h5-layer-loading .dot1,\n.preloading-layer .h5-layer-loading .dot2 {\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: #FE5280;\n  border-radius: 100%;\n  -webkit-animation: bounce 2s infinite ease-in-out;\n  animation: bounce 2s infinite ease-in-out;\n}\n.preloading-layer .h5-layer-loading .dot2 {\n  background-color: #3EB0FF;\n}\n.preloading-layer .h5-layer-loading .dot2 {\n  top: auto;\n  bottom: 0px;\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n@-webkit-keyframes rotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes bounce {\n  0%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  50% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bounce {\n  0%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n.preloading-layer .h5-layer-loading .spinner1 {\n  margin: 20px auto 0;\n  width: 150px;\n  text-align: center;\n}\n.preloading-layer .h5-layer-loading .spinner1 > div {\n  width: 20px;\n  height: 20px;\n  background-color: #3EB0FF;\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.preloading-layer .h5-layer-loading .spinner1 .bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.preloading-layer .h5-layer-loading .spinner1 .bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n.top_area {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  width: 100%;\n  height: 100px;\n  font-size: 14px;\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.75), rgba(255, 255, 255, 0));\n  z-index: 1000;\n}\n.top_area .top-header {\n  padding: 25px 30px 28px 30px;\n  z-index: 9;\n  box-sizing: border-box;\n  color: #fff;\n  pointer-events: none;\n}\n.top_area .top-header .title {\n  width: 33%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: inline-block;\n}\n.top_area .top-header .system-time {\n  float: right;\n}\n.top_area .top-header .scale {\n  pointer-events: none;\n  z-index: 9999;\n  position: absolute;\n  right: 109px;\n  top: 20px;\n  opacity: 0.8;\n}\n.top_area .top-header .scale:hover {\n  opacity: 1;\n}\n.top_area .top-header .percent-item {\n  pointer-events: auto;\n  cursor: pointer;\n  position: relative;\n  display: none;\n  width: 36px;\n  height: 30px;\n  font-size: 30px;\n  line-height: 30px;\n  text-align: center;\n}\n.top_area .top-header .percent-item-current {\n  display: inline-block;\n}\n.information-tips {\n  position: absolute;\n  bottom: 61px;\n  left: 16px;\n  width: 100%;\n  z-index: 90;\n}\n.information-tips .information-tip-link {\n  display: inline-block;\n  color: #0D9BFF;\n  cursor: pointer;\n  text-decoration: none;\n}\n.information-tips .emphasizes {\n  color: #0D9BFF;\n}\n.information-tips .login-720 {\n  margin-left: 24px;\n}\n.information-tips .information-tip-des {\n  display: inline-block;\n  color: #fff;\n  text-shadow: 1px 1px 2px #000000;\n  vertical-align: middle;\n  line-height: 14px;\n  padding: 11px 0;\n}\n.information-tips .information-tip-close {\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 12px;\n  width: 12px;\n  height: 20px;\n  line-height: 20px;\n}\n.information-tips .information-tip-close .iconfont {\n  font-size: 12px;\n  display: inline-block;\n}\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.information-tips-box {\n  transition: all .3s;\n  position: absolute;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 14px;\n  height: 36px;\n  border-radius: 18px;\n  width: auto;\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.6);\n  padding: 0 16px;\n}\n.information-tips-box.animate-in {\n  animation: fade-in 0.3s;\n  animation-timing-function: cubic-bezier(0.08, 0.82, 0.17, 1);\n}\n.information-tips-box.animate-out {\n  animation: fade-out 0.3s;\n  animation-timing-function: cubic-bezier(0.6, 0.04, 0.98, 0.34);\n}\n/**\n* 错误提示\n*/\n.note_error_second {\n  height: 100%;\n}\n.note_error_second .note_error_panel_sec {\n  width: 100%;\n  height: 100%;\n}\n.note_error_second .error_details {\n  position: absolute;\n  top: 47%;\n  transform: translateY(-50%);\n  width: 100%;\n}\n.note_error_second .error_tips {\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n}\n.drm-error-layer,\n.note_error {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  display: block;\n  width: 100%;\n}\n.drm-error-layer .note_error_panel,\n.note_error .note_error_panel {\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  z-index: 19;\n}\n.drm-error-layer .note_error_icon,\n.note_error .note_error_icon {\n  width: 42px;\n  height: 40px;\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  margin: auto;\n  cursor: pointer;\n}\n.drm-error-layer .icon_setting_cookie,\n.note_error .icon_setting_cookie {\n  background-image: url('//img.alicdn.com/tfs/TB1YOJEi8DH8KJjSspnXXbNAVXa-40-40.svg');\n}\n.drm-error-layer .icon_refrash,\n.note_error .icon_refrash {\n  background-image: url('//img.alicdn.com/tfs/TB17WlKi3vD8KJjy0FlXXagBFXa-42-40.svg');\n}\n.drm-error-layer .icon_private,\n.note_error .icon_private {\n  width: 36px;\n  background-image: url('//img.alicdn.com/tfs/TB1bl8Bi3nH8KJjSspcXXb3QFXa-40-40.svg');\n}\n.drm-error-layer .icon_note_notice,\n.note_error .icon_note_notice {\n  width: 246px;\n  height: 148px;\n  background-image: url('//img.alicdn.com/tfs/TB15DOWCXT7gK0jSZFpXXaTkpXa-492-296.png');\n}\n.drm-error-layer .note_error_sendlog_success,\n.note_error .note_error_sendlog_success {\n  background-repeat: no-repeat;\n  display: inline-block;\n  background-image: url('//img.alicdn.com/tfs/TB1ofXrg5qAXuNjy1XdXXaYcVXa-24-24.png');\n  background-size: 12px 12px;\n  padding-left: 15px;\n  background-position: left center;\n}\n.drm-error-layer .note-error-code,\n.note_error .note-error-code {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  opacity: .6;\n}\n.drm-error-layer .note_notice_tit,\n.note_error .note_notice_tit,\n.drm-error-layer .note_error_tit,\n.note_error .note_error_tit,\n.drm-error-layer .note_normal_tit,\n.note_error .note_normal_tit {\n  padding: 20px 0 10px;\n  font-size: 18px;\n}\n.drm-error-layer .note_error_buttons,\n.note_error .note_error_buttons {\n  margin: auto;\n  margin-top: 20px;\n  display: flex;\n}\n.drm-error-layer .note_error_button_refrash,\n.note_error .note_error_button_refrash {\n  line-height: 32px;\n  font-size: 14px;\n  width: 80px;\n  height: 32px;\n  background-image: linear-gradient(-44deg, #00D3FF 0%, #00B7FF 100%);\n  border-radius: 100px;\n  cursor: pointer;\n  margin-right: 16px;\n}\n.drm-error-layer .note_error_button_refrash:hover,\n.note_error .note_error_button_refrash:hover {\n  background-image: linear-gradient(135deg, #4CCCFE 0%, #4DE0FF 100%);\n}\n.drm-error-layer .note_error_button_custom,\n.note_error .note_error_button_custom {\n  line-height: 32px;\n  font-size: 14px;\n  width: 80px;\n  height: 32px;\n  color: #0D9BFF;\n  border: 1px solid #0D9BFF;\n  border-radius: 16px;\n  cursor: pointer;\n}\n.drm-error-layer .note_error_button_custom:hover,\n.note_error .note_error_button_custom:hover {\n  color: #10BCFF;\n  border: 1px solid #10BCFF;\n}\n.drm-error-layer .note_error_item_container,\n.note_error .note_error_item_container {\n  margin: 20px 0;\n}\n.drm-error-layer .note_error_item_list,\n.note_error .note_error_item_list {\n  width: 171px;\n  display: inline-block;\n  text-align: center;\n  vertical-align: top;\n}\n.drm-error-layer .note_error_itembg,\n.note_error .note_error_itembg {\n  width: 96px;\n  border-radius: 20px;\n  background-color: #ffffff;\n  padding: 18px 0 18px 0;\n  margin: auto;\n}\n.drm-error-layer .note_error_itemyouku,\n.note_error .note_error_itemyouku {\n  padding: 13px 0;\n}\n.drm-error-layer .note_error_itemqrcode,\n.note_error .note_error_itemqrcode {\n  padding: 7px 0 7px 0;\n}\n.drm-error-layer .note_error_item,\n.note_error .note_error_item {\n  width: 60px;\n  height: 60px;\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  margin: auto;\n}\n.drm-error-layer .erweima,\n.note_error .erweima {\n  width: 82px;\n  height: 82px;\n  margin: 0 auto;\n  display: block;\n  margin: auto;\n}\n.drm-error-layer .chrome,\n.note_error .chrome {\n  background-image: url('//img.alicdn.com/tfs/TB13JgOj4vbeK8jSZPfXXariXXa-96-96.png');\n}\n.drm-error-layer .youku_logo,\n.note_error .youku_logo {\n  cursor: pointer;\n  background-image: url('//img.alicdn.com/tfs/TB1b1JWXX67gK0jSZPfXXahhFXa-1024-1024.svg');\n  width: 70px;\n  height: 70px;\n}\n.drm-error-layer .note_error_item_title,\n.note_error .note_error_item_title {\n  font-size: 14px;\n  color: #DDDDDD;\n  padding: 10px 10px;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.drm-error-layer .note_error_item_desc,\n.note_error .note_error_item_desc {\n  font-size: 12px;\n  color: #999999;\n}\n.drm-error-layer .note_error_item_ad,\n.note_error .note_error_item_ad {\n  font-size: 12px;\n  color: #000000;\n  background: #ffffff;\n  border-radius: 2px;\n  padding: 1px 3px;\n  width: 60px;\n  margin: auto;\n}\n.drm-error-layer a.note_error_link,\n.note_error a.note_error_link {\n  padding: 0 3px;\n  color: #008FFF;\n  cursor: pointer;\n  text-decoration: none;\n}\n.drm-error-layer .note_error_code,\n.note_error .note_error_code {\n  padding: 2px 0;\n  color: #aaaaaa;\n  font-size: 16px;\n}\n.drm-error-layer .note_error_code_ext,\n.note_error .note_error_code_ext {\n  padding: 2px 0;\n  color: #aaaaaa;\n  font-size: 12px;\n}\n.note_info {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  z-index: 10;\n}\n.note_info .note_panel {\n  position: relative;\n  top: 25%;\n  left: 0;\n  padding: 10px;\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  z-index: 19;\n}\n.note_info .note_panel .note_title {\n  padding: 10px 0;\n  font-size: 16px;\n  line-height: 1.7;\n}\n.note_info .note_panel .note_desc {\n  padding: 20px 0;\n  line-height: 1.7;\n  text-align: center;\n}\n.note_info .note_panel .note_span {\n  display: inline-block;\n  vertical-align: top;\n  text-align: left;\n}\n.note_info .note_panel .note_type {\n  margin: 0 5px;\n  display: inline-block;\n  color: #f60;\n}\n.note_info .note_panel .note_fans {\n  display: inline-block;\n  margin: 0 15px 0 15px;\n}\n.note_info .note_panel .note_subscribe {\n  display: block;\n  align-items: center;\n}\n.note_info .note_panel .note_uploader {\n  border-radius: 50%;\n  width: 68px;\n  height: 68px;\n  margin: auto;\n  padding: 15px;\n  display: block;\n}\n.note_info .note_panel .note_btnsubscribe {\n  font-size: 18px;\n  display: inline-block;\n  background: #0D9BFF;\n  padding: 5px 15px;\n  border-radius: 25px;\n  cursor: pointer;\n}\n.note_info .note_panel .note_option {\n  padding: 10px 0;\n}\n.note_info .note_panel a.note_action {\n  display: inline-block;\n  background: #f60;\n  padding: 5px 15px;\n  border-radius: 3px;\n  cursor: pointer;\n  color: #fff;\n  text-decoration: none;\n}\n.note_info .note_panel .note_submit {\n  display: inline-block;\n  background: #0D9BFF;\n  padding: 5px 15px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.note_info .note_panel a.note_link {\n  padding: 0 10px;\n  color: #999;\n}\n.note_info .note_panel input.note_password {\n  width: 100px;\n  height: 28px;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  border: 1px solid #333;\n}\n.preplay-layer {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #101010;\n  text-align: center;\n  z-index: 110;\n}\n.preplay-layer .ykplayer-poster-logo {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.preplay-background {\n  width: 100%;\n  height: 100%;\n  opacity: 0.3;\n  filter: alpha(opacity=30);\n  -webkit-filter: blur(10px);\n  /* Chrome, Opera */\n  -moz-filter: blur(10px);\n  -ms-filter: blur(10px);\n  filter: blur(10px);\n  filter: progid:DXImageTransform.Microsoft.Blur(PixelRadius=10, MakeShadow=false);\n  /* IE6~IE9 */\n}\n.h5player-dashboard .h5-control-wrap {\n  background-image: linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6));\n  padding: 0px 16px;\n  height: 50px;\n}\n.h5player-dashboard .h5-control-wrap .control-left-grid,\n.h5player-dashboard .h5-control-wrap .control-right-grid {\n  line-height: 50px;\n  padding: 0px;\n  align-items: center;\n  font-size: 0px;\n}\n.h5player-dashboard .h5-control-wrap .control-left-grid {\n  padding-left: 16px;\n}\n.h5player-dashboard .h5-control-wrap .control-right-grid {\n  padding-right: 16px;\n}\n.h5player-progress .progress-hover-container {\n  height: 10px;\n}\n.h5player-progress .progress-container {\n  height: 3px;\n}\n.h5player-progress .progress-played {\n  transform: scaleX(-1);\n  background-image: linear-gradient(270deg, #0D9BFF 0%, #00D3FF 100%);\n}\n.h5player-progress .progress-hover-container:hover .progress-container {\n  height: 10px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb {\n  border: 8px solid #00D3FF;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  top: -8px;\n  left: -8px;\n  border: 8px solid #00D3FF;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  border-color: rgba(0, 211, 255, 0.5);\n}\n.youku_player_fullscreen {\n  object-fit: contain;\n  position: absolute !important;\n  top: 0px !important;\n  right: 0px !important;\n  bottom: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 9000;\n}\n.youku_player_prefullscreen {\n  object-fit: contain;\n  position: fixed !important;\n  top: 0px !important;\n  right: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: 100% !important;\n  z-index: 9000;\n  height: 100%;\n  bottom: 0;\n}\n.youku_player_fullpage {\n  object-fit: contain;\n  position: fixed !important;\n  top: 0px !important;\n  right: 0px !important;\n  bottom: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: auto !important;\n  height: auto !important;\n  transform: none !important;\n  margin: 0px !important;\n  z-index: 9000 !important;\n}\n@media screen and (max-width: 289px) {\n  .youku_player_fullpage .h5-control-wrap .control-fullscreen-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-exit-webfullscreen {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 290px) and (max-width: 324px) {\n  .youku_player_fullpage .h5-control-wrap .icon-exit-webfullscreen {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 325px) and (max-width: 362px) {\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 363px) and (max-width: 398px) {\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 399px) and (max-width: 440px) {\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 441px) and (max-width: 488px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 489px) and (max-width: 536px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 537px) and (max-width: 584px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 585px) and (max-width: 1023px) {\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n}\n.youku-player {\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  white-space: normal;\n  background: #000;\n  color: #fff;\n  font: 12px/1.5 PingFangSC-Regular, Helvetica, Arial, Microsoft Yahei, sans-serif;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -khtml-user-select: none;\n  user-select: none;\n  outline: none;\n  -webkit-touch-callout: none;\n}\n.youku-player :focus,\n.youku-player a:active {\n  outline: 0 none;\n}\n.youku-player,\n.youku-player * {\n  visibility: visible;\n  font-family: PingFangSC-Regular, sans-serif;\n}\n.youku-film-player {\n  position: relative;\n  overflow: hidden;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000000;\n}\n.ykplayer-dashboard-hidden .information-tips {\n  bottom: 10px !important;\n}\n.ykplayer-dashboard-hidden .top_area {\n  display: none !important;\n}\n.fullscreen-75-percent video {\n  position: absolute !important;\n  width: 75% !important;\n  height: 75% !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  background-color: #000000 !important;\n}\n.fullscreen-50-percent video {\n  position: absolute !important;\n  width: 50% !important;\n  height: 50% !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  background-color: #000000 !important;\n}\n.h5player-dashboard .progress-container .input-range-container .yk-custom-thumb {\n  width: 20px;\n  height: 20px;\n  top: -10px;\n  border: 0px solid #fff;\n  border-radius: 0;\n  background: transparent;\n}\n.h5player-dashboard .progress-container .input-range-container .yk-custom-thumb:before {\n  display: none;\n}\n/***小窗样式***/\n.min-pattern {\n  width: 426px;\n  height: 240px;\n  max-width: 426px;\n  max-height: 240px;\n  position: fixed;\n  right: 0px;\n  top: 73px;\n  z-index: 1201;\n}\n.min-pattern .h5player-dashboard {\n  display: block !important;\n}\n.min-pattern .h5player-dashboard .h5-control-wrap {\n  display: none;\n}\n.min-pattern .h5player-dashboard .h5player-progress {\n  padding-bottom: 0px;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-hover-container {\n  height: 0px;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-container {\n  height: 3px !important;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-hightlights {\n  display: none !important;\n}\n.min-pattern .h5player-dashboard .h5player-progress .input-range-thumb {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .yk-trigger-layer,\n.min-pattern .h5-layer-conatiner .preview {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .yk-trigger-layer,\n.min-pattern .h5-layer-conatiner .single-preview {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .minisize-layer {\n  display: block;\n}\n.min-pattern .h5-layer-conatiner .layer-recommend {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .information-tips {\n  bottom: 2px;\n  font-size: 12px;\n  height: 23px;\n  line-height: 20px;\n}\n.min-pattern .h5-layer-conatiner .information-tips .information-tip-des {\n  line-height: 12px;\n  padding: 4px 0px 4px 9px;\n}\n.min-pattern .yk-player-danmu {\n  z-index: 111;\n}\n.min-pattern .youku-film-player {\n  z-index: 112;\n}\n.min-pattern .preplay-layer {\n  z-index: 112;\n}\n.min-pattern .h5-ext-layer {\n  z-index: 112;\n}\n.min-pattern .js-hdr {\n  z-index: 110 !important;\n}\n.fast-forward-box {\n  position: absolute;\n  top: 50%;\n  padding: 4px;\n  border-radius: 20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 121;\n}\n.fast-forward-box .ff-text {\n  font-size: 14px;\n  margin-top: 12px;\n  vertical-align: middle;\n  text-shadow: 0 0 8px rgba(0, 0, 0, 0.4);\n}\n.fast-forward-box .ff-icon-box {\n  width: 32px;\n  height: 32px;\n  vertical-align: middle;\n  position: relative;\n}\n.fast-forward-box .ff-circle {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  animation-name: rotate;\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n.fast-forward-box .ff-back {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: -4px;\n  top: -4px;\n}\n.fast-forward-box .ff-arrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 32px;\n  height: 32px;\n}\n@keyframes rotate {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n/*清除浮动*/\n.clearfix:after {\n  content: \"\";\n  clear: both;\n  display: block;\n  height: 0;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.layer-recommend {\n  display: none;\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  background: #111;\n  overflow: hidden;\n}\n.layer-recommend .recommend-wrap {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.layer-recommend .recommend-img {\n  width: 100%;\n  height: 100%;\n  transition: all .2s ease 0s;\n}\n.layer-recommend .recommend-bg {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  transition: all .2s;\n}\n.layer-recommend .spv_private {\n  position: relative;\n  width: 417px;\n  height: 233px;\n  margin: 1px 1px 0 0;\n  overflow: hidden;\n}\n.layer-recommend .spv_private .recommend-bg {\n  background: rgba(11, 11, 11, 0.6);\n}\n.layer-recommend .spv_private .recommend-replay {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 41px;\n  height: 72px;\n  font-size: 20px;\n  color: rgba(255, 255, 255, 0.4);\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAABICAMAAABcFiw7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFuUExURf///////////////////////////0xpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////90C9KcAAAB6dFJOU7OdQxYtqJIAWocLryJPAXA4rbKnBGUCLDCuHW2aaqR8HBkSD2kDc4WpLkp6J3dEDI6YW3gIRXuKg36wFzNxSRpuK0Fya6MRqxsYpZGJBkaGbJkTNYB1JqBCiKyxUzQJTm8Of4I+FapZR5ZLSCVmj5spUnZUVip5FKYFeCs7QAAAAstJREFUSMftlldX4zAQha9t2ZIcO70SQu+9LCxt6bDA9t577739+5VsB2zixOad+xLl6Du6MxppZNCA9ua2B9tzlUyufXB7ojswBd94l7UjoHdvepyJqakA2duXAHLj9vC+SeljrfR+qwNI9D2TEPzkpo7s4kre71ccnl1C7mWQzD8FuEUb1PYCqBV9ZP45EnaShii5WkGnjxzAUJk2UUnHETmCxHA4dtbbBY9cy2CVtiQveuQ8Fmm0BNmWTazFI2s4R2OR/QcYi0eWoCTjkT+xTuORvzERk7yAX9HYpelboH/xJ5rsxQ5oBmY0eQbnIQ7fvzhR4iRrHmA/mtxFh8y9FE2O4TPoOD5Ekyq+g/5AKpqs4RvoBu5E1/0LvoIWO7ARBX7ETlKczz4MRJFVfHLP/FJXa3C5kt1z7tEoFlpHOoot98YtZ/CkFTiB16+O7vtKi13P4K2vh9x/1LSHDLk30utLnXjwMDzWkQxG875O278O3Lsd0usWgGox2JPvDiF780agfybL81nomw3du6cmerI+a5e7J4v9k91le1z25GpvWJ+/PnMt2OenZ3rCXwShrsvVK0ouURFvx9W5rqZvR2QHOyVPSUo155XXGGkkVV6XfvjuUgJGNUJsJiRmUJAkEV8LDqfzlJxgdVL1zrPOuWH73Tn3WUnSZHpacwaGoQmSoUHCTYqpUCxBmgZS4ikAYZ4UpT5SC9yAwlXhnxZkWkbpuIvIpQzD/dXq7kEfSR7zP8xIrJ6SCcGQPi5JfBnVyYKtUUsXaRQMdGquO0PKF6dLpsVihEGXcZrieymVdknD208pSaoieV0Rtha1RGJU1etxHnc3RHAsED7Xwte0VaeakPGAy8RY0ziJM8c9D+KRGjF97kf7SWXFuSiBqAPzTkhQpBlpkmCNHIcwdzWk7hYxQtbkTc6S5ZFSnnuIxPlKyxwL3n9n+/8D/W1v8N8ZaF4AAAAASUVORK5CYII=') no-repeat;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  text-align: center;\n  cursor: pointer;\n}\n.layer-recommend .spv_private .recommend-dw {\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 417px;\n  height: 56px;\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaEAAAA4CAMAAABjaLfPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURR50wh1yvjB+yD6GzYzB9B50wR1wukxpcXWu51SW1xporxtsth5yv5bK+maj4EqO0oG47nuz6h5zv5vO/ZHG9x1wu4e98W6p5B1xvB5zwF6c2x1vuhttthtttxtstB93xSJ6x0q3/x1wvCKF3ySL6RtqsiKG4CKF4B91w0Cm8CaBzjaX40u3/zCP20aw+CKH4R5yvyB+1COJ5h53yB1zwh10wyGA1xtttjic5zKS3i+O2UGo8kiy+ku3/0q2/iN8yj2j7S2L2ESu9j6l7zea5TWW4Uiz+0Wv+Em0/Eax+TSV4Duh60Kq8yF/1COK5h51wx1xvU+y9hxvvB97zyOJ5iGC2SGC2RxuuEmz+yF4xku3/yZ/zEOq9Dqe6CyK1ku3/0u3/yqH1EOs9UOr9Eu3/0u3/0u3/0u3/0qu9FC2+kWq8Tqd5zuf6Uu3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0q1/SSM6v///5rX/9vx/0u3/5/R/3Ot76rL9dfm+orR/2Ol7vb5/lGd7Uy3/z2V65DT//7//8HZ953E81O6/+Lt+5C88k24/7bS9tfv//j8//z+/4bP/4K18VG6/5nX/5bV/+b1/0+5/93x/4jQ/1+//4zR//r9/4nQ/1a7/5HT/3HH/9Ht/9rw/1i8//D5/4HN/1C5/3rL/5fW//v9/43S//7+/5PU/6/f/+Pz/9vw/2fC/+zz/Vm9/83f+b7l/8Dm/7bi/9/y/2XC/5TV//P6/7zk/23F/5jW/47S/7zl/3nJ/9Tu/37L/+v3/2HA/8fp/1u+/3fJ/3zL/5vX/8/s/7jj/53Y/0y4/+T0/8To/+74/16//3TI/2nD/2zE/8rq/4vR/5XV/+z3/6ve/6La/4DM/7Hg/2PB/7Ph/8np/6Xb/8Pn/+f1//b7/6jd/7vj/+n2/8vq/83r//X7/+Hz/1S7/73l//H5/5/Z/6DZ/27F/6/f/1W7/5fU/8Lm/3DG/y1nwYYAAACAdFJOU7O0uL3ss7YA2ca6t7T10MHi3rT68bXn1LW0y7a3t7i1t/617f658O+0577V/cz077vd+MnFy+O72s/K6fdP/LriyPDl2NP58vv10uDr2PjBufDF2vnj4r74t+q97NzGvhXE7+6wpPMg7fjo2925MA9xw+7Sh+BelNiBIziqB2P368k6sQAADoBJREFUeNrsm3lwE9cdx9erhezOWFqttZKMSIbDmUkLTQjHH00bHJK0oU2bhH+SSdOmaZujf3R63+dotb+1ZMsHvmTjE6d2bKcBbOJAg7GBEsfUXMY4wAA20IRjSJoWQo4yael7b9+uVtLaiGNwZqIv45X0tPv28fu83/Ge18xNl9V3lv7imZ//7HMAz/3yqV//6vs3ZXRDxVwOz09+OgfWdG9488zAwKm32l+PwW9++7uM2T4RhH701BM/XPps/sF9Gy+sVEy9d65zzZxnfp8x3NQT+vETgNSx/99KsuoGxuEPmWA35YSWIj5dJ/6q2GnlB63P/Slju6kndOnY7gQwq47tH9m0Z3zdWVX55w549o8Z690QQhNo3h0loVffseB55dzxSjA09r+V/S1Pz2YymjLNu7vllHrhFZPPh++2Ahy5dLK+sLC+e6wLYGT3zo7vZRBNmb75QMtWVV1l8Nnd3AgdL9a3t/X0tLUXIkgXYzCs1jZ+/TMZU02NZi8vQYD+Qfm8FmqB1pHjZSeaQqE3a9UtzYjRug74WN1b8mTGVlOj++E/qrpNj3Er/7UGjpzs2Y7wIL2GWl7o70FutBmGd38E384Yayp0F+x7VVUPE0CHh6Cju6w5RPUCaTzTiRC9D0dXbVo+K2OuKYhxD1SOqqpah1mMboaxtvUhU39fi5trQxsKC3eVwMZReDBjrxuvJ+EAArQaAxqIdXU3hxL0Fvri7VCorLBwHNasOnp3xoluvAvlr6lFhD5EgE5BZX1TKEkfbXkDHZt6CutjcGYv3J6x2I3WfBhEgFSUcT6AxrbQREIV3Rh0123+bMZiVNOuQVd0o+VwHgF6XlGe74odD02sHYXd0FXXmZ8JczqeGTk52VhZVyRySU7OjCuANA/GsQtdUOrGoXsSQKEThfUAh/vhuxk8DMKTnZU71+udfhXyeufmZmUjSGne7Mt6kFutDMDm9ZMRamr/M8A7q2F+hs+0nOxc7yMP5T18a/AqdOvDeQ894s3NzknTj5bBVp3QRRgKTao25EOr6mJfyzhQTpZ38YLgNWnBYm9Wmm50H0lD6upDUFJ2GUK7oFVRjnzxUw8oO3fFY8Fr1mMrcrPTQvQ44FpbPbQVWk5MTuj4RehUlD3fygC6c0HwOmjBnekhgvcxIHVbCLomTUOhwfZKqP0EEBKmmFBO7orrAgghWpGbkw6hRkJI7YHKyQltOApDaFU7nBrlOMNoPMc4XHYNDIsPLhdtdvC6GJeP0SYfHjopSZYLcN8Oh34SfqVihQTpX+g3l0SGFdEZbs7NkpH5JfMyc3j6ROAtEiyAsqY/GrxOenR6VhqIAHRC9dA4OaH6rtgFRakrWTYpIYGza2Bli7U1TEhD/3iGkyYmFOCwnE7yEoiD1fDBT5DjvnGnxg+VSC6RPZwuZHijIzwyfJGbF3i3wIkcLzs5NwVAeuESCWnuJEIzsr2LrUYuaEiweVFE/0lVcRgfihIbF3uzZ1yW0AMwSgi1Qdf2yQB1DsNG5ELb4Eu2hMh/xO3kfbxdg0w4+IidWY+OCTU5NJnTsOEYCZtScpi2cTEOp+CK+4HTgS+UzEktOfF5qHvehhA1MWd5LwhuNzoYhMiLwDl4STMASCLuIYCnEm86k8uZGuNm3ma1cSRSQIVomb+ijlYHI9YnPoLhcLkSDocrIuid5erbZqYR5+6DLYTQAYhNVss174E2srcK96Z0IbIGEI332zW4ESHEwCMTr8ChifgQ60BG07DhGM6PXiQPi93NKWFCyIIamzAJAlzirKBxSNLpSHaExORwiZwRBzcKCiGQ4x3iMwTNOJXXLDL7npbtXZLgGSYE5DilBQUVCvkpjwSLMLWqckqPEiqoSiQUXOLNviyhZXCWEHoDoH5iQP/dA+vIryfa59yT1IEjPuUYYtOUBsbFaowoCB6/IPtxWmCdmJDExdOKHhclhNPtNq6V4xbyOJJTEr4AJRVJdHgspyQRYjWag8xwSY6S4UM4/CHG5CSZEGLwFbzPoJrsQsyMrJkL7WJYqYKiXXHU5EUxRMLBmmIMUmeHD9XVpZbrFs7MumyYexDWEUIvdcDrE4a5smHY8TK+88sdTzMphHym6ZyCXYPBQRMpCWQbTY9ziYSwzUxLs/4A9SG/R2TsCHEkatG6gGVsfIgOxCG4/PpZbh86iCahgIYDp5Ml4yD9ewQ9GREH9XBJpQIOcnkJZGoiRFVKTWmwIFpQo/uQkW4Qod4K9Bq2hrwCy/V5aYS5eVBJFkRqO3S1N9nv94w0HnxXf1K4327Th0xGPI8FapGUBsJB1JgkQjil4zxkkAv4GIfH7FbyaJzfwTg4TofmthKSRUpIovUAJ9mMiuYRh+B26mUdTU6c4PLxAsd6NHN6UEIccmM/JeSR+RRCc29ZZCVUE0WxS+lDh2hFsChOoS/uQ1XkXV+N7mpJpcKiW+amk4g2EkLHYjDWabupfRpa/0LvfCl/tj0hWh747BsIIZyFDUIsIWSUxSxt51wJ+Z0ReVnzaD7qHpyTMyX7GEpIjHtG6qhYTdSjnCbrZZ0DDcQlEEKoluN9pFDAjs5SQnga0DH4aSHH86IlDd2csBeHEKBcVETfNUR7G4gPNSjm1+Rbo4Yo6K0u7Su27tHdnEYimq9vbqtqGZQMbUit4cZbSja8R++wF+x25eJABI99AyEkuU1CHgkthLC1/Lhyxue6cX3mTqjAhADPedwuyYlcCduI4y2LHMYghGe7jKJRwHZUbt2zRE1f/eCwy3oEM8qxJiFBpgUCR8sFRvT4DA9yshMSQq5R0UthlCtKTZjUBEVxQsEq7D3V0WAEc+wrD0dLr5TQN76i752qtZugZSQRUdOO8UbYp+LH60kW2pT/hbtuv2diQoyeMVIaCCHZbxLSnCjJaxrjxkbwuXVCBINJSNA4Hw0uDr/P49dTRHKVzwmCjKoOVHY7XXajCugzROKMjiWJj1fbNAuSqcTphLCjE0IoAvqN6SALFkIJUa5CiUSiUZKIqoMNVVEjKxXFCRGAfb1hpRyVcdXRaEIttygdQszn4bSeic63QuzFHYMmn/X1f4vB0fOYzflmfDwAdww1t52+f9aEhPS8k9KALUEKK0pIZgkDWiZoljUu67GUIKYceFNCsyWE7KqZ9k0dlYf4lpPWhKjVqQlWQgYAFI5JDwJZpuGi383JRkz1WAnlJS5RC6qipKg2Il0NXq9WFViDIPqAs1V5uLy0VOm1ulAwLy1Cs74KzXqcO3ca4Miusu3rBwfXb6+/tBlKTu5EYNYO7IN9+EGgg/mj+Im6nh9MSEhfX6Q0YAgka1NCTn3BbkPIUss544T0aou9CkJm8Y4+CgERzROJsRIyAKDlFOmBpWuEAGcZk/kOVwpJ1XY5qrMj8eK6OFqOEEQshEgkLGoIK1WKUl2jJG44LEynUmCYe6FEj3PqzvoSgFhXZWVXy0GA4QPkAaCzcGTo5H5FOdQxp59ko7WP2xLyB/x0BZLSQCDwaRGSjMLAWjPgr0XNZqUsslZCLjZlVKLu1C4e15ayi5VlfaKIeNfHEuVQkRJnrHsrF1+PCZYthSWJuzzRapxd9E/V4fJob1SpqjGqAUKoFAdDJaKUFxRXKGF8vmXFOjOtzVMU5z5+W0ek9o80kr92KBnbP1pH/0hlcDC0/yVldSscoAVDawqh/7dzvi9NRWEcX05kS7xzKUW7P1BkWpS9m1MTLVS08o0a+C6oVxX9Ec171DBNKYtdneAvKmPOInQk4S8mDKxGllQSBWpZqSVhQW+sc3/fs02ZNuZg9/vqcmEMzofzPN/nOc+52nhYXyaxHa8DwV6wi8ih4hs/wuIHJRRnrOOtsz8hvT8hg84YzxpiiZApZZOuj64udX9yKuc2kjVJXDo0JsdxNYHQTmWhyE3UOj2ycxRPsGKlFF2fRhuX/x22Nph9Gq/ZbG1w/Rsb4MNtmRALCRJjg12T4+rN6wovl0WFULGyOnQY3N8QENF239jUOyejrLFcy+u29T4wLCBrv4T+HMYjvc7EWwJTUrAXcBH5cGPg+pd8AIPpW3IKKHHOOvtHOcSHcwEs3qjTawVCxhRM0Y7wIxQnbynWSArll9znw7gNqk0RO628M9AFejk2EZEWxR5wiNkI6oajXsox9U0BbYcG4ZWyp2AhQ0lDXCo6DjrHaUldnla/S3ie0V/glUhtKjegraBHj28CXuiFCM91AAQTwPanMW59ggtxCmykCn5cpNfoNFoMM0m+UcSCFkgGaYdgBg2mRf4AQ04ttFxfUcOXAmg9xIU5Kidcpw85VIhBjkVUDJr77TKjnhUXI+4YxrVi729+6HYJgJyV0TmQpTVG4E8Owk1kzQwPoEwrGcrpg6iSo2BylkY0sQ7VQ9NO9wuwtCxeXrFXFsXyIfi+PQlETVgQZdYQIZ3gSTpfBsBLP0ZcXnJ/AHda7HMCoJ8X02J7TgHGuURrGAJdjjUx9Bgn+IUj5QAs1fqcSjxTXlgVzfhoMcRtXI7xmVN2kgQnKEvW//HJslAEHuKwj7IBVHoMGu2BT7Wff/t8yz++Dz/oBuBWr4+eEE3CWHHMX5RkESWQlLmqOuPsziYaz2ZUV5kpMmH7gKDyCweWmoGsvkG3nX6y1i4CqlCntvmJRpykKLN5745kNlMUiYc80YgCSv87TU/PLrZ0DA52eP984UYYuqTa6HVBmgpInArGcZIgEncggiBxfBtTwSigGbu/UViTa9e5pydVPOI2itxkvULn0u/Nv0Xs9ppnSFG3ei+obOR9FLHbKYrz8PJnMN+0tt9lmNVVhmEeD6GNhfk3eSoZBFKEbnhJbYWyyVXbVlooVLPQruo0GN0SkG1EvSC5u8oDj8YXvCMD7k0ATYN8dZF2V9kVp8rOZJe834RQb4H6VZ+oUGlLcEDPu3PVxYkKXVkMTqg2vUhdnKhQ8TfpI7RfP8rVqqfzhLo2EdE/dw7Fo/0yMXUAAAAASUVORK5CYII=\") no-repeat;\n  cursor: pointer;\n}\n.layer-recommend .spv_private:hover img {\n  transform: scale(1.2, 1.2);\n}\n.layer-recommend .spv_private:hover .recommend-replay {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAABICAMAAABcFiw7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAG/UExURUxpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7Z6U2IAAACUdFJOUwAg4BDw0GCAwEAw+VCg7nCQAz74KpsBAgaX6vcoRCT+BKT9vdvxrmphsA/2EcuBGd8Wce+r+mIFr5XEuvshtEmhnCVoPUKjGOjzqjgi687DZL9FmgnaS7Yb2Nk2pwvkljfCXvUxwUqxdvxvDRWfQRqeXFm18hS5Hgxlf12pmdwn1R9rmGcmNHiRdajMOt16PB2s7Ae1N/YfAAACzElEQVRIx+2WVXvbMBSG5cS2bIeTpk2bMjO3a9euXbnr2jEzMzMzM3w/eJJhsRs79vPsdt9FIsuvDugcKSHEoeejT5ua45l8vLnpdXst8dISfQaHXjy6rr/o6XFwA+MRIP4ksbDaScjll+lXi1VAZPwuewXYwZsiGqemN9inUteGJxG/5SRzN4CzZ4oDKrsHVKZsZO42RgbL3WIvn8ugw0Y2oKXGK8+0iALZhsiCO7bR3AXzcTaPOVKS3G4+jmGKBFJZXWQ2GFmJzcHA+jWcCEam0V8ejPyGmWAg+Yn2gOQ2fPeH9hw6Qsgv/PAnB7BMSBc6/cmj2MKb73eAGHnpA9l8wG2uYdWfXEIVzz3tT27FZ0JW8MaflPGJkPe4GqSLPhIyj2MVvuRXfGFntQrzfuA7LHNrx9HgR2bxwej5yerS4KZM41t90IqJ0h3aikVzSR6XSoHtuHO/cN6nS+x6Fx7a7pDT5zxPT4v9RObO4+IF911ty6M1Zz+gM8DJwy53wQSQTTnnTrWgbv8+x/1ZUTPWiKHHRcv7KkeAoeHBmtruVH137a7ECr+Ts1fcQjrQu9d5zx/s7fPckeod2Z398UiG/XbsHq0m//Vf/yBB0z+p6nKNKZbEwu+uCkoEVU1QJvYGSWMSBicqMf6CWqRs9rOoKFLCbltRbA+cDFMxKugDSRLYHEWRmDcuKiOkMTIsIRbmq6mpUMgayUlFQkiRmf8oI6NGlDxPVZckGd+C5d3phxT7/5sRsx7jCUHifgxStWVkkcmEQDQRFEkJHYLhnSJmi9Mgo8yYSiHyOMPs/1IsapCSuZ9cnJRZ8mKIudWIxhIjsmjFud67xIKjjvAVwd1mQtarCR4PFJ4Y9YyTk0R3yQeqSQpq2Oa9sJ+EV1xhJWB1MJevk+pFhlVnjXQPbt5ll7prquRiU/HoJc0kuUzvLmL9xWuiWD2kb/8fLpv1qMZfH4UAAAAASUVORK5CYII=');\n}\n.layer-recommend .spv_private:hover .recommend-bg {\n  display: none;\n}\n.layer-recommend .spv-interact {\n  position: relative;\n  width: 417px;\n  height: 116px;\n  background: rgba(80, 80, 80, 0.6);\n  display: block;\n  /* Chrome 29+, Firefox 22+, IE 11+, Opera 12.1/17/18, Android 4.4+ */\n  margin: 1px 1px 0 0;\n}\n.layer-recommend .spv-interact .spv-share {\n  width: 50%;\n  height: 100%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -o-box;\n  display: box;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  box-orient: vertical;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  box-pack: center;\n  text-align: center;\n}\n.layer-recommend .spv-interact .spv-share span {\n  font-size: 14px;\n  color: #999;\n}\n.layer-recommend .spv-interact .spv-share .share {\n  margin-top: 15px;\n}\n.layer-recommend .spv-interact .spv-share .share a {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  margin: 0 5px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAAgCAMAAADUmzFMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUxpcV7KfvfHH/lbT0/K+U/K+V7KfvlbT/fHH/lbT0/K+V7KfvfHH/lbT17KfvlbT/fHH/fHH0/K+ffHH/fHH/lbT/fHH/fHH/fHH/fHH/lbT/lbT0/K+V7Kfk/K+V7Kfk/K+U/K+U/K+flbT17Kfk/K+U/K+ffHH/lbT/fHH17Kfl7KfvlbT17Kfk/K+V7Kfl7KfvfHH/lbT0/K+V7KfvlbT/fHH0/K+flbT17Kfl7KfvlbT17Kfk/K+flbT17Kfk/K+flbT17Kfk/K+ffHH17Kfl7Kfk/K+flbT17Kfl7KfvfHH/fHH17KfvfHH/fHH/lbT17Kfk/K+f///////v3+/vlmW/p9c8Tt/f/9+Pvhhf3Rzv/z8ojYn2HLgfjLLvnTTfljWPyhm/p2bP/29fuGffpzaLnox1rO+ff9+WzPis3v17PmwsPrz3PRj//99f755//++/zoo/rddPjRRv/x8P7i4P7u7P3V0v7g3ZzfsIXa+3jTk+f4/uL2/s7w/djy4P3uud/15nHU+qDgs8ft0rzpyfT89+v5/u/68tXx3fvkk/744/zrrvvjj/766f3wxPfJJ/rccf29uPreef3Dv//+/v3zz/yspv7q6f7k4vuMg//88fp6cf/9/fuQiPypo/refP7Y1fy3sorZob7r/dfz/vH7//b9/4/d+971/q3m/LPo/Ljq/cvw/fjNN+L16Kjjua/n/Jvh/GDP+nrX+uz5/tvz4r/qy/733fnUUfjOOfjQQffKKv3yy/301f3vv/767P712Pznn/zqqPuLgvnVV/y5tPvggvynoflfVP3MyP7o5v/49/nWW/3Cvf/6+v7l4/3GwvpvZPubk/uEevrZZMru1X3Y+5HappDbpmfNhXnW+snt0/zssfzrsOv47+X26vfII/zttnzX+4HZ+7Lo/PnXX+T26fz+/aTj/IDVmfraavqCefldUZfdrPviiv3vvfvmnPuak/uXkPvllf3xxvuclfyzrvuZkvuVjfuSivuUjPpsYvuTi/jRRCPpysgAAABPdFJOUwAk6+sk+vokJPrr0QgICIn6+QjJ9QwMmZxXyZmJDJyZDMmZ9fX16enpierpV4lXV8jR0dEyMjIynOucm5vQ0Pj4+CUjzyPJWFhYiorQiIiVKrPpAAAGCUlEQVRYw81YZXRURxhd4u4QJZsEiHvw4FCk9t7ut40SYiQkIe4pGtyhuASXluLFpbgVDVp3Td29PTzbmXn75qVpe9rD/bG7b+buvHu+me/ON6PRIHSM0cZG9O8fEauN6ahpFe0jfX1CBw4M9fGNbN86s4O3p3uIq2uIu6d3h9aZAdFBgcEDBgQHBkUHULrb9emsQ+jcp536QNaJnViETonW6kwbLw8GwcPLRp1p4d9Fj9DF38Kk2+kJK50MVlFO9IEcnW1ZGWydHelMhyddGRlcwxzoTDc/S70Mln5uZP8j9joF7KkBtO7HKtCPGkCbIYwCQ6gBHNxXr0BfIoBdI3QURHRVjtQtlKUgtJuS2T2EoSCku5LZI1hPQXAPtOzCdVSEK+Jnbc5SYa6In40ZQ4WZIn4Wdnoq7KT4OdnrVGBvsv4c+7EqiDdZfw6PE5LS3iYe4kzWn1tfvQoSxPUXpVNFlHwoZ1YVznJmGBmxCsgknsLkTD+sZ1zKhIlbX8HPfkJaSDk7fsy7LdAypbiUzF/Z9Fqb5Cybnb68bkmumL+y6bVxIfQsBjhHPLrIpncwztkUELAT5y8/vX0EIaPGGMReaCkehfX1JodKNA1Z9rJl6QDfC797kkwvMnhnAAzPEM9eJNPfVB3ADtTkz+0VohuPBYyxhD8T+0d7wo2/WLnkAv9974/cGhDi14nYPzp4yIMHsIBo8CD2jwDkxm/g909F/hygiRFkTOOiNj6D6/qqqBBgGtYXg4eKROKSlnHM5iSWzW+G3/LhttAYiZneZPAW8m9sIlu8MTNaGTyAragxWqMVVOzlWovHcB/T9xlg5hwsT0uZ2+QafpBrSbk5vyRfgvyrI4XWRMz0NArJPJFVKb6ysvr4i8ZWT8wMQkomYnnPo8YgTaygwoD6Zs84Mmfv4SMZkrxYPJSPpG6toA6uN6wD2JwL6zevE5p9MNOdFzH/9KJ5qRyvvPxMk/CHsqOLGhv5HnfMDERKJmB521BjoKaXoKLF2DWnRFI6WczgXngoyZKT6vju0XWjhRDeuZtUK0bPHDMFS57L95d/821a1cXqrOrqrLP88/uCNWMmsuSC57C8ZwuQNWtEW5ks9XyCU2R2kWAteCjJVrhcrdm8lkvb5JU1kM4twAt5orVgplgKXEwFQ1lqRUVqWdN9hllazo15WSwNMBPZyjgiNWEcshZJXobUMYNLkdISgM+4dVhClbcGYNMdNnsNryn/Fox8CVUupvKYE+XSqJeZG/P4788ZVXnbSHmTsDxxcnX7RM8r4ad1JsDh2QCF1MndBJtYdgNHu5XMLcPlAGuM+67J5PKZcYofdBHDnOO/K44Z913l5H4IMnyAJjdWyoGn+ebCN0kSNTVGQx67Hmrqb0I9y17hssQYPtPUEHAaDBuZ+2JmIGumpMZuubzdKDW0RnmGsdOnvFNMcKZQjWUV5LPp9WxyAzRwFsNFL1mSRzMW5vxJTlRW1eKNaXMXZO1RN5ZZcnmzkLHEGOWN5z+LZmLOFqotfwc/s3dr790G+JNNqgW4ZFx7VFs+taLyfGXa0o1pP5w/uyBT3ZafmkVm7gRAttyxs6xGySiUOIZpKpvaTVjJ/l7bnJ7H5nHqrn5pPHTQNrXMVCIkx1rZ1PYf2IGJnx7YjzY1TW95DVX6suiBM5QlQU9RSM71upycDb/+1ACwKgdtdNSS4GNhqBU/SvnbakkwUblp+PO1sskhSPd6xmtbil6dLtjKIFpBlb0hffW1mpGrl6y/gg9E1IJqKfe2hVUMc2MF92M+raCykKylYMcho7xDLxQQBVVr5eij/7IcbYSyr8WttuoowHvCr8eo5ehU0fAmkSWL398t5uNVi3mT47hDnCDl5Ft7UJbMnXecWswniFoOfpSya7tev31Xys6DsmL+IT8KPewHSS5+bT+GU+Y3nn4Mj1Oqi6Mewy0SKMc02T2GU9R/cIkR5iIX5/JPLzE4DJJdAfUe1NYroJ7/xxWQcIE2Qjs03MoqfKh2xF9doA339TG3tTX38R3ehgs0MxcXszZcoA0LCrSztLQLDBpGXKA9AOM/SSzcVPzPAAAAAElFTkSuQmCC') no-repeat;\n}\n.layer-recommend .spv-interact .spv-share .share .wx {\n  background-position: 0px 0px;\n}\n.layer-recommend .spv-interact .spv-share .share .qzoom {\n  background-position: -84px 0;\n}\n.layer-recommend .spv-interact .spv-share .share .qq {\n  background-position: -126px 0;\n}\n.layer-recommend .spv-interact .spv-share .share .wb {\n  background-position: -42px 0;\n}\n.layer-recommend .spv-interact .spv-share {\n  width: 100%;\n  height: 100%;\n}\n.youku-layer-wuliao .logo-new {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-repeat: no-repeat;\n}\n.youku-layer-wuliao .youku-layer-logo {\n  pointer-events: none;\n}\n.youku-layer-wuliao .serial {\n  display: none;\n  font-size: 16px;\n  -webkit-text-shadow: 2px 2px 1px #000;\n  -moz-text-shadow: 2px 2px 1px #000;\n  text-shadow: 2px 2px 1px #000;\n  position: absolute;\n  top: 50px;\n  right: 30px;\n}\n.youku-layer-wuliao .license {\n  display: none;\n  font-size: 16px;\n  -webkit-text-shadow: 2px 2px 1px #000;\n  -moz-text-shadow: 2px 2px 1px #000;\n  text-shadow: 2px 2px 1px #000;\n  position: absolute;\n  right: 30px;\n  bottom: 78px;\n}\n.h5-control-wrap .control-icon:after {\n  font-size: 12px;\n  border-radius: 4px;\n  padding: 4px;\n  color: rgba(255, 255, 255, 0.6);\n  bottom: 48px;\n  line-height: 12px;\n}\n.h5-control-wrap .control-icon {\n  height: 32px;\n  line-height: 32px;\n}\n.h5-control-wrap .control-icon .iconfont {\n  position: relative;\n  width: 20px;\n  height: 32px;\n  line-height: 32px;\n}\n.h5-control-wrap .control-play-icon,\n.h5-control-wrap .control-pause-icon {\n  width: 28px;\n}\n.h5-control-wrap .control-play-icon .iconfont,\n.h5-control-wrap .control-pause-icon .iconfont {\n  position: relative;\n  width: 28px;\n}\n.control-next-video {\n  width: 20px;\n  /**下一集内容**/\n}\n.control-next-video .iconfont {\n  display: block;\n}\n.control-next-video .next-content {\n  display: none;\n  height: 102px;\n  position: absolute;\n  bottom: 46px;\n  left: -60px;\n}\n.control-next-video .next-content img {\n  position: absolute;\n  width: 183px;\n  height: 102px;\n  border-radius: 4px 0px 0px 0px;\n}\n.control-next-video .next-content div {\n  width: 154px;\n  height: 102px;\n  left: 181px;\n  position: relative;\n  box-sizing: inherit;\n  display: inline-block;\n  opacity: 0.8;\n  background: #000000;\n  border-radius: 0 4px 4px 0;\n  font-size: 12px;\n}\n.control-next-video .next-content div span {\n  font-size: 16px;\n  font-weight: bold;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 18px;\n  position: absolute;\n  top: 20px;\n  left: 10px;\n}\n.control-next-video .next-content div p {\n  margin: 0px;\n  font-size: 12px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 14px;\n  width: 134px;\n  position: absolute;\n  left: 10px;\n  top: 54px;\n  max-width: 280px;\n  max-height: 28px;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  /*! autoprefixer: off */\n  -webkit-box-orient: vertical;\n}\n.control-next-video .next-content .no-picture {\n  left: 0;\n}\n.control-next-video:hover .next-content {\n  display: block;\n}\n.h5-control-wrap .control-time {\n  padding: 0px;\n  font-family: 'PingFangSC-Regular, sans-serif';\n  font-size: 12px;\n  line-height: 32px;\n  height: 32px;\n  vertical-align: middle;\n}\n.h5-control-wrap .control-time .control-time-current,\n.h5-control-wrap .control-time .control-time-split,\n.h5-control-wrap .control-time .control-time-duration {\n  vertical-align: middle;\n}\n.control-series {\n  display: none;\n  font-size: 14px;\n  margin-left: 16px;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  color: #fff;\n  opacity: .8;\n}\n.control-series:hover {\n  opacity: 1;\n}\n.control-scroll-info {\n  z-index: 1501;\n  display: none;\n  font-size: 14px;\n  margin-left: -47px;\n  cursor: pointer;\n  border-radius: 14px;\n  width: 94px;\n  height: 22px !important;\n  text-align: center;\n  line-height: 20px !important;\n  color: #fff;\n  opacity: .6;\n  position: absolute !important;\n  left: 50%;\n  bottom: 10px;\n  text-shadow: 2px 2px 1px #000;\n}\n.control-scroll-info:hover {\n  opacity: 1;\n}\n.control-scroll-info .to-down-icon-white {\n  background: url('https://img.alicdn.com/tfs/TB157RedKP2gK0jSZFoXXauIVXa-18-18.svg');\n  display: none;\n  background-size: 14px 14px;\n  background-size: cover;\n  width: 14px !important;\n  height: 14px !important;\n  transform: translate(0, -50%);\n}\n.control-scroll-info .to-down-icon-gray {\n  background: url('https://img.alicdn.com/tfs/TB1Wq0fdHH1gK0jSZFwXXc7aXXa-18-18.svg');\n  background-size: 14px 14px;\n  display: inline-block;\n  background-size: cover;\n  width: 14px !important;\n  height: 14px !important;\n  transform: translate(0, -50%);\n}\n.control-scroll-info.active {\n  color: #ffffff;\n}\n.control-scroll-info.active .to-down-icon-white {\n  display: inline-block;\n}\n.control-scroll-info.active .to-down-icon-gray {\n  display: none;\n}\n.control-scroll-infotop {\n  bottom: 70px;\n}\n.control-playmode-icon,\n.control-next-video,\n.control-webfullscreen-icon,\n.exit-webfullscreen-icon,\n.control-rotate-screen-icon {\n  margin-left: 16px;\n}\n.control-playmode-icon .iconfont,\n.control-next-video .iconfont,\n.control-webfullscreen-icon .iconfont,\n.exit-webfullscreen-icon .iconfont,\n.control-rotate-screen-icon .iconfont {\n  color: #ffffff;\n  opacity: 0.8;\n}\n.control-playmode-icon:hover .iconfont,\n.control-next-video:hover .iconfont,\n.control-webfullscreen-icon:hover .iconfont,\n.exit-webfullscreen-icon:hover .iconfont,\n.control-rotate-screen-icon:hover .iconfont {\n  opacity: 1;\n}\n.control-webfullscreen-icon .icon-webfullscreen {\n  display: block;\n}\n.control-webfullscreen-icon .icon-exit-webfullscreen {\n  display: none;\n}\n.exit-webfullscreen-icon .icon-webfullscreen {\n  display: none;\n}\n.exit-webfullscreen-icon .icon-exit-webfullscreen {\n  display: block;\n}\n.control-quality-icon .js-language-text {\n  max-width: 100px;\n  width: auto !important;\n}\n.control-quality-icon .control-quality-btn,\n.control-quality-icon .control-rate-btn {\n  overflow: hidden;\n  width: auto;\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n}\n.control-quality-icon .js-quality-text {\n  width: 29px;\n  height: 32px;\n}\n.control-quality-btn.q1080p {\n  width: 55px;\n}\n.control-quality-btn.q1080p_hdr {\n  width: 55px;\n}\n.control-rate-note,\n.control-quality-note {\n  display: none;\n  position: absolute;\n  bottom: 53px;\n  left: 50%;\n  padding: 5px 20px 5px 5px;\n  height: 14px;\n  line-height: 14px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 2px;\n  transform: translateX(-50%);\n  word-break: keep-all;\n  width: 170px;\n  color: #fff;\n  word-wrap: break-word;\n}\n.control-rate-note:before,\n.control-quality-note:before {\n  display: inline-block;\n  content: '';\n  position: absolute;\n  bottom: -13px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 7px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8) transparent transparent;\n}\n.control-rate-note:after,\n.control-quality-note:after {\n  display: inline-block;\n  content: '\\D7';\n  font-size: 20px;\n  position: absolute;\n  bottom: 9px;\n  right: 5px;\n  width: 12px;\n  height: 12px;\n}\n.control-quality-icon {\n  margin-left: 16px;\n  color: #fff;\n  opacity: 0.8;\n  font-size: 14px;\n}\n.control-quality-icon.dashboard-show .quality-dashboard,\n.control-quality-icon.dashboard-show .rate-dashboard {\n  display: block;\n}\n.control-quality-icon .tooltip-frame {\n  position: absolute;\n  bottom: 54px;\n  width: 458px;\n  height: 252px;\n  right: 49px;\n}\n.control-quality-icon .tooltip-frame-bg {\n  background: #161616;\n  width: 452px;\n  height: 252px;\n  border-radius: 4px;\n}\n.control-quality-icon .frame-tips-icon {\n  width: 16px;\n  height: 16px;\n  vertical-align: middle;\n}\n.control-quality-icon .frame-icon-desc {\n  widows: 16px;\n  height: 16px;\n  background: url('//img.alicdn.com/imgextra/i4/O1CN01x3xKY61Um4Bkg5BNw_!!6000000002559-2-tps-44-44.png') no-repeat;\n  background-size: 16px 16px;\n  display: inline-block;\n  cursor: pointer;\n}\n.control-quality-icon .frame-icon-desc:hover::before {\n  content: attr(data-msg);\n  position: absolute;\n  top: 20px;\n  left: -310px;\n  padding: 4px 6px;\n  display: inline-block;\n  border-radius: 4px;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.87);\n  font-size: 14px;\n}\n.control-quality-icon .tooltip-frame-close {\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  right: 19px;\n  top: 10px;\n  cursor: pointer;\n  z-index: 999;\n}\n.control-quality-icon .tooltip-frame-close:before,\n.control-quality-icon .tooltip-frame-close:after {\n  width: 1.5px;\n  height: 18px;\n  content: '';\n  position: absolute;\n  border-left-style: solid;\n  border-left-width: 1.5px;\n  border-left-color: rgba(255, 255, 255, 0.5);\n  top: 0;\n  left: 7.5px;\n}\n.control-quality-icon .tooltip-frame-close:hover:before,\n.control-quality-icon .tooltip-frame-close:hover:after {\n  border-left-color: #ffffff;\n}\n.control-quality-icon .tooltip-frame-close:before {\n  transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n}\n.control-quality-icon .tooltip-frame-close:after {\n  transform: rotate(135deg);\n  -ms-transform: rotate(135deg);\n}\n.control-quality-icon .frame-image {\n  width: 418px;\n  height: 183px;\n  position: absolute;\n  top: 35px;\n  left: 17px;\n}\n.control-quality-icon .quality-dashboard,\n.control-quality-icon .rate-dashboard {\n  display: none;\n  width: 80px;\n  position: absolute;\n  bottom: 31px;\n  padding-bottom: 15px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 4px;\n  opacity: 0.8;\n}\n.control-quality-icon .quality-dashboard:after,\n.control-quality-icon .rate-dashboard:after {\n  content: '';\n  display: block;\n  height: 0px !important;\n}\n.control-quality-icon .quality-dashboard:hover,\n.control-quality-icon .rate-dashboard:hover {\n  opacity: 0.8;\n}\n.control-quality-icon .quality-dashboard a,\n.control-quality-icon .rate-dashboard a {\n  text-decoration: none;\n}\n.control-quality-icon .quality-dashboard .settings-item,\n.control-quality-icon .rate-dashboard .settings-item {\n  display: block;\n  cursor: pointer;\n  background-color: #000000;\n  color: #fff;\n  text-align: center;\n  font-size: 14px;\n  padding-top: 20px;\n  line-height: 16px;\n}\n.control-quality-icon .quality-dashboard .settings-item .iconfont,\n.control-quality-icon .rate-dashboard .settings-item .iconfont {\n  font-size: 16px;\n  display: inline-block;\n  position: absolute;\n  right: 22px;\n}\n.control-quality-icon .quality-dashboard .settings-item .quality-tips-icon,\n.control-quality-icon .rate-dashboard .settings-item .quality-tips-icon {\n  width: 16px;\n  height: 16px;\n}\n.control-quality-icon .quality-dashboard .settings-item .frame-tips-text,\n.control-quality-icon .rate-dashboard .settings-item .frame-tips-text {\n  font-size: 10px;\n  text-align: left;\n  height: 14px;\n  line-height: 14px;\n  width: 100px;\n  display: block;\n  margin-top: 4px;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip a,\n.control-quality-icon .rate-dashboard .settings-item .tooltip a {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip,\n.control-quality-icon .rate-dashboard .settings-item .tooltip {\n  display: none;\n  width: 275px;\n  height: 100px;\n  font-size: 14px;\n  color: #fff;\n  position: absolute;\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n  -webkit-transition: opacity 0.2s ease-in-out;\n  -moz-transition: opacity 0.2s ease-in-out;\n  margin-left: -275px;\n  margin-top: -50px;\n  line-height: 20px;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip-content,\n.control-quality-icon .rate-dashboard .settings-item .tooltip-content {\n  width: 245px;\n  height: 80px;\n  padding: 10px;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0.87);\n}\n.control-quality-icon .quality-dashboard .settings-item .vip-label,\n.control-quality-icon .rate-dashboard .settings-item .vip-label {\n  display: inline-block;\n  text-align: center;\n  background-color: #ebba73;\n  border-radius: 2px;\n  padding: 2px 3px;\n  line-height: 12px;\n  margin-left: 4px;\n  margin-right: 3px;\n  font-size: 12px;\n  color: #ffffff;\n  letter-spacing: 0;\n}\n.control-quality-icon .quality-dashboard .settings-item .label-disable,\n.control-quality-icon .rate-dashboard .settings-item .label-disable {\n  opacity: 0.3;\n}\n.control-quality-icon .quality-dashboard .settings-item.active,\n.control-quality-icon .rate-dashboard .settings-item.active {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-frame-item.active,\n.control-quality-icon .rate-dashboard .settings-frame-item.active {\n  color: #F7C3A7;\n}\n.control-quality-icon .quality-dashboard .quality-item,\n.control-quality-icon .rate-dashboard .quality-item {\n  text-align: left;\n  padding-left: 20px;\n  position: relative;\n}\n.control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 4px 4px 0 0;\n  background-clip: padding-box;\n}\n.control-quality-icon .quality-dashboard .settings-item:last-of-type,\n.control-quality-icon .rate-dashboard .settings-item:last-of-type {\n  padding-bottom: 20px;\n  border-radius: 0px 0px 4px 4px;\n  background-clip: padding-box;\n}\n.control-quality-icon .quality-dashboard .settings-item:hover,\n.control-quality-icon .rate-dashboard .settings-item:hover {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-item:hover .tooltip,\n.control-quality-icon .rate-dashboard .settings-item:hover .tooltip {\n  display: block;\n  opacity: 1;\n  transition: opacity 0.5s ease-in-out;\n  -webkit-transition: opacity 0.5s ease-in-out;\n  -moz-transition: opacity 0.5s ease-in-out;\n}\n.control-quality-icon .quality-dashboard .settings-frame-item:hover,\n.control-quality-icon .rate-dashboard .settings-frame-item:hover {\n  color: #F7C3A7;\n}\n.control-quality-icon .quality-dashboard .login-canuse .vip-label,\n.control-quality-icon .rate-dashboard .login-canuse .vip-label {\n  background-color: #FC4273;\n}\n.control-quality-icon .quality-dashboard .free-canuse .vip-label,\n.control-quality-icon .rate-dashboard .free-canuse .vip-label {\n  background-color: #1db509;\n}\n.control-quality-icon .quality-dashboard.largest,\n.control-quality-icon .rate-dashboard.largest {\n  width: 161px;\n}\n.control-quality-icon .quality-dashboard.biglargest,\n.control-quality-icon .rate-dashboard.biglargest {\n  width: 185px !important;\n}\n.control-quality-icon .quality-dashboard .disable,\n.control-quality-icon .rate-dashboard .disable {\n  color: rgba(255, 255, 255, 0.7);\n}\n.control-quality-icon .quality-dashboard .settings-frame-item-disable,\n.control-quality-icon .rate-dashboard .settings-frame-item-disable {\n  color: rgba(255, 255, 255, 0.3);\n}\n.control-quality-icon .quality-dashboard .settings-frame-item-disable:hover::before,\n.control-quality-icon .rate-dashboard .settings-frame-item-disable:hover::before {\n  content: attr(data-msg);\n  position: absolute;\n  top: 20px;\n  left: -310px;\n  padding: 4px 6px;\n  display: inline-block;\n  border-radius: 4px;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.87);\n  font-size: 14px;\n}\n.control-quality-icon .quality-dashboard .settings-frame-item-disable:hover,\n.control-quality-icon .rate-dashboard .settings-frame-item-disable:hover {\n  color: rgba(255, 255, 255, 0.3);\n}\n.control-quality-icon .quality-dashboard .subtitle-item,\n.control-quality-icon .rate-dashboard .subtitle-item {\n  text-align: left;\n  padding: 20px 20px 0 20px;\n  position: relative;\n  display: inline-block;\n  white-space: nowrap;\n  background-color: transparent;\n  vertical-align: bottom;\n}\n.control-quality-icon .language-dashboard {\n  width: 100px;\n}\n.control-quality-icon .subtitle-dashboard-container {\n  display: inline-block;\n  background-color: #000;\n  border-radius: 4px;\n}\n.control-quality-icon .quality-dashboard-new {\n  left: -20px;\n  transform: none;\n}\n.h5-control-wrap .control-volume-icon {\n  margin-left: 16px;\n  padding-top: 0px;\n}\n.h5-control-wrap .control-volume-box {\n  bottom: 31px;\n  padding-bottom: 15px!important;\n  width: 60px;\n  height: 200px;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider {\n  top: 48px;\n  width: 4px;\n  height: 136px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n.h5-control-wrap .control-volume-box .control-volume-current {\n  background: #0D9BFF;\n  background-image: linear-gradient(-180deg, #05E4FC 0%, #148AFF 100%);\n  width: 4px;\n}\n.h5-control-wrap .control-volume-box:before {\n  width: 60px;\n  height: 200px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  top: -13px;\n  left: -13px;\n  border: 13px solid rgba(255, 255, 255, 0.2);\n  border-radius: 13px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  display: none !important;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  margin-left: -3px;\n}\n.h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  border: 5px solid #ffffFF;\n}\n.h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  top: -199px;\n  width: 60px;\n  margin-left: -20px;\n}\n.control-settings-icon .iconfont {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard {\n  display: none;\n  width: 166px;\n}\n.control-settings-icon .settings-dashboard .settings-item {\n  position: relative;\n  text-align: left;\n  line-height: 18px;\n  padding-top: 14px;\n  padding: 14px 20px 0px;\n  cursor: auto;\n}\n.control-settings-icon .settings-dashboard .settings-item .iconfont {\n  right: 20px;\n  cursor: pointer;\n}\n.control-settings-icon .settings-dashboard .settings-item .switch-open {\n  background-image: url('//img.alicdn.com/tfs/TB1ic8FnKT2gK0jSZFvXXXnFXXa-30-18.svg');\n  display: none;\n  background-size: 30px 18px;\n  width: 30px;\n  height: 18px;\n}\n.control-settings-icon .settings-dashboard .settings-item .switch-close {\n  background-image: url('//img.alicdn.com/tfs/TB18Z0InQL0gK0jSZFxXXXWHVXa-30-18.svg');\n  background-size: 30px 18px;\n  display: inline-block;\n  width: 30px;\n  height: 18px;\n}\n.control-settings-icon .settings-dashboard .settings-item.active {\n  color: #ffffff;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .switch-open {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .switch-close {\n  display: none;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .icon-select {\n  display: none;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .icon-selected {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard .settings-item:hover {\n  color: #ffffff;\n}\n.control-settings-icon .settings-dashboard .settings-item:first-of-type {\n  padding-top: 20px;\n}\n.control-settings-icon .settings-dashboard .settings-item:last-of-type {\n  padding-bottom: 20px;\n}\n.current-level {\n  display: inline-block;\n  text-align: right;\n}\n.control-icon:hover {\n  color: #ffffff;\n}\n.control-phonewatch {\n  font-size: 14px;\n  height: 32px !important;\n  line-height: 32px !important;\n  background-color: rgba(255, 255, 255, 0.15) !important;\n  border-radius: 16px;\n  padding: 0 12px;\n  color: rgba(255, 255, 255, 0.6);\n  margin-left: 16px;\n}\n.control-phonewatch:hover {\n  color: #0D9BFF;\n}\n.control-phonewatch .icon--shoujikan {\n  width: 18px;\n  font-size: 18px;\n  line-height: 32px !important;\n  height: 32px !important;\n  position: relative;\n  display: inline-block;\n  float: left;\n  vertical-align: middle;\n}\n.control-phonewatch .text {\n  line-height: 32px;\n  display: inline-block;\n  height: 32px;\n  margin-left: 2px;\n}\n.progress-container .input-range-container .input-range-thumb {\n  border: 8px solid #00D3FF;\n  top: -3px;\n}\n.progress-container .input-range-container .input-range-thumb:before {\n  top: -15px;\n  left: -15px;\n  border: 15px solid rgba(0, 211, 255, 0.5);\n  border-radius: 15px;\n}\n.progress-container .progress-hightlights {\n  top: 2px;\n}\n.h5-control-wrap .control-fullscreen-icon .iconfont,\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  display: inline-block;\n}\n.big-mode .information-tips {\n  bottom: 90.5px;\n}\n.big-mode .single-preview {\n  bottom: 90px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap {\n  height: 75px;\n  padding: 0px 24px 0px 24px;\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-left-grid,\n.big-mode .h5player-dashboard .h5-control-wrap .control-right-grid {\n  line-height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-left-grid {\n  padding-left: 24px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-right-grid {\n  padding-right: 24px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video,\n.big-mode .h5player-dashboard .h5-control-wrap .control-time,\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch {\n  margin-left: 28px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-right-grid .control-icon {\n  margin-left: 28px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon {\n  height: 48px;\n  line-height: 48px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon .iconfont {\n  width: 30px;\n  height: 48px;\n  line-height: 48px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon:after {\n  font-size: 18px;\n  border-radius: 6px;\n  padding: 6px;\n  bottom: 70px;\n  line-height: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .h5-control-wrap .control-icon div {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-play-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-pause-icon {\n  width: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-play-icon .iconfont,\n.big-mode .h5player-dashboard .h5-control-wrap .control-pause-icon .iconfont {\n  width: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content {\n  height: 153px;\n  bottom: 68px;\n  left: -90.3px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content img {\n  width: 274.5px;\n  height: 153px;\n  border-radius: 6px 0px 0px 0px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div {\n  width: 231px;\n  height: 153px;\n  left: 271.5px;\n  border-radius: 0 6px 6px 0;\n  font-size: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div span {\n  font-size: 24px;\n  line-height: 27px;\n  top: 30px;\n  left: 15px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div p {\n  font-size: 18px;\n  line-height: 21px;\n  width: 201px;\n  left: 15px;\n  top: 81px;\n  max-width: 420px;\n  max-height: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video,\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-fullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-halfscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-webfullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .exit-webfullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-rotate-screen-icon {\n  width: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-time {\n  font-size: 18px;\n  line-height: 48px;\n  height: 48px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch {\n  font-size: 21px;\n  height: 48px !important;\n  line-height: 48px !important;\n  margin: 0px 0px 0 28px;\n  border-radius: 24px;\n  padding: 0 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .icon--shoujikan {\n  width: 27px;\n  font-size: 27px;\n  line-height: 48px !important;\n  height: 48px !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel {\n  width: 487.5px;\n  height: 165px;\n  bottom: 55.5px;\n  padding: 30px;\n  background: #323232;\n  box-shadow: 0 0 36px 0 rgba(0, 0, 0, 0.22), 0 36px 36px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .arrow {\n  bottom: -18px;\n  border: 9px solid;\n  border-color: #323232 transparent transparent;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap {\n  width: 291px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap {\n  padding-bottom: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap .title {\n  font-size: 24px;\n  line-height: 33px;\n  height: 33px;\n  margin-bottom: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle {\n  font-size: 18px;\n  height: 25.5px;\n  line-height: 25.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap {\n  padding-top: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap .video-title {\n  font-size: 21px;\n  height: 30px;\n  line-height: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap .time {\n  margin-top: 6px;\n  font-size: 18px;\n  height: 25.5px;\n  line-height: 25.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .right-wrap .erweima {\n  width: 150px;\n  height: 150px;\n  border-radius: 6px;\n  border: #fff solid 7.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .js-language-text {\n  max-width: 150px;\n  width: auto !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .js-quality-text {\n  width: 43.5px;\n  height: 48px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .tooltip-frame {\n  bottom: 82px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-btn.q1080p {\n  width: 82.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-btn.q1080p_hdr {\n  width: 82.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note {\n  bottom: 79.5px;\n  padding: 7.5px 30px 7.5px 7.5px;\n  border-radius: 3px;\n  width: 255px;\n  height: 21px;\n  line-height: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note:before,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note:before {\n  bottom: -19.5px;\n  border-width: 10.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note:after,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note:after {\n  font-size: 30px;\n  bottom: 13.5px;\n  right: 7.5px;\n  width: 18px;\n  height: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard {\n  width: 120px;\n  bottom: 46px;\n  padding-bottom: 20px !important;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .language-dashboard {\n  width: 150px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item {\n  font-size: 21px;\n  padding-top: 30px;\n  line-height: 24px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard.largest,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard.largest {\n  width: 241.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 6px 6px 0 0;\n  background-clip: padding-box;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item .vip-label,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item .vip-label {\n  border-radius: 3px;\n  padding: 3px 4.5px;\n  line-height: 18px;\n  margin-left: 6px;\n  margin-right: 4.5px;\n  font-size: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:last-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:last-of-type {\n  padding-bottom: 30px;\n  border-radius: 0px 0px 6px 6px;\n  background-clip: padding-box;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box {\n  bottom: 46px;\n  padding-bottom: 20px!important;\n  width: 90px;\n  height: 300px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider {\n  top: 72px;\n  width: 6px;\n  height: 204px;\n  left: 42px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  margin-left: -4.5px;\n  margin-bottom: -10.5px;\n  border: 7.5px solid #ffffFF;\n  border-radius: 15px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb:before {\n  top: -19.5px;\n  left: -19.5px;\n  border: 19.5px solid rgba(255, 255, 255, 0.2);\n  border-radius: 19.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-current {\n  width: 6px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box:before {\n  width: 90px;\n  height: 300px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  font-size: 21px;\n  line-height: 36px;\n  top: -298.5px;\n  padding-top: 10.5px;\n  width: 90px;\n  margin-left: -30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard {\n  width: 249px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item:first-of-type {\n  padding-top: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item {\n  line-height: 29px;\n  padding-top: 21px;\n  padding: 21px 30px 0px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item .iconfont {\n  right: 30px;\n  width: 45px;\n  height: 27px;\n  background-size: 45px 27px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item:last-of-type {\n  padding-bottom: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 6px 6px 0 0;\n  background-clip: padding-box;\n}\n.big-mode .control-scroll-info {\n  font-size: 21px;\n  margin-left: -70.5px;\n  border-radius: 21px;\n  width: 126px;\n  height: 33px !important;\n  line-height: 33px !important;\n  text-shadow: 2px 2px 1px #000;\n  margin-left: -63px !important;\n}\n.big-mode .control-scroll-info .iconfont {\n  width: 21px !important;\n  height: 21px !important;\n}\n.big-mode .control-scroll-infotop {\n  bottom: 105px !important;\n}\n.big-mode .top_area {\n  font-size: 21px;\n}\n.big-mode .top_area .top-header {\n  padding: 33.5px 45px 42px 45px;\n}\n.big-mode .top_area .top-header .scale {\n  top: 30px;\n  right: 163.5px;\n}\n.big-mode .top_area .top-header .percent-item {\n  width: 54px;\n  height: 45px;\n  font-size: 45px;\n  line-height: 45px;\n}\n.minisize-layer {\n  background: none !important;\n  display: none;\n  cursor: move;\n  z-index: 1000;\n  pointer-events: auto;\n}\n.minisize-layer .btn-control {\n  cursor: default;\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 28px;\n  line-height: 28px;\n  font-size: 14px;\n  color: #fff;\n  -webkit-user-select: none;\n  text-align: left;\n  z-index: 11;\n}\n.minisize-layer .btn-control:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(to bottom, rgba(3, 0, 0, 0.85) 0, transparent 100%);\n}\n.minisize-layer .btn-control .min-closeicon {\n  cursor: default;\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: inline-block;\n  cursor: pointer;\n}\n.minisize-layer .btn-control .min-closeicon .iconfont {\n  position: relative;\n  left: 4px;\n  font-size: 20px;\n}\n.minisize-layer .btn-control .min-closeicon:hover .iconfont {\n  color: #0D9BFF;\n}\n.minisize-layer .btn-control:after {\n  height: 28px;\n  width: 28px;\n}\n.minisize-layer .icon-play:before,\n.minisize-layer .icon-pause::before {\n  line-height: 30px;\n  height: auto;\n  position: static;\n  font-size: 24px;\n}\n.minisize-layer .icon-close {\n  display: inline-block;\n}\n.minisize-layer .icon-close:before {\n  font-size: 20px;\n}\n.minisize-layer .h5-control-wrap {\n  cursor: default;\n  display: none;\n  padding: 4px 10px 10px;\n  line-height: 30px;\n  height: 24px;\n  width: 20px;\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.4);\n  border: 0px solid #fff;\n  border-radius: 20px;\n  -webkit-box-shadow: 0px 0px 20px rgba(255, 255, 255, 0.3);\n  box-shadow: 0px 0px 3px rgba(255, 255, 255, 0.3);\n}\n.minisize-layer .h5-control-wrap .iconfont {\n  font-size: 24px;\n  left: -1px;\n  position: relative;\n}\n.minisize-layer .h5-control-wrap .icon-pause {\n  display: none;\n}\n.minisize-layer .h5-control-wrap .icon-play {\n  display: block;\n}\n.minisize-layer .control-play-icon .icon-pause {\n  display: block;\n}\n.minisize-layer .control-play-icon .icon-play {\n  display: none;\n}\n.minisize-layer .h5-mininote-layer {\n  width: 120px;\n  height: 46px;\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -23px 0 0 -60px;\n  color: #fff;\n  background-color: #000;\n  opacity: 0.8;\n  text-align: center;\n  line-height: 46px;\n}\n.minisize-layer .h5-mininote-mask {\n  display: none;\n  width: 100%;\n  height: 100%;\n}\n.minisize-layer:hover .btn-control,\n.minisize-layer:hover .h5-mininote-mask,\n.minisize-layer:hover .h5-control-wrap {\n  display: block;\n}\n.yk-video-fixed {\n  position: fixed;\n}\n.yk-video-fixed .youku-layer-logo {\n  display: none;\n}\n.yk-video-fixed .h5player-dashboard {\n  opacity: 0;\n}\n.yk-video-fixed .btn-control {\n  display: block;\n}\n.note-show-miniplayer {\n  background-color: #000000;\n  display: block;\n}\n.note-show-miniplayer .h5-mininote-mask {\n  display: block;\n}\n.note-show-miniplayer .h5-mininote-layer {\n  display: block;\n}\n.note-show-miniplayer .btn-control {\n  display: none;\n}\n.yk-video-fixed:hover .minisize-layer {\n  display: block;\n}\n.not-support-layer {\n  display: none;\n  width: 100%;\n  height: 70%;\n  position: absolute;\n  bottom: 15%;\n  left: 0;\n  background-color: #000;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n}\n.not-support-layer .left-info-layer {\n  position: absolute;\n  display: inline-block;\n  width: 48%;\n  height: 100%;\n  left: 0;\n  border-right: rgba(216, 216, 216, 0.15) solid 1px;\n  color: #fff;\n  font-size: 20px;\n  line-height: 36px;\n}\n.not-support-layer .left-info-layer .warn-img {\n  display: block;\n  height: 58px;\n  padding: 20px 0 32px 0;\n}\n.not-support-layer .left-info-layer .warn-img i {\n  display: block;\n  width: 58px;\n  height: 58px;\n  background: url('//img.alicdn.com/tfs/TB1hptSeMMPMeJjy1XcXXXpppXa-58-58.png') no-repeat;\n  margin: 0 auto;\n}\n.not-support-layer .left-info-layer .warn-reason {\n  display: block;\n  padding-bottom: 16px;\n}\n.not-support-layer .left-info-layer .warn-txt {\n  color: #666;\n}\n.not-support-layer .right-info-layer {\n  width: 50%;\n  height: 100%;\n  float: right;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n}\n.not-support-layer .right-info-layer .right-info-content {\n  text-align: left;\n  display: inline-block;\n  margin: 0 auto;\n}\n.not-support-layer .right-info-layer .note-txt {\n  color: #666;\n  margin-bottom: 30px;\n}\n.not-support-layer .right-info-layer li {\n  position: relative;\n  list-style: none;\n  display: block;\n  margin-bottom: 30px;\n}\n.not-support-layer .right-info-layer .type-txt i {\n  display: block;\n  left: 215px;\n  position: absolute;\n  top: 0;\n  width: 61px;\n  height: 21px;\n  background: url('//img.alicdn.com/tfs/TB13i4zeMMPMeJjy1XdXXasrXXa-61-21.png') no-repeat;\n}\n.not-support-layer .right-info-layer .type-txt a {\n  color: #3a72bf;\n  display: inline-block;\n  padding: 0 10px;\n  cursor: pointer;\n}\n.not-support-layer .right-info-layer .erweima {\n  border: #fff solid 3px;\n  width: 100px;\n  height: 100px;\n}\n.ykplayer-poster-logo {\n  display: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-repeat: no-repeat;\n  background-size: cover;\n  cursor: pointer;\n}\n.safari-player-layer {\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 112;\n  pointer-events: auto;\n}\n.safari-player-layer .play-btn {\n  cursor: pointer;\n  display: block;\n  margin: 10px auto;\n  line-height: 36px;\n  background-color: transparent;\n  width: 100px;\n  border-radius: 18px;\n  color: rgba(255, 255, 255, 0.8);\n  border: 1px solid #fff;\n}\n.safari-player-layer .play-btn:hover {\n  color: #fff;\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.safari-player-layer .play-area {\n  text-align: center;\n}\n.safari-player-layer .play-area img {\n  margin: 0 auto;\n}\n.safari-player-layer .tips {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.8);\n}\n.safari-player-layer .tips a {\n  color: #098fff;\n}\n.limit-show-layer {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #edf7fc;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  color: #000;\n}\n.limit-show-layer .limit-panel {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -201px;\n  margin-top: -94px;\n}\n.limit-show-layer .tips {\n  font-size: 20px;\n  opacity: .6;\n}\n.limit-show-layer .note-tit {\n  margin-bottom: 20px;\n  line-height: 180%;\n  font-size: 20px;\n}\n.limit-show-layer .note-error-code {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  opacity: .6;\n}\n.limit-show-layer .wait-time b {\n  font-weight: bold;\n}\n.limit-show-layer .btn-reload {\n  display: inline-block;\n  line-height: 40px;\n  height: 40px;\n  width: 150px;\n  font-size: 16px;\n  text-align: center;\n  color: #3b9eff;\n  text-decoration: none;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-radius: 39px;\n  border: 1px solid #3b9eff;\n}\n.yk-trigger-layer {\n  display: block;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 60px;\n  left: 0;\n  font-size: 13px;\n  cursor: pointer;\n}\n.ykplayer-dashboard-hidden .fullscreen .yk-trigger-layer {\n  cursor: none !important;\n}\n.youku_player_fullpage.ykplayer-dashboard-hidden .yk-trigger-layer {\n  cursor: none !important;\n}\n.yk-info-menu {\n  display: none;\n  background: rgba(30, 30, 32, 0.8);\n  position: fixed;\n  width: 200px;\n  z-index: 9999;\n  padding: 10px 0;\n  color: #eee;\n  overflow: hidden;\n}\n.yk-info-menu .yk-info-menuitem {\n  cursor: pointer;\n  padding-left: 20px;\n  height: 34px;\n  line-height: 34px;\n  max-width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.yk-detail-info {\n  display: none;\n  position: absolute;\n}\n.sufei-note-layer {\n  display: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n}\n.subtitle-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n.frame-mask {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n  pointer-events: none;\n}\n.frame-mask .frame-mask-cover {\n  position: absolute;\n  background: #000;\n  height: 100%;\n  opacity: 0;\n  width: 100%;\n  z-index: 0;\n  -webkit-animation: frame-bottom 2.2s infinite ease-in-out;\n  animation: frame-bottom 2.2s infinite ease-in-out;\n}\n.frame-mask .frame-mask-cover2 {\n  position: absolute;\n  width: 100px;\n  transform: translate(-50%, -50%);\n  height: 100px;\n  left: 50%;\n  top: 50%;\n  z-index: 1;\n  border-radius: 50%;\n  border: 10000px solid rgba(0, 0, 0, 0);\n  -webkit-animation: frame-top 1.8s infinite ease-in-out;\n  animation: frame-top 1.8s infinite ease-in-out;\n  animation-iteration-count: 1;\n  -webkit-animation-iteration-count: 1;\n  /*Safari and Chrome*/\n}\n.frame-mask .frame-text {\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  color: #fff;\n  display: block;\n}\n.frame-mask .canvas-layer {\n  position: absolute;\n  width: 100%;\n  top: 45%;\n  left: 50%;\n  text-align: center;\n  z-index: 2;\n  transform: translate(-50%, -50%);\n}\n@keyframes frame-bottom {\n  0% {\n    opacity: 0;\n  }\n  36% {\n    opacity: 0.3;\n  }\n  82% {\n    opacity: 0.3;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes frame-top {\n  0% {\n    width: 0;\n    height: 0;\n    border: 10000px solid rgba(0, 0, 0, 0);\n  }\n  44% {\n    width: 0;\n    height: 0;\n    border: 10000px solid #000000;\n  }\n  100% {\n    width: 1680px;\n    height: 1680px;\n    border: 10000px solid rgba(0, 0, 0, 0);\n  }\n}\n.hdr-mask {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n  pointer-events: none;\n}\n.hdr-mask .hdr-mask-cover {\n  background: rgba(0, 0, 0, 0.3);\n  height: 100%;\n  width: 100%;\n  transition: 1.5s;\n  position: absolute;\n  transform: translate3d(0, 0, 0);\n  transition-property: transform;\n  transition-timing-function: linear;\n}\n.hdr-loading {\n  width: 20%;\n  position: absolute;\n  transform: translate3d(-50%, -50%, 0);\n  left: 50%;\n  top: 50%;\n  opacity: 0;\n}\n.control-phonewatch .phone-watch-panel {\n  position: absolute;\n  width: 325px;\n  height: 110px;\n  z-index: 1000;\n  bottom: 37px;\n  padding: 20px;\n  background: #323232;\n  box-shadow: 0 0 24px 0 rgba(0, 0, 0, 0.22), 0 24px 24px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  display: none;\n}\n.control-phonewatch .phone-watch-panel .arrow {\n  position: absolute;\n  bottom: -12px;\n  width: 0;\n  height: 0;\n  border: 6px solid;\n  border-color: #323232 transparent transparent ;\n}\n.control-phonewatch .phone-watch-panel .left-wrap {\n  width: 194px;\n  float: left;\n  text-align: left;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap {\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  padding-bottom: 12px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .title {\n  color: rgba(255, 255, 255, 0.87);\n  font-size: 16px;\n  line-height: 22px;\n  height: 22px;\n  margin-bottom: 4px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle {\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 12px;\n  height: 17px;\n  line-height: 17px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle .notice {\n  font-family: 'Microsoft YaHei';\n  color: #0D9BFF;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap {\n  width: 100%;\n  padding-top: 12px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap .video-title {\n  display: block;\n  width: 100%;\n  color: rgba(255, 255, 255, 0.87);\n  font-size: 16px;\n  line-height: 22px;\n  height: 22px;\n  font-size: 14px;\n  height: 20px;\n  line-height: 20px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap .time {\n  margin-top: 4px;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 12px;\n  height: 17px;\n  line-height: 17px;\n}\n.control-phonewatch .phone-watch-panel .right-wrap {\n  float: right;\n  height: 100%;\n}\n.control-phonewatch .phone-watch-panel .right-wrap .erweima {\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  border: #fff solid 5px;\n}\n.tudou-player .settings-item.active {\n  color: #ff6600 !important;\n}\n.tudou-player .settings-item:hover {\n  color: #ff6600 !important;\n}\n.tudou-player .progress-played {\n  background: #ff6600 !important;\n  background-image: linear-gradient(270deg, #ff6600 0%, #fda469 100%) !important;\n}\n.tudou-player .progress-container .input-range-thumb {\n  border: 8px solid #ff6600 !important;\n}\n.tudou-player .progress-container .input-range-thumb:after {\n  border: 8px solid #ff6600 !important;\n}\n.tudou-player .progress-container .input-range-thumb:before {\n  border-color: rgba(253, 102, 0, 0.5);\n}\n.tudou-player .spinner1 > div {\n  background-color: #ff6600 !important;\n}\n.tudou-player .control-volume-current {\n  background: #ff6600 !important;\n  background-image: linear-gradient(270deg, #ff6600 0%, #fda469 100%) !important;\n}\n.tudou-player .information-tip-link {\n  color: #ff6600 !important;\n}\n.tudou-player .emphasizes {\n  color: #ff6600 !important;\n}\n.tudou-player .note_error_button_refrash {\n  background-image: linear-gradient(-44deg, #fda469 0%, #ff6600 100%) !important;\n}\n.tudou-player .note_error_button_refrash:hover {\n  background-image: linear-gradient(135deg, #fda469 0%, #fda469 100%) !important;\n}\n.tudou-player .note_error_button_custom {\n  color: #ff6600 !important;\n  border: 1px solid #ff6600 !important;\n}\n.tudou-player .note_error_button_custom:hover {\n  color: #fda469 !important;\n  border: 1px solid #fda469 !important;\n}\n.tudou-player .switch-open {\n  background-image: url('//img.alicdn.com/tfs/TB1MPU2j9slXu8jSZFuXXXg7FXa-30-18.svg') !important;\n}\n.tudou-player .note_error_link {\n  color: #ff6600 !important;\n}\n.tudou-player .note_submit {\n  background: #ff6600 !important;\n}\n.tudou-player .youku_logo {\n  background-image: url('//www.tudou.com/activity/img/qr-code-header.2499757.png');\n}\n.tudou-player .note_error_item_qrcode {\n  display: none !important;\n}\n.tudou-player .layer-recommend .recommend-dw {\n  display: none !important;\n}\n.tudou-player .layer-recommend .spv-interact {\n  display: none !important;\n}\n", ""])
}
, function(e, t, n) {
    t = e.exports = n(96)(!1),
    t.push([e.i, ".h5player-dashboard {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1500;\n  font-size: 14px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.h5player-dashboard .input-range-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 12;\n  opacity: 0;\n}\n.h5player-dashboard .input-range-container .input-range-thumb {\n  z-index: 111;\n  position: absolute;\n  top: -2px;\n  left: 0;\n  border: 8px solid #fff;\n  margin-left: -7px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  display: block;\n  content: '';\n  position: absolute;\n  top: -15px;\n  left: -15px;\n  border: 15px solid rgba(20, 138, 255, 0.3);\n  border-radius: 19px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  display: block;\n  content: '';\n  position: absolute;\n  top: -6px;\n  left: -6px;\n  border: 6px solid #fff;\n  border-radius: 8px;\n}\n.h5player-progress {\n  position: relative;\n  cursor: pointer;\n}\n.h5player-progress .hgshow {\n  display: none;\n}\n.h5player-progress .progress-hover-container {\n  position: relative;\n  height: 8px;\n}\n.h5player-progress .progress-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: rgba(133, 133, 133, 0.3);\n  opacity: .85;\n  transition: height 0.2s ease-in, opacity 0.2s ease-out;\n}\n.h5player-progress .progress-container div {\n  max-width: 100%;\n}\n.h5player-progress .progress-hover-container:hover .progress-container {\n  height: 12px;\n  opacity: 1;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .input-range-container {\n  opacity: 1;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .progress-played {\n  border-top-right-radius: 4px;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .progress-hightlights {\n  display: block;\n}\n.h5player-progress .progress-played {\n  position: absolute;\n  z-index: 11;\n  height: 100%;\n  background: #148AFF;\n}\n.h5player-progress .progress-loaded {\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.5);\n}\n.h5player-progress .progress-hightlights {\n  display: none;\n  z-index: 12;\n  position: absolute;\n  top: 3px;\n  width: 6px;\n  height: 6px;\n  transform: translateX(-50%);\n  border-radius: 6px;\n  background-color: #fff;\n}\n.h5player-progress .progress-hightlights:hover .progress-hightlights-tips {\n  display: -webkit-box;\n}\n.h5player-progress .progress-hightlights .progress-hightlights-tips {\n  display: none;\n  position: absolute;\n  left: 50%;\n  bottom: 11px;\n  padding: 5px 8px;\n  max-width: 145px;\n  min-width: 100px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n  transform: translateX(-50%);\n  height: 40px;\n  width: 128px;\n  font-size: 12px;\n  letter-spacing: 0;\n  line-height: 21px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.h5player-progress .progress-hightlights .progress-hightlights-tips:before {\n  display: block;\n  content: '';\n  position: absolute;\n  bottom: -10px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 5px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8) transparent transparent;\n}\n.h5player-progress .progress-hightlights.left .progress-hightlights-tips {\n  left: 0;\n  transform: translateX(0);\n}\n.h5player-progress .progress-hightlights.left .progress-hightlights-tips:before {\n  left: 8px;\n}\n.h5player-progress .progress-hightlights.right .progress-hightlights-tips {\n  left: 0;\n  transform: translateX(-100%);\n}\n.h5player-progress .progress-hightlights.right .progress-hightlights-tips:before {\n  right: 8px;\n  left: auto;\n}\n.h5-control-wrap {\n  position: relative;\n  height: 44px;\n  padding: 0px 10px;\n  direction: ltr;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n  box-sizing: content-box;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.h5-control-wrap .control-left-grid,\n.h5-control-wrap .control-center-grid,\n.h5-control-wrap .control-right-grid {\n  line-height: 44px;\n  height: 100%;\n  position: absolute;\n  z-index: 2;\n}\n.h5-control-wrap .control-left-grid {\n  padding-left: 10px;\n  left: 0;\n}\n.h5-control-wrap .control-right-grid {\n  right: 0;\n  padding-right: 10px;\n}\n.h5-control-wrap .control-center-grid {\n  z-index: 1;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.h5-control-wrap .control-icon {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  background-size: cover;\n  background-color: transparent;\n  border: none;\n  vertical-align: middle;\n  line-height: 20px;\n}\n.h5-control-wrap .control-icon div {\n  font-size: 14px;\n}\n.h5-control-wrap .control-icon:hover {\n  opacity: 1;\n}\n.h5-control-wrap .control-icon[data-tip]:hover:after {\n  display: inline-block;\n}\n.h5-control-wrap .control-icon:after {\n  content: attr(data-tip);\n  display: none;\n  position: absolute;\n  bottom: 37px;\n  left: 50%;\n  padding: 3px 8px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 2px;\n  transform: translateX(-50%);\n  word-break: keep-all;\n  color: #ffffff;\n  font-size: 14px;\n  line-height: 20px;\n}\n.h5-control-wrap .control-icon:before {\n  content: '';\n  display: none;\n  position: absolute;\n  bottom: 29px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 4px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8);\n}\n.h5-control-wrap button:disabled {\n  cursor: not-allowed;\n}\n.h5-control-wrap .control-icon:active,\n.h5-control-wrap .control-icon:focus {\n  outline: none;\n}\n.h5-control-wrap .control-play-icon,\n.h5-control-wrap .control-pause-icon {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n}\n.h5-control-wrap .control-play-icon .iconfont,\n.h5-control-wrap .control-pause-icon .iconfont {\n  color: #fff;\n  opacity: 0.8;\n  font-size: 28px;\n}\n.h5-control-wrap .control-play-icon:hover .iconfont,\n.h5-control-wrap .control-pause-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-play-icon .icon-pause {\n  display: none;\n}\n.h5-control-wrap .control-play-icon .icon-play {\n  display: block;\n}\n.h5-control-wrap .control-pause-icon .icon-pause {\n  display: block;\n}\n.h5-control-wrap .control-pause-icon .icon-play {\n  display: none;\n}\n.h5-control-wrap .control-time {\n  display: inline-block;\n  padding: 0 5px;\n  font-size: 80%;\n  white-space: nowrap;\n  margin-left: 16px;\n  font-family: arial;\n  height: 20px;\n  line-height: 20px;\n}\n.h5-control-wrap .control-time .control-time-current {\n  color: #ffffff;\n}\n.h5-control-wrap .control-time .control-time-split {\n  color: rgba(255, 255, 255, 0.7);\n}\n.h5-control-wrap .control-time .control-time-duration {\n  color: rgba(255, 255, 255, 0.7);\n}\n.h5-control-wrap .control-volume-icon {\n  width: 20px;\n  height: 34px;\n  padding-top: 16px;\n  line-height: 20px;\n  margin-left: 16px;\n}\n.h5-control-wrap .control-volume-icon .iconfont {\n  font-size: 20px;\n  color: #fff;\n  opacity: 0.8;\n}\n.h5-control-wrap .control-volume-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-volume-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-volume-icon .icon-mute {\n  display: none;\n}\n.h5-control-wrap .muted-icon .icon-volume {\n  display: none;\n}\n.h5-control-wrap .muted-icon .icon-mute {\n  display: block;\n}\n.h5-control-wrap .svg-mute {\n  display: none;\n}\n.h5-control-wrap .control-volume-icon.muted-icon .svg-mute {\n  display: inline-block;\n}\n.h5-control-wrap .control-volume-icon.muted-icon .svg-volume {\n  display: none;\n}\n.h5-control-wrap .control-volume-box {\n  display: none;\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n  bottom: 38px;\n  padding-bottom: 15px;\n  width: 64px;\n  height: 160px;\n  align-items: center;\n}\n.h5-control-wrap .control-volume-box:before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 160px;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.h5-control-wrap .control-volume-box .control-volume-slider {\n  position: absolute;\n  width: 6.4px;\n  height: 108px;\n  top: 37.5px;\n  left: 28px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 20px;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container {\n  opacity: 1;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  top: auto;\n  bottom: 0;\n  background-color: #fff;\n  left: 0;\n  margin-left: -5px;\n  margin-bottom: -7px;\n}\n.h5-control-wrap .control-volume-box .control-volume-current {\n  position: absolute;\n  bottom: 0;\n  width: 6.4px;\n  height: 50%;\n  background-image: linear-gradient(-180deg, #05E4FC 0%, #148AFF 100%);\n  border-radius: 5px;\n}\n.h5-control-wrap .control-volume-icon.slide-show .control-volume-box {\n  display: block;\n}\n.h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  line-height: 16px;\n  color: #ffffff;\n  text-align: center;\n  position: absolute;\n  top: -160px;\n  width: 64px;\n  margin-left: -24px;\n  padding-top: 7px;\n}\n.h5-control-wrap .control-volume-icon.slide-show:after,\n.h5-control-wrap .control-volume-icon.slide-show:before {\n  display: none !important;\n}\n.h5-control-wrap .control-settings-icon,\n.h5-control-wrap .control-fullscreen-icon,\n.h5-control-wrap .control-halfscreen-icon {\n  width: 20px;\n  height: 20px;\n  margin-left: 16px;\n}\n.h5-control-wrap .control-fullscreen-icon .iconfont,\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  font-size: 20px;\n  color: #fff;\n  opacity: 0.8;\n}\n.h5-control-wrap .control-settings-icon .iconfont {\n  font-size: 20px;\n}\n.h5-control-wrap .control-settings-icon .icon-volume,\n.h5-control-wrap .control-fullscreen-icon .icon-volume,\n.h5-control-wrap .control-halfscreen-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-settings-icon .icon-volume,\n.h5-control-wrap .control-fullscreen-icon .icon-volume,\n.h5-control-wrap .control-halfscreen-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-settings-icon:hover .iconfont,\n.h5-control-wrap .control-fullscreen-icon:hover .iconfont,\n.h5-control-wrap .control-halfscreen-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  font-size: 22px;\n}\n.h5-control-wrap .h5-full-dialog {\n  position: absolute;\n  top: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  z-index: 109;\n}\n.h5-layer-conatiner {\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  z-index: 109;\n  color: #fff;\n}\n.h5-layer-conatiner .h5-layer {\n  display: none;\n}\n", ""])
}
, function(e, t, n) {
    t = e.exports = n(96)(!1),
    t.push([e.i, ".h5-ext-layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1200 !important;\n  pointer-events: none;\n}\n.h5-ext-layer > * {\n  pointer-events: auto;\n}\n", ""])
}
, function(e, t, n) {
    var i = n(262)
      , r = n(263)
      , a = ["focus", "blur"];
    t.bind = function(e, t, n, o, s) {
        return -1 !== a.indexOf(n) && (s = !0),
        r.bind(e, n, function(n) {
            var r = n.target || n.srcElement;
            n.delegateTarget = i(r, t, !0, e),
            n.delegateTarget && o.call(e, n)
        }, s)
    }
    ,
    t.unbind = function(e, t, n, i) {
        -1 !== a.indexOf(t) && (i = !0),
        r.unbind(e, t, n, i)
    }
}
, function(e, t) {
    function n(e, t) {
        for (; e && e.nodeType !== i; ) {
            if ("function" == typeof e.matches && e.matches(t))
                return e;
            e = e.parentNode
        }
    }
    var i = 9;
    if ("undefined" != typeof Element && !Element.prototype.matches) {
        var r = Element.prototype;
        r.matches = r.matchesSelector || r.mozMatchesSelector || r.msMatchesSelector || r.oMatchesSelector || r.webkitMatchesSelector
    }
    e.exports = n
}
, function(e, t, n) {
    function i(e, t, n, i, r) {
        var o = a.apply(this, arguments);
        return e.addEventListener(n, o, r),
        {
            destroy: function() {
                e.removeEventListener(n, o, r)
            }
        }
    }
    function r(e, t, n, r, a) {
        return "function" == typeof e.addEventListener ? i.apply(null, arguments) : "function" == typeof n ? i.bind(null, document).apply(null, arguments) : ("string" == typeof e && (e = document.querySelectorAll(e)),
        Array.prototype.map.call(e, function(e) {
            return i(e, t, n, r, a)
        }))
    }
    function a(e, t, n, i) {
        return function(n) {
            n.delegateTarget = o(n.target, t),
            n.delegateTarget && i.call(e, n)
        }
    }
    var o = n(325);
    e.exports = r
}
, function(e, t) {
    t.node = function(e) {
        return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType
    }
    ,
    t.nodeList = function(e) {
        var n = Object.prototype.toString.call(e);
        return void 0 !== e && ("[object NodeList]" === n || "[object HTMLCollection]" === n) && "length"in e && (0 === e.length || t.node(e[0]))
    }
    ,
    t.string = function(e) {
        return "string" == typeof e || e instanceof String
    }
    ,
    t.fn = function(e) {
        return "[object Function]" === Object.prototype.toString.call(e)
    }
}
, function(e, t, n) {
    function i(e, t, n) {
        if (!e && !t && !n)
            throw new Error("Missing required arguments");
        if (!s.string(t))
            throw new TypeError("Second argument must be a String");
        if (!s.fn(n))
            throw new TypeError("Third argument must be a Function");
        if (s.node(e))
            return r(e, t, n);
        if (s.nodeList(e))
            return a(e, t, n);
        if (s.string(e))
            return o(e, t, n);
        throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")
    }
    function r(e, t, n) {
        return e.addEventListener(t, n),
        {
            destroy: function() {
                e.removeEventListener(t, n)
            }
        }
    }
    function a(e, t, n) {
        return Array.prototype.forEach.call(e, function(e) {
            e.addEventListener(t, n)
        }),
        {
            destroy: function() {
                Array.prototype.forEach.call(e, function(e) {
                    e.removeEventListener(t, n)
                })
            }
        }
    }
    function o(e, t, n) {
        return l(document.body, e, t, n)
    }
    var s = n(327)
      , l = n(326);
    e.exports = i
}
, function(e, t) {
    function n(e, t) {
        if (r)
            return r.call(e, t);
        for (var n = e.parentNode.querySelectorAll(t), i = 0; i < n.length; ++i)
            if (n[i] == e)
                return !0;
        return !1
    }
    var i = Element.prototype
      , r = i.matchesSelector || i.webkitMatchesSelector || i.mozMatchesSelector || i.msMatchesSelector || i.oMatchesSelector;
    e.exports = n
}
, function(e, t, n) {
    (function(t) {
        !function(n) {
            function i() {}
            function r(e, t) {
                return function() {
                    e.apply(t, arguments)
                }
            }
            function a(e) {
                if (!(this instanceof a))
                    throw new TypeError("Promises must be constructed via new");
                if ("function" != typeof e)
                    throw new TypeError("not a function");
                this._state = 0,
                this._handled = !1,
                this._value = void 0,
                this._deferreds = [],
                c(e, this)
            }
            function o(e, t) {
                for (; 3 === e._state; )
                    e = e._value;
                if (0 === e._state)
                    return void e._deferreds.push(t);
                e._handled = !0,
                a._immediateFn(function() {
                    var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null === n)
                        return void (1 === e._state ? s : l)(t.promise, e._value);
                    var i;
                    try {
                        i = n(e._value)
                    } catch (e) {
                        return void l(t.promise, e)
                    }
                    s(t.promise, i)
                })
            }
            function s(e, t) {
                try {
                    if (t === e)
                        throw new TypeError("A promise cannot be resolved with itself.");
                    if (t && ("object" == typeof t || "function" == typeof t)) {
                        var n = t.then;
                        if (t instanceof a)
                            return e._state = 3,
                            e._value = t,
                            void u(e);
                        if ("function" == typeof n)
                            return void c(r(n, t), e)
                    }
                    e._state = 1,
                    e._value = t,
                    u(e)
                } catch (t) {
                    l(e, t)
                }
            }
            function l(e, t) {
                e._state = 2,
                e._value = t,
                u(e)
            }
            function u(e) {
                2 === e._state && 0 === e._deferreds.length && a._immediateFn(function() {
                    e._handled || a._unhandledRejectionFn(e._value)
                });
                for (var t = 0, n = e._deferreds.length; t < n; t++)
                    o(e, e._deferreds[t]);
                e._deferreds = null
            }
            function d(e, t, n) {
                this.onFulfilled = "function" == typeof e ? e : null,
                this.onRejected = "function" == typeof t ? t : null,
                this.promise = n
            }
            function c(e, t) {
                var n = !1;
                try {
                    e(function(e) {
                        n || (n = !0,
                        s(t, e))
                    }, function(e) {
                        n || (n = !0,
                        l(t, e))
                    })
                } catch (e) {
                    if (n)
                        return;
                    n = !0,
                    l(t, e)
                }
            }
            var h = setTimeout;
            a.prototype.catch = function(e) {
                return this.then(null, e)
            }
            ,
            a.prototype.then = function(e, t) {
                var n = new this.constructor(i);
                return o(this, new d(e,t,n)),
                n
            }
            ,
            a.all = function(e) {
                return new a(function(t, n) {
                    function i(e, o) {
                        try {
                            if (o && ("object" == typeof o || "function" == typeof o)) {
                                var s = o.then;
                                if ("function" == typeof s)
                                    return void s.call(o, function(t) {
                                        i(e, t)
                                    }, n)
                            }
                            r[e] = o,
                            0 == --a && t(r)
                        } catch (e) {
                            n(e)
                        }
                    }
                    if (!e || void 0 === e.length)
                        throw new TypeError("Promise.all accepts an array");
                    var r = Array.prototype.slice.call(e);
                    if (0 === r.length)
                        return t([]);
                    for (var a = r.length, o = 0; o < r.length; o++)
                        i(o, r[o])
                }
                )
            }
            ,
            a.resolve = function(e) {
                return e && "object" == typeof e && e.constructor === a ? e : new a(function(t) {
                    t(e)
                }
                )
            }
            ,
            a.reject = function(e) {
                return new a(function(t, n) {
                    n(e)
                }
                )
            }
            ,
            a.race = function(e) {
                return new a(function(t, n) {
                    for (var i = 0, r = e.length; i < r; i++)
                        e[i].then(t, n)
                }
                )
            }
            ,
            a._immediateFn = "function" == typeof t && function(e) {
                t(e)
            }
            || function(e) {
                h(e, 0)
            }
            ,
            a._unhandledRejectionFn = function(e) {
                "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e)
            }
            ,
            a._setImmediateFn = function(e) {
                a._immediateFn = e
            }
            ,
            a._setUnhandledRejectionFn = function(e) {
                a._unhandledRejectionFn = e
            }
            ,
            void 0 !== e && e.exports ? e.exports = a : n.Promise || (n.Promise = a)
        }(this)
    }
    ).call(t, n(339).setImmediate)
}
, function(e, t, n) {
    var i = function() {
        return this
    }() || Function("return this")()
      , r = i.regeneratorRuntime && Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime") >= 0
      , a = r && i.regeneratorRuntime;
    if (i.regeneratorRuntime = void 0,
    e.exports = n(332),
    r)
        i.regeneratorRuntime = a;
    else
        try {
            delete i.regeneratorRuntime
        } catch (e) {
            i.regeneratorRuntime = void 0
        }
}
, function(e, t) {
    !function(t) {
        "use strict";
        function n(e, t, n, i) {
            var a = t && t.prototype instanceof r ? t : r
              , o = Object.create(a.prototype)
              , s = new p(i || []);
            return o._invoke = u(e, n, s),
            o
        }
        function i(e, t, n) {
            try {
                return {
                    type: "normal",
                    arg: e.call(t, n)
                }
            } catch (e) {
                return {
                    type: "throw",
                    arg: e
                }
            }
        }
        function r() {}
        function a() {}
        function o() {}
        function s(e) {
            ["next", "throw", "return"].forEach(function(t) {
                e[t] = function(e) {
                    return this._invoke(t, e)
                }
            })
        }
        function l(e) {
            function t(n, r, a, o) {
                var s = i(e[n], e, r);
                if ("throw" !== s.type) {
                    var l = s.arg
                      , u = l.value;
                    return u && "object" == typeof u && v.call(u, "__await") ? Promise.resolve(u.__await).then(function(e) {
                        t("next", e, a, o)
                    }, function(e) {
                        t("throw", e, a, o)
                    }) : Promise.resolve(u).then(function(e) {
                        l.value = e,
                        a(l)
                    }, o)
                }
                o(s.arg)
            }
            function n(e, n) {
                function i() {
                    return new Promise(function(i, r) {
                        t(e, n, i, r)
                    }
                    )
                }
                return r = r ? r.then(i, i) : i()
            }
            var r;
            this._invoke = n
        }
        function u(e, t, n) {
            var r = x;
            return function(a, o) {
                if (r === A)
                    throw new Error("Generator is already running");
                if (r === L) {
                    if ("throw" === a)
                        throw o;
                    return m()
                }
                for (n.method = a,
                n.arg = o; ; ) {
                    var s = n.delegate;
                    if (s) {
                        var l = d(s, n);
                        if (l) {
                            if (l === C)
                                continue;
                            return l
                        }
                    }
                    if ("next" === n.method)
                        n.sent = n._sent = n.arg;
                    else if ("throw" === n.method) {
                        if (r === x)
                            throw r = L,
                            n.arg;
                        n.dispatchException(n.arg)
                    } else
                        "return" === n.method && n.abrupt("return", n.arg);
                    r = A;
                    var u = i(e, t, n);
                    if ("normal" === u.type) {
                        if (r = n.done ? L : T,
                        u.arg === C)
                            continue;
                        return {
                            value: u.arg,
                            done: n.done
                        }
                    }
                    "throw" === u.type && (r = L,
                    n.method = "throw",
                    n.arg = u.arg)
                }
            }
        }
        function d(e, t) {
            var n = e.iterator[t.method];
            if (n === y) {
                if (t.delegate = null,
                "throw" === t.method) {
                    if (e.iterator.return && (t.method = "return",
                    t.arg = y,
                    d(e, t),
                    "throw" === t.method))
                        return C;
                    t.method = "throw",
                    t.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return C
            }
            var r = i(n, e.iterator, t.arg);
            if ("throw" === r.type)
                return t.method = "throw",
                t.arg = r.arg,
                t.delegate = null,
                C;
            var a = r.arg;
            return a ? a.done ? (t[e.resultName] = a.value,
            t.next = e.nextLoc,
            "return" !== t.method && (t.method = "next",
            t.arg = y),
            t.delegate = null,
            C) : a : (t.method = "throw",
            t.arg = new TypeError("iterator result is not an object"),
            t.delegate = null,
            C)
        }
        function c(e) {
            var t = {
                tryLoc: e[0]
            };
            1 in e && (t.catchLoc = e[1]),
            2 in e && (t.finallyLoc = e[2],
            t.afterLoc = e[3]),
            this.tryEntries.push(t)
        }
        function h(e) {
            var t = e.completion || {};
            t.type = "normal",
            delete t.arg,
            e.completion = t
        }
        function p(e) {
            this.tryEntries = [{
                tryLoc: "root"
            }],
            e.forEach(c, this),
            this.reset(!0)
        }
        function f(e) {
            if (e) {
                var t = e[b];
                if (t)
                    return t.call(e);
                if ("function" == typeof e.next)
                    return e;
                if (!isNaN(e.length)) {
                    var n = -1
                      , i = function t() {
                        for (; ++n < e.length; )
                            if (v.call(e, n))
                                return t.value = e[n],
                                t.done = !1,
                                t;
                        return t.value = y,
                        t.done = !0,
                        t
                    };
                    return i.next = i
                }
            }
            return {
                next: m
            }
        }
        function m() {
            return {
                value: y,
                done: !0
            }
        }
        var y, g = Object.prototype, v = g.hasOwnProperty, _ = "function" == typeof Symbol ? Symbol : {}, b = _.iterator || "@@iterator", k = _.asyncIterator || "@@asyncIterator", S = _.toStringTag || "@@toStringTag", E = "object" == typeof e, w = t.regeneratorRuntime;
        if (w)
            return void (E && (e.exports = w));
        w = t.regeneratorRuntime = E ? e.exports : {},
        w.wrap = n;
        var x = "suspendedStart"
          , T = "suspendedYield"
          , A = "executing"
          , L = "completed"
          , C = {}
          , D = {};
        D[b] = function() {
            return this
        }
        ;
        var P = Object.getPrototypeOf
          , R = P && P(P(f([])));
        R && R !== g && v.call(R, b) && (D = R);
        var I = o.prototype = r.prototype = Object.create(D);
        a.prototype = I.constructor = o,
        o.constructor = a,
        o[S] = a.displayName = "GeneratorFunction",
        w.isGeneratorFunction = function(e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === a || "GeneratorFunction" === (t.displayName || t.name))
        }
        ,
        w.mark = function(e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, o) : (e.__proto__ = o,
            S in e || (e[S] = "GeneratorFunction")),
            e.prototype = Object.create(I),
            e
        }
        ,
        w.awrap = function(e) {
            return {
                __await: e
            }
        }
        ,
        s(l.prototype),
        l.prototype[k] = function() {
            return this
        }
        ,
        w.AsyncIterator = l,
        w.async = function(e, t, i, r) {
            var a = new l(n(e, t, i, r));
            return w.isGeneratorFunction(t) ? a : a.next().then(function(e) {
                return e.done ? e.value : a.next()
            })
        }
        ,
        s(I),
        I[S] = "Generator",
        I[b] = function() {
            return this
        }
        ,
        I.toString = function() {
            return "[object Generator]"
        }
        ,
        w.keys = function(e) {
            var t = [];
            for (var n in e)
                t.push(n);
            return t.reverse(),
            function n() {
                for (; t.length; ) {
                    var i = t.pop();
                    if (i in e)
                        return n.value = i,
                        n.done = !1,
                        n
                }
                return n.done = !0,
                n
            }
        }
        ,
        w.values = f,
        p.prototype = {
            constructor: p,
            reset: function(e) {
                if (this.prev = 0,
                this.next = 0,
                this.sent = this._sent = y,
                this.done = !1,
                this.delegate = null,
                this.method = "next",
                this.arg = y,
                this.tryEntries.forEach(h),
                !e)
                    for (var t in this)
                        "t" === t.charAt(0) && v.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = y)
            },
            stop: function() {
                this.done = !0;
                var e = this.tryEntries[0]
                  , t = e.completion;
                if ("throw" === t.type)
                    throw t.arg;
                return this.rval
            },
            dispatchException: function(e) {
                function t(t, i) {
                    return a.type = "throw",
                    a.arg = e,
                    n.next = t,
                    i && (n.method = "next",
                    n.arg = y),
                    !!i
                }
                if (this.done)
                    throw e;
                for (var n = this, i = this.tryEntries.length - 1; i >= 0; --i) {
                    var r = this.tryEntries[i]
                      , a = r.completion;
                    if ("root" === r.tryLoc)
                        return t("end");
                    if (r.tryLoc <= this.prev) {
                        var o = v.call(r, "catchLoc")
                          , s = v.call(r, "finallyLoc");
                        if (o && s) {
                            if (this.prev < r.catchLoc)
                                return t(r.catchLoc, !0);
                            if (this.prev < r.finallyLoc)
                                return t(r.finallyLoc)
                        } else if (o) {
                            if (this.prev < r.catchLoc)
                                return t(r.catchLoc, !0)
                        } else {
                            if (!s)
                                throw new Error("try statement without catch or finally");
                            if (this.prev < r.finallyLoc)
                                return t(r.finallyLoc)
                        }
                    }
                }
            },
            abrupt: function(e, t) {
                for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var i = this.tryEntries[n];
                    if (i.tryLoc <= this.prev && v.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                        var r = i;
                        break
                    }
                }
                r && ("break" === e || "continue" === e) && r.tryLoc <= t && t <= r.finallyLoc && (r = null);
                var a = r ? r.completion : {};
                return a.type = e,
                a.arg = t,
                r ? (this.method = "next",
                this.next = r.finallyLoc,
                C) : this.complete(a)
            },
            complete: function(e, t) {
                if ("throw" === e.type)
                    throw e.arg;
                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                this.method = "return",
                this.next = "end") : "normal" === e.type && t && (this.next = t),
                C
            },
            finish: function(e) {
                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var n = this.tryEntries[t];
                    if (n.finallyLoc === e)
                        return this.complete(n.completion, n.afterLoc),
                        h(n),
                        C
                }
            },
            catch: function(e) {
                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                    var n = this.tryEntries[t];
                    if (n.tryLoc === e) {
                        var i = n.completion;
                        if ("throw" === i.type) {
                            var r = i.arg;
                            h(n)
                        }
                        return r
                    }
                }
                throw new Error("illegal catch attempt")
            },
            delegateYield: function(e, t, n) {
                return this.delegate = {
                    iterator: f(e),
                    resultName: t,
                    nextLoc: n
                },
                "next" === this.method && (this.arg = y),
                C
            }
        }
    }(function() {
        return this
    }() || Function("return this")())
}
, function(e, t) {
    function n(e) {
        var t;
        if ("SELECT" === e.nodeName)
            e.focus(),
            t = e.value;
        else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
            var n = e.hasAttribute("readonly");
            n || e.setAttribute("readonly", ""),
            e.select(),
            e.setSelectionRange(0, e.value.length),
            n || e.removeAttribute("readonly"),
            t = e.value
        } else {
            e.hasAttribute("contenteditable") && e.focus();
            var i = window.getSelection()
              , r = document.createRange();
            r.selectNodeContents(e),
            i.removeAllRanges(),
            i.addRange(r),
            t = i.toString()
        }
        return t
    }
    e.exports = n
}
, function(e, t, n) {
    (function(e, t) {
        !function(e, n) {
            "use strict";
            function i(e) {
                "function" != typeof e && (e = new Function("" + e));
                for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++)
                    t[n] = arguments[n + 1];
                var i = {
                    callback: e,
                    args: t
                };
                return u[l] = i,
                s(l),
                l++
            }
            function r(e) {
                delete u[e]
            }
            function a(e) {
                var t = e.callback
                  , i = e.args;
                switch (i.length) {
                case 0:
                    t();
                    break;
                case 1:
                    t(i[0]);
                    break;
                case 2:
                    t(i[0], i[1]);
                    break;
                case 3:
                    t(i[0], i[1], i[2]);
                    break;
                default:
                    t.apply(n, i)
                }
            }
            function o(e) {
                if (d)
                    setTimeout(o, 0, e);
                else {
                    var t = u[e];
                    if (t) {
                        d = !0;
                        try {
                            a(t)
                        } finally {
                            r(e),
                            d = !1
                        }
                    }
                }
            }
            if (!e.setImmediate) {
                var s, l = 1, u = {}, d = !1, c = e.document, h = Object.getPrototypeOf && Object.getPrototypeOf(e);
                h = h && h.setTimeout ? h : e,
                "[object process]" === {}.toString.call(e.process) ? function() {
                    s = function(e) {
                        t.nextTick(function() {
                            o(e)
                        })
                    }
                }() : function() {
                    if (e.postMessage && !e.importScripts) {
                        var t = !0
                          , n = e.onmessage;
                        return e.onmessage = function() {
                            t = !1
                        }
                        ,
                        e.postMessage("", "*"),
                        e.onmessage = n,
                        t
                    }
                }() ? function() {
                    var t = "setImmediate$" + Math.random() + "$"
                      , n = function(n) {
                        n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && o(+n.data.slice(t.length))
                    };
                    e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n),
                    s = function(n) {
                        e.postMessage(t + n, "*")
                    }
                }() : e.MessageChannel ? function() {
                    var e = new MessageChannel;
                    e.port1.onmessage = function(e) {
                        o(e.data)
                    }
                    ,
                    s = function(t) {
                        e.port2.postMessage(t)
                    }
                }() : c && "onreadystatechange"in c.createElement("script") ? function() {
                    var e = c.documentElement;
                    s = function(t) {
                        var n = c.createElement("script");
                        n.onreadystatechange = function() {
                            o(t),
                            n.onreadystatechange = null,
                            e.removeChild(n),
                            n = null
                        }
                        ,
                        e.appendChild(n)
                    }
                }() : function() {
                    s = function(e) {
                        setTimeout(o, 0, e)
                    }
                }(),
                h.setImmediate = i,
                h.clearImmediate = r
            }
        }("undefined" == typeof self ? void 0 === e ? this : e : self)
    }
    ).call(t, n(144), n(142))
}
, function(e, t, n) {
    var i = n(322);
    "string" == typeof i && (i = [[e.i, i, ""]]);
    var r = {};
    r.transform = void 0;
    n(97)(i, r);
    i.locals && (e.exports = i.locals)
}
, function(e, t, n) {
    var i = n(323);
    "string" == typeof i && (i = [[e.i, i, ""]]);
    var r = {};
    r.transform = void 0;
    n(97)(i, r);
    i.locals && (e.exports = i.locals)
}
, function(e, t) {
    e.exports = function(e) {
        var t = "undefined" != typeof window && window.location;
        if (!t)
            throw new Error("fixUrls requires window.location");
        if (!e || "string" != typeof e)
            return e;
        var n = t.protocol + "//" + t.host
          , i = n + t.pathname.replace(/\/[^\/]*$/, "/");
        return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(e, t) {
            var r = t.trim().replace(/^"(.*)"$/, function(e, t) {
                return t
            }).replace(/^'(.*)'$/, function(e, t) {
                return t
            });
            if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))
                return e;
            var a;
            return a = 0 === r.indexOf("//") ? r : 0 === r.indexOf("/") ? n + r : i + r.replace(/^\.\//, ""),
            "url(" + JSON.stringify(a) + ")"
        })
    }
}
, function(module, exports, __webpack_require__) {
    !function(e, t) {
        module.exports = t()
    }(window, function() {
        return function(e) {
            function t(i) {
                if (n[i])
                    return n[i].exports;
                var r = n[i] = {
                    i: i,
                    l: !1,
                    exports: {}
                };
                return e[i].call(r.exports, r, r.exports, t),
                r.l = !0,
                r.exports
            }
            var n = {};
            return t.m = e,
            t.c = n,
            t.d = function(e, n, i) {
                t.o(e, n) || Object.defineProperty(e, n, {
                    enumerable: !0,
                    get: i
                })
            }
            ,
            t.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ,
            t.t = function(e, n) {
                if (1 & n && (e = t(e)),
                8 & n)
                    return e;
                if (4 & n && "object" == typeof e && e && e.__esModule)
                    return e;
                var i = Object.create(null);
                if (t.r(i),
                Object.defineProperty(i, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & n && "string" != typeof e)
                    for (var r in e)
                        t.d(i, r, function(t) {
                            return e[t]
                        }
                        .bind(null, r));
                return i
            }
            ,
            t.n = function(e) {
                var n = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
                ;
                return t.d(n, "a", n),
                n
            }
            ,
            t.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            t.p = "",
            t(t.s = 1)
        }([function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = function(e, t, n) {
                this._d = e,
                this._transform = t,
                this._styles = n
            };
            t.default = i
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(2)
              , r = n(3)
              , a = n(4)
              , o = {
                Downloader: i.default,
                Parser: r.default,
                Player: a.default
            };
            t.default = o
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = function() {
                function e() {
                    this.request = null
                }
                return e.prototype.get = function(e) {
                    var t = this;
                    if (!e)
                        throw new Error("download link undefined");
                    return new Promise(function(n, i) {
                        var r = new XMLHttpRequest;
                        r.open("GET", e, !0),
                        r.responseType = "arraybuffer",
                        r.onloadend = function() {
                            !r.response || 200 !== r.status && 304 !== r.status ? i(r) : n(r.response)
                        }
                        ,
                        r.onerror = function() {
                            return i(r.response)
                        }
                        ,
                        r.send(),
                        t.request = r
                    }
                    )
                }
                ,
                e.prototype.cancel = function() {
                    this.request && this.request.abort()
                }
                ,
                e.prototype.destroy = function() {
                    this.request && this.request.abort()
                }
                ,
                e
            }();
            t.default = i
        }
        , function(module, exports, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: !0
            });
            var WORKER = '!function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";var i=t.exports=r(6);i.codegen=r(16),i.toArray=function(t){if(t){for(var e=Object.keys(t),r=new Array(e.length),i=0;i<e.length;)r[i]=t[e[i++]];return r}return[]};var s=/\\\\/g,n=/"/g;i.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},i.safeProp=function(t){return!/^[$\\w_]+$/.test(t)||i.isReserved(t)?\'["\'+t.replace(s,"\\\\\\\\").replace(n,\'\\\\"\')+\'"]\':"."+t}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Field";var s,n=r(3),o=r(5),a=r(0),f=/^required|optional|repeated$/;function h(t,e,r,s,n,h,l){if(a.isObject(s)?(l=n,h=s,s=n=void 0):a.isObject(n)&&(l=h,h=n,n=void 0),i.call(this,t,h),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==s&&!f.test(s=s.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==n&&!a.isString(n))throw TypeError("extend must be a string");this.rule=s&&"optional"!==s?s:void 0,this.type=r,this.id=e,this.extend=n||void 0,this.required="required"===s,this.optional=!this.required,this.repeated="repeated"===s,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}h.fromJSON=function(t,e){return new h(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},h.prototype.setOption=function(t,e,r){return"packed"===t&&(this._packed=null),i.prototype.setOption.call(this,t,e,r)},h.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof n&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof n)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},h._configure=function(t){s=t}},function(t,e,r){"use strict";var i;function s(t,e){this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}t.exports=s,s.className="ReflectionObject",s.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof i&&e._handleAdd(this)},s.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},s.prototype.getOption=function(t){if(this.options)return this.options[t]},s._configure=function(t){i=t}},function(t,e,r){"use strict";t.exports=s;var i=r(2);function s(t,e,r,s,n){if(i.call(this,t,r),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=s,this.comments=n||{},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)"number"==typeof e[o[a]]&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}((s.prototype=Object.create(i.prototype)).constructor=s).className="Enum",s.fromJSON=function(t,e){var r=new s(t,e.values,e.options,e.comment,e.comments);return r.reserved=e.reserved,r}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Namespace";var s,n,o,a=r(1),f=r(0);function h(t,e){i.call(this,t,e),this.nested=void 0,this._nestedArray=null}h.fromJSON=function(t,e){return new h(t,e.options).addJSON(e.nested)},h.isReservedId=function(t,e){if(t)for(var r=0;r<t.length;++r)if("string"!=typeof t[r]&&t[r][0]<=e&&t[r][1]>=e)return!0;return!1},h.isReservedName=function(t,e){if(t)for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=f.toArray(this.nested))}}),h.prototype.addJSON=function(t){if(t)for(var e,r=Object.keys(t),i=0;i<r.length;++i)e=t[r[i]],this.add((void 0!==e.fields?s.fromJSON:void 0!==e.values?o.fromJSON:void 0!==e.methods?n.fromJSON:void 0!==e.id?a.fromJSON:h.fromJSON)(r[i],e));return this},h.prototype.get=function(t){return this.nested&&this.nested[t]||null},h.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof s||t instanceof o||t instanceof n||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof h&&t instanceof h)||e instanceof s||e instanceof n)throw Error("duplicate name \'"+t.name+"\' in "+this);for(var r=e.nestedArray,i=0;i<r.length;++i)t.add(r[i]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),(f=this)._nestedArray=null,f;var f},h.prototype.lookup=function(t,e,r){if("boolean"==typeof e?(r=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),f.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var i=this.get(t[0]);if(i){if(1===t.length){if(!e||e.indexOf(i.constructor)>-1)return i}else if(i instanceof h&&(i=i.lookup(t.slice(1),e,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof h&&(i=this._nestedArray[s].lookup(t,e,!0)))return i;return null===this.parent||r?null:this.parent.lookup(t,e)},h.prototype.lookupType=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such type: "+t);return e},h.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[s,o]);if(!e)throw Error("no such Type or Enum \'"+t+"\' in "+this);return e},h._configure=function(t,e,r){s=t,n=e,o=r}},function(t,e,r){"use strict";var i=e,s=r(0),n=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,e){var r=0,i={};for(e|=0;r<t.length;)i[n[r+e]]=t[r++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,e,r){"use strict";var i=e;i.float=r(14),i.utf8=r(15),i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},function(t,e,r){"use strict";t.exports=s;var i=r(4);function s(t,e){i.call(this,t,e),this.methods={},this._methodsArray=null}((s.prototype=Object.create(i.prototype)).constructor=s).className="Service"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(9);var i,s=r(10),n=r(23),o=r(24),a=r(25),f=r(26);self.document?((i=self.SVGAParserMockWorker={}).disableWorker=!0,i.postMessage=function(t){i.onmessageCallback&&i.onmessageCallback(t)}):i=self;var h=s.Root.fromJSON(n.default).lookupType("com.opensource.svga.MovieEntity");i.onmessage=function(t){var e=new o.Zlib.Inflate(new Uint8Array(t.data)).decompress(),r=h.decode(e),s={};for(var n in r.images){var l=r.images[n],u=a.default(l);s[n]=btoa(u)}i.postMessage(new f.default(r,s))}},function(t,e,r){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";!self.btoa&&(self.btoa=function(t){for(var e,r,s,n,o="",a=0,f=(t=String(t)).length%3;a<t.length;){if((r=t.charCodeAt(a++))>255||(s=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute \'btoa\' on \'Window\': The string to be encoded contains characters outside of the Latin1 range.");o+=i.charAt((e=r<<16|s<<8|n)>>18&63)+i.charAt(e>>12&63)+i.charAt(e>>6&63)+i.charAt(63&e)}return f?o.slice(0,f-3)+"===".substring(f):o})},function(t,e,r){"use strict";t.exports=r(11)},function(t,e,r){"use strict";(t.exports=r(12)).build="full"},function(t,e,r){"use strict";var i=t.exports=r(13);i.build="light",i.ReflectionObject=r(2),i.Namespace=r(4),i.Root=r(17),i.Enum=r(3),i.Type=r(19),i.Field=r(1),i.Service=r(7),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},function(t,e,r){"use strict";e.build="minimal"},function(t,e,r){"use strict";function i(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=128===r[3];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3]}function n(t,i,s){e[0]=t,i[s]=r[3],i[s+1]=r[2],i[s+2]=r[1],i[s+3]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],e[0]}function a(t,i){return r[3]=t[i],r[2]=t[i+1],r[1]=t[i+2],r[0]=t[i+3],e[0]}t.writeFloatLE=i?s:n,t.writeFloatBE=i?n:s,t.readFloatLE=i?o:a,t.readFloatBE=i?a:o}():function(){function e(t,e,r,i){var s=e<0?1:0;if(s&&(e=-e),0===e)t(1/e>0?0:2147483648,r,i);else if(isNaN(e))t(2143289344,r,i);else if(e>34028234663852886e22)t((s<<31|2139095040)>>>0,r,i);else if(e<11754943508222875e-54)t((s<<31|Math.round(e/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(e)/Math.LN2);t((s<<31|n+127<<23|8388607&Math.round(e*Math.pow(2,-n)*8388608))>>>0,r,i)}}function r(t,e,r){var i=t(e,r),s=2*(i>>31)+1,n=i>>>23&255,o=8388607&i;return 255===n?o?NaN:s*(1/0):0===n?1401298464324817e-60*s*o:s*Math.pow(2,n-150)*(o+8388608)}t.writeFloatLE=e.bind(null,s),t.writeFloatBE=e.bind(null,n),t.readFloatLE=r.bind(null,o),t.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=128===r[7];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3],i[s+4]=r[4],i[s+5]=r[5],i[s+6]=r[6],i[s+7]=r[7]}function n(t,i,s){e[0]=t,i[s]=r[7],i[s+1]=r[6],i[s+2]=r[5],i[s+3]=r[4],i[s+4]=r[3],i[s+5]=r[2],i[s+6]=r[1],i[s+7]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],r[4]=t[i+4],r[5]=t[i+5],r[6]=t[i+6],r[7]=t[i+7],e[0]}function a(t,i){return r[7]=t[i],r[6]=t[i+1],r[5]=t[i+2],r[4]=t[i+3],r[3]=t[i+4],r[2]=t[i+5],r[1]=t[i+6],r[0]=t[i+7],e[0]}t.writeDoubleLE=i?s:n,t.writeDoubleBE=i?n:s,t.readDoubleLE=i?o:a,t.readDoubleBE=i?a:o}():function(){function e(t,e,r,i,s,n){var o=i<0?1:0;if(o&&(i=-i),0===i)t(0,s,n+e),t(1/i>0?0:2147483648,s,n+r);else if(isNaN(i))t(0,s,n+e),t(2146959360,s,n+r);else if(i>17976931348623157e292)t(0,s,n+e),t((o<<31|2146435072)>>>0,s,n+r);else{var a;if(i<22250738585072014e-324)t((a=i/5e-324)>>>0,s,n+e),t((o<<31|a/4294967296)>>>0,s,n+r);else{var f=Math.floor(Math.log(i)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(a=i*Math.pow(2,-f))>>>0,s,n+e),t((o<<31|f+1023<<20|1048576*a&1048575)>>>0,s,n+r)}}}function r(t,e,r,i,s){var n=t(i,s+e),o=t(i,s+r),a=2*(o>>31)+1,f=o>>>20&2047,h=4294967296*(1048575&o)+n;return 2047===f?h?NaN:a*(1/0):0===f?5e-324*a*h:a*Math.pow(2,f-1075)*(h+4503599627370496)}t.writeDoubleLE=e.bind(null,s,0,4),t.writeDoubleBE=e.bind(null,n,4,0),t.readDoubleLE=r.bind(null,o,0,4),t.readDoubleBE=r.bind(null,a,4,0)}(),t}function s(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function n(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=i(i)},function(t,e,r){"use strict";var i=e;i.length=function(t){for(var e=0,r=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(i+1))?(++i,e+=4):e+=3;return e},i.read=function(t,e,r){if(r-e<1)return"";for(var i,s=null,n=[],o=0;e<r;)(i=t[e++])<128?n[o++]=i:i>191&&i<224?n[o++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,n[o++]=55296+(i>>10),n[o++]=56320+(1023&i)):n[o++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,n)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,n.slice(0,o))),s.join("")):String.fromCharCode.apply(String,n.slice(0,o))},i.write=function(t,e,r){for(var i,s,n=r,o=0;o<t.length;++o)(i=t.charCodeAt(o))<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(s=t.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&s),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128);return r-n}},function(t,e,r){"use strict";function i(t,e){"string"==typeof t&&(e=t,t=void 0);var r=[];function s(t){if("string"!=typeof t){var e=n();if(i.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var o=Object.keys(t),a=new Array(o.length+1),f=new Array(o.length),h=0;h<o.length;)a[h]=o[h],f[h]=t[o[h++]];return a[h]=e,Function.apply(null,a).apply(null,f)}return Function(e)()}for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,e){var r=l[u++];switch(e){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),u!==l.length)throw Error("parameter count mismatch");return r.push(t),s}function n(i){return"function "+(i||e||"")+"("+(t&&t.join(",")||"")+"){\\n  "+r.join("\\n  ")+"\\n}"}return s.toString=n,s}t.exports=i,i.verbose=!1},function(t,e,r){"use strict";t.exports=f;var i=r(4);((f.prototype=Object.create(i.prototype)).constructor=f).className="Root";var s,n=r(1),o=r(3),a=r(18);function f(t){i.call(this,"",t),this.deferred=[],this.files=[]}f.fromJSON=function(t,e){return e||(e=new f),t.options&&e.setOptions(t.options),e.addJSON(t.nested)};var h=/^[A-Z]/;function l(t,e){var r=e.parent.lookup(e.extend);if(r){var i=new n(e.fullName,e.id,e.type,e.rule,void 0,e.options);return i.declaringField=e,e.extensionField=i,r.add(i),!0}return!1}f.prototype._handleAdd=function(t){if(t instanceof n)void 0===t.extend||t.extensionField||l(0,t)||this.deferred.push(t);else if(t instanceof o)h.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof a)){if(t instanceof s)for(var e=0;e<this.deferred.length;)l(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var r=0;r<t.nestedArray.length;++r)this._handleAdd(t._nestedArray[r]);h.test(t.name)&&(t.parent[t.name]=t)}},f._configure=function(t,e,r){s=t,e,r}},function(t,e,r){"use strict";t.exports=o;var i=r(2);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var s=r(1),n=r(0);function o(t,e,r,s){if(Array.isArray(e)||(r=e,e=void 0),i.call(this,t,r),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=s}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return n.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},o.prototype.remove=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var r=t.get(this.oneof[e]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(t){for(var e,r=0;r<this.fieldsArray.length;++r)(e=this.fieldsArray[r]).parent&&e.parent.remove(e);i.prototype.onRemove.call(this,t)},o.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,r){n.decorateType(e.constructor).add(new o(r,t)),Object.defineProperty(e,r,{get:n.oneOfGetter(t),set:n.oneOfSetter(t)})}}},function(t,e,r){"use strict";t.exports=u;var i=r(4);((u.prototype=Object.create(i.prototype)).constructor=u).className="Type";var s=r(3),n=r(1),o=r(20),a=r(7),f=r(21),h=r(0),l=r(22);function u(t,e){i.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(u.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=u.generateConstructor(this)())},set:function(t){t.prototype;t.$type=t.prototype.$type=this,this._ctor=t;for(var e=0;e<this.fieldsArray.length;++e)this._fieldsArray[e].resolve();var r={};for(e=0;e<this.oneofsArray.length;++e)r[this._oneofsArray[e].resolve().name]={get:h.oneOfGetter(this._oneofsArray[e].oneof),set:h.oneOfSetter(this._oneofsArray[e].oneof)};e&&Object.defineProperties(t.prototype,r)}}}),u.generateConstructor=function(t){for(var e,r=h.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(e=t._fieldsArray[i]).map?r("this%s={}",h.safeProp(e.name)):e.repeated&&r("this%s=[]",h.safeProp(e.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},u.fromJSON=function(t,e){var r=new u(t,e.options);r.extensions=e.extensions,r.reserved=e.reserved;for(var f=Object.keys(e.fields),h=0;h<f.length;++h)r.add((void 0!==e.fields[f[h]].keyType?o.fromJSON:n.fromJSON)(f[h],e.fields[f[h]]));if(e.nested)for(f=Object.keys(e.nested),h=0;h<f.length;++h){var l=e.nested[f[h]];r.add((void 0!==l.id?n.fromJSON:void 0!==l.fields?u.fromJSON:void 0!==l.values?s.fromJSON:void 0!==l.methods?a.fromJSON:i.fromJSON)(f[h],l))}return e.extensions&&e.extensions.length&&(r.extensions=e.extensions),e.reserved&&e.reserved.length&&(r.reserved=e.reserved),e.group&&(r.group=!0),e.comment&&(r.comment=e.comment),r},u.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name \'"+t.name+"\' in "+this);if(t instanceof n&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name \'"+t.name+"\' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),(e=this)._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}var e;return i.prototype.add.call(this,t)},u.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},u.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},u.prototype.setup=function(){this.fullName;for(var t=[],e=0;e<this.fieldsArray.length;++e)t.push(this._fieldsArray[e].resolve().resolvedType);return this.decode=l(this)({Reader:f,types:t,util:h}),this},u.prototype.decode=function(t,e){return this.setup().decode(t,e)}},function(t,e,r){"use strict";t.exports=n;var i=r(1);((n.prototype=Object.create(i.prototype)).constructor=n).className="MapField";r(5);var s=r(0);function n(t,e,r,n,o,a){if(i.call(this,t,e,n,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}n.fromJSON=function(t,e){return new n(t,e.id,e.keyType,e.type,e.options,e.comment)}},function(t,e,r){"use strict";t.exports=o;var i=r(6),s=(i.LongBits,i.utf8);function n(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function o(t){this.buf=t,this.pos=0,this.len=t.length}var a,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new o(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new o(t);throw Error("illegal buffer")};function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}o.create=i.Buffer?function(t){return(o.create=function(t){return i.Buffer.isBuffer(t)?new(void 0)(t):f(t)})(t)}:f,o.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,o.prototype.uint32=(a=4294967295,function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return a;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return a}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return h(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|h(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},o.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},o.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw n(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this._slice.call(this.buf,e,r)},o.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},o.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw n(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this}},function(t,e,r){"use strict";t.exports=function(t){var e=n.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break");e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var a=t._fieldsArray[r].resolve(),f=a.resolvedType instanceof i?"int32":a.type,h="m"+n.safeProp(a.name);e("case %i:",a.id),a.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",h)("%s={}",h)("k=r.%s()",a.keyType)("r.pos++"),void 0!==s.long[a.keyType]?void 0===s.basic[f]?e(\'%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())\',h,r):e(\'%s[typeof k==="object"?util.longToHash(k):k]=r.%s()\',h,f):void 0===s.basic[f]?e("%s[k]=types[%i].decode(r,r.uint32())",h,r):e("%s[k]=r.%s()",h,f)):a.repeated?(e("if(!(%s&&%s.length))",h,h)("%s=[]",h),void 0!==s.packed[f]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,f)("}else"),void 0===s.basic[f]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",h,r):e("%s.push(r.%s())",h,f)):void 0===s.basic[f]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",h,r):e("%s=r.%s()",h,f),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var l=t._fieldsArray[r];l.required&&e("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",o(l))}return e("return m")};var i=r(3),s=r(5),n=r(0);function o(t){return"missing required \'"+t.name+"\'"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={nested:{com:{nested:{opensource:{nested:{svga:{options:{objc_class_prefix:"SVGAProto",java_package:"com.opensource.svgaplayer"},nested:{MovieParams:{fields:{viewBoxWidth:{type:"float",id:1},viewBoxHeight:{type:"float",id:2},fps:{type:"int32",id:3},frames:{type:"int32",id:4}}},SpriteEntity:{fields:{imageKey:{type:"string",id:1},frames:{rule:"repeated",type:"FrameEntity",id:2}}},Layout:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4}}},Transform:{fields:{a:{type:"float",id:1},b:{type:"float",id:2},c:{type:"float",id:3},d:{type:"float",id:4},tx:{type:"float",id:5},ty:{type:"float",id:6}}},ShapeEntity:{oneofs:{args:{oneof:["shape","rect","ellipse"]}},fields:{type:{type:"ShapeType",id:1},shape:{type:"ShapeArgs",id:2},rect:{type:"RectArgs",id:3},ellipse:{type:"EllipseArgs",id:4},styles:{type:"ShapeStyle",id:10},transform:{type:"Transform",id:11}},nested:{ShapeType:{values:{SHAPE:0,RECT:1,ELLIPSE:2,KEEP:3}},ShapeArgs:{fields:{d:{type:"string",id:1}}},RectArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4},cornerRadius:{type:"float",id:5}}},EllipseArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},radiusX:{type:"float",id:3},radiusY:{type:"float",id:4}}},ShapeStyle:{fields:{fill:{type:"RGBAColor",id:1},stroke:{type:"RGBAColor",id:2},strokeWidth:{type:"float",id:3},lineCap:{type:"LineCap",id:4},lineJoin:{type:"LineJoin",id:5},miterLimit:{type:"float",id:6},lineDashI:{type:"float",id:7},lineDashII:{type:"float",id:8},lineDashIII:{type:"float",id:9}},nested:{RGBAColor:{fields:{r:{type:"float",id:1},g:{type:"float",id:2},b:{type:"float",id:3},a:{type:"float",id:4}}},LineCap:{values:{LineCap_BUTT:0,LineCap_ROUND:1,LineCap_SQUARE:2}},LineJoin:{values:{LineJoin_MITER:0,LineJoin_ROUND:1,LineJoin_BEVEL:2}}}}}},FrameEntity:{fields:{alpha:{type:"float",id:1},layout:{type:"Layout",id:2},transform:{type:"Transform",id:3},clipPath:{type:"string",id:4},shapes:{rule:"repeated",type:"ShapeEntity",id:5}}},MovieEntity:{fields:{version:{type:"string",id:1},params:{type:"MovieParams",id:2},images:{keyType:"string",type:"bytes",id:3},sprites:{rule:"repeated",type:"SpriteEntity",id:4}}}}}}}}}}}},function(t,e){\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */\n(function(){"use strict";var t=void 0,e=this;function r(r,i){var s,n=r.split("."),o=e;!(n[0]in o)&&o.execScript&&o.execScript("var "+n[0]);for(;n.length&&(s=n.shift());)n.length||i===t?o=o[s]?o[s]:o[s]={}:o[s]=i}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function s(t){var e,r,s,n,o,a,f,h,l,u,p=t.length,d=0,c=Number.POSITIVE_INFINITY;for(h=0;h<p;++h)t[h]>d&&(d=t[h]),t[h]<c&&(c=t[h]);for(e=1<<d,r=new(i?Uint32Array:Array)(e),s=1,n=0,o=2;s<=d;){for(h=0;h<p;++h)if(t[h]===s){for(a=0,f=n,l=0;l<s;++l)a=a<<1|1&f,f>>=1;for(u=s<<16|h,l=a;l<e;l+=o)r[l]=u;++n}++s,n<<=1,o<<=1}return[r,d,c]}function n(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=i?new Uint8Array(t):t,this.m=!1,this.i=a,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case o:this.b=32768,this.c=new(i?Uint8Array:Array)(32768+this.h+258);break;case a:this.b=0,this.c=new(i?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var o=0,a=1,f={t:o,s:a};n.prototype.k=function(){for(;!this.m;){var e=S(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var r=this.input,n=this.a,f=this.c,h=this.b,l=r.length,u=t,d=f.length,c=t;if(this.d=this.f=0,n+1>=l)throw Error("invalid uncompressed block header: LEN");if(u=r[n++]|r[n++]<<8,n+1>=l)throw Error("invalid uncompressed block header: NLEN");if(u===~(r[n++]|r[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+u>r.length)throw Error("input buffer is broken");switch(this.i){case o:for(;h+u>f.length;){if(u-=c=d-h,i)f.set(r.subarray(n,n+c),h),h+=c,n+=c;else for(;c--;)f[h++]=r[n++];this.b=h,f=this.e(),h=this.b}break;case a:for(;h+u>f.length;)f=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(i)f.set(r.subarray(n,n+u),h),h+=u,n+=u;else for(;u--;)f[h++]=r[n++];this.a=n,this.b=h,this.c=f;break;case 1:this.j(_,x);break;case 2:var y,v,m,b,g=S(this,5)+257,A=S(this,5)+1,w=S(this,4)+4,k=new(i?Uint8Array:Array)(p.length),O=t,E=t,T=t,N=t,I=t;for(I=0;I<w;++I)k[p[I]]=S(this,3);if(!i)for(I=w,w=k.length;I<w;++I)k[p[I]]=0;for(y=s(k),O=new(i?Uint8Array:Array)(g+A),I=0,b=g+A;I<b;)switch(E=j(this,y),E){case 16:for(N=3+S(this,2);N--;)O[I++]=T;break;case 17:for(N=3+S(this,3);N--;)O[I++]=0;T=0;break;case 18:for(N=11+S(this,7);N--;)O[I++]=0;T=0;break;default:T=O[I++]=E}v=s(i?O.subarray(0,g):O.slice(0,g)),m=s(i?O.subarray(g):O.slice(g)),this.j(v,m);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var h,l,u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=i?new Uint16Array(u):u,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],c=i?new Uint16Array(d):d,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],v=i?new Uint8Array(y):y,m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],b=i?new Uint16Array(m):m,g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=i?new Uint8Array(g):g,w=new(i?Uint8Array:Array)(288);for(h=0,l=w.length;h<l;++h)w[h]=143>=h?8:255>=h?9:279>=h?7:8;var k,O,_=s(w),E=new(i?Uint8Array:Array)(30);for(k=0,O=E.length;k<O;++k)E[k]=5;var x=s(E);function S(t,e){for(var r,i=t.f,s=t.d,n=t.input,o=t.a,a=n.length;s<e;){if(o>=a)throw Error("input buffer is broken");i|=n[o++]<<s,s+=8}return r=i&(1<<e)-1,t.f=i>>>e,t.d=s-e,t.a=o,r}function j(t,e){for(var r,i,s=t.f,n=t.d,o=t.input,a=t.a,f=o.length,h=e[0],l=e[1];n<l&&!(a>=f);)s|=o[a++]<<n,n+=8;if((i=(r=h[s&(1<<l)-1])>>>16)>n)throw Error("invalid code length: "+i);return t.f=s>>i,t.d=n-i,t.a=a,65535&r}function T(t,e){var r,i;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),r=t[this.a++],i=t[this.a++],15&r){case N:this.method=N;break;default:throw Error("unsupported compression method")}if(0!=((r<<8)+i)%31)throw Error("invalid fcheck flag:"+((r<<8)+i)%31);if(32&i)throw Error("fdict flag is not supported");this.q=new n(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}n.prototype.j=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length-258;256!==(s=j(this,t));)if(256>s)i>=f&&(this.b=i,r=this.e(),i=this.b),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i>=f&&(this.b=i,r=this.e(),i=this.b);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.w=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length;256!==(s=j(this,t));)if(256>s)i>=f&&(f=(r=this.e()).length),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i+a>f&&(f=(r=this.e()).length);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.e=function(){var t,e,r=new(i?Uint8Array:Array)(this.b-32768),s=this.b-32768,n=this.c;if(i)r.set(n.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=n[t+32768];if(this.g.push(r),this.l+=r.length,i)n.set(n.subarray(s,s+32768));else for(t=0;32768>t;++t)n[t]=n[s+t];return this.b=32768,n},n.prototype.z=function(t){var e,r,s,n=this.input.length/this.a+1|0,o=this.input,a=this.c;return t&&("number"==typeof t.p&&(n=t.p),"number"==typeof t.u&&(n+=t.u)),2>n?r=(s=(o.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+s:a.length<<1:r=a.length*n,i?(e=new Uint8Array(r)).set(a):e=a,this.c=e},n.prototype.n=function(){var t,e,r,s,n,o=0,a=this.c,f=this.g,h=new(i?Uint8Array:Array)(this.l+(this.b-32768));if(0===f.length)return i?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,r=f.length;e<r;++e)for(s=0,n=(t=f[e]).length;s<n;++s)h[o++]=t[s];for(e=32768,r=this.b;e<r;++e)h[o++]=a[e];return this.g=[],this.buffer=h},n.prototype.v=function(){var t,e=this.b;return i?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},T.prototype.k=function(){var t,e,r=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(r[this.a++]<<24|r[this.a++]<<16|r[this.a++]<<8|r[this.a++])>>>0;var i=t;if("string"==typeof i){var s,n,o=i.split("");for(s=0,n=o.length;s<n;s++)o[s]=(255&o[s].charCodeAt(0))>>>0;i=o}for(var a,f=1,h=0,l=i.length,u=0;0<l;){l-=a=1024<l?1024:l;do{h+=f+=i[u++]}while(--a);f%=65521,h%=65521}if(e!==(h<<16|f)>>>0)throw Error("invalid adler-32 checksum")}return t};var N=8;r("Zlib.Inflate",T),r("Zlib.Inflate.prototype.decompress",T.prototype.k);var I,B,F,D,M={ADAPTIVE:f.s,BLOCK:f.t};if(Object.keys)I=Object.keys(M);else for(B in I=[],F=0,M)I[F++]=B;for(F=0,D=I.length;F<D;++F)r("Zlib.Inflate.BufferType."+(B=I[F]),M[B])}).call(this)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],r=0;r<t.length;r+=32768)e.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return e.join("")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(27),s=function(t,e){this.videoSize={width:0,height:0},this.images={},this.dynamicElements={},this.sprites=[],this.version=t.version,this.videoSize.width=t.params.viewBoxWidth||0,this.videoSize.height=t.params.viewBoxHeight||0,this.FPS=t.params.fps||20,this.frames=t.params.frames||0,t.sprites instanceof Array&&(this.sprites=t.sprites.map(function(t){return new i.default(t)})),e&&(this.images=e)};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(28),s=function(t){this.frames=[],this.imageKey=t.imageKey,t.frames&&(this.frames=t.frames.map(function(t){return new i.default(t)}))};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(29),s=function(t,e,r,i,s,n){return{a:t,b:e,c:r,d:i,tx:s,ty:n}},n=function(t,e,r,i){return{x:t,y:e,width:r,height:i}},o=function(){function t(e){this.alpha=0,this.transform=s(1,0,0,1,0,0),this.nx=0,this.ny=0,this.layout=n(0,0,0,0),this.shapes=[],this.alpha=parseFloat(e.alpha)||0,e.layout&&(this.layout=n(parseFloat(e.layout.x)||0,parseFloat(e.layout.y)||0,parseFloat(e.layout.width)||0,parseFloat(e.layout.height)||0)),e.transform&&(this.transform=s(parseFloat(e.transform.a)||1,parseFloat(e.transform.b)||0,parseFloat(e.transform.c)||0,parseFloat(e.transform.d)||1,parseFloat(e.transform.tx)||0,parseFloat(e.transform.ty)||0)),e.clipPath&&e.clipPath.length>0&&(this.maskPath=new i.default(e.clipPath,void 0,{fill:"#000000"})),e.shapes&&(e.shapes instanceof Array&&e.shapes.forEach(function(t){switch(t.pathArgs=t.args,t.type){case 0:t.type="shape",t.pathArgs=t.shape;break;case 1:t.type="rect",t.pathArgs=t.rect;break;case 2:t.type="ellipse",t.pathArgs=t.ellipse;break;case 3:t.type="keep"}if(t.styles){t.styles.fill&&("number"==typeof t.styles.fill.r&&(t.styles.fill[0]=t.styles.fill.r),"number"==typeof t.styles.fill.g&&(t.styles.fill[1]=t.styles.fill.g),"number"==typeof t.styles.fill.b&&(t.styles.fill[2]=t.styles.fill.b),"number"==typeof t.styles.fill.a&&(t.styles.fill[3]=t.styles.fill.a)),t.styles.stroke&&("number"==typeof t.styles.stroke.r&&(t.styles.stroke[0]=t.styles.stroke.r),"number"==typeof t.styles.stroke.g&&(t.styles.stroke[1]=t.styles.stroke.g),"number"==typeof t.styles.stroke.b&&(t.styles.stroke[2]=t.styles.stroke.b),"number"==typeof t.styles.stroke.a&&(t.styles.stroke[3]=t.styles.stroke.a));var e=t.styles.lineDash||[];switch(t.styles.lineDashI>0&&e.push(t.styles.lineDashI),t.styles.lineDashII>0&&(e.length<1&&e.push(0),e.push(t.styles.lineDashII),e.push(0)),t.styles.lineDashIII>0&&(e.length<2&&(e.push(0),e.push(0)),e[2]=t.styles.lineDashIII),t.styles.lineDash=e,t.styles.lineJoin){case 0:t.styles.lineJoin="miter";break;case 1:t.styles.lineJoin="round";break;case 2:t.styles.lineJoin="bevel"}switch(t.styles.lineCap){case 0:t.styles.lineCap="butt";break;case 1:t.styles.lineCap="round";break;case 2:t.styles.lineCap="square"}}}),e.shapes[0]&&"keep"===e.shapes[0].type?this.shapes=t.lastShapes:(t.lastShapes=e.shapes,this.shapes=e.shapes));var r=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,o=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,a=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,f=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,h=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,l=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,u=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,p=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(a,f),Math.min(r,o)),this.ny=Math.min(Math.min(u,p),Math.min(h,l))}return t.lastShapes="",t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r){this._d=t,this._transform=e,this._styles=r};e.default=i}]);'
              , Parser = function() {
                function Parser(_a) {
                    var disableWorker = (void 0 === _a ? {
                        disableWorker: !1
                    } : _a).disableWorker;
                    disableWorker ? (eval(WORKER),
                    this.worker = window.SVGAParserMockWorker) : this.worker = new Worker(window.URL.createObjectURL(new Blob([WORKER])))
                }
                return Parser.prototype.do = function(e) {
                    var t = this
                      , n = new Uint8Array(e,0,4);
                    if (80 == n[0] && 75 == n[1] && 3 == n[2] && 4 == n[3])
                        throw "this parser not support version@1.x of svga.";
                    if (!e)
                        throw new Error("Parser Data not found");
                    if (!this.worker)
                        throw new Error("Parser Worker not found");
                    return new Promise(function(n, i) {
                        var r;
                        t.worker.disableWorker ? ((r = t.worker).onmessageCallback = function(e) {
                            n(e)
                        }
                        ,
                        r.onmessage({
                            data: e
                        })) : ((r = t.worker).postMessage(e),
                        r.onmessage = function(e) {
                            var t = e.data;
                            n(t)
                        }
                        )
                    }
                    )
                }
                ,
                Parser.prototype.destroy = function() {
                    var e = this.worker;
                    e.terminate && e.terminate()
                }
                ,
                Parser
            }();
            exports.default = Parser
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i, r, a, o = n(5), s = n(8);
            !function(e) {
                e.START = "start",
                e.PROCESS = "process",
                e.PAUSE = "pause",
                e.STOP = "stop",
                e.END = "end",
                e.CLEAR = "clear"
            }(i || (i = {})),
            function(e) {
                e.FORWARDS = "forwards",
                e.BACKWARDS = "backwards"
            }(r || (r = {})),
            function(e) {
                e.FORWARDS = "forwards",
                e.FALLBACKS = "fallbacks"
            }(a || (a = {}));
            var l = function() {
                function e(e, t, n) {
                    if (this.videoItem = t,
                    this.loop = !0,
                    this.fillMode = r.FORWARDS,
                    this.playMode = a.FORWARDS,
                    this.progress = 0,
                    this.currentFrame = 0,
                    this.totalFramesCount = 0,
                    this.startFrame = 0,
                    this.endFrame = 0,
                    this.$onEvent = {
                        start: function() {},
                        process: function() {},
                        pause: function() {},
                        stop: function() {},
                        end: function() {},
                        clear: function() {}
                    },
                    this.container = "string" == typeof e ? document.body.querySelector(e) : e,
                    !this.container)
                        throw new Error("container undefined.");
                    if (!this.container.getContext)
                        throw new Error("container should be HTMLCanvasElement.");
                    this._renderer = new o.default(this),
                    this._animator = new s.default,
                    this.videoItem && this.mount(t)
                }
                return e.prototype.set = function(e) {
                    void 0 !== e.loop && (this.loop = e.loop),
                    e.fillMode && (this.fillMode = e.fillMode),
                    e.playMode && (this.playMode = e.playMode),
                    e.startFrame && (this.startFrame = e.startFrame),
                    e.endFrame && (this.endFrame = e.endFrame)
                }
                ,
                e.prototype.mount = function(e) {
                    var t = this;
                    return new Promise(function(n, i) {
                        t.currentFrame = 0,
                        t.progress = 0,
                        t.totalFramesCount = e.frames - 1,
                        t.videoItem = e,
                        t._renderer.prepare().then(n),
                        t._renderer.clear(),
                        t._setSize()
                    }
                    )
                }
                ,
                e.prototype.start = function() {
                    if (!this.videoItem)
                        throw new Error("video item undefined.");
                    this._renderer.clear(),
                    this._startAnimation(),
                    this.$onEvent.start()
                }
                ,
                e.prototype.pause = function() {
                    this._animator && this._animator.stop(),
                    this.$onEvent.pause()
                }
                ,
                e.prototype.stop = function() {
                    this._animator && this._animator.stop(),
                    this.currentFrame = 0,
                    this._renderer.drawFrame(this.currentFrame),
                    this.$onEvent.stop()
                }
                ,
                e.prototype.clear = function() {
                    this._animator && this._animator.stop(),
                    this._renderer.clear(),
                    this.$onEvent.clear()
                }
                ,
                e.prototype.destroy = function() {
                    this._animator && this._animator.stop(),
                    this._renderer.clear(),
                    this._animator = null,
                    this._renderer = null,
                    this.videoItem = null
                }
                ,
                e.prototype.$on = function(e, t) {
                    var n = this;
                    return this.$onEvent[e] = t,
                    "end" === e && (this._animator.onEnd = function() {
                        return n.$onEvent.end()
                    }
                    ),
                    this
                }
                ,
                e.prototype._startAnimation = function() {
                    var e = this
                      , t = this.playMode
                      , n = this.totalFramesCount
                      , i = this.startFrame
                      , r = this.endFrame;
                    this.currentFrame === n && (this.currentFrame = 0),
                    this._animator.startValue = "fallbacks" === t ? r || n : i || 0,
                    this._animator.endValue = "fallbacks" === t ? i || 0 : r || n,
                    this._animator.duration = this.videoItem.frames * (1 / this.videoItem.FPS) * 1e3,
                    this._animator.loop = !0 === this.loop || this.loop <= 0 ? 1 / 0 : !1 === this.loop ? 1 : this.loop,
                    this._animator.fillRule = "backwards" === this.fillMode ? 1 : 0,
                    this._animator.onUpdate = function(t) {
                        t = Math.floor(t),
                        e.currentFrame !== t && (e.currentFrame = t,
                        e.progress = parseFloat((t + 1).toString()) / parseFloat(e.videoItem.frames.toString()) * 100,
                        e._renderer.drawFrame(e.currentFrame),
                        e.$onEvent.process())
                    }
                    ,
                    this._animator.start(this.currentFrame)
                }
                ,
                e.prototype._setSize = function() {
                    var e = this.videoItem.videoSize;
                    this.container.width = e.width,
                    this.container.height = e.height
                }
                ,
                e
            }();
            t.default = l
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(0)
              , r = n(6)
              , a = n(7)
              , o = function() {
                function e(e) {
                    this._bitmapCache = {},
                    this._dynamicElements = {},
                    this._player = e,
                    this._canvasContext = this._player.container.getContext("2d")
                }
                return e.prototype.prepare = function() {
                    var e = this;
                    return new Promise(function(t, n) {
                        if (e._bitmapCache = {},
                        e._player.videoItem.images && 0 != Object.keys(e._player.videoItem.images).length) {
                            e._dynamicElements = e._player.videoItem.dynamicElements;
                            var i = 0
                              , r = 0;
                            for (var a in e._player.videoItem.images) {
                                var o = e._player.videoItem.images[a];
                                if ("string" != typeof o || 0 !== o.indexOf("iVBO") && 0 !== o.indexOf("/9j/2w"))
                                    e._bitmapCache[a] = o;
                                else {
                                    i++;
                                    var s = document.createElement("img");
                                    s.src = "data:image/png;base64," + o,
                                    e._bitmapCache[a] = s,
                                    s.onload = function() {
                                        ++r === i && t()
                                    }
                                }
                            }
                        } else
                            t()
                    }
                    )
                }
                ,
                e.prototype.clear = function() {
                    this._canvasContext.clearRect(0, 0, this._player.container.width, this._player.container.height)
                }
                ,
                e.prototype.drawFrame = function(e) {
                    var t = this;
                    this.clear();
                    var n = this._canvasContext;
                    this._player.videoItem.sprites.forEach(function(e) {
                        var o = e.frames[t._player.currentFrame];
                        if (!(o.alpha < .05)) {
                            n.save(),
                            n.globalAlpha = o.alpha,
                            n.transform(o.transform.a || 1, o.transform.b || 0, o.transform.c || 0, o.transform.d || 1, o.transform.tx || 0, o.transform.ty || 0);
                            var s = t._bitmapCache[e.imageKey];
                            s && (void 0 !== o.maskPath && null !== o.maskPath && (o.maskPath._styles = void 0,
                            t.drawBezier(o.maskPath),
                            n.clip()),
                            n.drawImage(s, 0, 0));
                            var l = t._dynamicElements[e.imageKey];
                            l && n.drawImage(l, (o.layout.width - l.width) / 2, (o.layout.height - l.height) / 2),
                            o.shapes && o.shapes.forEach(function(e) {
                                "shape" === e.type && e.pathArgs && e.pathArgs.d ? t.drawBezier(new i.default(e.pathArgs.d,e.transform,e.styles)) : "ellipse" === e.type && e.pathArgs ? t._drawEllipse(new r.default(parseFloat(e.pathArgs.x) || 0,parseFloat(e.pathArgs.y) || 0,parseFloat(e.pathArgs.radiusX) || 0,parseFloat(e.pathArgs.radiusY) || 0,e.transform,e.styles)) : "rect" === e.type && e.pathArgs && t._drawRect(new a.default(parseFloat(e.pathArgs.x) || 0,parseFloat(e.pathArgs.y) || 0,parseFloat(e.pathArgs.width) || 0,parseFloat(e.pathArgs.height) || 0,parseFloat(e.pathArgs.cornerRadius) || 0,e.transform,e.styles))
                            }),
                            n.restore()
                        }
                    })
                }
                ,
                e.prototype._resetShapeStyles = function(e) {
                    var t = this._canvasContext
                      , n = e._styles;
                    void 0 !== n && (n && n.stroke ? t.strokeStyle = "rgba(" + parseInt((255 * n.stroke[0]).toString()) + ", " + parseInt((255 * n.stroke[1]).toString()) + ", " + parseInt((255 * n.stroke[2]).toString()) + ", " + n.stroke[3] + ")" : t.strokeStyle = "transparent",
                    n && (t.lineWidth = n.strokeWidth || void 0,
                    t.lineCap = n.lineCap || void 0,
                    t.lineJoin = n.lineJoin || void 0,
                    t.miterLimit = n.miterLimit || void 0),
                    n && n.fill ? t.fillStyle = "rgba(" + parseInt((255 * n.fill[0]).toString()) + ", " + parseInt((255 * n.fill[1]).toString()) + ", " + parseInt((255 * n.fill[2]).toString()) + ", " + n.fill[3] + ")" : t.fillStyle = "transparent",
                    n && n.lineDash && t.setLineDash(n.lineDash))
                }
                ,
                e.prototype.drawBezier = function(e) {
                    var t = this
                      , n = this._canvasContext;
                    n.save(),
                    this._resetShapeStyles(e),
                    void 0 !== e._transform && null !== e._transform && n.transform(e._transform.a || 1, e._transform.b || 0, e._transform.c || 0, e._transform.d || 1, e._transform.tx || 0, e._transform.ty || 0);
                    var i = {
                        x: 0,
                        y: 0,
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 0
                    };
                    n.beginPath(),
                    e._d.replace(/([a-zA-Z])/g, "|||$1 ").replace(/,/g, " ").split("|||").forEach(function(e) {
                        if (0 != e.length) {
                            var n = e.substr(0, 1);
                            if ("MLHVCSQRZmlhvcsqrz".indexOf(n) >= 0) {
                                var r = e.substr(1).trim().split(" ");
                                t._drawBezierElement(i, n, r)
                            }
                        }
                    }),
                    e._styles && e._styles.fill ? n.fill() : e._styles && e._styles.stroke && n.stroke(),
                    n.restore()
                }
                ,
                e.prototype._drawBezierElement = function(e, t, n) {
                    var i = this._canvasContext;
                    switch (t) {
                    case "M":
                        e.x = Number(n[0]),
                        e.y = Number(n[1]),
                        i.moveTo(e.x, e.y);
                        break;
                    case "m":
                        e.x += Number(n[0]),
                        e.y += Number(n[1]),
                        i.moveTo(e.x, e.y);
                        break;
                    case "L":
                        e.x = Number(n[0]),
                        e.y = Number(n[1]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "l":
                        e.x += Number(n[0]),
                        e.y += Number(n[1]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "H":
                        e.x = Number(n[0]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "h":
                        e.x += Number(n[0]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "V":
                        e.y = Number(n[0]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "v":
                        e.y += Number(n[0]),
                        i.lineTo(e.x, e.y);
                        break;
                    case "C":
                        e.x1 = Number(n[0]),
                        e.y1 = Number(n[1]),
                        e.x2 = Number(n[2]),
                        e.y2 = Number(n[3]),
                        e.x = Number(n[4]),
                        e.y = Number(n[5]),
                        i.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y);
                        break;
                    case "c":
                        e.x1 = e.x + Number(n[0]),
                        e.y1 = e.y + Number(n[1]),
                        e.x2 = e.x + Number(n[2]),
                        e.y2 = e.y + Number(n[3]),
                        e.x += Number(n[4]),
                        e.y += Number(n[5]),
                        i.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y);
                        break;
                    case "S":
                        e.x1 && e.y1 && e.x2 && e.y2 ? (e.x1 = e.x - e.x2 + e.x,
                        e.y1 = e.y - e.y2 + e.y,
                        e.x2 = Number(n[0]),
                        e.y2 = Number(n[1]),
                        e.x = Number(n[2]),
                        e.y = Number(n[3]),
                        i.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y)) : (e.x1 = Number(n[0]),
                        e.y1 = Number(n[1]),
                        e.x = Number(n[2]),
                        e.y = Number(n[3]),
                        i.quadraticCurveTo(e.x1, e.y1, e.x, e.y));
                        break;
                    case "s":
                        e.x1 && e.y1 && e.x2 && e.y2 ? (e.x1 = e.x - e.x2 + e.x,
                        e.y1 = e.y - e.y2 + e.y,
                        e.x2 = e.x + Number(n[0]),
                        e.y2 = e.y + Number(n[1]),
                        e.x += Number(n[2]),
                        e.y += Number(n[3]),
                        i.bezierCurveTo(e.x1, e.y1, e.x2, e.y2, e.x, e.y)) : (e.x1 = e.x + Number(n[0]),
                        e.y1 = e.y + Number(n[1]),
                        e.x += Number(n[2]),
                        e.y += Number(n[3]),
                        i.quadraticCurveTo(e.x1, e.y1, e.x, e.y));
                        break;
                    case "Q":
                        e.x1 = Number(n[0]),
                        e.y1 = Number(n[1]),
                        e.x = Number(n[2]),
                        e.y = Number(n[3]),
                        i.quadraticCurveTo(e.x1, e.y1, e.x, e.y);
                        break;
                    case "q":
                        e.x1 = e.x + Number(n[0]),
                        e.y1 = e.y + Number(n[1]),
                        e.x += Number(n[2]),
                        e.y += Number(n[3]),
                        i.quadraticCurveTo(e.x1, e.y1, e.x, e.y);
                        break;
                    case "A":
                    case "a":
                        break;
                    case "Z":
                    case "z":
                        i.closePath()
                    }
                }
                ,
                e.prototype._drawEllipse = function(e) {
                    var t = this._canvasContext;
                    t.save(),
                    this._resetShapeStyles(e),
                    void 0 !== e._transform && null !== e._transform && t.transform(e._transform.a || 1, e._transform.b || 0, e._transform.c || 0, e._transform.d || 1, e._transform.tx || 0, e._transform.ty || 0);
                    var n = e._x - e._radiusX
                      , i = e._y - e._radiusY
                      , r = 2 * e._radiusX
                      , a = 2 * e._radiusY
                      , o = r / 2 * .5522848
                      , s = a / 2 * .5522848
                      , l = n + r
                      , u = i + a
                      , d = n + r / 2
                      , c = i + a / 2;
                    t.beginPath(),
                    t.moveTo(n, c),
                    t.bezierCurveTo(n, c - s, d - o, i, d, i),
                    t.bezierCurveTo(d + o, i, l, c - s, l, c),
                    t.bezierCurveTo(l, c + s, d + o, u, d, u),
                    t.bezierCurveTo(d - o, u, n, c + s, n, c),
                    e._styles && e._styles.fill ? t.fill() : e._styles && e._styles.stroke && t.stroke(),
                    t.restore()
                }
                ,
                e.prototype._drawRect = function(e) {
                    var t = this._canvasContext;
                    t.save(),
                    this._resetShapeStyles(e),
                    void 0 !== e._transform && null !== e._transform && t.transform(e._transform.a || 1, e._transform.b || 0, e._transform.c || 0, e._transform.d || 1, e._transform.tx || 0, e._transform.ty || 0);
                    var n = e._x
                      , i = e._y
                      , r = e._width
                      , a = e._height
                      , o = e._cornerRadius;
                    r < 2 * o && (o = r / 2),
                    a < 2 * o && (o = a / 2),
                    t.beginPath(),
                    t.moveTo(n + o, i),
                    t.arcTo(n + r, i, n + r, i + a, o),
                    t.arcTo(n + r, i + a, n, i + a, o),
                    t.arcTo(n, i + a, n, i, o),
                    t.arcTo(n, i, n + r, i, o),
                    t.closePath(),
                    e._styles && e._styles.fill ? t.fill() : e._styles && e._styles.stroke && t.stroke(),
                    t.restore()
                }
                ,
                e
            }();
            t.default = o
        }
        , function(e, t, n) {
            "use strict";
            var i, r = (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var a = function(e) {
                function t(t, n, i, r, a, o) {
                    var s = e.call(this) || this;
                    return s._x = t,
                    s._y = n,
                    s._radiusX = i,
                    s._radiusY = r,
                    s._transform = a,
                    s._styles = o,
                    s
                }
                return r(t, e),
                t
            }(n(0).default);
            t.default = a
        }
        , function(e, t, n) {
            "use strict";
            var i, r = (i = function(e, t) {
                return (i = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(e, t) {
                    e.__proto__ = t
                }
                || function(e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
                )(e, t)
            }
            ,
            function(e, t) {
                function n() {
                    this.constructor = e
                }
                i(e, t),
                e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                new n)
            }
            );
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var a = function(e) {
                function t(t, n, i, r, a, o, s) {
                    var l = e.call(this) || this;
                    return l._x = t,
                    l._y = n,
                    l._width = i,
                    l._height = r,
                    l._cornerRadius = a,
                    l._transform = o,
                    l._styles = s,
                    l
                }
                return r(t, e),
                t
            }(n(0).default);
            t.default = a
        }
        , function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = function() {
                function e() {
                    this._currentTimeMillsecond = function() {
                        return "undefined" == typeof performance ? (new Date).getTime() : performance.now()
                    }
                    ,
                    this.startValue = 0,
                    this.endValue = 0,
                    this.duration = 0,
                    this.loop = 1,
                    this.fillRule = 0,
                    this.onStart = function() {}
                    ,
                    this.onUpdate = function() {}
                    ,
                    this.onEnd = function() {}
                    ,
                    this._isRunning = !1,
                    this._mStartTime = 0,
                    this._currentFrication = 0
                }
                return e.prototype.start = function(e) {
                    this.doStart(e)
                }
                ,
                e.prototype.stop = function() {
                    this._doStop()
                }
                ,
                Object.defineProperty(e.prototype, "animatedValue", {
                    get: function() {
                        return (this.endValue - this.startValue) * this._currentFrication + this.startValue
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.doStart = function(e) {
                    this._isRunning = !0,
                    this._mStartTime = this._currentTimeMillsecond(),
                    e && (this._mStartTime -= e / (this.endValue - this.startValue) * this.duration),
                    this._currentFrication = 0,
                    this.onStart(),
                    this._doFrame()
                }
                ,
                e.prototype._doStop = function() {
                    this._isRunning = !1
                }
                ,
                e.prototype._doFrame = function() {
                    this._isRunning && (this._doDeltaTime(this._currentTimeMillsecond() - this._mStartTime),
                    this._isRunning && window.requestAnimationFrame(this._doFrame.bind(this)))
                }
                ,
                e.prototype._doDeltaTime = function(e) {
                    e >= this.duration * this.loop ? (this._currentFrication = 1 === this.fillRule ? 0 : 1,
                    this._isRunning = !1) : this._currentFrication = e % this.duration / this.duration,
                    this.onUpdate(this.animatedValue),
                    !1 === this._isRunning && this.onEnd()
                }
                ,
                e
            }();
            t.default = i
        }
        ]).default
    })
}
, function(e, t, n) {
    (function(e) {
        function i(e, t) {
            this._id = e,
            this._clearFn = t
        }
        var r = void 0 !== e && e || "undefined" != typeof self && self || window
          , a = Function.prototype.apply;
        t.setTimeout = function() {
            return new i(a.call(setTimeout, r, arguments),clearTimeout)
        }
        ,
        t.setInterval = function() {
            return new i(a.call(setInterval, r, arguments),clearInterval)
        }
        ,
        t.clearTimeout = t.clearInterval = function(e) {
            e && e.close()
        }
        ,
        i.prototype.unref = i.prototype.ref = function() {}
        ,
        i.prototype.close = function() {
            this._clearFn.call(r, this._id)
        }
        ,
        t.enroll = function(e, t) {
            clearTimeout(e._idleTimeoutId),
            e._idleTimeout = t
        }
        ,
        t.unenroll = function(e) {
            clearTimeout(e._idleTimeoutId),
            e._idleTimeout = -1
        }
        ,
        t._unrefActive = t.active = function(e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 && (e._idleTimeoutId = setTimeout(function() {
                e._onTimeout && e._onTimeout()
            }, t))
        }
        ,
        n(334),
        t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate,
        t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate
    }
    ).call(t, n(144))
}
, function(e, t) {
    function n() {}
    n.prototype = {
        on: function(e, t, n) {
            var i = this.e || (this.e = {});
            return (i[e] || (i[e] = [])).push({
                fn: t,
                ctx: n
            }),
            this
        },
        once: function(e, t, n) {
            function i() {
                r.off(e, i),
                t.apply(n, arguments)
            }
            var r = this;
            return i._ = t,
            this.on(e, i, n)
        },
        emit: function(e) {
            var t = [].slice.call(arguments, 1)
              , n = ((this.e || (this.e = {}))[e] || []).slice()
              , i = 0
              , r = n.length;
            for (i; i < r; i++)
                n[i].fn.apply(n[i].ctx, t);
            return this
        },
        off: function(e, t) {
            var n = this.e || (this.e = {})
              , i = n[e]
              , r = [];
            if (i && t)
                for (var a = 0, o = i.length; a < o; a++)
                    i[a].fn !== t && i[a].fn._ !== t && r.push(i[a]);
            return r.length ? n[e] = r : delete n[e],
            this
        }
    },
    e.exports = n,
    e.exports.TinyEmitter = n
}
, function(e, t) {
    !function(e) {
        "use strict";
        function t(e) {
            if ("string" != typeof e && (e = String(e)),
            /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))
                throw new TypeError("Invalid character in header field name");
            return e.toLowerCase()
        }
        function n(e) {
            return "string" != typeof e && (e = String(e)),
            e
        }
        function i(e) {
            var t = {
                next: function() {
                    var t = e.shift();
                    return {
                        done: void 0 === t,
                        value: t
                    }
                }
            };
            return g.iterable && (t[Symbol.iterator] = function() {
                return t
            }
            ),
            t
        }
        function r(e) {
            this.map = {},
            e instanceof r ? e.forEach(function(e, t) {
                this.append(t, e)
            }, this) : Array.isArray(e) ? e.forEach(function(e) {
                this.append(e[0], e[1])
            }, this) : e && Object.getOwnPropertyNames(e).forEach(function(t) {
                this.append(t, e[t])
            }, this)
        }
        function a(e) {
            if (e.bodyUsed)
                return Promise.reject(new TypeError("Already read"));
            e.bodyUsed = !0
        }
        function o(e) {
            return new Promise(function(t, n) {
                e.onload = function() {
                    t(e.result)
                }
                ,
                e.onerror = function() {
                    n(e.error)
                }
            }
            )
        }
        function s(e) {
            var t = new FileReader
              , n = o(t);
            return t.readAsArrayBuffer(e),
            n
        }
        function l(e) {
            var t = new FileReader
              , n = o(t);
            return t.readAsText(e),
            n
        }
        function u(e) {
            for (var t = new Uint8Array(e), n = new Array(t.length), i = 0; i < t.length; i++)
                n[i] = String.fromCharCode(t[i]);
            return n.join("")
        }
        function d(e) {
            if (e.slice)
                return e.slice(0);
            var t = new Uint8Array(e.byteLength);
            return t.set(new Uint8Array(e)),
            t.buffer
        }
        function c() {
            return this.bodyUsed = !1,
            this._initBody = function(e) {
                if (this._bodyInit = e,
                e)
                    if ("string" == typeof e)
                        this._bodyText = e;
                    else if (g.blob && Blob.prototype.isPrototypeOf(e))
                        this._bodyBlob = e;
                    else if (g.formData && FormData.prototype.isPrototypeOf(e))
                        this._bodyFormData = e;
                    else if (g.searchParams && URLSearchParams.prototype.isPrototypeOf(e))
                        this._bodyText = e.toString();
                    else if (g.arrayBuffer && g.blob && _(e))
                        this._bodyArrayBuffer = d(e.buffer),
                        this._bodyInit = new Blob([this._bodyArrayBuffer]);
                    else {
                        if (!g.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(e) && !b(e))
                            throw new Error("unsupported BodyInit type");
                        this._bodyArrayBuffer = d(e)
                    }
                else
                    this._bodyText = "";
                this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : g.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
            }
            ,
            g.blob && (this.blob = function() {
                var e = a(this);
                if (e)
                    return e;
                if (this._bodyBlob)
                    return Promise.resolve(this._bodyBlob);
                if (this._bodyArrayBuffer)
                    return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                if (this._bodyFormData)
                    throw new Error("could not read FormData body as blob");
                return Promise.resolve(new Blob([this._bodyText]))
            }
            ,
            this.arrayBuffer = function() {
                return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(s)
            }
            ),
            this.text = function() {
                var e = a(this);
                if (e)
                    return e;
                if (this._bodyBlob)
                    return l(this._bodyBlob);
                if (this._bodyArrayBuffer)
                    return Promise.resolve(u(this._bodyArrayBuffer));
                if (this._bodyFormData)
                    throw new Error("could not read FormData body as text");
                return Promise.resolve(this._bodyText)
            }
            ,
            g.formData && (this.formData = function() {
                return this.text().then(f)
            }
            ),
            this.json = function() {
                return this.text().then(JSON.parse)
            }
            ,
            this
        }
        function h(e) {
            var t = e.toUpperCase();
            return k.indexOf(t) > -1 ? t : e
        }
        function p(e, t) {
            t = t || {};
            var n = t.body;
            if (e instanceof p) {
                if (e.bodyUsed)
                    throw new TypeError("Already read");
                this.url = e.url,
                this.credentials = e.credentials,
                t.headers || (this.headers = new r(e.headers)),
                this.method = e.method,
                this.mode = e.mode,
                n || null == e._bodyInit || (n = e._bodyInit,
                e.bodyUsed = !0)
            } else
                this.url = String(e);
            if (this.credentials = t.credentials || this.credentials || "omit",
            !t.headers && this.headers || (this.headers = new r(t.headers)),
            this.method = h(t.method || this.method || "GET"),
            this.mode = t.mode || this.mode || null,
            this.referrer = null,
            ("GET" === this.method || "HEAD" === this.method) && n)
                throw new TypeError("Body not allowed for GET or HEAD requests");
            this._initBody(n)
        }
        function f(e) {
            var t = new FormData;
            return e.trim().split("&").forEach(function(e) {
                if (e) {
                    var n = e.split("=")
                      , i = n.shift().replace(/\+/g, " ")
                      , r = n.join("=").replace(/\+/g, " ");
                    t.append(decodeURIComponent(i), decodeURIComponent(r))
                }
            }),
            t
        }
        function m(e) {
            var t = new r;
            return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(e) {
                var n = e.split(":")
                  , i = n.shift().trim();
                if (i) {
                    var r = n.join(":").trim();
                    t.append(i, r)
                }
            }),
            t
        }
        function y(e, t) {
            t || (t = {}),
            this.type = "default",
            this.status = void 0 === t.status ? 200 : t.status,
            this.ok = this.status >= 200 && this.status < 300,
            this.statusText = "statusText"in t ? t.statusText : "OK",
            this.headers = new r(t.headers),
            this.url = t.url || "",
            this._initBody(e)
        }
        if (!e.fetch) {
            var g = {
                searchParams: "URLSearchParams"in e,
                iterable: "Symbol"in e && "iterator"in Symbol,
                blob: "FileReader"in e && "Blob"in e && function() {
                    try {
                        return new Blob,
                        !0
                    } catch (e) {
                        return !1
                    }
                }(),
                formData: "FormData"in e,
                arrayBuffer: "ArrayBuffer"in e
            };
            if (g.arrayBuffer)
                var v = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
                  , _ = function(e) {
                    return e && DataView.prototype.isPrototypeOf(e)
                }
                  , b = ArrayBuffer.isView || function(e) {
                    return e && v.indexOf(Object.prototype.toString.call(e)) > -1
                }
                ;
            r.prototype.append = function(e, i) {
                e = t(e),
                i = n(i);
                var r = this.map[e];
                this.map[e] = r ? r + "," + i : i
            }
            ,
            r.prototype.delete = function(e) {
                delete this.map[t(e)]
            }
            ,
            r.prototype.get = function(e) {
                return e = t(e),
                this.has(e) ? this.map[e] : null
            }
            ,
            r.prototype.has = function(e) {
                return this.map.hasOwnProperty(t(e))
            }
            ,
            r.prototype.set = function(e, i) {
                this.map[t(e)] = n(i)
            }
            ,
            r.prototype.forEach = function(e, t) {
                for (var n in this.map)
                    this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
            }
            ,
            r.prototype.keys = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push(n)
                }),
                i(e)
            }
            ,
            r.prototype.values = function() {
                var e = [];
                return this.forEach(function(t) {
                    e.push(t)
                }),
                i(e)
            }
            ,
            r.prototype.entries = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push([n, t])
                }),
                i(e)
            }
            ,
            g.iterable && (r.prototype[Symbol.iterator] = r.prototype.entries);
            var k = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
            p.prototype.clone = function() {
                return new p(this,{
                    body: this._bodyInit
                })
            }
            ,
            c.call(p.prototype),
            c.call(y.prototype),
            y.prototype.clone = function() {
                return new y(this._bodyInit,{
                    status: this.status,
                    statusText: this.statusText,
                    headers: new r(this.headers),
                    url: this.url
                })
            }
            ,
            y.error = function() {
                var e = new y(null,{
                    status: 0,
                    statusText: ""
                });
                return e.type = "error",
                e
            }
            ;
            var S = [301, 302, 303, 307, 308];
            y.redirect = function(e, t) {
                if (-1 === S.indexOf(t))
                    throw new RangeError("Invalid status code");
                return new y(null,{
                    status: t,
                    headers: {
                        location: e
                    }
                })
            }
            ,
            e.Headers = r,
            e.Request = p,
            e.Response = y,
            e.fetch = function(e, t) {
                return new Promise(function(n, i) {
                    var r = new p(e,t)
                      , a = new XMLHttpRequest;
                    a.onload = function() {
                        var e = {
                            status: a.status,
                            statusText: a.statusText,
                            headers: m(a.getAllResponseHeaders() || "")
                        };
                        e.url = "responseURL"in a ? a.responseURL : e.headers.get("X-Request-URL");
                        var t = "response"in a ? a.response : a.responseText;
                        n(new y(t,e))
                    }
                    ,
                    a.onerror = function() {
                        i(new TypeError("Network request failed"))
                    }
                    ,
                    a.ontimeout = function() {
                        i(new TypeError("Network request failed"))
                    }
                    ,
                    a.open(r.method, r.url, !0),
                    "include" === r.credentials ? a.withCredentials = !0 : "omit" === r.credentials && (a.withCredentials = !1),
                    "responseType"in a && g.blob && (a.responseType = "blob"),
                    r.headers.forEach(function(e, t) {
                        a.setRequestHeader(t, e)
                    }),
                    a.send(void 0 === r._bodyInit ? null : r._bodyInit)
                }
                )
            }
            ,
            e.fetch.polyfill = !0
        }
    }("undefined" != typeof self ? self : this)
}
]);
